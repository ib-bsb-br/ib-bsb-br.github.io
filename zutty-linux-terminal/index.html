<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>
    
      Zutty Linux terminal — infoBAG
    
  </title>
  <meta name="title" content="Zutty Linux terminal">
  <meta name="description" content="can't steer unless already moving">
  <meta property="og:title" content="Zutty Linux terminal — infoBAG">
  <meta property="og:description" content="can't steer unless already moving">
  <meta property="og:url" content="https://ib.bsb.br/zutty-linux-terminal/">
  <meta property="og:type" content="article">
  <meta property="og:site_name" content="infoBAG">
  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Zutty Linux terminal — infoBAG">
  <meta name="twitter:description" content="can't steer unless already moving">
  

  <link rel="canonical" href="https://ib.bsb.br/zutty-linux-terminal/">
  <link rel="alternate" type="application/rss+xml" title="infoBAG" href="https://ib.bsb.br/rss.xml">

  
    <meta name="keywords" content="software>linux">
    
      <meta property="article:tag" content="software>linux">
    
  
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
  

  <link href="/style.css" rel="stylesheet">
</head>
<body class="post-content-body">
  <header class="header-container">
    <nav aria-label="Main navigation" class="header-content">
      <a href="/" aria-label="Home">
        <img src="/favicon.ico" alt="Home" class="favicon search-link" width="45" height="45" loading="lazy">
      </a>
      <a href="/tags" aria-label="Tags">
        <img src="/assets/Label.gif" alt="Tags" class="favicon search-link" width="45" height="45" loading="lazy">
      </a>
      <a href="/archive" aria-label="Archive">
        <img src="/assets/Loose_Stone_Pile.gif" alt="Archive" class="favicon search-link" width="45" height="45" loading="lazy">
      </a>
      <a href="/events" aria-label="Events">
        <img src="/assets/Paralyse_Rune.gif" alt="Events" class="favicon search-link" width="45" height="45" loading="lazy">
      </a>
      <a href="/archive-created" aria-label="Archive created">
          <img src="/assets/Hole_(Rock).gif" alt="Archive created" class="favicon search-link" width="32" height="32" loading="lazy">
      </a>
      <a href="/rot64" aria-label="rot">
          <img src="/assets/rot.gif" alt="rot" class="favicon search-link" width="32" height="32" loading="lazy">
      </a>
    </nav>
    <h5 class="post-title">
      <a href="#bottom-of-page" aria-label="Go to bottom">
        Zutty Linux terminal
      </a>
    </h5>
    <div class="post-meta">
      <time datetime="2024-10-27T00:00:00+00:00" class="post-date">
        27 Oct 2024
      </time>
      
        <span class="post-updated">
          ↣
          <time datetime="2024-12-29T17:18:56+00:00">29 Dec 2024</time>
        </span>
      
      
        <p class="post-slug">
          Slug: <a href="https://ib.bsb.br/zutty-linux-terminal" class="tag">zutty-linux-terminal</a>
        </p>
      
      
        <p class="post-tags">
          Tags:
          
            <a href="https://ib.bsb.br/tags/#software-linux" class="tag">software>linux</a>
          
        </p>
      
    </div>
    <div class="post-actions">
      <div class="page-stats mt-3" role="status" aria-label="Page statistics">
        <span class="badge bg-primary">
          15680 characters
        </span>
        <span class="separator mx-2" aria-hidden="true">•</span>
        <span class="badge bg-primary">
          2060 words
        </span>
      </div>
      <div class="action-buttons d-flex flex-wrap gap-2">
        
          
            <form action="https://github.com/ib-bsb-br/ib-bsb-br.github.io/edit/main/_posts/2024-10-27-zutty-linux-terminal.md"
                  method="GET"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="d-inline-block">
              <button type="submit" class="btn btn-danger" aria-label="Edit page content">
                <span class="button-text">Improve this page?</span>
                <span class="info-text">aberto.</span>
              </button>
            </form>
          
          <form action="https://github.com/ib-bsb-br/ib-bsb-br.github.io/commits/main/_posts/2024-10-27-zutty-linux-terminal.md"
                method="GET"
                target="_blank"
                rel="noopener noreferrer"
                class="d-inline-block">
            <button type="submit" class="btn btn-danger" aria-label="View page revision history">
              View revision history
            </button>
          </form>
        
      </div>
    </div>
  </header>
  <main class="content">
    <article class="post-wrapper">
      <div class="post-content-body">
        
<ul><li><a href="#zutty---zero-cost-unicode-teletype">Zutty - Zero-cost Unicode Teletype</a><ul><li><a href="#documentation">Documentation</a></li><li><a href="#current-status">Current status</a></li><li><a href="#notable-features">Notable features</a><ul><li><a href="#radically-simple-uniquely-performant-rendering-technology">Radically simple, uniquely performant rendering technology</a></li><li><a href="#correct-and-fairly-complete-vt-emulation">Correct (and fairly complete) VT emulation</a></li><li><a href="#font-handling">Font handling</a></li><li><a href="#true-color-support">True color support</a></li><li><a href="#traditional-x-clipboard--primary-selection--copy-paste-support">Traditional X-clipboard / primary selection / copy-paste support</a></li><li><a href="#small-clean-codebase">Small, clean codebase</a></li></ul></li><li><a href="#omissions-and-limitations">Omissions and limitations</a></li></ul></li></ul>
        <blockquote>
  <p>Homepage: <code class="language-plaintext highlighter-rouge">https://tomscii.sig7.se/zutty/</code></p>
</blockquote>
  <h1 id="zutty---zero-cost-unicode-teletype">
    
    
     <a href="#zutty---zero-cost-unicode-teletype">#</a><a href="#" aria-label="Back to top">Zutty - Zero-cost Unicode Teletype</a>
        
    
  </h1>
      

<p><strong>A high-end terminal for low-end systems</strong></p>

<p>Zutty is a terminal emulator for the X Window System, functionally similar to several other X terminal emulators such as <code class="language-plaintext highlighter-rouge">xterm</code>, <code class="language-plaintext highlighter-rouge">rxvt</code> and countless others. It is also similar to other, much more modern, GPU-accelerated terminal emulators such as Alacritty and Kitty. What really sets Zutty apart is its radically simple, yet extremely efficient rendering implementation, coupled with a sufficiently complete feature set to make it useful for a wide range of users. Zutty offers high throughput with low latency, and strives to conform to relevant (published or de-facto) standards.</p>

<p>Zutty is written in straightforward C++ and only relies on OpenGL ES 3.1 for rendering, making it trivially portable to windowing systems other than X and operating systems other than Linux. Zutty provides a clean implementation written from scratch, resulting in a minimal, maintainable, modern codebase unencumbered by historical baggage.</p>

<p>Zutty is released under the GNU General Public License (GPL) v3 or (at your option) any later version. Please refer to the file LICENSE for the full text of the license.</p>
  <h2 id="documentation">
    
    
     <a href="#documentation">#</a><a href="#" aria-label="Back to top">Documentation</a>
        
    
  </h2>
      

<p>Core documentation (bundled with the Zutty sources):</p>

<ul>
  <li><a href="https://tomscii.sig7.se/zutty/README.html">README</a>: general overview (this document)</li>
  <li><a href="https://tomscii.sig7.se/zutty/doc/USAGE.html">User guide</a>: guide and reference for all users</li>
  <li><a href="https://tomscii.sig7.se/zutty/doc/HACKING.html">Developer guide</a>: internals, debugging, testing, contributing</li>
  <li><a href="https://tomscii.sig7.se/zutty/doc/KEYS.html">Key mapping sequences</a>: reference on keyboard-induced sequences</li>
  <li><a href="https://tomscii.sig7.se/zutty/doc/VTTEST.html">Vttest results</a>: documents the level of conformance against Vttest</li>
</ul>

<p>More about Zutty:</p>

<ul>
  <li><a href="https://tomscii.sig7.se/zutty/wiki/Screenshots.html">Screenshots</a>: Zutty in action</li>
  <li><a href="https://tomscii.sig7.se/zutty/wiki/FAQ.html">Frequently Asked Questions</a>: What you never thought you’d need to know about Zutty</li>
  <li><a href="https://tomscii.sig7.se/2020/11/How-Zutty-works">How Zutty works</a>: Rendering a terminal with an OpenGL Compute Shader</li>
  <li><a href="https://tomscii.sig7.se/2020/12/A-totally-biased-comparison-of-Zutty">A totally biased comparison of Zutty</a> (to some better-known X terminal emulators)</li>
  <li><a href="https://tomscii.sig7.se/2021/01/Typing-latency-of-Zutty">Measured: Typing latency of Zutty</a> (compared to others)</li>
</ul>
  <h2 id="current-status">
    
    
     <a href="#current-status">#</a><a href="#" aria-label="Back to top">Current status</a>
        
    
  </h2>
      

<p>Zutty started out as a concept to prove the feasibility of using a GLES Compute Shader to render a fixed-width text grid entirely in graphics hardware. From its modest beginnings as a technological proof of concept, Zutty has evolved considerably and is now perfectly capable of serving as the main terminal emulator for heavy users of the command line. In particular, this author employs Zutty to run a workload of <code class="language-plaintext highlighter-rouge">tmux</code>, <code class="language-plaintext highlighter-rouge">emacs</code> (<code class="language-plaintext highlighter-rouge">-nw</code>), <code class="language-plaintext highlighter-rouge">tig</code>, <code class="language-plaintext highlighter-rouge">mutt</code>, <code class="language-plaintext highlighter-rouge">htop</code>, and a bunch of other applications making extensive use of the terminal (including its mouse support), with some Zutty instances running for months at a time, on a very resource-constrained SBC (ab)used as a desktop. The correctness, performance, and stability of Zutty is excellent, as one would rightly expect from something as fundamental as a terminal emulator.</p>

<p>There is, however, a list of ancillary features that Zutty does not presently implement. Completing the ones in scope is more or less a matter of straightforward implementation work within the already existing architecture of Zutty, and time will be spent on these in proportion to popular user demand.</p>
  <h2 id="notable-features">
    
    
     <a href="#notable-features">#</a><a href="#" aria-label="Back to top">Notable features</a>
        
    
  </h2>
      
  <h3 id="radically-simple-uniquely-performant-rendering-technology">
    
    
     <a href="#radically-simple-uniquely-performant-rendering-technology">#</a><a href="#" aria-label="Back to top">Radically simple, uniquely performant rendering technology</a>
        
    
  </h3>
      

<p>The main idea behind Zutty is the implementation of “raw” character video memory via OpenGL ES 3.1. This video memory is just an array of cells backing all character grid locations, with each cell containing Unicode character codes plus color and other visual attributes. This memory area, allocated on the GPU, is mapped to make it directly writable by the application. This results in a conceptually similar interface as to how one could write to the screen by directly poking at physical video memory starting at 0xB8000 on the IBM PC. Zutty employs an OpenGL Compute Shader running on the GPU to read this video memory and render output pixels. The full name of Zutty (dubbed the <em>Zero-cost Unicode Teletype</em>) stands for the remarkable fact that its image rendering is zero-cost from the host CPU perspective.</p>

<p>Zutty requires OpenGL ES 3.1 because this is precisely the lowest version with support for the Compute Shader, the enabling technology behind Zutty. We have chosen OpenGL ES over OpenGL to widen the range of supported hardware platforms, primarily towards small, low-cost Single Board Computers. These boards are commonly built around an ARM SoC with a graphics core supporting OpenGL ES, but not “desktop” OpenGL. Zutty is the first GPU-accelerated terminal for such low-cost platforms.</p>
  <h3 id="correct-and-fairly-complete-vt-emulation">
    
    
     <a href="#correct-and-fairly-complete-vt-emulation">#</a><a href="#" aria-label="Back to top">Correct (and fairly complete) VT emulation</a>
        
    
  </h3>
      

<p>Zutty substantially emulates the “commonly used” subsets of the protocols of VT52, VT100, VT102, VT220, VT320, VT420 and VT520 terminals (originally manufactured by DEC) as well as some more modern additions defined by the de-facto standard <code class="language-plaintext highlighter-rouge">xterm</code> implementation.</p>

<p>We take great care to ensure that Zutty passes the subset of VTTEST screens that we care about (this amounts to the overwhelming majority of tests concerned with actual screen rendering, and is subject to further extension). We have an automated regression testing setup to run VTTEST in Zutty and verify that the output is a pixel-perfect match of the pre-approved video output. You can thus expect the terminal output to be <em>correct</em> – be it driven by tmux, emacs (with org-mode, helm, magit, etc.) or whatever else. Zutty handles corner cases (escape sequences) which, sadly enough, several popular terminal emulators do not correctly support.</p>

<p>Zutty implements xterm’s de-facto standard method (<code class="language-plaintext highlighter-rouge">modifyOtherKeys</code>) to expose non-trivial modifier key combinations to programs such as Emacs and Vim. Zutty also boasts mouse support (again, modeled after xterm’s capabilities) to make the user experience of many terminal applications more interactive.</p>

<p>In a perfect world, these would not be highlighted as such prominent features, but unfortunately, our focus on correctness is rather the exception than the norm among widely used terminal emulators (including more modern ones).</p>
  <h3 id="font-handling">
    
    
     <a href="#font-handling">#</a><a href="#" aria-label="Back to top">Font handling</a>
        
    
  </h3>
      

<p>Zutty supports both fixed size (bitmap) and scaled (TTF, OTF) fonts. Up to four variants of a font are supported (Regular, Bold, Italic / Oblique, plus BoldItalic) with automatic, sensible fallbacks in case any of them (apart from Regular) is missing. Zutty tries to locate the font files itself under a configured font search path, and loads them on its own, without any support from the windowing system.</p>

<p>Zutty is able to display CJK symbols (ideographs) in double-width cells. This requires a suitable double-width font. This font can be fixed or scaled independent from the main font (for example, you may use a scaled font for CJK along with a fixed main font).</p>
  <h3 id="true-color-support">
    
    
     <a href="#true-color-support">#</a><a href="#" aria-label="Back to top">True color support</a>
        
    
  </h3>
      

<p>Each grid cell in the virtual video memory emulated via OpenGL has three bytes reserved for the foreground color as well as the background color. As such, Zutty naturally supports true color (24 bits / 16 million colors) on each cell’s foreground and background, completely independent of each other and all other cells.</p>
  <h3 id="traditional-x-clipboard--primary-selection--copy-paste-support">
    
    
     <a href="#traditional-x-clipboard--primary-selection--copy-paste-support">#</a><a href="#" aria-label="Back to top">Traditional X-clipboard / primary selection / copy-paste support</a>
        
    
  </h3>
      

<p>Zutty supports the traditional method of “copy-paste” based on the X Selection API, and is accessible via the same GUI mechanisms that long-time <code class="language-plaintext highlighter-rouge">xterm</code> users are familiar with.</p>

<p>Zutty faithfully replicates what <code class="language-plaintext highlighter-rouge">xterm</code> has provided for a very long time: starting selections with the left button, adjusting them with the right button, and cycling between snap-to-char/word/line with double clicks. This naturally yields the ability to select whole words with a double-click, and complete lines with a triple-click. Compared with <code class="language-plaintext highlighter-rouge">xterm</code>, one notable difference is a built-in, simpler rule for word boundaries (as opposed to user-adjustable definitions of character classes).</p>

<p>It is possible to adjust the selection while navigating scrollback. Thus, the complete content of the screen buffer (page history plus on-screen lines), or any part of it, can be copied as a single selection. No need to switch back and forth between source and destination programs when copying large amounts of terminal output!</p>

<p>Selecting a region with the mouse will set the primary selection, and pressing Control+Shift+C will copy that to the clipboard. This mechanism is useful because it allows holding two separate pieces of selection data at once. Zutty can also be configured to automatically copy the primary to the clipboard each time a selection is done.</p>

<p>Paste the primary selection into the terminal via middle click or Shift+Insert, like in <code class="language-plaintext highlighter-rouge">xterm</code>. Paste the clipboard via Control+Shift+V.</p>

<p>Just as with <code class="language-plaintext highlighter-rouge">xterm</code>, terminal programs might enable one of the supported “mouse protocols” to provide mouse interaction on their user interfaces; in such cases, press and hold the Shift key while performing the clicks and drags of the selection that you want to perform (both while copying and pasting). Holding Shift will cut through to the Zutty mouse handler instead of sending those mouse events to the terminal program via the mouse protocol. So, regardless of the program running in the terminal, you can always access the built-in copy-paste support in Zutty; but you can also use whatever mouse support your program has.</p>

<p>In addition, Zutty adds a unique feature for real power users of the terminal: rectangular selection. This is extremely useful if working with a vertically split terminal (think <code class="language-plaintext highlighter-rouge">emacs</code> or <code class="language-plaintext highlighter-rouge">tmux</code>). Simply toggle between “regular” and “rectangular” selection mode with the Space key while a selection adjustment is in progress (left or right mouse button is held down). For your convenience, this setting persists over individual selections made, throughout the lifetime of a running Zutty terminal.</p>
  <h3 id="small-clean-codebase">
    
    
     <a href="#small-clean-codebase">#</a><a href="#" aria-label="Back to top">Small, clean codebase</a>
        
    
  </h3>
      

<p>The radical simplicity of our rendering technology allows for a straightforward virtual terminal implementation that happens to be extremely performant despite the lack of any fancy optimizations on the source code level. This also allows the codebase of Zutty to be fairly small and understandable. Therefore, Zutty lends itself towards educational use and as a vehicle for hacking on terminals. If you’ve always wanted to learn how a terminal emulator works from the inside out, consider studying the Zutty codebase (and associated developer documentation)!</p>
  <h2 id="omissions-and-limitations">
    
    
     <a href="#omissions-and-limitations">#</a><a href="#" aria-label="Back to top">Omissions and limitations</a>
        
    
  </h2>
      

<p>There are things that Zutty does not implement compared to other, more established X terminal emulators (<code class="language-plaintext highlighter-rouge">xterm</code> being the gold standard of completeness here). The below list gives an overview of what might be considered missing. Some of them are clearly out of scope for Zutty, but some will possibly be implemented in the future.</p>

<ul>
  <li>Zutty is opinionated about the primacy of UTF-8, which means that non-UTF-8 interaction is generally not supported, not even via bridges such as <code class="language-plaintext highlighter-rouge">luit</code>. DEC builtin character sets (such as the DEC Special Graphics, DEC Technical Characters, etc.) and the escape sequences to enable them are well implemented though, so users of any modern Linux environment should never run into trouble.</li>
  <li>Zutty is Unicode-based, but it is a terminal emulator, not an all-purpose Unicode program. Therefore it does not aim to implement the whole breadth and depth of glyph and language support that Unicode defines. Currently not supported:
    <ul>
      <li>Characters with a code point above <code class="language-plaintext highlighter-rouge">U+FFFF</code> (that is, outside the Basic Multilingual Plane);</li>
      <li>Bidirectional (right-to-left) text;</li>
      <li>Composing characters (things that can only be represented as a base glyph plus one or more composing glyphs superimposed, even in Unicode NFC representation). Do not confuse this with using the <em>compose key</em> to input accented or special characters missing from your keyboard; that works fine!</li>
      <li>Possibly more esoteric features.</li>
    </ul>
  </li>
  <li>DEC VT100 double-height / double-width (DECDHL, DECDWL) lines are not supported. Do not confuse this with double-width cells for wide characters (e.g. CJK ideographs), which are supported.</li>
  <li>Rectangular area operations (introduced by the DEC VT400 series) are not supported. However, this set of features is optional and the terminal’s self-identification response clearly states the absence of this support, so conforming client applications should not run into any trouble. No fundamental technical reasons here other than the lack of pressing need.</li>
  <li>The mouse protocol implementation aims to be complete with the exception of highlight tracking mode that is not implemented. Mouse highlight tracking is a mode that requires cooperation from the client application; it is not clear if any software actively used in 2020 needs this feature.</li>
  <li>Blinking in general (blinking text driven by the SGR attribute 5, and blinking cursor mode turned on/off by DEC-private set/reset escape sequences) are not (yet) supported. Certain more esoteric text attributes, such as the “concealed” bit, are also not implemented. This is purely due to lack of bandwidth, and will most likely be added in the future.</li>
</ul>

      </div>
      
        URL: https://ib.bsb.br/zutty-linux-terminal
      
    </article>
        <nav class="post-navigation same-tag-navigation" aria-label="Posts sharing the same tag">
          
          
        </nav>
    
    
      
      
      
        
      
        
          
          
      
    
    
    <div class="comment-box">
      Ref.
      <a href="https://git.hq.sig7.se/zutty.git" title="https://git.hq.sig7.se/zutty.git">https://git.hq.sig7.se/zutty.git</a>
    </div>
    
  </main>
  <footer id="bottom-of-page" class="site-footer">
    <p>
      <a
        href="#"
        aria-label="Back to top"
        class="back-to-top-link">
        <span class="sr-only">Back to top</span>
      </a>
      
      
      
      <a href="https://ib.bsb.br/404" aria-label="404">
        2025-01-28 20:25:24
      </a>
      &hArr;
      <a href="https://github.com/ib-bsb-br/ib-bsb-br.github.io" aria-label="GitHub">&#8505;</a>
      <a href="/" aria-label="Homepage">
        infoBAG
      </a>
      <button id="copyAllButton" aria-label="Copy all code">
        &copy;
      </button>
    </p>
  </footer>
  <style>
  .back-to-top-link {
    display: inline-block;
    width: 32px;
    height: 32px;
    background: url("/assets/Rope_(Old).gif") center center no-repeat;
    background-size: contain; /* or cover */
    text-decoration: none;
    vertical-align: middle;
  }
  .sr-only {
    /* Utility class to hide text visually but keep it accessible */
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }
  </style>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://ib.bsb.br/zutty-linux-terminal/"
    },
    "headline": "Zutty Linux terminal",
    "description": "",
    "datePublished": "2024-10-27T00:00:00+00:00",
    "dateModified": "2024-12-29T17:18:56+00:00",
    "author": {
      "@type": "Person",
      "name": "Author"
    },
    "publisher": {
      "@type": "Organization",
      "name": "infoBAG"
      
    }
    
  }
  </script>
  <script src="/assets/js/prism.js" defer></script>
  <script src="/assets/js/copy-all-code.js"></script>
</body>
</html>
