<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
      
        Linux Home Networking - infoBAG
      
    </title>
    <meta name="title" content="Linux Home Networking - infoBAG" />
    <meta name="description" content="">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://ib.bsb.br/linux-home-networking/">
    <meta property="og:title" content="Linux Home Networking - infoBAG">
    <meta property="og:description" content="">
    <meta property="og:image" content="/favicon.ico">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://ib.bsb.br/linux-home-networking/">
    <meta name="twitter:title" content="Linux Home Networking - infoBAG">
    <meta name="twitter:description" content="">
    <meta name="twitter:image" content="/favicon.ico">
    <link rel="canonical" href="https://ib.bsb.br/linux-home-networking/">
    <link rel="alternate" type="application/rss+xml" title="infoBAG" href="https://ib.bsb.br/rss.xml">
    
      <meta name="keywords" content="scratchpad">
      
        <meta property="article:tag" content="scratchpad">
      
    
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    
    <link rel="stylesheet" href="/style.css">
  </head>
  <body class="post-content-body">
    <header class="header-container">
      <nav aria-label="Main navigation" class="header-content">
        <a href="/" aria-label="Home">
          <img src="/favicon.ico" alt="Home" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
        <a href="/tags" aria-label="Tags">
          <img src="/assets/Label.gif" alt="Tags" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
        <a href="/send" aria-label="send">
          <img src="/assets/rot.gif" alt="send" class="favicon search-link" width="32" height="32" loading="lazy">
        </a> 
        <a href="/created" aria-label="archive created">
          <img src="/assets/Loose_Stone_Pile.gif" alt="archive created" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
        <a href="/events" aria-label="Events">
          <img src="/assets/Paralyse_Rune.gif" alt="Events" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
        <a href="/modified" aria-label="archive modified">
          <img src="/assets/Hole_(Rock).gif" alt="archive modified" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
    </nav>
      <h5 class="post-title">
        <a href="#bottom-of-page" aria-label="Go to bottom">
          Linux Home Networking
        </a>
      </h5>
      <div class="post-meta">
        <time datetime="2025-05-07T00:00:00+00:00" class="post-date">
          07 May 2025
        </time>
        
          <span class="post-updated">
            ↣
            <time datetime="2025-05-07T21:31:32+00:00">
              07 May 2025
            </time>
          </span>
        
        
          <p class="post-slug">
            Slug: <a href="https://ib.bsb.br/linux-home-networking" class="tag">linux-home-networking</a>
          </p>
        
        
          <p class="post-tags">
            Tags:
            
              <a href="https://ib.bsb.br/tags/#scratchpad" class="tag">scratchpad</a>
            
          </p>
        
      </div>
      <div class="post-actions">
        <div class="page-stats mt-3" role="status" aria-label="Page statistics">
      
      <span class="badge bg-primary">
        20700 characters
      </span>
        <span class="separator mx-2" aria-hidden="true">•</span>
        <span class="badge bg-primary">
        3057 words
      </span>
      </div>
        <div class="action-buttons d-flex flex-wrap gap-2">
          
            
              <form action="https://github.com/ib-bsb-br/ib-bsb-br.github.io/edit/main/_posts/2025-05-07-linux-home-networking.md"
                    method="GET"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="d-inline-block">
                <button type="submit" class="btn btn-danger" aria-label="Edit page content">
                  <span class="button-text">Improve this page?</span>
                  <span class="info-text">aberto.</span>
                </button>
              </form>
            
            <form action="https://github.com/ib-bsb-br/ib-bsb-br.github.io/commits/main/_posts/2025-05-07-linux-home-networking.md"
                  method="GET"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="d-inline-block">
              <button type="submit" class="btn btn-danger" aria-label="View page revision history">
                View revision history
              </button>
            </form>
          
        </div>
      </div>
    </header>
    <main class="content">
      <article class="post-wrapper">
        <div class="post-content-body">
          
<ul><li><a href="#connectivity">Connectivity</a><ul><li><a href="#wireless-router">Wireless Router</a></li><li><a href="#ad-hoc-wireless-network">Ad-Hoc Wireless Network</a></li><li><a href="#crossover-cable">Crossover Cable</a></li><li><a href="#physical-router">Physical Router</a></li></ul></li><li><a href="#nfs">NFS</a><ul><li><a href="#packages">Packages</a></li><li><a href="#nfs-exports">NFS Exports</a></li><li><a href="#mount">Mount</a></li><li><a href="#regular-mounting">Regular Mounting</a></li></ul></li><li><a href="#nfs-debugging">NFS Debugging</a></li><li><a href="#command-line-wireless-configuration">Command Line Wireless Configuration</a></li><li><a href="#diagnostic-utilities">Diagnostic Utilities</a></li></ul>
          <p>This page provides a brief introduction on how to network two Linux computers together so you can share files between machines.</p>

<p>While these techniques can be used to set up regular file sharing, a quick temporary network can be particularly useful when moving files from an old machine to a new machine when you wish to avoid the possible security threats of using intermediate cloud storage.</p>
  <h2 id="connectivity">
    
    
     <a href="#connectivity">#</a><a href="#" aria-label="Back to top">Connectivity</a>
        
    
  </h2>
      

<p>Your first step is getting some kind of network connectivity between two machines. You have numerous options with contemporary hardware.</p>
  <h3 id="wireless-router">
    
    
     <a href="#wireless-router">#</a><a href="#" aria-label="Back to top">Wireless Router</a>
        
    
  </h3>
      

<p>If you already are networked through a wireless router, you will simply need to run <em>ifconfig</em> on both machines to get the IP addresses they got from the router.</p>

<p>$ sudo ifconfig</p>

<p>eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet <strong>73.45.140.138</strong>  netmask 255.255.254.0  broadcast 255.255.255.255
        inet6 fe80::6a45:f1ff:fe6f:7b1a  prefixlen 64  scopeid 0x20
        ether 68:45:f1:6f:7b:1a  txqueuelen 1000  (Ethernet)
        RX packets 5242077  bytes 5089202364 (4.7 GiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 3554290  bytes 1467295701 (1.3 GiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
        device interrupt 16  memory 0xb1100000-b1120000</p>

<p>Configuration of wireless interfaces via the <a href="https://michaelminn.com/linux/home_network/#command-line-wireless">comman line is described further below.</a></p>

<p>If you are setting up a file server that you will be using on a regular basis, you will want to find a way to set the file server machine to a manual, fixed IP address that does not rely on DHCP.</p>
  <h3 id="ad-hoc-wireless-network">
    
    
     <a href="#ad-hoc-wireless-network">#</a><a href="#" aria-label="Back to top">Ad-Hoc Wireless Network</a>
        
    
  </h3>
      

<p>If you don’t have a wireless router, you can create an <a href="https://help.ubuntu.com/community/WifiDocs/Adhoc">“Ad-Hoc” wireless network</a> to interconnect the two machines.</p>

<p>You should first find the names of the interfaces on both machines. They are usually <em>wlp1s0</em> or <em>wlp2s0</em> on contemporary machines.</p>

<p>$ sudo iw dev</p>

<p>phy#0
        Interface wlp1s0
                ifindex 3
                wdev 0x1
                addr 3c:9c:0f:46:65:3b
                type managed
                txpower 0.00 dBm</p>

<p>The following instructions should be executed on both machines to set the card into ad-hoc mode, specify a frequency, set the network name and set a WEP encryption key.</p>

<p>Note that encryption keys specified as ASCII strings (s:) <a href="http://permalink.gmane.org/gmane.linux.nernel.wireless.general/44915">must be exactly 5 or 13 characters</a>:</p>

<p>$ sudo iwconfig wlp1s0 mode Ad-Hoc
$ sudo iwconfig wlp1s0 channel 4
$ sudo iwconfig wlp1s0 essid omega
$ sudo iwconfig wlp1s0 key s:alpha</p>

<p>On the server machine, bring the interface up with the server address:</p>

<p>$ sudo ifconfig wlp1s0 192.168.1.1</p>

<p>On the client machine, bring the interface up with the client address and ping the server to verify connectivity</p>

<p>$ sudo ifconfig wlp1s0 192.168.1.2</p>

<p>$ ping 192.168.1.1</p>

<p>PING 192.168.1.1 (192.168.1.1) 56(84) bytes of data.
64 bytes from 192.168.1.1: icmp_seq=1 ttl=64 time=2.21 ms
64 bytes from 192.168.1.1: icmp_seq=2 ttl=64 time=0.445 ms</p>
  <h3 id="crossover-cable">
    
    
     <a href="#crossover-cable">#</a><a href="#" aria-label="Back to top">Crossover Cable</a>
        
    
  </h3>
      

<p>You can connect two machines directly together through their ethernet ports. However, you will will need to get a <strong>crossover cable</strong>, which appears identical to a regular Ethernet cable, the connectors are wired so the outputs of one machine go to the inputs of the other. A regular ethernet cable is inappropriate for this task.</p>

<p>Once connected, you should manually set the IP addresses on the two different machines and then <em>ping</em> the opposite machine to test the connection.</p>

<p>Server machine:</p>

<p>$ sudo ifconfig eth0 192.168.1.1</p>

<p>Client machine:</p>

<p>$ sudo ifconfig eth0 192.168.1.2</p>

<p>$ ping 192.168.1.1</p>

<p>PING 192.168.1.1 (127.0.0.1) 56(84) bytes of data.
64 bytes from 192.168.1.1: icmp_seq=1 ttl=64 time=0.053 ms
64 bytes from 192.168.1.1: icmp_seq=2 ttl=64 time=0.066 ms
64 bytes from 192.168.1.1: icmp_seq=3 ttl=64 time=0.071 ms</p>
  <h3 id="physical-router">
    
    
     <a href="#physical-router">#</a><a href="#" aria-label="Back to top">Physical Router</a>
        
    
  </h3>
      

<p>It is also possible to connect multiple machines together with a physical router, although such techniques have largely been supplanted by wireless.</p>

<p>The interface configuration would be the same as with a crossover cable configuration above.</p>

<p><img src="https://michaelminn.com/linux/home_network/2021-12-22_08-25-00-thumbnail.jpg" alt="Image 1" /></p>

<p>Interconnection with a physical router</p>
  <h2 id="nfs">
    
    
     <a href="#nfs">#</a><a href="#" aria-label="Back to top">NFS</a>
        
    
  </h2>
      

<p>The Network File System (NFS) is the standard Linux file server.</p>

<p>Files under Network File System (NFS) are served by a server and accessed by a client.</p>

<p>If you want to provide mutual access to files between two machines you will need to set both machines up as NFS servers and clients. If only one machine is being used for file storage, you only need NFS server on the source machine and the NFS client software on the other machine.</p>
  <h3 id="packages">
    
    
     <a href="#packages">#</a><a href="#" aria-label="Back to top">Packages</a>
        
    
  </h3>
      

<p>You will need two packages:</p>

<p>$ sudo apt-get install nfs-kernel-server rpcbind</p>

<p>$ sudo /etc/init.d/rpcbind start</p>

<p>$ sudo /etc/init.d/nfs-kernel-server start</p>
  <h3 id="nfs-exports">
    
    
     <a href="#nfs-exports">#</a><a href="#" aria-label="Back to top">NFS Exports</a>
        
    
  </h3>
      

<p>The /etc/exports file tells NFS which directories to make visible to network systems. To make the /home directory visible to all machines with the IP addresses given above, the /etc/exports file on both machines would have one line:</p>

<p>/home 192.168.1.0/255.255.255.0(rw)</p>

<p>Export these file systems after modifying /etc/exports. The file systems will subsequently be exported each time the server is reloaded.</p>

<p>$ sudo exportfs -a -v</p>

<p>$ sudo /etc/init.d/nfs-kernel-server reload</p>
  <h3 id="mount">
    
    
     <a href="#mount">#</a><a href="#" aria-label="Back to top">Mount</a>
        
    
  </h3>
      

<p>On all machines needing to mount the networked file system, create a mountpoint:</p>

<p>$ sudo mkdir /media/nfs</p>

<p>You can then mount the file system:</p>

<p>$ sudo mount -v 192.168.1.1:/home /media/nfs</p>

<p>$ ls /media/nfs</p>

<p>lost+found  user1   user2   user3</p>
  <h3 id="regular-mounting">
    
    
     <a href="#regular-mounting">#</a><a href="#" aria-label="Back to top">Regular Mounting</a>
        
    
  </h3>
      

<p>If you are going to be using the network on a regular basis, you should place an entry in the <em>/etc/fstab</em> file so users will be able to access the file system without having to manually mount.</p>

<p>192.168.1.1:/home	/mnt/nfs	nfs	auto,user,exec,soft	0  0</p>
  <h2 id="nfs-debugging">
    
    
     <a href="#nfs-debugging">#</a><a href="#" aria-label="Back to top">NFS Debugging</a>
        
    
  </h2>
      

<p>NFS can be a MAJOR pain in the ass to get running, with cryptic error messages and strange freezes. The following are some errors I encountered and potential fixes. Some of these date from a previous experience with Fedora and they remain here for completeness. When all else fails, <a href="http://google.com/">Google</a> is your friend.</p>

<p><strong>Test the Connection</strong>: If mounting of an NFS file system is freezing or failing, you should first verify that you have connectivity to the server using ping.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>ping 192.168.1.1
</code></section></div></div>

<p>Should give something like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>PING 192.168.1.1 (192.168.1.2) 56(84) bytes of data.
64 bytes from 192.168.1.1: icmp\_seq=0 ttl=64 time=0.895 ms
64 bytes from 192.168.1.1: icmp\_seq=1 ttl=64 time=0.435 ms
64 bytes from 192.168.1.1: icmp\_seq=2 ttl=64 time=0.430 ms
</code></section></div></div>

<p>If you do not get ping messages, there’s a problem with the basic connection between the machines. Verify that your cables are connected properly and firmly seated all the way into their sockets. If you are using a switch, make sure it is powered up and the indicator lights confirm connection. If you are using a crossover cable, make sure it is a crossover cable and not a regular Ethernet cable.</p>

<p><strong>NFS Version</strong></p>

<p>The Linux NFS client supposedly supports NFS protocol versions 2, 3, and 4 but the server doesn’t seem quite so robust. nfsvers=2 is used above as the option on the mount command (or in /etc/fstab) to force use of NFS v2. If you fail to use explicit versioning, you may get a message like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>sudo mount -v 192.168.1.1:/home /mnt/network

mount: no type was given - I'll assume nfs because of the colon
mount.nfs: timeout set for Wed Dec 29 09:20:34 2010
mount.nfs: text-based options: 'addr=192.168.1.1'
mount.nfs: mount(2): Protocol not supported
mount.nfs: trying 192.168.1.1 prog 100003 vers 3 prot UDP port 2049
mount.nfs: mount to NFS server '192.168.1.1:/home' failed: RPC Error: Success
</code></section></div></div>

<p>By contrast, when you use explicit versioning:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>mount -o nfsvers=2 192.168.1.1:/home /mnt/network

mount: no type was given - I'll assume nfs because of the colon
mount.nfs: timeout set for Wed Dec 29 09:20:53 2010
mount.nfs: text-based options: 'nfsvers=2,addr=192.168.1.1'
192.168.1.1:/home on /mnt/network type nfs (rw,nfsvers=2)
</code></section></div></div>

<p><strong>Access denied</strong>: This is likely caused because the directory you are trying to mount is not specified in /etc/exports on the NFS server. You should verify that file contains the correct info as described above.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>mount.nfs: access denied by server while mounting 192.168.1.1:/home
</code></section></div></div>

<p><strong>RPC Error: Program not registered</strong>: This is likely caused because NFS or rpcbind is not running on the server. Execute “/etc/init.d/unfs3 start” on the server as described above.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>mount.nfs: mount to NFS server '192.168.1.1:/home' failed: 
RPC Error: Program not registered
</code></section></div></div>

<p><strong>Server Is Down</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>mount to NFS server 'x.x.x.x' failed: server is down
</code></section></div></div>

<p>This may, in fact, mean that the server is not running or that you do not have connectivity to the server (see above for ping). It can also be caused if the server does not have an entry in /etc/exports giving you permission to mount the requested resource (see above).</p>

<p>However, this message may also be caused by a NFS protocol version mismatch. You should use NFS version 2 as described above.</p>

<p><strong>Permission denied on mount</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>statd: Could not chdir: Permission denied
mount.nfs: rpc.statd is not running but is required for remote locking.
mount.nfs: Either use '-o nolock' to keep locks local, or start statd.
</code></section></div></div>

<p>This is a strange one. The easiest solution was to just mount as superuser:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>sudo mount /mnt/network
</code></section></div></div>

<p>However, subsequent mounts as non-superuser worked fine, so go figure.</p>

<p><strong>Starting NFS quotas: Cannot register service</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>Starting NFS quotas: Cannot register service: RPC: 
Unable to receive; errno = Connection refused
rpc.rquotad: unable to register (RQUOTAPROG, RQUOTAVERS, udp).
</code></section></div></div>

<p>This is a <a href="http://forums.fedoraforum.org/showthread.php?t=186999">mysterious one</a>. Seems to magically go away if you just restart NFS.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>/etc/init.d/unfs3 restart
</code></section></div></div>

<p><strong>Firewall - iptables</strong>: If you are running a non-Ubuntu configuration or you have iptables running as a firewall, it needs to be configured to allow the client machine(s) to access NFS. On both machines, add a new iptables rule that accepts all input on the eth0 interface from the local network (both 192.168.1.1 and 192.168.1.2). List the new table and if everything looks good, save it to the /etc/sysconfig/iptables file.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>sudo iptables -I INPUT -p ALL -i eth0 -s 192.168.1.0/255.255.255.0 -j ACCEPT
sudo iptables -L
sudo iptables-save \&gt; /etc/sysconfig/iptables
</code></section></div></div>

<p><strong>RPC: Port mapper failure - RPC: Unable to receive</strong>: NFS uses TCP/IP port 2049. The default firewalls on many distributions may cause mounting a drive on a remote machine to fail with the message:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>RPC: Port mapper failure - RPC: Unable to receive
</code></section></div></div>

<p>Solution is changing the iptable settings as described above.</p>

<p><strong>RPC: Timed out</strong></p>

<p>The firewall settings on the server or client may cause the mount to hang and eventually issue the message:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>RPC: Timed out
</code></section></div></div>

<p>Solution is changing the iptable settings as described above.</p>

<p><strong>Debugging - Ports</strong>: NFS uses TCP port 2049. rpcinfo can be used to list available ports. Problems with rpcinfo indicates a machine is not accepting NFS requests.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>rpcinfo
</code></section></div></div>

<p>You can also verify open ports with netstat. nfs should be listed for both tcp and udp, although only the tcp port will be in LISTEN state</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code># netstat -tul

Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State      
tcp        0      0 \*:nfs                   \*:\*                     LISTEN      
tcp        0      0 \*:printer               \*:\*                     LISTEN      
tcp        0      0 \*:676                   \*:\*                     LISTEN      
tcp        0      0 \*:sunrpc                \*:\*                     LISTEN      
tcp        0      0 \*:x11                   \*:\*                     LISTEN      
tcp        0      0 \*:ha-cluster            \*:\*                     LISTEN      
tcp        0      0 \*:32893                 \*:\*                     LISTEN      
tcp        0      0 \*:32894                 \*:\*                     LISTEN      
udp        0      0 \*:nfs                   \*:\*                                 
udp        0      0 \*:32782                 \*:\*                                 
udp        0      0 \*:32783                 \*:\*                                 
udp        0      0 \*:673                   \*:\*                                 
udp        0      0 \*:691                   \*:\*                                 
udp        0      0 \*:bootpc                \*:\*                                 
udp        0      0 \*:727                   \*:\*                                 
udp        0      0 \*:sunrpc                \*:\*     
</code></section></div></div>

<p><strong>iptables restart</strong>: If all else fails, you can simply stop the firewall.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>sudo service iptables stop
</code></section></div></div>

<p>If this solves the problem, you should look further into correcting your firewall configuration. Running without a firewall, especially with a connection to the internet exposes your machine to hacking and not recommended.</p>

<p>FYI, an important line in /etc/sysconfig/iptables on some Red Hat configurations may be rejection of port 2049, used by NFS:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>-A RH-Lokkit-0-50-INPUT -p udp -m udp --dport 2049 -j REJECT
</code></section></div></div>
  <h2 id="command-line-wireless-configuration">
    
    
     <a href="#command-line-wireless-configuration">#</a><a href="#" aria-label="Back to top">Command Line Wireless Configuration</a>
        
    
  </h2>
      

<p>I prefer to start and stop my networks manually, and removed the network-manager to avoid conflicts and problems encountered on other machines:</p>

<p>$ sudo apt-get remove network-manager</p>

<p>Wireless interfaces can be started with the <em>ifup</em> command:</p>

<p>$ sudo ifup wlp1s0</p>

<p>The interface can be stopped with the <em>ifdown</em> command:</p>

<p>$ sudo ifdown wlp1s0</p>

<p>Access points can be displayed with the <em>iwlist</em> command:</p>

<p>$ sudo iwlist wlp2s0 scan</p>

<p>Access points can be configured with the <em>iwconfig</em> command:</p>

<p>$ sudo iwconfig wlp2s0 essid &lt;SSID&gt;</p>

<p>If you have an access point that you regulaly connect to, you can configure the SSID and password in the <em>/etc/network/interfaces</em> file:</p>

<p>iface wlp2s0 inet dhcp
wpa-ssid “&lt;SSID&gt;”
wpa-psk “&lt;PASSWORD&gt;”</p>

<p>To have the interface start automatically on boot:</p>

<p>auto wlp2s0
iface wlp2s0 inet dhcp
wpa-ssid “&lt;SSID&gt;”
wpa-psk “&lt;PASSWORD&gt;”</p>
  <h2 id="diagnostic-utilities">
    
    
     <a href="#diagnostic-utilities">#</a><a href="#" aria-label="Back to top">Diagnostic Utilities</a>
        
    
  </h2>
      

<p>Networks always have problems and diagnosis of those problems is the primary activity of network administrators. Diagnosing and solving network problems is a black art that can only be covered superficially here, but the following are some basic utilities for diagnosing problems. Many of these programs are mentioned in more detail above and you can get further information on the command line with the “man &lt;command&gt;” command.</p>

<p><strong>ifconfig</strong>: The first step is to verify that the interface you are trying to connect to the network with is up and has a valid IP address. ifconfig with no arguments lists all the network interfaces on a system and allows configuration. If the interface is not displayed or does not have an IP address, your system cannot connect to the network through that interface. The example output given below shows the interface IP address as 192.168.1.47 and, with the given mask, the default gateway is 192.168.1.1. The “RX bytes” and “TX bytes” can be used to determine if there has been any traffic on an interface, implying that it is or was working at some point. lo is the loopback interface on every system that is, in essence, only connected to itself.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>eth0      Link encap:Ethernet  HWaddr 00:0F:B0:66:40:C2  
          inet addr:192.168.1.47  Bcast:255.255.255.255  Mask:255.255.255.0
          inet6 addr: fe80::20f:b0ff:fe66:40c2/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:29369 errors:0 dropped:0 overruns:0 frame:0
          TX packets:32776 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:20428276 (19.4 Mb)  TX bytes:21405541 (20.4 Mb)
          Interrupt:11 Base address:0x3000

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:8 errors:0 dropped:0 overruns:0 frame:0
          TX packets:8 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
     	  RX bytes:592 (592.0 b)  TX bytes:592 (592.0 b)
</code></section></div></div>

<p><strong>ping</strong> is the second most useful network diagnostic utility. ping allows you to send echo request messages to specific IP addresses and verify that they are up. Generally, in diagnosing a connectivity problem you will first try to ping the interface, then ping the gateway (which can be inferred from the output of ifconfig), and, finally, ping the destination you are trying to reach.</p>

<p><strong>traceroute</strong> lists all the routers between you and a destination. This permits detection of the point in a route where there is a problem.</p>

<p><strong>arp</strong> allows display and modification of the ARP caches on interfaces. If you need to determine if you have the lowest level connectivity to the network, in this case through interface eth0:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>/sbin/arp -a -i eth0
</code></section></div></div>

<p><strong>iwconfig</strong> is a utility for displaying and configuring wireless-specific information that is not part of ifconfig. Looking for the connected access point ESSID (or lack thereof) is a common reason to use iwconfig.</p>

<p><strong>iwlist</strong>: When connecting to an unfamiliar network, you may want to use the iwlist command to see what access points are available. If no access point ESSID is specified, bringing a wireless interface up will connect to the most powerful AP it sees, which may not be the one you want.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>/sbin/iwlist wlan0 scan
</code></section></div></div>

<p><strong>tcpdump</strong> is a program for listing network packets. The output can be rather obtuse to the uninitiated. Useful for diagnosing problems with NFS or authentication issues. For example, to display packets in ASCII that are passing through interface eth0:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>	tcpdump -s 1024 -A -i eth0
</code></section></div></div>

<p>In some configurations the filtering used by tcpdump may be so aggressive that it yields no significant output other than ARP requests. In those cases you may need to specify the specific IP network address of the interface you’re trying to list traffic from:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>	tcpdump -A -s 1024 net 192.168.1.1
</code></section></div></div>

<p><strong>netstat</strong> lists active network connections, routing tables, interface statistics, masquerade connections, and multicast membership</p>

<ul>
  <li>netstat -r: show routing table</li>
  <li>netstat -a: list connections</li>
  <li>netstat -s: list statistics by protocol</li>
  <li>netstat -n: list port numbers</li>
</ul>

<p><strong>host</strong>, <strong>dig</strong> and <strong>nslookup</strong> are DNS lookup utilities, with dig giving the more detailed output of the bunch. If you are having trouble connecting to a named website, you can use these utilities to try to figure out if the name is getting resolved to an IP address. You can also use these utilities to lookup addresses on specific nameservers if your currently configured nameserver is having problems.</p>

<p><strong>route</strong> is a utility to list and/or manipulate the IP routing table. If you’re having problems with a browser not being able to see a network, this will show if there is a problem in your routing table.</p>

<p>Example route output with a DSL modem</p>

<p>Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
192.168.1.0     *               255.255.255.0   U     0      0        0 eth0
169.254.0.0     *               255.255.0.0     U     0      0        0 eth0
default         dslrouter       0.0.0.0         UG    0      0        0 eth0</p>

<p>Example route output with a dialup modem Destination Gateway Genmask Flags Metric Ref Use Iface nas31.newyork1. * 255.255.255.255 UH 0 0 0 ppp0 default nas31.newyork1. 0.0.0.0 UG 0 0 0 ppp0</p>

<p><strong>whois</strong> queries the Internet WhoIs database to find out who a domain name is registered to. Anonymous or third-world registrations often indicate entities that you should have no dealings with. whois can also be used to list to what organization an IP address has been assigned to, although this information will often only lead you to an ISP that controls a block of IP addresses and not to the company or individual who is actually using that IP address.</p>

<p><strong>airsnort</strong>: When you need to connect to an encrypted network but do not have the encryption key, <a href="http://airsnort.shmoo.com/">AirSnort</a> can listen to traffic for a period of time and determine the key.</p>

<p><strong>nmap</strong> is a network exporation tool and security scanner. Lots of options. The -sT option is especially useful for detecting “open ports” that represent potential entry paths for invaders and the results of this scan may indicate unnecessary services you want to shut down or unnecessary permissions in your firewall.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>Example: scan a local address for open ports
	nmap -sT 192.168.1.1

Example: looks for hosts on a network
	nmap -sP 172.16.1.1-127
</code></section></div></div>

<p><strong><a href="http://netdisco.org/">Netdisco</a></strong> is an open source web-based network management tool. It’s quite complex and I mention it here only as a suggestion if you’re looking for network discovery software.</p>

<p><strong>nmblookup</strong>, <strong>smbstatus</strong> and <strong>findsmb</strong> are utilities for diagnosing and establishing Samba connections to Windoze systems. They are described earlier in this document.</p>

        </div>
        
          URL: https://ib.bsb.br/linux-home-networking
        
      </article>
      <nav class="post-navigation-combined" aria-label="Post navigation">
        <!-- Chronological Navigation (always visible at 40vh) -->
        
          <div class="nav-arrow chronological prev">
            <a href="/how-to-run-qcow2-from-fedora-coreos-podman-incus/" title="How to run `.qcow2` from Fedora CoreOS + Podman + Incus" rel="prev">
              <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAAAxVJREFUaEPt18FqG1cUBuD/nLkzI42UiVInkFLTCAKhS+9KA+3Kq1L8AAHjhR7AKz+ADV55qUfoqhvThTfdmC4KzTKmYJrELshJW9PIlSeKRpqZe88pUtouihvVRknqMNoMzD1zdPXNrzMM4RJ+6BLuGeWm39RdK6VL6VcIlPEo41HG401loJQupS8mUM7pi7md/6p3UtoHUJzf4vVecZb0e0EQfB7H8b0kSeqqummt/eb1buN83SebNsZ8QkQCYHVpaenu/v7+ra2tLRwdHWF1ddWq6hfM3BCRE2b+FcBHACQAHo1E5v9c+5mIhkR0e3z0VQ8LotuqWlXVw/GRmT8QkdMK89McuAOAAfwoIu8z85yIHBPRKRGN1/IAeDx0rul53hivo6psrf2ejDGfEtFOu92u7O3tBWtra2i322g0GhgOh9je3ka325UPax7fCR0iw+lp4aLxr70aeOmgkChTRY3JGSb73EroERD73uB54WpOgdhwZkXNQNQLiVDzOU1yFymAhu+lqZVopIqISQKmPLFS+atHv3A1q8AVQ+lXP/VHRPQx+b6frKysxMvLy1hfX0ez2USv18PCwgLiOEaSJKhWq/jhwQN8dnIfVOS4dsWHqCJ5YREGjBuNEMfd0eTc9WshBqnFYGhRqxrUIoNuLwMT4eb1Cp6dZshywdW6mZzr9QsEPuPmXIhfno3gnGKuEWCUC14MLKoVb1L72+8Zvj3JOl/udZt/S7darUqn0wlarRZ2d3cxPz+PJ8dPsPP1Doq8kIbL+cawjxBIM8MRFAidpBlRpIbhFc55gM2NF5IIQtVBRlRTZgTWZQ4wzvc8spO1NPM4Gr9Wh1bSDIjU98C5E0PIC8OVSX+Rlz08hl+4/LsML6X/menFxcW7BwcHtzY2NvDw8CE21zf/NdMAHskFMs3MT/EfMg3gsTsr02f8byfTo16v3+v3+//f6fGKgXNp5vT5huZbqH4nH+NvwXH6V5bS041mU1FKz8ZxepdSerrRbCpK6dk4Tu9SSk83mk1FKT0bx+ldSunpRrOpuJTSfwBcuImxpyA7XgAAAABJRU5ErkJggg==" alt="Previous article" width="45" height="45" loading="lazy">
            </a>
          </div>
        
        
          <div class="nav-arrow chronological next">
            <a href="/installing-incus-os/" title="installing Incus OS" rel="next">
              <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAAAwdJREFUaEPtl01rG1cUht9z7p070ijKWLVS3I9YULtNMBRn2UIXxZtuvCjedNWfoKVXBvsHeOUfoIUx5AeY0pVXXSR052UxBJSi0kDiRplII83HvadI9CMtOFjCmBjubC7cc8+Zc555eYdLuIEP3cCe4Zu+rq/mSXvSbyHg5eHl4eVxXRrwpD3p+Qh4n56P2+xZnvTszC7MCAAUF0XfOdJa62+IaCeO40GSJA/zPP8RwB9vDjBtWmv9JRE5ImpZawdVpbo58CkAIyJnIrLAzEvOuXNm/h3AfQDOAGdj5z5m5gXn3G9ENCKilckaiDwpiFZEpCoiTyYrM3/knOtXmHs58BkABvCLc+4DZl6cxIjoh4ODA728vIzt7W2sra09PT4+fgTgQES4LMvHZIy5LyI/f/dJvfK6FKMJqAdqmBS2ZgWINY9zJyZ1whUiRJrTfmGjybSxUemwcFEmghqT1UxlUrpQEXD7jRq3NWelEz10okIi1AJOX+U2EgALgUrT0kVnmcKvQ+uazSZvbW2hWq2i3++j3W5jf38f6+vrebvdHovI5pT09+vN7teLYev990K8GpQYjS1u1TQqhnHez6EU4cM7FTw7z5AXDo16ACcyPRsaxp2FEM9ejKd7zUaIYVpiOCpRq2rUIo0XLzMwEZaaFTzvZ8hyh/iWnu69fF1AAoOfFr/A5w8eYDQaIY5jJEmC09NTNBoNdLtd7O3t4ejoCIeHh8k/pL8KUSkCZcg6hCLDjLk2ufYGpRuXAuOMYiosQiDNNEcQILQuzYgi0QxVWKuAMtcqJPdXDaKaMMOUNrOAtoFSVE5jaaY4mtQPS5dmQPS8WkdfGReYgDe/3cTdpbvo9XrY2NhAp9NBq9XKO53Ov6T/r2mlVBeX0DSAMzeHppm5h7doemdvR99buYfd3V2srq4+PTk5+a+mr9CmrqTU3+5Rr9cHg8HgYve4krddbZGb5dOXmf2d+7n4pi9D4LrOeHl40v42fl0a8KQ96fkIeJ+ej9vsWZ707Mzmy/Ck5+M2e9afhmuAz1BhwewAAAAASUVORK5CYII=" alt="Next article" width="45" height="45" loading="lazy">
            </a>
          </div>
        
            
            
              
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
                  
                  
              
              
              
              <!-- Navigation block for tag "scratchpad"; default display for the first tag -->
              <div class="nav-group tags" id="tag-nav-scratchpad" style="display: block;">
                <div class="nav-arrow tags prev">
                  
                    <a href="/how-to-integrate-wifi-support-into-the-sbnb-bridge-based-networking-setup/" title="How to integrate WiFi support into the SBNB bridge-based networking setup" rel="prev">
                      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAAAxVJREFUaEPt18FqG1cUBuD/nLkzI42UiVInkFLTCAKhS+9KA+3Kq1L8AAHjhR7AKz+ADV55qUfoqhvThTfdmC4KzTKmYJrELshJW9PIlSeKRpqZe88pUtouihvVRknqMNoMzD1zdPXNrzMM4RJ+6BLuGeWm39RdK6VL6VcIlPEo41HG401loJQupS8mUM7pi7md/6p3UtoHUJzf4vVecZb0e0EQfB7H8b0kSeqqummt/eb1buN83SebNsZ8QkQCYHVpaenu/v7+ra2tLRwdHWF1ddWq6hfM3BCRE2b+FcBHACQAHo1E5v9c+5mIhkR0e3z0VQ8LotuqWlXVw/GRmT8QkdMK89McuAOAAfwoIu8z85yIHBPRKRGN1/IAeDx0rul53hivo6psrf2ejDGfEtFOu92u7O3tBWtra2i322g0GhgOh9je3ka325UPax7fCR0iw+lp4aLxr70aeOmgkChTRY3JGSb73EroERD73uB54WpOgdhwZkXNQNQLiVDzOU1yFymAhu+lqZVopIqISQKmPLFS+atHv3A1q8AVQ+lXP/VHRPQx+b6frKysxMvLy1hfX0ez2USv18PCwgLiOEaSJKhWq/jhwQN8dnIfVOS4dsWHqCJ5YREGjBuNEMfd0eTc9WshBqnFYGhRqxrUIoNuLwMT4eb1Cp6dZshywdW6mZzr9QsEPuPmXIhfno3gnGKuEWCUC14MLKoVb1L72+8Zvj3JOl/udZt/S7darUqn0wlarRZ2d3cxPz+PJ8dPsPP1Doq8kIbL+cawjxBIM8MRFAidpBlRpIbhFc55gM2NF5IIQtVBRlRTZgTWZQ4wzvc8spO1NPM4Gr9Wh1bSDIjU98C5E0PIC8OVSX+Rlz08hl+4/LsML6X/menFxcW7BwcHtzY2NvDw8CE21zf/NdMAHskFMs3MT/EfMg3gsTsr02f8byfTo16v3+v3+//f6fGKgXNp5vT5huZbqH4nH+NvwXH6V5bS041mU1FKz8ZxepdSerrRbCpK6dk4Tu9SSk83mk1FKT0bx+ldSunpRrOpuJTSfwBcuImxpyA7XgAAAABJRU5ErkJggg==" alt="Previous in Tag" width="45" height="45" loading="lazy">
                    </a>
                  
                </div>
                <div class="nav-arrow tags next">
                  
                    <a href="/how-to-run-qcow2-from-fedora-coreos-podman-incus/" title="How to run `.qcow2` from Fedora CoreOS + Podman + Incus" rel="next">
                      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAAAwdJREFUaEPtl01rG1cUht9z7p070ijKWLVS3I9YULtNMBRn2UIXxZtuvCjedNWfoKVXBvsHeOUfoIUx5AeY0pVXXSR052UxBJSi0kDiRplII83HvadI9CMtOFjCmBjubC7cc8+Zc555eYdLuIEP3cCe4Zu+rq/mSXvSbyHg5eHl4eVxXRrwpD3p+Qh4n56P2+xZnvTszC7MCAAUF0XfOdJa62+IaCeO40GSJA/zPP8RwB9vDjBtWmv9JRE5ImpZawdVpbo58CkAIyJnIrLAzEvOuXNm/h3AfQDOAGdj5z5m5gXn3G9ENCKilckaiDwpiFZEpCoiTyYrM3/knOtXmHs58BkABvCLc+4DZl6cxIjoh4ODA728vIzt7W2sra09PT4+fgTgQES4LMvHZIy5LyI/f/dJvfK6FKMJqAdqmBS2ZgWINY9zJyZ1whUiRJrTfmGjybSxUemwcFEmghqT1UxlUrpQEXD7jRq3NWelEz10okIi1AJOX+U2EgALgUrT0kVnmcKvQ+uazSZvbW2hWq2i3++j3W5jf38f6+vrebvdHovI5pT09+vN7teLYev990K8GpQYjS1u1TQqhnHez6EU4cM7FTw7z5AXDo16ACcyPRsaxp2FEM9ejKd7zUaIYVpiOCpRq2rUIo0XLzMwEZaaFTzvZ8hyh/iWnu69fF1AAoOfFr/A5w8eYDQaIY5jJEmC09NTNBoNdLtd7O3t4ejoCIeHh8k/pL8KUSkCZcg6hCLDjLk2ufYGpRuXAuOMYiosQiDNNEcQILQuzYgi0QxVWKuAMtcqJPdXDaKaMMOUNrOAtoFSVE5jaaY4mtQPS5dmQPS8WkdfGReYgDe/3cTdpbvo9XrY2NhAp9NBq9XKO53Ov6T/r2mlVBeX0DSAMzeHppm5h7doemdvR99buYfd3V2srq4+PTk5+a+mr9CmrqTU3+5Rr9cHg8HgYve4krddbZGb5dOXmf2d+7n4pi9D4LrOeHl40v42fl0a8KQ96fkIeJ+ej9vsWZ707Mzmy/Ck5+M2e9afhmuAz1BhwewAAAAASUVORK5CYII=" alt="Next in Tag" width="45" height="45" loading="lazy">
                    </a>
                  
                </div>
              </div>
            
          
          <!-- JavaScript to Toggle the Tag-based Navigation -->
          <script>
            document.addEventListener("DOMContentLoaded", function(){
              var tagLinks = document.querySelectorAll('.tag-option');
              tagLinks.forEach(function(link){
                link.addEventListener('click', function(event){
                  event.preventDefault();
                  // Remove "active" class from all tag options.
                  tagLinks.forEach(function(el){ el.classList.remove('active'); });
                  // Add active class to the clicked tag option.
                  this.classList.add('active');
                  // Hide all tag navigation blocks.
                  document.querySelectorAll('.nav-group.tags').forEach(function(block){
                    block.style.display = 'none';
                  });
                  // Show the navigation block corresponding to the selected tag.
                  var tagSlug = this.getAttribute('data-tag');
                  var target = document.getElementById('tag-nav-' + tagSlug);
                  if(target) {
                    target.style.display = 'block';
                  }
                });
              });
            });
          </script>
      </nav>
      
    <div class="comment-box">
      Ref. 
      <a href="https://michaelminn.com/linux/home_network/" title="https://michaelminn.com/linux/home_network/">https://michaelminn.com/linux/home_network/</a>
    </div>
    
    </main>
    <footer id="bottom-of-page" class="site-footer">
      <div class="footer-content">
        <!-- Back to top link -->
        <a href="#" aria-label="Back to top" class="back2top-link">
          <span class="sronly">Back to top</span>
        </a>
    
        <!-- Liquid Time Calculation and Display -->
        
        
        
        <a href="https://ib.bsb.br/404" aria-label="404">
          2025-05-08 19:42:01
        </a>
        &#x23;
    
        <!-- Tag Selector -->
        <ul class="tag-selector">
          
            
            
              <li>
                <a href="#" class="tag-option active" data-tag="scratchpad">
                  scratchpad
                </a>
              </li>
            
          
        </ul>
        &hArr;
    
        <!-- GitHub Link -->
        <a href="https://github.com/ib-bsb-br/ib-bsb-br.github.io" aria-label="GitHub">
          &#8505;
        </a>
    
        <!-- Homepage Link -->
        <a href="/" aria-label="Homepage">
          infoBAG
        </a>
    
        <!-- Copy All Code Button -->
        <button id="copyAllButton" aria-label="Copy all code">
          &copy;
        </button>
      </div>
    </footer>
    <style>
      .back2top-link {
        display: inline-block;
        width: 32px;
        height: 32px;
        background: url("/assets/Rope_(Old).gif") center center no-repeat;
        background-size: contain;
        text-decoration: none;
        vertical-align: middle;
      }
      .sronly {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }
    </style>
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Article",
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "https://ib.bsb.br/linux-home-networking/"
        },
        "headline": "Linux Home Networking",
        "description": "",
        "datePublished": "2025-05-07T00:00:00+00:00",
        "dateModified": "2025-05-07T21:31:32+00:00",
        "author": {
          "@type": "Person",
          "name": "Author"
        },
        "publisher": {
          "@type": "Organization",
          "name": "infoBAG"
          
        }
        
      }
    </script>
    <script src="/assets/js/prism.js" defer></script>
    <script src="/assets/js/copy-all-code.js"></script>
  </body>
</html>
