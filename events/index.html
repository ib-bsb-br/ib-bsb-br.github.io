<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>
    
      Events â€” infoBAG
    
  </title>
  <link rel="canonical" href="https://ib.bsb.br/events/">
  <link rel="alternate" type="application/rss+xml" title="infoBAG" href="https://ib.bsb.br/rss.xml">
  
  <link href="/style.css" rel="stylesheet">
</head>
<body class="post-content-body">
  <header class="header-container">
    <nav aria-label="Main navigation" class="header-content">
        <a href="/" aria-label="Home">
          <img src="/favicon.ico" alt="Home" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
        <a href="/tags" aria-label="Tags">
          <img src="/assets/Label.gif" alt="Tags" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
        <a href="/archive" aria-label="Archive">
          <img src="/assets/Loose_Stone_Pile.gif" alt="Archive" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
        <a href="/events" aria-label="Events">
          <img src="/assets/Paralyse_Rune.gif" alt="Events" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
        <a href="/archive-created" aria-label="Archive created">
          <img src="/assets/Hole_(Rock).gif" alt="Archive created" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
        <a href="/rot64" aria-label="rot">
          <img src="/assets/rot.gif" alt="rot" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
      </nav>
  </header>
  <main class="content">
    <h1 class="post-title"><a href="#bottom-of-page" aria-label="Go to bottom">Events</a></h1>
<p><button id="triggerWorkflow">ðŸ”„</button></p>
<div id="calendar"></div>

<script src="/assets/js/vendor/fullcalendar/index.global.min.js"></script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const calendarEl = document.getElementById('calendar');
    fetch('/assets/data/events.json')
      .then(response => {
        if (!response.ok) {
          throw new Error(`Network response was not ok: ${response.statusText}`);
        }
        return response.json();
      })
      .then(data => {
        const calendar = new FullCalendar.Calendar(calendarEl, {
          initialView: 'listMonth',
          events: data,
          headerToolbar: {
            left: 'prev,next today',
            center: 'title',
            right: 'listMonth,dayGridMonth,timeGridWeek,timeGridDay'
          },
          navLinks: true,
          editable: false,
          selectable: false,
          selectMirror: false,
          dayMaxEvents: true,
        });
        calendar.render();
      })
      .catch(error => {
        console.error('Error loading events:', error);
        alert('Failed to load events. Please try again later.');
      });
  });
</script>

<script>
  document.getElementById('triggerWorkflow').addEventListener('click', async () => {
    const webhookEndpoint = 'https://8k5ij92zn4.execute-api.us-east-1.amazonaws.com/dev/trigger_github_workflow'; // Replace with your actual endpoint

    const payload = {
      ref: 'main',
      workflow_id: 'dispatch-workflow.yml', // Ensure this matches your GitHub Actions workflow filename
      inputs: {
        some_input: 'An example input' // Replace with actual inputs your workflow expects
      }
    };

    try {
      const response = await fetch(webhookEndpoint, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(payload),
      });

      if (!response.ok) {
        const errorData = await response.json();
        throw new Error(`Server error: ${response.status} - ${errorData.message}`);
      }

      const data = await response.json();
      console.log('Workflow dispatched successfully:', data);
      alert('Workflow has been successfully triggered.');
    } catch (error) {
      console.error('Error triggering workflow:', error);
      alert(`Failed to trigger workflow: ${error.message}`);
    }
  });
</script>


  </main>
  <footer id="bottom-of-page" class="site-footer">
    <p>
      <a
        href="#"
        aria-label="Back to top"
        class="back-to-top-link">
        <span class="sr-only">Back to top</span>
      </a>
      
      
      
      <a href="https://ib.bsb.br/404" aria-label="404">
        2025-02-28 07:19:44
      </a>
      &hArr;
      <a href="https://github.com/ib-bsb-br/ib-bsb-br.github.io" aria-label="GitHub">&#8505;</a>
      <a href="/" aria-label="Homepage">
        infoBAG
      </a>
    </p>
  </footer>
  <style>
  .back-to-top-link {
    display: inline-block;
    width: 32px;
    height: 32px;
    background: url("/assets/Rope_(Old).gif") center center no-repeat;
    background-size: contain; /* or cover */
    text-decoration: none;
    vertical-align: middle;
  }
  .sr-only {
    /* Utility class to hide text visually but keep it accessible */
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }
  .back-top-link {
    display: inline-block;
    width: 9px;
    height: 9px;
    background: url("/assets/gold.ico") center center no-repeat;
    background-size: contain; /* or cover */
    text-decoration: none;
    vertical-align: middle;
  }    
  </style>
  <script src="/assets/js/prism.js" defer></script>
</body>
</html>
