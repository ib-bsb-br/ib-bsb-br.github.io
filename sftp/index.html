<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
      
        Setting Up an SFTP Server on Debian Bullseye for Backups - infoBAG
      
    </title>
    <meta name="title" content="Setting Up an SFTP Server on Debian Bullseye for Backups - infoBAG" />
    <meta name="description" content="">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://ib.bsb.br/sftp/">
    <meta property="og:title" content="Setting Up an SFTP Server on Debian Bullseye for Backups - infoBAG">
    <meta property="og:description" content="">
    <meta property="og:image" content="/favicon.ico">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://ib.bsb.br/sftp/">
    <meta name="twitter:title" content="Setting Up an SFTP Server on Debian Bullseye for Backups - infoBAG">
    <meta name="twitter:description" content="">
    <meta name="twitter:image" content="/favicon.ico">
    <link rel="canonical" href="https://ib.bsb.br/sftp/">
    <link rel="alternate" type="application/rss+xml" title="infoBAG" href="https://ib.bsb.br/rss.xml">
    
      <meta name="keywords" content="aid&gt;linux">
      
        <meta property="article:tag" content="aid&gt;linux">
      
    
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    
    <link rel="stylesheet" href="/style.css">
  </head>
  <body class="post-content-body">
    <header class="header-container">
      <nav aria-label="Main navigation" class="header-content">
        <a href="/" aria-label="Home">
          <img src="/favicon.ico" alt="Home" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
        <a href="/tags" aria-label="Tags">
          <img src="/assets/Label.gif" alt="Tags" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
        <a href="/send" aria-label="send">
          <img src="/assets/rot.gif" alt="send" class="favicon search-link" width="32" height="32" loading="lazy">
        </a> 
        <a href="/created" aria-label="archive created">
          <img src="/assets/Loose_Stone_Pile.gif" alt="archive created" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
        <a href="/events" aria-label="Events">
          <img src="/assets/Paralyse_Rune.gif" alt="Events" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
        <a href="/modified" aria-label="archive modified">
          <img src="/assets/Hole_(Rock).gif" alt="archive modified" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
    </nav>
      <h5 class="post-title">
        <a href="#bottom-of-page" aria-label="Go to bottom">
          Setting Up an SFTP Server on Debian Bullseye for Backups
        </a>
      </h5>
      <div class="post-meta">
        <time datetime="2024-11-21T00:00:00+00:00" class="post-date">
          21 Nov 2024
        </time>
        
          <span class="post-updated">
            ↣
            <time datetime="2025-05-27T15:58:36+00:00">
              27 May 2025
            </time>
          </span>
        
        
          <p class="post-slug">
            Slug: <a href="https://ib.bsb.br/sftp" class="tag">sftp</a>
          </p>
        
        
          <p class="post-tags">
            Tags:
            
              <a href="https://ib.bsb.br/tags/#aid-linux" class="tag">aid>linux</a>
            
          </p>
        
      </div>
      <div class="post-actions">
        <div class="page-stats mt-3" role="status" aria-label="Page statistics">
      
      <span class="badge bg-primary">
        18807 characters
      </span>
        <span class="separator mx-2" aria-hidden="true">•</span>
        <span class="badge bg-primary">
        2617 words
      </span>
      </div>
        <div class="action-buttons d-flex flex-wrap gap-2">
          
            
              <form action="https://github.com/ib-bsb-br/ib-bsb-br.github.io/edit/main/_posts/2024-11-21-sftp.md"
                    method="GET"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="d-inline-block">
                <button type="submit" class="btn btn-danger" aria-label="Edit page content">
                  Improve this page
                </button>
              </form>
            
            <form action="https://github.com/ib-bsb-br/ib-bsb-br.github.io/commits/main/_posts/2024-11-21-sftp.md"
                  method="GET"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="d-inline-block">
              <button type="submit" class="btn btn-danger" aria-label="View page revision history">
                View revision history
              </button>
            </form>
          
        </div>
      </div>
    </header>
    <main class="content">
      <article class="post-wrapper">
        <div class="post-content-body">
          
<ul><li><a href="#1-update-your-system">1. Update Your System</a></li><li><a href="#2-install-openssh-server">2. Install <code class="language-plaintext highlighter-rouge">openssh-server</code></a></li><li><a href="#3-verify-ssh-service-and-configuration">3. Verify SSH Service and Configuration</a></li><li><a href="#4-creating-a-user-for-sftp-access">4. Creating a User for SFTP Access</a></li><li><a href="#5-firewall-considerations-information-only">5. Firewall Considerations (Information Only)</a></li><li><a href="#6-ensure-ssh-service-is-enabled-to-start-on-boot">6. Ensure SSH Service is Enabled to Start on Boot</a></li><li><a href="#finding-your-servers-ip-address">Finding Your Server’s IP Address</a></li><li><a href="#get-information-of-the-sftp-server">Get Information of the SFTP Server</a></li><li><a href="#connect-local-devices-to-the-debian-sftp-server">Connect Local Devices to the Debian SFTP Server</a><ul><li><a href="#1-connecting-from-windows-using-filezilla">1. Connecting from Windows using FileZilla</a></li><li><a href="#2-connecting-from-macos">2. Connecting from macOS</a></li><li><a href="#3-connecting-from-linux-desktops">3. Connecting from Linux Desktops</a></li><li><a href="#4-connecting-from-ios-iphoneipad">4. Connecting from iOS (iPhone/iPad)</a></li><li><a href="#5-connecting-from-android">5. Connecting from Android</a></li></ul></li><li><a href="#advanced-backup-tip-using-rsync-for-efficiency">Advanced Backup Tip: Using <code class="language-plaintext highlighter-rouge">rsync</code> for Efficiency</a></li><li><a href="#security-best-practices-for-sftp">Security Best Practices for SFTP</a></li><li><a href="#troubleshooting-common-sftp-issues">Troubleshooting Common SFTP Issues</a></li></ul>
          <p>This guide will walk you through setting up an SFTP (SSH File Transfer Protocol) server on your Debian Bullseye system, specifically tailored for an arm64 Rockchip rk3588 machine. The goal is to enable efficient and secure file transfers from local devices (like iPhones, Android phones, laptops) to your Debian machine for backup purposes.</p>

<p>We will use <code class="language-plaintext highlighter-rouge">openssh-sftp-server</code>, which is a component of the <code class="language-plaintext highlighter-rouge">openssh-server</code> package. Installing <code class="language-plaintext highlighter-rouge">openssh-server</code> from the Debian repositories will provide a modern and secure version of the SFTP server (typically OpenSSH 8.x on Bullseye; the “10” sometimes mentioned in discussions usually refers to a desire for a modern version rather than a specific package name). This guide assumes there is no active firewall on the Debian host machine.</p>

<p>While this guide uses standard Debian procedures applicable to any arm64 system, the RK3588 is a capable SoC. For most SFTP backup tasks, performance should be adequate. If you encounter performance bottlenecks with extremely large files or high-frequency transfers, system-level tuning (e.g., I/O schedulers, network stack parameters) might be explored, but this is beyond the scope of this basic setup guide.</p>
  <h3 id="1-update-your-system">
    
    
     <a href="#1-update-your-system">#</a><a href="#" aria-label="Back to top">1. Update Your System</a>
        
    
  </h3>
      
<p>Ensure your Debian system is up-to-date. Open a terminal and execute:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">sudo </span>apt-get update
<span class="nb">sudo </span>apt-get upgrade <span class="nt">-y</span>
</code></section></div></div>
  <h3 id="2-install-openssh-server">
    
    
     <a href="#2-install-openssh-server">#</a><a href="#" aria-label="Back to top">2. Install <code class="language-plaintext highlighter-rouge">openssh-server</code></a>
        
    
  </h3>
      
<p>SFTP service is provided by <code class="language-plaintext highlighter-rouge">openssh-server</code>. If it’s not already installed (Debian server editions usually include it), install it:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>openssh-server <span class="nt">-y</span>
</code></section></div></div>
<p>The <code class="language-plaintext highlighter-rouge">sftp-server</code> executable is typically located at <code class="language-plaintext highlighter-rouge">/usr/lib/openssh/sftp-server</code> and is configured as a subsystem in the SSH daemon configuration.</p>
  <h3 id="3-verify-ssh-service-and-configuration">
    
    
     <a href="#3-verify-ssh-service-and-configuration">#</a><a href="#" aria-label="Back to top">3. Verify SSH Service and Configuration</a>
        
    
  </h3>
      
<p>The SSH service (<code class="language-plaintext highlighter-rouge">sshd</code>) should start automatically after installation. You can check its status:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">sudo </span>systemctl status sshd
</code></section></div></div>
<p>Or simply:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">sudo </span>systemctl status ssh
</code></section></div></div>
<p>Ensure the SFTP subsystem is enabled in the SSH configuration file (<code class="language-plaintext highlighter-rouge">/etc/ssh/sshd_config</code>). It usually is by default. Look for a line similar to this:</p>
<div class="language-ini highlighter-rouge"><div class="highlight"><section><code><span class="err">Subsystem</span> <span class="err">sftp</span> <span class="err">/usr/lib/openssh/sftp-server</span>
</code></section></div></div>
<p>If you need to modify <code class="language-plaintext highlighter-rouge">/etc/ssh/sshd_config</code> (e.g., to change the port or apply security hardening), restart the SSH service afterwards:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">sudo </span>systemctl restart sshd
</code></section></div></div>
  <h3 id="4-creating-a-user-for-sftp-access">
    
    
     <a href="#4-creating-a-user-for-sftp-access">#</a><a href="#" aria-label="Back to top">4. Creating a User for SFTP Access</a>
        
    
  </h3>
      
<p>SFTP uses system users for authentication. It’s good practice to create a dedicated user for SFTP access, especially if you want to restrict their capabilities or jail them to a specific directory (chroot). For simple backup purposes to a user’s home directory, an existing user can also be used if preferred.</p>

<p><strong>To create a new user (e.g., <code class="language-plaintext highlighter-rouge">backupuser</code>) with a home directory and prevent shell login (SFTP access only):</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">sudo </span>useradd <span class="nt">-m</span> backupuser <span class="nt">-d</span> /home/backupuser <span class="nt">-s</span> /usr/sbin/nologin
<span class="c"># Or, for a more restrictive shell that also allows SFTP:</span>
<span class="c"># sudo useradd -m backupuser -d /home/backupuser -s /bin/false</span>

<span class="nb">sudo </span>passwd backupuser <span class="c"># Set a strong password for this user</span>
</code></section></div></div>
<p>This user (<code class="language-plaintext highlighter-rouge">backupuser</code>) will be able to log in via SFTP and will be initially placed in their home directory (<code class="language-plaintext highlighter-rouge">/home/backupuser</code>). Files backed up will go here unless the client navigates elsewhere (permissions permitting).</p>

<p><strong>Permissions for Backup Target:</strong> Ensure the user has write permissions to their backup target directory.</p>
<ul>
  <li><strong>Home Directory:</strong> The <code class="language-plaintext highlighter-rouge">-m</code> option with <code class="language-plaintext highlighter-rouge">useradd</code> creates the home directory (e.g., <code class="language-plaintext highlighter-rouge">/home/backupuser</code>) and sets basic ownership for <code class="language-plaintext highlighter-rouge">backupuser</code>.</li>
  <li><strong>Dedicated Backup Location (e.g., a mounted drive):</strong> If you prefer to back up to a different location like <code class="language-plaintext highlighter-rouge">/mnt/backups_volume/my_device_backups</code>, ensure <code class="language-plaintext highlighter-rouge">backupuser</code> has appropriate permissions:
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>  <span class="nb">sudo mkdir</span> <span class="nt">-p</span> /mnt/backups_volume/my_device_backups
  <span class="nb">sudo chown </span>backupuser:backupuser /mnt/backups_volume/my_device_backups
  <span class="nb">sudo chmod </span>700 /mnt/backups_volume/my_device_backups <span class="c"># Gives backupuser full rwx, no access for others</span>
</code></section></div>    </div>
    <p>You would then instruct the user or configure backup clients to use this specific path after SFTP login.</p>
  </li>
</ul>
  <h3 id="5-firewall-considerations-information-only">
    
    
     <a href="#5-firewall-considerations-information-only">#</a><a href="#" aria-label="Back to top">5. Firewall Considerations (Information Only)</a>
        
    
  </h3>
      
<p>As per your requirements, this guide assumes <strong>no firewall is active on the host Debian machine</strong>.</p>

<p><strong>If you were to enable a firewall</strong> (e.g., UFW) on the Debian machine at a later time, you would need to allow traffic on the SSH port (default is <code class="language-plaintext highlighter-rouge">22</code>):</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="c"># Example for UFW if it were active:</span>
<span class="c"># sudo ufw allow 22/tcp</span>
<span class="c"># sudo ufw reload</span>
</code></section></div></div>
<p>Since no host firewall is assumed for this guide, no action is needed here. Also, be aware of any firewalls on your router or other network devices if connecting from outside your immediate LAN.</p>
  <h3 id="6-ensure-ssh-service-is-enabled-to-start-on-boot">
    
    
     <a href="#6-ensure-ssh-service-is-enabled-to-start-on-boot">#</a><a href="#" aria-label="Back to top">6. Ensure SSH Service is Enabled to Start on Boot</a>
        
    
  </h3>
      
<p>To ensure the SSH service starts automatically when your machine boots:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">sudo </span>systemctl <span class="nb">enable </span>sshd
<span class="c"># or</span>
<span class="nb">sudo </span>systemctl <span class="nb">enable </span>ssh
</code></section></div></div>
<p>The service is likely already enabled if it was installed as part of the system or via <code class="language-plaintext highlighter-rouge">apt</code>.</p>
  <h3 id="finding-your-servers-ip-address">
    
    
     <a href="#finding-your-servers-ip-address">#</a><a href="#" aria-label="Back to top">Finding Your Server’s IP Address</a>
        
    
  </h3>
      
<p>To connect to your SFTP server, you’ll need its IP address on your local network. On your Debian server terminal, you can find it using one of these commands:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">hostname</span> <span class="nt">-I</span>
<span class="c"># or</span>
ip addr show
</code></section></div></div>
<p>Look for an IP address associated with your network interface (e.g., <code class="language-plaintext highlighter-rouge">eth0</code>, <code class="language-plaintext highlighter-rouge">wlan0</code>), typically in a format like <code class="language-plaintext highlighter-rouge">192.168.x.x</code> or <code class="language-plaintext highlighter-rouge">10.x.x.x</code>.</p>
  <h3 id="get-information-of-the-sftp-server">
    
    
     <a href="#get-information-of-the-sftp-server">#</a><a href="#" aria-label="Back to top">Get Information of the SFTP Server</a>
        
    
  </h3>
      
<p>This script helps gather relevant information about your <code class="language-plaintext highlighter-rouge">openssh-server</code> and SFTP setup. Save it as a <code class="language-plaintext highlighter-rouge">.sh</code> file, make it executable (<code class="language-plaintext highlighter-rouge">chmod +x scriptname.sh</code>), and run it with <code class="language-plaintext highlighter-rouge">sudo ./scriptname.sh</code>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="c">#!/bin/bash</span>

<span class="c"># Script to gather and display OpenSSH SFTP server information on Debian Bullseye</span>

<span class="nb">echo</span> <span class="s2">"Gathering OpenSSH SFTP server information..."</span>
<span class="nb">echo</span> <span class="s2">"--------------------------------------------"</span>

<span class="c"># --- General System &amp; Service Info ---</span>
<span class="nv">IP_ADDRESSES</span><span class="o">=</span><span class="si">$(</span><span class="nb">hostname</span> <span class="nt">-I</span> 2&gt;/dev/null | <span class="nb">sed</span> <span class="s1">'s/ *$//g'</span> <span class="o">||</span> <span class="nb">echo</span> <span class="s2">"IP addresses not found"</span><span class="si">)</span>
<span class="nv">SSH_SERVICE_STATUS</span><span class="o">=</span><span class="si">$(</span>systemctl is-active sshd 2&gt;/dev/null <span class="o">||</span> systemctl is-active ssh 2&gt;/dev/null <span class="o">||</span> <span class="nb">echo</span> <span class="s2">"Status not determinable or service inactive"</span><span class="si">)</span>
<span class="nv">PKG_VERSION</span><span class="o">=</span><span class="si">$(</span>dpkg <span class="nt">-s</span> openssh-server 2&gt;/dev/null | <span class="nb">grep</span> <span class="s1">'^Version:'</span> | <span class="nb">awk</span> <span class="s1">'{print $2}'</span> <span class="o">||</span> <span class="nb">echo</span> <span class="s2">"Package version not found"</span><span class="si">)</span>

<span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">**General System &amp; Service Info:**"</span>
<span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"  System IP Addresses: </span><span class="nv">$IP_ADDRESSES</span><span class="s2">"</span>
<span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"  OpenSSH Service Status (systemctl): </span><span class="nv">$SSH_SERVICE_STATUS</span><span class="s2">"</span>
<span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"  OpenSSH Server Package Version (dpkg): </span><span class="nv">$PKG_VERSION</span><span class="s2">"</span>

<span class="c"># --- SSH Configuration ---</span>
<span class="nv">SSHD_CONFIG_FILE</span><span class="o">=</span><span class="s2">"/etc/ssh/sshd_config"</span>
<span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">**SSH Configuration (</span><span class="nv">$SSHD_CONFIG_FILE</span><span class="s2">):**"</span>

<span class="k">if</span> <span class="o">[</span> <span class="nt">-f</span> <span class="s2">"</span><span class="nv">$SSHD_CONFIG_FILE</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nv">PORT</span><span class="o">=</span><span class="si">$(</span><span class="nb">grep</span> <span class="nt">-iE</span> <span class="s2">"^Port</span><span class="se">\s</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$SSHD_CONFIG_FILE</span><span class="s2">"</span> | <span class="nb">awk</span> <span class="s1">'{print $2}'</span> | <span class="nb">tail</span> <span class="nt">-n</span> 1<span class="si">)</span>
    <span class="o">[</span> <span class="nt">-z</span> <span class="s2">"</span><span class="nv">$PORT</span><span class="s2">"</span> <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nv">PORT</span><span class="o">=</span><span class="s2">"22 (default)"</span>
    <span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"  Listening Port (from config): </span><span class="nv">$PORT</span><span class="s2">"</span>

    <span class="nv">SFTP_SUBSYSTEM</span><span class="o">=</span><span class="si">$(</span><span class="nb">grep</span> <span class="nt">-iE</span> <span class="s2">"^Subsystem</span><span class="se">\s</span><span class="s2">+sftp"</span> <span class="s2">"</span><span class="nv">$SSHD_CONFIG_FILE</span><span class="s2">"</span> | <span class="nb">tail</span> <span class="nt">-n</span> 1<span class="si">)</span>
    <span class="k">if</span> <span class="o">[</span> <span class="nt">-n</span> <span class="s2">"</span><span class="nv">$SFTP_SUBSYSTEM</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
        </span><span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"  SFTP Subsystem Config: </span><span class="nv">$SFTP_SUBSYSTEM</span><span class="s2">"</span>
    <span class="k">else
        </span><span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"  SFTP Subsystem Config: Not explicitly found or commented out (sftp might still work via internal default)."</span>
    <span class="k">fi

    </span><span class="nv">PASSWORD_AUTH</span><span class="o">=</span><span class="si">$(</span><span class="nb">grep</span> <span class="nt">-iE</span> <span class="s2">"^PasswordAuthentication</span><span class="se">\s</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$SSHD_CONFIG_FILE</span><span class="s2">"</span> | <span class="nb">awk</span> <span class="s1">'{print $2}'</span> | <span class="nb">tail</span> <span class="nt">-n</span> 1<span class="si">)</span>
    <span class="k">if</span> <span class="o">[</span> <span class="nt">-n</span> <span class="s2">"</span><span class="nv">$PASSWORD_AUTH</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
        </span><span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"  Password Authentication: </span><span class="nv">$PASSWORD_AUTH</span><span class="s2">"</span>
    <span class="k">else
        </span><span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"  Password Authentication: Not explicitly set (defaults to yes, unless overridden by other settings like PubkeyAuthentication only)."</span>
    <span class="k">fi

    </span><span class="nv">CHALLENGE_RESPONSE_AUTH</span><span class="o">=</span><span class="si">$(</span><span class="nb">grep</span> <span class="nt">-iE</span> <span class="s2">"^ChallengeResponseAuthentication</span><span class="se">\s</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$SSHD_CONFIG_FILE</span><span class="s2">"</span> | <span class="nb">awk</span> <span class="s1">'{print $2}'</span> | <span class="nb">tail</span> <span class="nt">-n</span> 1<span class="si">)</span>
     <span class="k">if</span> <span class="o">[</span> <span class="nt">-n</span> <span class="s2">"</span><span class="nv">$CHALLENGE_RESPONSE_AUTH</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
        </span><span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"  ChallengeResponseAuthentication: </span><span class="nv">$CHALLENGE_RESPONSE_AUTH</span><span class="s2">"</span>
    <span class="k">else
        </span><span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"  ChallengeResponseAuthentication: Not explicitly set (defaults to yes, but behavior can depend on PAM)."</span>
    <span class="k">fi

    </span><span class="nv">USE_PAM</span><span class="o">=</span><span class="si">$(</span><span class="nb">grep</span> <span class="nt">-iE</span> <span class="s2">"^UsePAM</span><span class="se">\s</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$SSHD_CONFIG_FILE</span><span class="s2">"</span> | <span class="nb">awk</span> <span class="s1">'{print $2}'</span> | <span class="nb">tail</span> <span class="nt">-n</span> 1<span class="si">)</span>
    <span class="k">if</span> <span class="o">[</span> <span class="nt">-n</span> <span class="s2">"</span><span class="nv">$USE_PAM</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
        </span><span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"  UsePAM: </span><span class="nv">$USE_PAM</span><span class="s2">"</span>
    <span class="k">else
        </span><span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"  UsePAM: Not explicitly set (defaults to yes on Debian)."</span>
    <span class="k">fi

else
    </span><span class="nb">echo</span> <span class="s2">"  </span><span class="nv">$SSHD_CONFIG_FILE</span><span class="s2"> not found."</span>
<span class="k">fi</span>

<span class="c"># --- Listening Ports (from ss) ---</span>
<span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">**Actual Listening Ports (from ss):**"</span>
<span class="nv">LISTENING_SSH_PORTS</span><span class="o">=</span><span class="si">$(</span>ss <span class="nt">-tlpn</span> 2&gt;/dev/null | <span class="nb">grep</span> <span class="s1">'sshd'</span> | <span class="nb">awk</span> <span class="s1">'{print $4}'</span> | <span class="nb">sed</span> <span class="s1">'s/.*://'</span> | <span class="nb">sort</span> <span class="nt">-u</span> | <span class="nb">tr</span> <span class="s1">'\n'</span> <span class="s1">' '</span> | <span class="nb">sed</span> <span class="s1">'s/ *$//g'</span><span class="si">)</span>
<span class="k">if</span> <span class="o">[</span> <span class="nt">-z</span> <span class="s2">"</span><span class="nv">$LISTENING_SSH_PORTS</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nv">LISTENING_SSH_PORTS</span><span class="o">=</span><span class="s2">"sshd process not found listening or ss command issue."</span>
<span class="k">fi
</span><span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"  sshd listening on port(s): </span><span class="nv">$LISTENING_SSH_PORTS</span><span class="s2">"</span>


<span class="c"># --- SFTP User Information (example 'backupuser') ---</span>
<span class="nv">SFTP_USER</span><span class="o">=</span><span class="s2">"backupuser"</span> <span class="c"># Change if you used a different username</span>
<span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">**SFTP User Information (Example: '</span><span class="nv">$SFTP_USER</span><span class="s2">'):**"</span>

<span class="k">if </span>getent passwd <span class="s2">"</span><span class="nv">$SFTP_USER</span><span class="s2">"</span> <span class="o">&gt;</span>/dev/null 2&gt;&amp;1<span class="p">;</span> <span class="k">then
    </span><span class="nv">FTPUSER_EXISTS_MSG</span><span class="o">=</span><span class="s2">"User '</span><span class="nv">$SFTP_USER</span><span class="s2">' exists."</span>
    <span class="nv">FTPUSER_HOME_DIR</span><span class="o">=</span><span class="si">$(</span>getent passwd <span class="s2">"</span><span class="nv">$SFTP_USER</span><span class="s2">"</span> | <span class="nb">cut</span> <span class="nt">-d</span>: <span class="nt">-f6</span><span class="si">)</span>
    <span class="nv">FTPUSER_SHELL</span><span class="o">=</span><span class="si">$(</span>getent passwd <span class="s2">"</span><span class="nv">$SFTP_USER</span><span class="s2">"</span> | <span class="nb">cut</span> <span class="nt">-d</span>: <span class="nt">-f7</span><span class="si">)</span>
    <span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"  Status of '</span><span class="nv">$SFTP_USER</span><span class="s2">': </span><span class="nv">$FTPUSER_EXISTS_MSG</span><span class="s2">"</span>
    <span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"  Home Directory for '</span><span class="nv">$SFTP_USER</span><span class="s2">': </span><span class="nv">$FTPUSER_HOME_DIR</span><span class="s2">"</span>
    <span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"  Shell for '</span><span class="nv">$SFTP_USER</span><span class="s2">': </span><span class="nv">$FTPUSER_SHELL</span><span class="s2"> (Note: /usr/sbin/nologin or /bin/false is common for SFTP-only users)"</span>
<span class="k">else
    </span><span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"  User '</span><span class="nv">$SFTP_USER</span><span class="s2">' not found in /etc/passwd. (Create this user or use an existing one)."</span>
<span class="k">fi
</span><span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"  Password for SFTP User: [This cannot be retrieved. Use the password you set for the system user '</span><span class="nv">$SFTP_USER</span><span class="s2">'.]"</span>


<span class="nb">echo</span> <span class="s2">"--------------------------------------------"</span>
<span class="nb">echo</span> <span class="s2">"Script finished."</span>
<span class="nb">echo</span> <span class="s2">"Note: For detailed logs, check 'sudo journalctl -u sshd' or '/var/log/auth.log'."</span>
</code></section></div></div>
  <h3 id="connect-local-devices-to-the-debian-sftp-server">
    
    
     <a href="#connect-local-devices-to-the-debian-sftp-server">#</a><a href="#" aria-label="Back to top">Connect Local Devices to the Debian SFTP Server</a>
        
    
  </h3>
      
<p>The primary goal is to back up files from various devices. SFTP is widely supported. Many client operating systems also offer scripting capabilities (e.g., shell scripts with <code class="language-plaintext highlighter-rouge">sftp</code> or <code class="language-plaintext highlighter-rouge">rsync</code> on Linux/macOS, PowerShell on Windows) and some third-party backup applications on mobile/desktop can use SFTP as a target for scheduled backups.</p>

<p><strong>General Connection Details You’ll Need:</strong></p>
<ul>
  <li><strong>Host/Server IP Address:</strong> The IP address of your Debian rk3588 machine (see “Finding Your Server’s IP Address” above).</li>
  <li><strong>Username:</strong> The user you created or designated for SFTP (e.g., <code class="language-plaintext highlighter-rouge">backupuser</code>).</li>
  <li><strong>Password:</strong> The password for that user.</li>
  <li><strong>Port:</strong> <code class="language-plaintext highlighter-rouge">22</code> (the default SSH/SFTP port, unless you changed it in <code class="language-plaintext highlighter-rouge">sshd_config</code>).</li>
</ul>
  <h4 id="1-connecting-from-windows-using-filezilla">
    
    
     <a href="#1-connecting-from-windows-using-filezilla">#</a><a href="#" aria-label="Back to top">1. Connecting from Windows using FileZilla</a>
        
    
  </h4>
      
<ul>
  <li><strong>Install FileZilla:</strong> Download and install the <a href="https://filezilla-project.org/">FileZilla Client</a> if you haven’t already.</li>
  <li><strong>Launch FileZilla.</strong></li>
  <li><strong>Quickconnect:</strong>
    <ul>
      <li><strong>Host:</strong> Enter your Debian server’s IP address (e.g., <code class="language-plaintext highlighter-rouge">192.168.1.100</code>).</li>
      <li><strong>Username:</strong> <code class="language-plaintext highlighter-rouge">backupuser</code> (or your chosen username).</li>
      <li><strong>Password:</strong> The user’s password.</li>
      <li><strong>Port:</strong> <code class="language-plaintext highlighter-rouge">22</code>.</li>
      <li>Click <strong>Quickconnect</strong>. (Alternatively, for the Host field, you can type <code class="language-plaintext highlighter-rouge">sftp://192.168.1.100</code>; FileZilla will parse the protocol and host).</li>
    </ul>
  </li>
  <li><strong>Trust SSH Host Key:</strong> The first time you connect, FileZilla will show a warning about an unknown host key. This is normal. Verify the fingerprint if possible (advanced), or click <strong>OK</strong> or <strong>Trust</strong> to save the host key and continue.</li>
  <li><strong>Transfer Files:</strong> Use the left pane (Local site) for your Windows files and the right pane (Remote site) for your Debian server. Drag and drop files/folders to the <code class="language-plaintext highlighter-rouge">backupuser</code>’s target backup directory on the server.</li>
  <li><strong>Using Site Manager (Recommended for frequent connections):</strong>
    <ol>
      <li>Go to <strong>File &gt; Site Manager</strong>.</li>
      <li>Click <strong>New Site</strong>, name it (e.g., “Debian Backup Server”).</li>
      <li><strong>Protocol:</strong> Select <code class="language-plaintext highlighter-rouge">SFTP - SSH File Transfer Protocol</code>.</li>
      <li><strong>Host:</strong> Your Debian server’s IP.</li>
      <li><strong>Port:</strong> <code class="language-plaintext highlighter-rouge">22</code>.</li>
      <li><strong>Logon Type:</strong> <code class="language-plaintext highlighter-rouge">Normal</code>.</li>
      <li><strong>User:</strong> <code class="language-plaintext highlighter-rouge">backupuser</code>.</li>
      <li><strong>Password:</strong> The user’s password (or choose “Ask for password” or set up key-based authentication).</li>
      <li>Click <strong>Connect</strong>.</li>
    </ol>
  </li>
</ul>
  <h4 id="2-connecting-from-macos">
    
    
     <a href="#2-connecting-from-macos">#</a><a href="#" aria-label="Back to top">2. Connecting from macOS</a>
        
    
  </h4>
      
<ul>
  <li><strong>Finder:</strong>
    <ol>
      <li>Open Finder.</li>
      <li>Go to <strong>Go &gt; Connect to Server…</strong> (Cmd+K).</li>
      <li>In the Server Address field, type: <code class="language-plaintext highlighter-rouge">sftp://backupuser@YOUR_SERVER_IP_ADDRESS</code> (e.g., <code class="language-plaintext highlighter-rouge">sftp://backupuser@192.168.1.100</code>).</li>
      <li>Click <strong>Connect</strong>. You’ll be prompted for the password.</li>
      <li>The SFTP location will mount like a regular drive.</li>
    </ol>
  </li>
  <li><strong>Terminal (Command Line <code class="language-plaintext highlighter-rouge">sftp</code>):</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>  sftp backupuser@YOUR_SERVER_IP_ADDRESS
  <span class="c"># Example: sftp backupuser@192.168.1.100</span>
</code></section></div>    </div>
    <p>You’ll be prompted for the password. Use commands like <code class="language-plaintext highlighter-rouge">put local_file remote_file</code>, <code class="language-plaintext highlighter-rouge">get remote_file local_file</code>, <code class="language-plaintext highlighter-rouge">ls</code>, <code class="language-plaintext highlighter-rouge">cd</code>, etc.</p>
  </li>
  <li><strong>Third-party Apps:</strong> Cyberduck, Transmit, ForkLift are popular SFTP clients for macOS.</li>
</ul>
  <h4 id="3-connecting-from-linux-desktops">
    
    
     <a href="#3-connecting-from-linux-desktops">#</a><a href="#" aria-label="Back to top">3. Connecting from Linux Desktops</a>
        
    
  </h4>
      
<ul>
  <li><strong>File Manager:</strong> Most Linux desktop environments (GNOME, KDE, XFCE) allow connecting to SFTP shares directly from their file managers (e.g., Nautilus, Dolphin, Thunar). Look for “Connect to Server” or similar options in the file menu or sidebar, and use <code class="language-plaintext highlighter-rouge">sftp://backupuser@YOUR_SERVER_IP_ADDRESS</code> as the address.</li>
  <li><strong>Terminal (Command Line <code class="language-plaintext highlighter-rouge">sftp</code>):</strong> Same as macOS:
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>  sftp backupuser@YOUR_SERVER_IP_ADDRESS
</code></section></div>    </div>
  </li>
</ul>
  <h4 id="4-connecting-from-ios-iphoneipad">
    
    
     <a href="#4-connecting-from-ios-iphoneipad">#</a><a href="#" aria-label="Back to top">4. Connecting from iOS (iPhone/iPad)</a>
        
    
  </h4>
      
<p>You’ll need an app that supports SFTP. Some popular choices:</p>
<ul>
  <li><strong>Secure ShellFish (Recommended):</strong> A powerful SSH and SFTP client.</li>
  <li><strong>Termius:</strong> Also offers SSH/SFTP capabilities.</li>
  <li><strong>FE File Explorer: File Manager</strong></li>
  <li>The built-in <strong>Files App</strong> can sometimes access SFTP locations if another app provides an SFTP extension.</li>
</ul>

<p>In the chosen app, you’ll typically add a new server/connection and input the Host IP, username, password, and port (22).</p>
  <h4 id="5-connecting-from-android">
    
    
     <a href="#5-connecting-from-android">#</a><a href="#" aria-label="Back to top">5. Connecting from Android</a>
        
    
  </h4>
      
<p>Many file manager apps on Android support SFTP, or you can get dedicated SFTP clients:</p>
<ul>
  <li><strong>Solid Explorer File Manager</strong> (has SFTP plugin/support).</li>
  <li><strong>FX File Explorer</strong> (has SFTP support).</li>
  <li><strong>MiXplorer</strong> (free, powerful, supports SFTP - often found outside Play Store, e.g., XDA).</li>
  <li><strong>Termux</strong> (for command-line <code class="language-plaintext highlighter-rouge">sftp</code> if you prefer).</li>
</ul>

<p>Similar to iOS, you’ll add a new SFTP connection in the app using your server’s IP, username, password, and port 22.</p>
  <h3 id="advanced-backup-tip-using-rsync-for-efficiency">
    
    
     <a href="#advanced-backup-tip-using-rsync-for-efficiency">#</a><a href="#" aria-label="Back to top">Advanced Backup Tip: Using <code class="language-plaintext highlighter-rouge">rsync</code> for Efficiency</a>
        
    
  </h3>
      
<p>For more efficient backups, especially for large files or repeated backups, consider using <code class="language-plaintext highlighter-rouge">rsync</code> over SSH. <code class="language-plaintext highlighter-rouge">rsync</code> only transfers the differences between files, saving time and bandwidth.</p>

<p><strong>Example <code class="language-plaintext highlighter-rouge">rsync</code> command (run on the client machine):</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><section><code>rsync <span class="nt">-avz</span> <span class="nt">--progress</span> /path/to/local/source/directory/ backupuser@YOUR_SERVER_IP_ADDRESS:/path/to/remote/backup_destination/
</code></section></div></div>
<ul>
  <li><code class="language-plaintext highlighter-rouge">-a</code>: Archive mode (preserves permissions, ownership, timestamps, etc.).</li>
  <li><code class="language-plaintext highlighter-rouge">-v</code>: Verbose output.</li>
  <li><code class="language-plaintext highlighter-rouge">-z</code>: Compress file data during transfer.</li>
  <li><code class="language-plaintext highlighter-rouge">--progress</code>: Show progress during transfer.</li>
  <li><strong>Trailing slash on source:</strong> <code class="language-plaintext highlighter-rouge">/source/directory/</code> copies the <em>contents</em> of the directory. Without it, <code class="language-plaintext highlighter-rouge">/source/directory</code> would copy the directory itself into the destination.</li>
</ul>

<p>You’ll be prompted for the <code class="language-plaintext highlighter-rouge">backupuser</code>’s password unless you’ve set up SSH key-based authentication.</p>
  <h3 id="security-best-practices-for-sftp">
    
    
     <a href="#security-best-practices-for-sftp">#</a><a href="#" aria-label="Back to top">Security Best Practices for SFTP</a>
        
    
  </h3>
      
<ul>
  <li><strong>Strong Passwords:</strong> Use strong, unique passwords for all user accounts that have SSH/SFTP access.</li>
  <li><strong>Key-Based Authentication (More Secure):</strong> For significantly better security, disable password authentication and use SSH key pairs. This involves generating a key pair on the client, copying the public key to <code class="language-plaintext highlighter-rouge">~/.ssh/authorized_keys</code> on the server for the user, and then setting <code class="language-plaintext highlighter-rouge">PasswordAuthentication no</code> in <code class="language-plaintext highlighter-rouge">/etc/ssh/sshd_config</code> on the server.</li>
  <li><strong>Regular Updates:</strong> Keep your <code class="language-plaintext highlighter-rouge">openssh-server</code> package updated:
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>  <span class="nb">sudo </span>apt-get update
  <span class="nb">sudo </span>apt-get upgrade
</code></section></div>    </div>
  </li>
  <li><strong>Minimize User Privileges:</strong> The <code class="language-plaintext highlighter-rouge">backupuser</code> created with <code class="language-plaintext highlighter-rouge">/usr/sbin/nologin</code> cannot get an interactive shell, which is good. Only grant write permissions to directories where backups are intended.</li>
  <li><strong>Chroot Jail (Advanced):</strong> To restrict an SFTP user to only their home directory (or another specific directory) and prevent them from seeing the rest of the server’s filesystem, configure a chroot jail. This involves changes in <code class="language-plaintext highlighter-rouge">/etc/ssh/sshd_config</code>.
  Add or modify the following at the end of <code class="language-plaintext highlighter-rouge">/etc/ssh/sshd_config</code>:
    <div class="language-ini highlighter-rouge"><div class="highlight"><section><code>  <span class="err">Match</span> <span class="err">User</span> <span class="err">backupuser</span>
      <span class="err">ChrootDirectory</span> <span class="err">/home/backupuser</span>  <span class="c"># Or your designated chroot path
</span>      <span class="err">ForceCommand</span> <span class="err">internal-sftp</span>
      <span class="err">AllowTcpForwarding</span> <span class="err">no</span>
      <span class="err">X11Forwarding</span> <span class="err">no</span>
</code></section></div>    </div>
    <p><strong>Important Chroot Directory Permissions:</strong></p>
    <ol>
      <li>The <code class="language-plaintext highlighter-rouge">ChrootDirectory</code> path itself (e.g., <code class="language-plaintext highlighter-rouge">/home/backupuser</code>) and all its parent components must be <strong>owned by root</strong> and <strong>not writable by any other user</strong> (e.g., permissions <code class="language-plaintext highlighter-rouge">755</code> or <code class="language-plaintext highlighter-rouge">rwxr-xr-x</code>).
        <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="c"># Example if /home/backupuser is the ChrootDirectory</span>
<span class="nb">sudo chown </span>root:root /home/backupuser
<span class="nb">sudo chmod </span>755 /home/backupuser
</code></section></div>        </div>
      </li>
      <li>Create a subdirectory <em>inside</em> the chroot for the user to write to, and give the SFTP user ownership of this subdirectory:
        <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">sudo mkdir</span> /home/backupuser/uploads  <span class="c"># Or any name like 'files', 'backups'</span>
<span class="nb">sudo chown </span>backupuser:backupuser /home/backupuser/uploads
<span class="nb">sudo chmod </span>755 /home/backupuser/uploads <span class="c"># Or 700 if only user needs access</span>
</code></section></div>        </div>
        <p>After making changes to <code class="language-plaintext highlighter-rouge">sshd_config</code>, restart the SSH service: <code class="language-plaintext highlighter-rouge">sudo systemctl restart sshd</code>.</p>
      </li>
    </ol>
  </li>
  <li><strong>Monitor Logs:</strong> Check SSH logs for suspicious activity: <code class="language-plaintext highlighter-rouge">sudo journalctl -u sshd</code> or examine <code class="language-plaintext highlighter-rouge">/var/log/auth.log</code>.</li>
</ul>
  <h3 id="troubleshooting-common-sftp-issues">
    
    
     <a href="#troubleshooting-common-sftp-issues">#</a><a href="#" aria-label="Back to top">Troubleshooting Common SFTP Issues</a>
        
    
  </h3>
      

<ol>
  <li><strong>Connection Refused:</strong>
    <ul>
      <li><strong>SSH Service Not Running:</strong> Ensure <code class="language-plaintext highlighter-rouge">sshd</code> is active on the server: <code class="language-plaintext highlighter-rouge">sudo systemctl status sshd</code>. Start it if needed: <code class="language-plaintext highlighter-rouge">sudo systemctl start sshd</code>.</li>
      <li><strong>Incorrect IP Address or Port:</strong> Double-check the server’s IP and that you’re using port <code class="language-plaintext highlighter-rouge">22</code> (unless you’ve changed it).</li>
      <li><strong>Network Connectivity:</strong> Ensure your client device is on the same network as the server and can reach it (try <code class="language-plaintext highlighter-rouge">ping YOUR_SERVER_IP_ADDRESS</code> from a client that supports ping).</li>
    </ul>
  </li>
  <li><strong>Authentication Failed / Permission Denied (Password):</strong>
    <ul>
      <li><strong>Incorrect Username or Password:</strong> Verify credentials carefully. Linux passwords are case-sensitive.</li>
      <li><strong>User Account Issues:</strong> Ensure the user account exists, is not locked, and has a valid password set on the server.</li>
      <li>Check <code class="language-plaintext highlighter-rouge">/var/log/auth.log</code> on the server for more detailed error messages.</li>
    </ul>
  </li>
  <li><strong>Permission Denied (File Transfer):</strong>
    <ul>
      <li><strong>Directory Permissions:</strong> The SFTP user needs write permissions for the target directory on the server. Use <code class="language-plaintext highlighter-rouge">ls -ld /path/to/target_directory</code> on the server to check permissions. Use <code class="language-plaintext highlighter-rouge">sudo chown backupuser:backupuser /path/to/target_directory</code> and <code class="language-plaintext highlighter-rouge">sudo chmod u+rwx /path/to/target_directory</code> as needed (adjust group/other permissions as necessary).</li>
      <li><strong>Chroot Issues:</strong> If you’ve set up a chroot, ensure permissions <em>inside</em> and <em>for</em> the chroot directory are correct as detailed in the “Chroot Jail” section. This is a common point of failure.</li>
    </ul>
  </li>
  <li><strong>Host Key Verification Failed / Changed Host Key:</strong>
    <ul>
      <li>This usually happens if the server’s SSH host key has changed (e.g., after an OS reinstall) or if you’re connecting to a different server that happens to have the same IP address as a previous one.</li>
      <li>Most SFTP clients allow you to remove the old host key for that IP address and accept the new one. For command-line <code class="language-plaintext highlighter-rouge">sftp</code> or <code class="language-plaintext highlighter-rouge">ssh</code>, you might need to edit <code class="language-plaintext highlighter-rouge">~/.ssh/known_hosts</code> on the client machine and remove the line corresponding to your server’s IP.</li>
    </ul>
  </li>
</ol>

        </div>
        
          URL: https://ib.bsb.br/sftp
        
      </article>
      <nav class="post-navigation-combined" aria-label="Post navigation">
        <!-- Chronological Navigation (always visible at 40vh) -->
        
          <div class="nav-arrow chronological prev">
            <a href="/setting-up-gpu-drivers-on-rk3588/" title="Setting Up GPU Drivers on RK3588" rel="prev">
              <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAAAxVJREFUaEPt18FqG1cUBuD/nLkzI42UiVInkFLTCAKhS+9KA+3Kq1L8AAHjhR7AKz+ADV55qUfoqhvThTfdmC4KzTKmYJrELshJW9PIlSeKRpqZe88pUtouihvVRknqMNoMzD1zdPXNrzMM4RJ+6BLuGeWm39RdK6VL6VcIlPEo41HG401loJQupS8mUM7pi7md/6p3UtoHUJzf4vVecZb0e0EQfB7H8b0kSeqqummt/eb1buN83SebNsZ8QkQCYHVpaenu/v7+ra2tLRwdHWF1ddWq6hfM3BCRE2b+FcBHACQAHo1E5v9c+5mIhkR0e3z0VQ8LotuqWlXVw/GRmT8QkdMK89McuAOAAfwoIu8z85yIHBPRKRGN1/IAeDx0rul53hivo6psrf2ejDGfEtFOu92u7O3tBWtra2i322g0GhgOh9je3ka325UPax7fCR0iw+lp4aLxr70aeOmgkChTRY3JGSb73EroERD73uB54WpOgdhwZkXNQNQLiVDzOU1yFymAhu+lqZVopIqISQKmPLFS+atHv3A1q8AVQ+lXP/VHRPQx+b6frKysxMvLy1hfX0ez2USv18PCwgLiOEaSJKhWq/jhwQN8dnIfVOS4dsWHqCJ5YREGjBuNEMfd0eTc9WshBqnFYGhRqxrUIoNuLwMT4eb1Cp6dZshywdW6mZzr9QsEPuPmXIhfno3gnGKuEWCUC14MLKoVb1L72+8Zvj3JOl/udZt/S7darUqn0wlarRZ2d3cxPz+PJ8dPsPP1Doq8kIbL+cawjxBIM8MRFAidpBlRpIbhFc55gM2NF5IIQtVBRlRTZgTWZQ4wzvc8spO1NPM4Gr9Wh1bSDIjU98C5E0PIC8OVSX+Rlz08hl+4/LsML6X/menFxcW7BwcHtzY2NvDw8CE21zf/NdMAHskFMs3MT/EfMg3gsTsr02f8byfTo16v3+v3+//f6fGKgXNp5vT5huZbqH4nH+NvwXH6V5bS041mU1FKz8ZxepdSerrRbCpK6dk4Tu9SSk83mk1FKT0bx+ldSunpRrOpuJTSfwBcuImxpyA7XgAAAABJRU5ErkJggg==" alt="Previous article" width="45" height="45" loading="lazy">
            </a>
          </div>
        
        
          <div class="nav-arrow chronological next">
            <a href="/2w1h/" title="2W1H" rel="next">
              <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAAAwdJREFUaEPtl01rG1cUht9z7p070ijKWLVS3I9YULtNMBRn2UIXxZtuvCjedNWfoKVXBvsHeOUfoIUx5AeY0pVXXSR052UxBJSi0kDiRplII83HvadI9CMtOFjCmBjubC7cc8+Zc555eYdLuIEP3cCe4Zu+rq/mSXvSbyHg5eHl4eVxXRrwpD3p+Qh4n56P2+xZnvTszC7MCAAUF0XfOdJa62+IaCeO40GSJA/zPP8RwB9vDjBtWmv9JRE5ImpZawdVpbo58CkAIyJnIrLAzEvOuXNm/h3AfQDOAGdj5z5m5gXn3G9ENCKilckaiDwpiFZEpCoiTyYrM3/knOtXmHs58BkABvCLc+4DZl6cxIjoh4ODA728vIzt7W2sra09PT4+fgTgQES4LMvHZIy5LyI/f/dJvfK6FKMJqAdqmBS2ZgWINY9zJyZ1whUiRJrTfmGjybSxUemwcFEmghqT1UxlUrpQEXD7jRq3NWelEz10okIi1AJOX+U2EgALgUrT0kVnmcKvQ+uazSZvbW2hWq2i3++j3W5jf38f6+vrebvdHovI5pT09+vN7teLYev990K8GpQYjS1u1TQqhnHez6EU4cM7FTw7z5AXDo16ACcyPRsaxp2FEM9ejKd7zUaIYVpiOCpRq2rUIo0XLzMwEZaaFTzvZ8hyh/iWnu69fF1AAoOfFr/A5w8eYDQaIY5jJEmC09NTNBoNdLtd7O3t4ejoCIeHh8k/pL8KUSkCZcg6hCLDjLk2ufYGpRuXAuOMYiosQiDNNEcQILQuzYgi0QxVWKuAMtcqJPdXDaKaMMOUNrOAtoFSVE5jaaY4mtQPS5dmQPS8WkdfGReYgDe/3cTdpbvo9XrY2NhAp9NBq9XKO53Ov6T/r2mlVBeX0DSAMzeHppm5h7doemdvR99buYfd3V2srq4+PTk5+a+mr9CmrqTU3+5Rr9cHg8HgYve4krddbZGb5dOXmf2d+7n4pi9D4LrOeHl40v42fl0a8KQ96fkIeJ+ej9vsWZ707Mzmy/Ck5+M2e9afhmuAz1BhwewAAAAASUVORK5CYII=" alt="Next article" width="45" height="45" loading="lazy">
            </a>
          </div>
        
            
            
              
              
                
                  
                  
              
              
              
              <!-- Navigation block for tag "aid>linux"; default display for the first tag -->
              <div class="nav-group tags" id="tag-nav-aid-linux" style="display: block;">
                <div class="nav-arrow tags prev">
                  
                    <a href="/bind-mounting-homeuser-to-userdata/" title="Bind Mounting /home/user to /userdata" rel="prev">
                      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAAAxVJREFUaEPt18FqG1cUBuD/nLkzI42UiVInkFLTCAKhS+9KA+3Kq1L8AAHjhR7AKz+ADV55qUfoqhvThTfdmC4KzTKmYJrELshJW9PIlSeKRpqZe88pUtouihvVRknqMNoMzD1zdPXNrzMM4RJ+6BLuGeWm39RdK6VL6VcIlPEo41HG401loJQupS8mUM7pi7md/6p3UtoHUJzf4vVecZb0e0EQfB7H8b0kSeqqummt/eb1buN83SebNsZ8QkQCYHVpaenu/v7+ra2tLRwdHWF1ddWq6hfM3BCRE2b+FcBHACQAHo1E5v9c+5mIhkR0e3z0VQ8LotuqWlXVw/GRmT8QkdMK89McuAOAAfwoIu8z85yIHBPRKRGN1/IAeDx0rul53hivo6psrf2ejDGfEtFOu92u7O3tBWtra2i322g0GhgOh9je3ka325UPax7fCR0iw+lp4aLxr70aeOmgkChTRY3JGSb73EroERD73uB54WpOgdhwZkXNQNQLiVDzOU1yFymAhu+lqZVopIqISQKmPLFS+atHv3A1q8AVQ+lXP/VHRPQx+b6frKysxMvLy1hfX0ez2USv18PCwgLiOEaSJKhWq/jhwQN8dnIfVOS4dsWHqCJ5YREGjBuNEMfd0eTc9WshBqnFYGhRqxrUIoNuLwMT4eb1Cp6dZshywdW6mZzr9QsEPuPmXIhfno3gnGKuEWCUC14MLKoVb1L72+8Zvj3JOl/udZt/S7darUqn0wlarRZ2d3cxPz+PJ8dPsPP1Doq8kIbL+cawjxBIM8MRFAidpBlRpIbhFc55gM2NF5IIQtVBRlRTZgTWZQ4wzvc8spO1NPM4Gr9Wh1bSDIjU98C5E0PIC8OVSX+Rlz08hl+4/LsML6X/menFxcW7BwcHtzY2NvDw8CE21zf/NdMAHskFMs3MT/EfMg3gsTsr02f8byfTo16v3+v3+//f6fGKgXNp5vT5huZbqH4nH+NvwXH6V5bS041mU1FKz8ZxepdSerrRbCpK6dk4Tu9SSk83mk1FKT0bx+ldSunpRrOpuJTSfwBcuImxpyA7XgAAAABJRU5ErkJggg==" alt="Previous in Tag" width="45" height="45" loading="lazy">
                    </a>
                  
                </div>
                <div class="nav-arrow tags next">
                  
                    <a href="/bind-mounting-homeuser-to-userdata/" title="Bind Mounting /home/user to /userdata" rel="next">
                      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAAAwdJREFUaEPtl01rG1cUht9z7p070ijKWLVS3I9YULtNMBRn2UIXxZtuvCjedNWfoKVXBvsHeOUfoIUx5AeY0pVXXSR052UxBJSi0kDiRplII83HvadI9CMtOFjCmBjubC7cc8+Zc555eYdLuIEP3cCe4Zu+rq/mSXvSbyHg5eHl4eVxXRrwpD3p+Qh4n56P2+xZnvTszC7MCAAUF0XfOdJa62+IaCeO40GSJA/zPP8RwB9vDjBtWmv9JRE5ImpZawdVpbo58CkAIyJnIrLAzEvOuXNm/h3AfQDOAGdj5z5m5gXn3G9ENCKilckaiDwpiFZEpCoiTyYrM3/knOtXmHs58BkABvCLc+4DZl6cxIjoh4ODA728vIzt7W2sra09PT4+fgTgQES4LMvHZIy5LyI/f/dJvfK6FKMJqAdqmBS2ZgWINY9zJyZ1whUiRJrTfmGjybSxUemwcFEmghqT1UxlUrpQEXD7jRq3NWelEz10okIi1AJOX+U2EgALgUrT0kVnmcKvQ+uazSZvbW2hWq2i3++j3W5jf38f6+vrebvdHovI5pT09+vN7teLYev990K8GpQYjS1u1TQqhnHez6EU4cM7FTw7z5AXDo16ACcyPRsaxp2FEM9ejKd7zUaIYVpiOCpRq2rUIo0XLzMwEZaaFTzvZ8hyh/iWnu69fF1AAoOfFr/A5w8eYDQaIY5jJEmC09NTNBoNdLtd7O3t4ejoCIeHh8k/pL8KUSkCZcg6hCLDjLk2ufYGpRuXAuOMYiosQiDNNEcQILQuzYgi0QxVWKuAMtcqJPdXDaKaMMOUNrOAtoFSVE5jaaY4mtQPS5dmQPS8WkdfGReYgDe/3cTdpbvo9XrY2NhAp9NBq9XKO53Ov6T/r2mlVBeX0DSAMzeHppm5h7doemdvR99buYfd3V2srq4+PTk5+a+mr9CmrqTU3+5Rr9cHg8HgYve4krddbZGb5dOXmf2d+7n4pi9D4LrOeHl40v42fl0a8KQ96fkIeJ+ej9vsWZ707Mzmy/Ck5+M2e9afhmuAz1BhwewAAAAASUVORK5CYII=" alt="Next in Tag" width="45" height="45" loading="lazy">
                    </a>
                  
                </div>
              </div>
            
          
          <!-- JavaScript to Toggle the Tag-based Navigation -->
          <script>
            document.addEventListener("DOMContentLoaded", function(){
              var tagLinks = document.querySelectorAll('.tag-option');
              tagLinks.forEach(function(link){
                link.addEventListener('click', function(event){
                  event.preventDefault();
                  // Remove "active" class from all tag options.
                  tagLinks.forEach(function(el){ el.classList.remove('active'); });
                  // Add active class to the clicked tag option.
                  this.classList.add('active');
                  // Hide all tag navigation blocks.
                  document.querySelectorAll('.nav-group.tags').forEach(function(block){
                    block.style.display = 'none';
                  });
                  // Show the navigation block corresponding to the selected tag.
                  var tagSlug = this.getAttribute('data-tag');
                  var target = document.getElementById('tag-nav-' + tagSlug);
                  if(target) {
                    target.style.display = 'block';
                  }
                });
              });
            });
          </script>
      </nav>
      
    </main>
    <footer id="bottom-of-page" class="site-footer">
      <div class="footer-content">
        <!-- Back to top link -->
        <a href="#" aria-label="Back to top" class="back2top-link">
          <span class="sronly">Back to top</span>
        </a>
    
        <!-- Liquid Time Calculation and Display -->
        
        
        
        <a href="https://ib.bsb.br/404" aria-label="404">
          2025-10-17 16:34:01
        </a>
        &#x23;
    
        <!-- Tag Selector -->
        <ul class="tag-selector">
          
            
            
              <li>
                <a href="#" class="tag-option active" data-tag="aid-linux">
                  aid>linux
                </a>
              </li>
            
          
        </ul>
        &hArr;
    
        <!-- GitHub Link -->
        <a href="https://github.com/ib-bsb-br/ib-bsb-br.github.io" aria-label="GitHub">
          &#8505;
        </a>
    
        <!-- Homepage Link -->
        <a href="/" aria-label="Homepage">
          infoBAG
        </a>
    
        <!-- Copy All Code Button -->
        <button id="copyAllButton" aria-label="Copy all code">
          &copy;
        </button>
      </div>
    </footer>
    <style>
      .back2top-link {
        display: inline-block;
        width: 32px;
        height: 32px;
        background: url("/assets/Rope_(Old).gif") center center no-repeat;
        background-size: contain;
        text-decoration: none;
        vertical-align: middle;
      }
      .sronly {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }
    </style>
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Article",
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "https://ib.bsb.br/sftp/"
        },
        "headline": "Setting Up an SFTP Server on Debian Bullseye for Backups",
        "description": "",
        "datePublished": "2024-11-21T00:00:00+00:00",
        "dateModified": "2025-05-27T15:58:36+00:00",
        "author": {
          "@type": "Person",
          "name": "Author"
        },
        "publisher": {
          "@type": "Organization",
          "name": "infoBAG"
          
        }
        
      }
    </script>
    <script src="/assets/js/prism.js" defer></script>
    <script src="/assets/js/copy-all-code.js"></script>
  </body>
</html>
