<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
      
        installing Incus OS - infoBAG
      
    </title>
    <meta name="title" content="installing Incus OS - infoBAG" />
    <meta name="description" content="">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://ib.bsb.br/installing-incus-os/">
    <meta property="og:title" content="installing Incus OS - infoBAG">
    <meta property="og:description" content="">
    <meta property="og:image" content="/favicon.ico">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://ib.bsb.br/installing-incus-os/">
    <meta name="twitter:title" content="installing Incus OS - infoBAG">
    <meta name="twitter:description" content="">
    <meta name="twitter:image" content="/favicon.ico">
    <link rel="canonical" href="https://ib.bsb.br/installing-incus-os/">
    <link rel="alternate" type="application/rss+xml" title="infoBAG" href="https://ib.bsb.br/rss.xml">
    
      <meta name="keywords" content="scratchpad">
      
        <meta property="article:tag" content="scratchpad">
      
    
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    
    <link rel="stylesheet" href="/style.css">
  </head>
  <body class="post-content-body">
    <header class="header-container">
      <nav aria-label="Main navigation" class="header-content">
        <a href="/" aria-label="Home">
          <img src="/favicon.ico" alt="Home" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
        <a href="/tags" aria-label="Tags">
          <img src="/assets/Label.gif" alt="Tags" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
        <a href="/send" aria-label="send">
          <img src="/assets/rot.gif" alt="send" class="favicon search-link" width="32" height="32" loading="lazy">
        </a> 
        <a href="/created" aria-label="archive created">
          <img src="/assets/Loose_Stone_Pile.gif" alt="archive created" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
        <a href="/events" aria-label="Events">
          <img src="/assets/Paralyse_Rune.gif" alt="Events" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
        <a href="/modified" aria-label="archive modified">
          <img src="/assets/Hole_(Rock).gif" alt="archive modified" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
    </nav>
      <h5 class="post-title">
        <a href="#bottom-of-page" aria-label="Go to bottom">
          installing Incus OS
        </a>
      </h5>
      <div class="post-meta">
        <time datetime="2025-05-08T00:00:00+00:00" class="post-date">
          08 May 2025
        </time>
        
          <span class="post-updated">
            ↣
            <time datetime="2025-05-14T01:09:43+00:00">
              14 May 2025
            </time>
          </span>
        
        
          <p class="post-slug">
            Slug: <a href="https://ib.bsb.br/installing-incus-os" class="tag">installing-incus-os</a>
          </p>
        
        
          <p class="post-tags">
            Tags:
            
              <a href="https://ib.bsb.br/tags/#scratchpad" class="tag">scratchpad</a>
            
          </p>
        
      </div>
      <div class="post-actions">
        <div class="page-stats mt-3" role="status" aria-label="Page statistics">
      
      <span class="badge bg-primary">
        35636 characters
      </span>
        <span class="separator mx-2" aria-hidden="true">•</span>
        <span class="badge bg-primary">
        4603 words
      </span>
      </div>
        <div class="action-buttons d-flex flex-wrap gap-2">
          
            
              <form action="https://github.com/ib-bsb-br/ib-bsb-br.github.io/edit/main/_posts/2025-05-08-installing-incus-os.md"
                    method="GET"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="d-inline-block">
                <button type="submit" class="btn btn-danger" aria-label="Edit page content">
                  <span class="button-text">Improve this page?</span>
                  <span class="info-text">aberto.</span>
                </button>
              </form>
            
            <form action="https://github.com/ib-bsb-br/ib-bsb-br.github.io/commits/main/_posts/2025-05-08-installing-incus-os.md"
                  method="GET"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="d-inline-block">
              <button type="submit" class="btn btn-danger" aria-label="View page revision history">
                View revision history
              </button>
            </form>
          
        </div>
      </div>
    </header>
    <main class="content">
      <article class="post-wrapper">
        <div class="post-content-body">
          
<ul><li><a href="#incusyaml">incus.yaml</a></li><li><a href="#networkyaml">network.yaml</a></li></ul>
          <p><strong>Part 1: Installing and Configuring an Incus OS Environment</strong></p>

<p><strong>I. Introduction to Incus OS and Intel N97 Deployment</strong></p>

<p>Incus OS is a minimal, immutable operating system designed specifically for running Incus instances (virtual machines and system containers). It prioritizes security through features like UEFI Secure Boot integration, dm-verity for disk integrity, TPM-based disk encryption, and an A/B update mechanism. Incus, a modern system container and virtual machine manager, offers a powerful platform for developing and hosting applications. Deploying Incus OS directly onto bare metal ensures maximum performance and control, transforming the host into a dedicated Incus appliance. Incus OS is designed to take advantage of these hardware security mechanisms to create a “locked down environment”.<code class="language-plaintext highlighter-rouge">2</code></p>

<p>The Intel N97 processor, part of the Alder Lake-N series, is a 64-bit, quad-core CPU with features suitable for lightweight server tasks, including virtualization.<code class="language-plaintext highlighter-rouge">1</code> Its low power consumption (12W TDP) makes it an attractive option for always-on home servers or small-scale deployments.<code class="language-plaintext highlighter-rouge">1</code> This guide focuses on a bare-metal x64 host system with an Intel N97 processor.</p>

<p><strong>II. Crucial Preliminary Considerations</strong></p>

<ul>
  <li><strong>Experimental Stage:</strong> Incus OS is in early development. Users should expect potential rough edges and be prepared for troubleshooting. This guide is primarily for testing and evaluation purposes.</li>
  <li><strong>Hardware Requirements:</strong>
    <ul>
      <li><strong>x64 Architecture:</strong> The Intel N97 meets this.</li>
      <li><strong>TPM (Trusted Platform Module) 2.0:</strong> This is <strong>mandatory</strong>. A critical point is that systems without a TPM will be flagged by the Incus OS UI, and installation may fail or result in a non-functional state.</li>
      <li><strong>UEFI Firmware:</strong> Incus OS is designed for UEFI systems.</li>
      <li><strong>RAM and Storage:</strong> A minimum of 8GB RAM is recommended (as used in a VM test); 16GB or more for multiple or larger instances. An NVMe or SATA SSD is recommended for the target disk. A separate USB drive is needed for installation media.</li>
    </ul>
  </li>
  <li><strong>Backup Existing Data:</strong> The installation process will erase the target disk. <strong>Ensure all important data from the target N97 machine is backed up before proceeding.</strong></li>
  <li><strong>Separate Linux Machine:</strong> Needed for preparing the USB installation media and seed configuration files.</li>
  <li><strong>Flasher Tool:</strong> A “flasher tool” to simplify image writing and seed creation is reportedly planned but may not yet be available. This guide describes the manual method.</li>
</ul>

<p><strong>III. Phase 1: Host System UEFI/BIOS Configuration (Intel N97)</strong></p>

<p>Correct BIOS/UEFI configuration is paramount for a successful Incus OS installation and for enabling its security and virtualization features.</p>

<ul>
  <li><strong>Understanding the Intel N97 Platform for Incus OS:</strong>
Before proceeding with the installation, it is crucial to understand the capabilities and potential limitations of the Intel N97 platform in the context of running Incus OS.
    <ul>
      <li><strong>Key Intel N97 Features Relevant to Virtualization and Security:</strong> The Intel N97 processor incorporates several hardware features that are essential or beneficial for running a secure and efficient virtualization host with Incus OS. These are foundational to the secure “enclosure” concept.
        <ul>
          <li><strong>Table 1: Intel N97 Key Virtualization and Security Features</strong>
| Feature Name                                            | Status on Intel N97 (Source) | Criticality/Role for Incus OS Deployment                                                                                                     |
| :—————————————————— | :————————— | :——————————————————————————————————————————————- |
| Intel® Virtualization Technology (VT-x)                 | Yes <code class="language-plaintext highlighter-rouge">1</code>                      | Essential for all virtualization; enables the CPU to run multiple operating systems (VMs) and enhances container isolation.                  |
| Intel® Virtualization Technology for Directed I/O (VT-d) | Yes <code class="language-plaintext highlighter-rouge">1</code>                      | Crucial for PCI device passthrough to Incus virtual machines, allowing VMs direct access to hardware like GPUs, network cards, or storage controllers. |
| Intel® VT-x with Extended Page Tables (EPT)             | Yes <code class="language-plaintext highlighter-rouge">1</code>                      | Enhances VM memory management performance by reducing hypervisor overhead, leading to more efficient virtualization.                         |
| Intel® Boot Guard                                       | Yes <code class="language-plaintext highlighter-rouge">1</code>                      | Provides hardware-based boot integrity, forming a root of trust. This is a foundational element for Secure Boot, which Incus OS is designed to leverage.<code class="language-plaintext highlighter-rouge">2</code> |
| Intel® OS Guard                                         | Yes <code class="language-plaintext highlighter-rouge">1</code>                      | Protects the operating system kernel from modification by malicious software, contributing to the overall security of the Incus OS environment. |
| TPM 2.0 Support                                         | Typically present <code class="language-plaintext highlighter-rouge">3</code>        | Used by Incus OS for features like measured boot (verifying boot components) and TPM-backed full-disk encryption, enhancing system security.<code class="language-plaintext highlighter-rouge">2</code> |
| 64-bit Instruction Set                                  | Yes <code class="language-plaintext highlighter-rouge">1</code>                      | Mandatory for running modern operating systems, including Incus OS and the guest operating systems within Incus instances.                   |
The presence of these features, confirmed by Intel’s official specifications <code class="language-plaintext highlighter-rouge">1</code> and motherboard documentation (e.g., ASRock NUC-N97 indicating “TPM 2.0 onboard IC” <code class="language-plaintext highlighter-rouge">3</code>), ensures that the N97 CPU meets the fundamental hardware requirements for a robust Incus OS deployment.</li>
        </ul>
      </li>
      <li><strong>Potential Performance Considerations and Platform Variability:</strong>
        <ul>
          <li><strong>Single-Channel Memory Architecture:</strong> The Intel N97 processor supports only a single memory channel.<code class="language-plaintext highlighter-rouge">1</code> Motherboards based on this CPU, such as the ASRock NUC-N97, also specify single-channel DDR4 3200 MHz technology.<code class="language-plaintext highlighter-rouge">3</code> This could be a performance bottleneck for memory-bandwidth intensive Incus workloads. Using the fastest supported RAM type available for the specific N97 board can help maximize available bandwidth.</li>
          <li><strong>“Embedded” Nature and BIOS Variability:</strong> The Intel N97 is categorized under “Intel® Processor N-series” with a “Vertical Segment” of “Embedded”.<code class="language-plaintext highlighter-rouge">1</code> This can lead to greater variability in BIOS/UEFI implementations across different N97-based systems. User experiences with GMKtec N97 Mini PCs, for instance, have highlighted issues with BIOS interfaces and USB boot behavior.<code class="language-plaintext highlighter-rouge">4</code> The low power consumption, however, is a significant advantage.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>Accessing BIOS/UEFI Setup:</strong>
This is typically done by pressing a specific key (commonly F2, Delete, ESC, or F10 <code class="language-plaintext highlighter-rouge">6</code>) immediately after powering on the system. The exact key can vary. For instance, the ASRock NUC-N97 motherboard manual outlines its BIOS structure.<code class="language-plaintext highlighter-rouge">3</code></p>
  </li>
  <li><strong>Essential Settings to Configure:</strong>
Once inside the BIOS/UEFI setup utility, several settings must be verified and adjusted.
    <ul>
      <li><strong>Table 2: Recommended BIOS/UEFI Settings for Incus OS on Intel N97</strong>
| Setting Category      | Typical Setting Name(s) in BIOS (and common variations)        | Recommended Value for Incus OS                                              | Rationale &amp; Importance                                                                                                                               |
| :——————– | :————————————————————- | :————————————————————————– | :————————————————————————————————————————————————— |
| Load Defaults         | Load Optimized Defaults, Load UEFI Defaults                    | Execute this first                                                          | Establishes a clean, known baseline. Intel NUCs often use F9 for this.<code class="language-plaintext highlighter-rouge">6</code>                                                                              |
| Virtualization        | Intel® Virtualization Technology, VT-x, Virtualization, SVM Mode | Enabled                                                                     | Core requirement for Incus. Found in “CPU Configuration”.<code class="language-plaintext highlighter-rouge">3</code> N97 supports VT-x.<code class="language-plaintext highlighter-rouge">1</code>                                                                      |
| I/O Virtualization    | Intel® VT-d, Directed I/O, IOMMU                               | Enabled                                                                     | Essential for PCIe device passthrough. Often in “Chipset Configuration.” N97 supports VT-d.<code class="language-plaintext highlighter-rouge">1</code>                                                         |
| TPM                   | Trusted Platform Module, TPM Device, Security Chip, fTPM       | Enabled &amp; Activated (or “Available” / “Owned” depending on BIOS)            | Crucial for Incus OS security (measured boot, disk encryption).<code class="language-plaintext highlighter-rouge">2</code> Look for “Trusted Computing”.<code class="language-plaintext highlighter-rouge">3</code> ASRock NUC-N97 has onboard TPM 2.0 IC.<code class="language-plaintext highlighter-rouge">3</code>          |
| Secure Boot           | Secure Boot Control, Secure Boot                               | Enabled (with keys cleared for “Setup Mode”)                                | Incus OS leverages Secure Boot.<code class="language-plaintext highlighter-rouge">2</code> For first boot, system must be in “Setup Mode” for key enrollment. Found in “Security” or “Boot” sections.<code class="language-plaintext highlighter-rouge">3</code> |
| CSM                   | Compatibility Support Module                                   | Disabled                                                                    | Ensure pure UEFI mode.                                                                                                                               |
| Boot Priority / Order | Boot Option #1, Fixed Boot Order Priorities, Boot Sequence     | 1st: USB Drive (for installation), Then: Internal SSD/NVMe (for installed OS) | To boot from installer, then installed system. N97 USB Boot Quirks: Some N97 BIOSes may require disabling boot priority options to recognize USB.<code class="language-plaintext highlighter-rouge">5</code> |
| Hyper-Threading       | Intel® Hyper-Threading Technology, Logical Processor           | N/A or Disabled/Auto                                                        | Intel N97 does not support Hyper-Threading.<code class="language-plaintext highlighter-rouge">1</code>                                                                                                        |
| Intel SGX             | Intel® Software Guard Extensions                               | Disabled or Default                                                         | Generally not required for Incus OS.                                                                                                                 |</li>
      <li><strong>Detailed Configuration Steps:</strong>
        <ol>
          <li><strong>Load Optimized Defaults:</strong> Navigate to “Exit” or “Save &amp; Exit” and select “Load Optimized Defaults.” Intel NUC systems often use F9.<code class="language-plaintext highlighter-rouge">6</code></li>
          <li><strong>Enable Intel® Virtualization Technology (VT-x):</strong> Critical. Typically under “CPU Configuration” or “Advanced.” Set to <code class="language-plaintext highlighter-rouge">Enabled</code>. The Intel N97 supports VT-x.<code class="language-plaintext highlighter-rouge">1</code></li>
          <li><strong>Enable Intel® VT-d (Virtualization Technology for Directed I/O):</strong> If separate, also set to <code class="language-plaintext highlighter-rouge">Enabled</code>. Vital for PCIe passthrough. The N97 supports VT-d.<code class="language-plaintext highlighter-rouge">1</code></li>
          <li><strong>Enable and Configure TPM (Trusted Platform Module):</strong> Locate “TPM” or “Trusted Computing” settings.<code class="language-plaintext highlighter-rouge">3</code> Ensure TPM 2.0 is <code class="language-plaintext highlighter-rouge">Enabled</code> and <code class="language-plaintext highlighter-rouge">Activated</code>. For Incus OS, it must be available for the OS to utilize for features like “TPM measured” boot and “storage encrypted using that TPM state”.<code class="language-plaintext highlighter-rouge">2</code></li>
          <li><strong>Configure Secure Boot:</strong> Find “Secure Boot” options.<code class="language-plaintext highlighter-rouge">3</code> Set Secure Boot to <code class="language-plaintext highlighter-rouge">Enabled</code>. <strong>Crucially, for the initial installation, set Secure Boot to “Setup Mode.”</strong> This often involves an option to “Clear Secure Boot Keys,” “Delete All Secure Boot Variables,” or “Reset to Setup Mode.” This allows Incus OS to enroll its own keys on first boot, as stated in its <code class="language-plaintext highlighter-rouge">README.md</code>: “On first boot, it will automatically add the relevant Secure Boot key (requires the system be in setup mode).”</li>
          <li><strong>Disable CSM (Compatibility Support Module):</strong> Ensure the system is in pure UEFI mode, not legacy BIOS compatibility mode.</li>
          <li><strong>Set Boot Order/Priority (Addressing N97 USB Boot Issues):</strong> Configure the USB drive as the primary boot device for installation.
            <ul>
              <li><strong>Common N97 USB Boot Challenges:</strong> Users of N97-based systems have reported difficulties booting from USB.<code class="language-plaintext highlighter-rouge">5</code></li>
              <li><strong>Troubleshooting USB Boot:</strong> First, try setting USB as the first boot option. If it fails, use the system’s boot menu (often F7, F10, F11, F12, or ESC – F7 noted for a GMKtec N97 <code class="language-plaintext highlighter-rouge">5</code>). A specific N97 workaround involved setting both boot priority options to “disabled” to allow USB boot.<code class="language-plaintext highlighter-rouge">5</code></li>
            </ul>
          </li>
          <li><strong>Review Conflicting/Unnecessary Settings:</strong>
            <ul>
              <li><strong>Virtualization MUST Be Enabled:</strong> Advice to “disable Virtualization - potential for attack”<code class="language-plaintext highlighter-rouge">8</code> is incorrect for an Incus host. VT-x and VT-d are fundamental.</li>
              <li><strong>Hyper-Threading:</strong> N/A for Intel N97.<code class="language-plaintext highlighter-rouge">1</code></li>
              <li><strong>Intel SGX:</strong> Leaving at default (often disabled or auto) is appropriate.</li>
            </ul>
          </li>
        </ol>
      </li>
    </ul>
  </li>
  <li><strong>Saving Changes:</strong>
Navigate to “Exit” or “Save &amp; Exit,” select “Save Changes and Exit.” Intel NUCs typically use F10.<code class="language-plaintext highlighter-rouge">6</code></li>
</ul>

<p><strong>IV. Phase 2: Preparing Incus OS Installation Media &amp; Seed Configuration (on Separate Linux Machine)</strong></p>

<ul>
  <li><strong>Downloading the Official Incus OS Image:</strong>
    <ol>
      <li>Obtain the official Incus OS installation image from trusted sources, typically the official Incus project website or the Incus GitHub repository’s “Releases” section.<code class="language-plaintext highlighter-rouge">2</code> Download the latest raw disk image for x86-64 (e.g., <code class="language-plaintext highlighter-rouge">IncusOS_VERSION.raw.gz</code>).</li>
      <li>Decompress the image:
        <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">gzip</span> <span class="nt">-d</span> IncusOS_VERSION.raw.gz
</code></section></div>        </div>
        <p>This results in a <code class="language-plaintext highlighter-rouge">.raw</code> file (e.g., <code class="language-plaintext highlighter-rouge">IncusOS_VERSION.raw</code>). For clarity, this guide may refer to it as <code class="language-plaintext highlighter-rouge">incus-os-installer.raw</code>.</p>
      </li>
      <li><strong>(Recommended) Verifying Image Integrity:</strong> If checksums (e.g., SHA256) are provided, download the checksum file and verify the downloaded image using a utility like <code class="language-plaintext highlighter-rouge">sha256sum incus-os-installer.raw</code> and comparing the output.</li>
    </ol>
  </li>
  <li><strong>Preparing the USB Installation Drive:</strong>
    <ol>
      <li><strong>USB Drive Selection (Size):</strong> Use a USB drive of <strong>at least 64GB</strong>. This recommendation stems from observations that the Incus OS installer (specifically components like <code class="language-plaintext highlighter-rouge">systemd-repart</code>) might have expectations about minimum media size for its partitioning operations, beyond just fitting the OS image itself.</li>
      <li><strong>Identify USB Device Name:</strong> Insert the USB drive. Identify its device name (e.g., <code class="language-plaintext highlighter-rouge">/dev/sdb</code>, <code class="language-plaintext highlighter-rouge">/dev/sdc</code>) using <code class="language-plaintext highlighter-rouge">lsblk</code> or <code class="language-plaintext highlighter-rouge">sudo fdisk -l</code>. <strong>Be extremely careful to choose the correct device, as the next step will overwrite it.</strong></li>
      <li><strong>Writing the Image to USB Drive:</strong>
        <ul>
          <li><strong>Using <code class="language-plaintext highlighter-rouge">dd</code> (Linux/macOS - Use with Extreme Caution):</strong>
            <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">sudo dd </span><span class="k">if</span><span class="o">=</span>incus-os-installer.raw <span class="nv">of</span><span class="o">=</span>/dev/sdX <span class="nv">bs</span><span class="o">=</span>4M <span class="nv">status</span><span class="o">=</span>progress <span class="nv">conv</span><span class="o">=</span>fsync
</code></section></div>            </div>
            <p>Replace <code class="language-plaintext highlighter-rouge">/dev/sdX</code> with your USB device path.</p>
          </li>
          <li><strong>Using Graphical Tools:</strong> Balena Etcher (cross-platform) or Rufus (Windows) <code class="language-plaintext highlighter-rouge">5</code> are user-friendly alternatives. For Rufus, ensure “Partition scheme” is “GPT” and “Target system” is “UEFI (non CSM)”.</li>
        </ul>
      </li>
      <li><strong>(Optional) <code class="language-plaintext highlighter-rouge">truncate</code> Raw Image (Primarily for VM testing):</strong> In some VM test scenarios where the <code class="language-plaintext highlighter-rouge">.raw</code> file itself acts as the disk, if boot errors related to partition fitting occurred, truncating the <code class="language-plaintext highlighter-rouge">.raw</code> file to a larger size (e.g., 50GB) <em>before</em> writing it to the virtual disk was a workaround. This is less common for physical USB preparation if the USB stick itself is sufficiently large.
        <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="c"># truncate -s 50G incus-os-installer.raw # Optional, context-dependent</span>
</code></section></div>        </div>
      </li>
      <li><strong>(Optional) GPT Table Relocation for Large USBs:</strong> If the USB is much larger than the image, and boot issues occur, the backup GPT table might be misplaced. Use <code class="language-plaintext highlighter-rouge">sgdisk</code> on the USB drive (<code class="language-plaintext highlighter-rouge">x</code> then <code class="language-plaintext highlighter-rouge">e</code> then <code class="language-plaintext highlighter-rouge">w</code>) to relocate it to the end of the physical device.</li>
    </ol>
  </li>
  <li><strong>Creating Seed Configuration Files:</strong>
Incus OS uses a seed configuration (a tarball) to automate setup. The exact filenames expected within the tarball (<code class="language-plaintext highlighter-rouge">install.yaml</code>, <code class="language-plaintext highlighter-rouge">incus.yaml</code>, <code class="language-plaintext highlighter-rouge">network.yaml</code>) should be verified against the official Incus OS documentation for the specific version you are installing, as these can be implementation details.
    <ol>
      <li><strong>Create <code class="language-plaintext highlighter-rouge">install.yaml</code> (Installer Options):</strong>
        <div class="language-yaml highlighter-rouge"><div class="highlight"><section><code><span class="c1"># install.yaml</span>
<span class="na">version</span><span class="pi">:</span> <span class="s2">"</span><span class="s">1.0"</span> 
<span class="na">force_install</span><span class="pi">:</span> <span class="kc">true</span> 
<span class="na">force_reboot</span><span class="pi">:</span> <span class="kc">false</span> 
<span class="c1"># target: </span>
<span class="c1">#   id: "ata-YOUR_DISK_MODEL_SERIAL" </span>
</code></section></div>        </div>
      </li>
      <li><strong>Create <code class="language-plaintext highlighter-rouge">incus.yaml</code> (Incus Daemon Configuration):</strong>
```yaml
  <h1 id="incusyaml">
    
    
     <a href="#incusyaml">#</a><a href="#" aria-label="Back to top">incus.yaml</a>
        
    
  </h1>
      
        <p>version: “1.0” 
apply_defaults: true 
certificates:</p>
        <ul>
          <li>name: “my-remote-admin-client” 
type: “client”
certificate: |
  YOUR_SINGLE_LINE_BASE64_ENCODED_DER_CERTIFICATE_CONTENT_HERE
description: “Certificate for my remote admin machine”
```</li>
          <li><strong>Generating Client Certificate in Correct Format (CRITICAL):</strong>
The certificate content must be <strong>Base64 encoded DER format, WITHOUT PEM headers/footers</strong>.
To convert a PEM client certificate (e.g., <code class="language-plaintext highlighter-rouge">client.crt</code>):
            <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>openssl x509 <span class="nt">-in</span> client.crt <span class="nt">-outform</span> DER | <span class="nb">base64</span> <span class="nt">-w0</span>
</code></section></div>            </div>
            <p>Paste the resulting single line of Base64 text into the <code class="language-plaintext highlighter-rouge">certificate:</code> field.</p>
          </li>
        </ul>
      </li>
      <li><strong>(Optional) Create <code class="language-plaintext highlighter-rouge">network.yaml</code> (Static Network Configuration):</strong>
If omitted, Incus OS attempts DHCP. Example:
```yaml
  <h1 id="networkyaml">
    
    
     <a href="#networkyaml">#</a><a href="#" aria-label="Back to top">network.yaml</a>
        
    
  </h1>
      
        <p>version: “1.0”
dns:
  hostname: “incus-n97”
interfaces:</p>
        <ul>
          <li>name: “br0” 
hwaddr: “XX:XX:XX:XX:XX:XX” # Physical NIC MAC
addresses: [“192.168.1.50/24”] 
routes:
            <ul>
              <li>to: “0.0.0.0/0” 
via: “192.168.1.1”
```</li>
            </ul>
          </li>
        </ul>
      </li>
    </ol>
  </li>
  <li><strong>Packaging Seed Data and Writing to USB Media:</strong>
    <ol>
      <li><strong>Create Tarball:</strong> A common name for the tarball in test scripts is <code class="language-plaintext highlighter-rouge">seed.install.tar</code>.
        <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">tar</span> <span class="nt">-cvf</span> seed.install.tar install.yaml incus.yaml <span class="c"># Add network.yaml if used</span>
</code></section></div>        </div>
      </li>
      <li><strong>Write the Seed Tarball to the USB Drive:</strong>
This uses a specific offset. Build scripts often use an offset of <code class="language-plaintext highlighter-rouge">4196352</code> with a block size of <code class="language-plaintext highlighter-rouge">512</code>. This offset, derived from project build scripts, typically places the seed data at the beginning of a dedicated seed partition located after the ESP (often 2GB in size).
        <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">sudo dd </span><span class="k">if</span><span class="o">=</span>seed.install.tar <span class="nv">of</span><span class="o">=</span>/dev/sdX <span class="nv">seek</span><span class="o">=</span>4196352 <span class="nv">bs</span><span class="o">=</span>512 <span class="nv">conv</span><span class="o">=</span>notrunc
</code></section></div>        </div>
        <p>(Replace <code class="language-plaintext highlighter-rouge">/dev/sdX</code> with your USB device name). <code class="language-plaintext highlighter-rouge">conv=notrunc</code> is vital.</p>
      </li>
    </ol>
  </li>
</ul>

<p><strong>V. Phase 3: Incus OS Installation on the Target Host (Intel N97)</strong></p>

<ul>
  <li>
    <p><strong>Final UEFI/BIOS Boot Configuration for USB Boot:</strong>
Ensure the USB drive is the primary boot device, Secure Boot is enabled and in Setup Mode, and TPM 2.0 is enabled.</p>
  </li>
  <li>
    <p><strong>Booting from USB and Secure Boot Enrollment:</strong>
The system should boot from the USB. On first boot with Secure Boot in Setup Mode, Incus OS will attempt to enroll its Secure Boot keys. This might involve one or two automatic reboots.</p>
  </li>
  <li>
    <p><strong>Navigating the Incus OS Installer:</strong>
A TUI will likely appear. The installer reads the seed data, identifies the target disk, partitions it, and copies OS files automatically. It’s expected to handle full-disk encryption (leveraging TPM <code class="language-plaintext highlighter-rouge">2</code>) and dm-verity <code class="language-plaintext highlighter-rouge">2</code> automatically.</p>
  </li>
  <li>
    <p><strong>Installation Process Details:</strong>
The installer partitions and formats the target disk, copies Incus OS system files, installs the bootloader to the ESP, and configures the base system, potentially interacting with the TPM and enrolling Secure Boot keys.<code class="language-plaintext highlighter-rouge">2</code></p>
  </li>
  <li>
    <p><strong>Completion and Reboot:</strong>
Upon completion, a message will prompt for media removal (unless <code class="language-plaintext highlighter-rouge">force_reboot: true</code>). Remove the USB installation drive. Reboot manually if needed.</p>
  </li>
</ul>

<p><strong>VI. Phase 4: First Boot, System Verification, and Initial Incus Setup</strong></p>

<ul>
  <li>
    <p><strong>First Boot into Installed Incus OS:</strong>
(Optional: Enter UEFI/BIOS and set your internal disk as primary boot device). The system boots from the internal disk. <code class="language-plaintext highlighter-rouge">incus-osd</code> (the Incus OS daemon) starts and applies the seed configuration. If <code class="language-plaintext highlighter-rouge">apply_defaults: true</code> was set, it initializes ZFS, default Incus networking, and trusts your client certificate. If no <code class="language-plaintext highlighter-rouge">network.yaml</code> was provided, Incus OS itself attempts DHCP. It may download applications like Incus itself.</p>
  </li>
  <li><strong>Retrieving and Storing Disk Encryption Recovery Key (Vital):</strong>
The root filesystem is encrypted. Retrieve the recovery key.
From your remote client (after establishing access):
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>incus query my-n97-incus-os:/1.0/system/encryption
</code></section></div>    </div>
    <p>The JSON output will contain <code class="language-plaintext highlighter-rouge">config.recovery_keys</code>. <strong>Store these keys securely offline.</strong> A TUI warning on the console may persist until retrieved.</p>
  </li>
  <li><strong>Verifying Incus Remote Access:</strong>
Find the Incus OS host’s IP. From your client machine:
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>incus remote add my-n97-incus-os &lt;IP_OF_INCUS_OS_HOST&gt;:8443
<span class="c"># You will likely be prompted to accept the server's certificate fingerprint.</span>
incus list my-n97-incus-os:
</code></section></div>    </div>
  </li>
  <li><strong>Verifying Incus Service Status:</strong>
<code class="language-plaintext highlighter-rouge">incus-osd</code> is the Incus OS management daemon, which in turn manages the main <code class="language-plaintext highlighter-rouge">incus</code> service. Check the status of the primary Incus service (e.g., <code class="language-plaintext highlighter-rouge">incus.service</code> or <code class="language-plaintext highlighter-rouge">incusd.service</code> - consult Incus OS documentation for the exact name):
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">sudo </span>systemctl status incus.service <span class="c"># Or the appropriate service name</span>
<span class="c"># Check logs if needed:</span>
<span class="nb">sudo </span>journalctl <span class="nt">-u</span> incus.service <span class="c"># Or the appropriate service name</span>
</code></section></div>    </div>
  </li>
  <li><strong>Initializing the Incus Service (Relationship to Seed):</strong>
If <code class="language-plaintext highlighter-rouge">apply_defaults: true</code> was used in <code class="language-plaintext highlighter-rouge">incus.yaml</code> and the seed was processed successfully, the Incus daemon (storage pools, default network, etc.) should be automatically configured. In this case, running <code class="language-plaintext highlighter-rouge">sudo incus admin init</code> is generally <strong>not required</strong> for the initial setup.
The <code class="language-plaintext highlighter-rouge">incus admin init</code> command is used for:
    <ul>
      <li>Manual initial configuration if <code class="language-plaintext highlighter-rouge">apply_defaults: false</code> was set or if the seed was not used/failed.</li>
      <li>Reconfiguring an existing Incus setup.</li>
      <li>Advanced or custom setups beyond the seed defaults.
If needed, <code class="language-plaintext highlighter-rouge">sudo incus admin init</code> interactively configures clustering, storage pools (ZFS, Btrfs, etc.), network bridges, and remote access settings.</li>
    </ul>
  </li>
</ul>

<p><strong>VII. Phase 5: Extended Verification - Launching Your First Incus Instance</strong></p>

<ul>
  <li><strong>Listing Available Images:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>incus image list images: <span class="nt">-r</span> my-n97-incus-os
</code></section></div>    </div>
  </li>
  <li><strong>Launching Test Instances:</strong>
    <ul>
      <li><strong>System Container:</strong> <code class="language-plaintext highlighter-rouge">incus launch images:alpine/edge test-alpine-container -r my-n97-incus-os</code></li>
      <li><strong>OCI Container:</strong> <code class="language-plaintext highlighter-rouge">incus launch oci-docker:nginx nginx-oci-test -r my-n97-incus-os</code></li>
      <li><strong>Virtual Machine:</strong> <code class="language-plaintext highlighter-rouge">incus launch images:ubuntu/22.04 test-ubuntu-vm --vm -r my-n97-incus-os</code></li>
    </ul>
  </li>
  <li><strong>Checking Instance Status:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>incus list <span class="nt">-r</span> my-n97-incus-os
</code></section></div>    </div>
  </li>
  <li><strong>Accessing Instances:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>incus <span class="nb">exec </span>test-alpine-container <span class="nt">--</span> sh <span class="nt">-r</span> my-n97-incus-os
</code></section></div>    </div>
  </li>
  <li><strong>Basic Network Test from Within an Instance:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>ping <span class="nt">-c</span> 3 google.com
</code></section></div>    </div>
  </li>
</ul>

<p><strong>VIII. Phase 6: Troubleshooting</strong></p>

<ul>
  <li><strong>TPM Mandatory:</strong> No TPM 2.0 will lead to failure or a non-functional state.</li>
  <li><strong>Secure Boot Setup Mode:</strong> Essential for initial key enrollment.</li>
  <li><strong>Seed File Errors:</strong> YAML syntax (indentation) and certificate format (Base64 DER) are common pitfalls.</li>
  <li><strong>USB Boot Problems:</strong>
    <ul>
      <li>Check BIOS boot order, try boot menu (F7, F10, etc.).<code class="language-plaintext highlighter-rouge">5</code></li>
      <li>N97 specific: Try setting boot priority options to “disabled” in BIOS.<code class="language-plaintext highlighter-rouge">5</code></li>
      <li>Recreate USB media, try different tools.</li>
      <li>For very large USBs, consider <code class="language-plaintext highlighter-rouge">sgdisk</code> to relocate backup GPT.</li>
      <li>Installer might not clean up USB stick partitions after an install (re-image USB for new attempt).</li>
    </ul>
  </li>
  <li><strong>Image Size Issues:</strong>
    <ul>
      <li>USB stick must be large enough (&gt;=64GB recommended due to installer repart behavior).</li>
      <li>Target internal disk should be sufficiently large (e.g., 50GB+).</li>
    </ul>
  </li>
  <li><strong>GitHub Rate Limiting:</strong> During first boot, Incus OS might download components. Repeated attempts from the same IP can hit rate limits.</li>
  <li><strong>System Overheating (N97 Mini PCs):</strong> Ensure adequate ventilation. Check for BIOS updates for thermal management.<code class="language-plaintext highlighter-rouge">4</code></li>
  <li><strong>Installer Failures:</strong> Check disk/network connections. Try DHCP if static IP fails. Consult Incus OS release notes.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">incusd</code> Service Failures:</strong> Check logs. Review seed files or <code class="language-plaintext highlighter-rouge">incus admin init</code> choices.</li>
  <li><strong>Cannot Launch Instances:</strong> Check storage pool, network, image integrity, host resources, instance logs.</li>
  <li><strong>BIOS Version Issues:</strong> Outdated BIOS can cause instability.<code class="language-plaintext highlighter-rouge">4, 6</code> Check manufacturer for updates.</li>
</ul>

<p><strong>IX. Phase 7: Conclusion and Next Steps</strong></p>

<p>Successfully installing and configuring Incus OS on an Intel N97 bare-metal host establishes a robust, secure, and minimal platform for Incus containers and virtual machines.</p>

<ul>
  <li><strong>Pointers for Further Learning:</strong>
    <ul>
      <li><strong>Official Incus Documentation:</strong> The primary resource (typically on <code class="language-plaintext highlighter-rouge">linuxcontainers.org</code>).</li>
      <li><strong>Community Resources:</strong> Linux Containers Forum,<code class="language-plaintext highlighter-rouge">9</code> Incus Subreddit.<code class="language-plaintext highlighter-rouge">11</code></li>
      <li><strong>Advanced Incus Features:</strong> Profiles, snapshots, device passthrough (utilizing N97’s VT-d <code class="language-plaintext highlighter-rouge">1</code>), clustering,<code class="language-plaintext highlighter-rouge">2</code> alternative storage backends (Linstor <code class="language-plaintext highlighter-rouge">9</code>), OCI container management.<code class="language-plaintext highlighter-rouge">2</code></li>
      <li><strong>Automation Tools:</strong> <code class="language-plaintext highlighter-rouge">incus-deploy</code> <code class="language-plaintext highlighter-rouge">2</code> (Ansible/Terraform scripts), IncusScripts <code class="language-plaintext highlighter-rouge">10</code> (community scripts).</li>
    </ul>
  </li>
  <li><strong>Maintaining Your Incus OS Deployment:</strong>
    <ul>
      <li><strong>Regular Updates:</strong> Incus OS (via its A/B mechanism) and the Incus package itself (Incus has monthly feature releases and LTS versions <code class="language-plaintext highlighter-rouge">2</code>).</li>
      <li><strong>System Monitoring:</strong> Host resources and Incus pool usage. Review Incus logs.</li>
      <li><strong>Backup Strategy:</strong> Incus configuration and instance data.</li>
    </ul>
  </li>
</ul><hr />

<p>With an Incus OS environment (or Incus installed on a standard operating system) established, the subsequent focus often shifts to managing and utilizing virtual machine disk images within that Incus setup. The following sections detail these processes.</p><hr />

<p><strong>Part 2: Managing and Utilizing Virtual Machine Disk Images with Incus</strong></p>

<p><strong>Section 2.1: Introduction to VM Disk Images and Tools</strong></p>

<p>When working with virtual machines in Incus, understanding the underlying technologies and disk image formats is beneficial.</p>
<ul>
  <li><strong>QEMU/KVM:</strong>
    <ul>
      <li><strong>QEMU:</strong> An open-source machine emulator and virtualizer that Incus utilizes for running VMs.</li>
      <li><strong>KVM (Kernel-based Virtual Machine):</strong> A Linux kernel module that enables QEMU to use hardware virtualization extensions (like Intel VT-x or AMD-V), providing near-native performance. Operating systems like Fedora CoreOS include KVM support.</li>
    </ul>
  </li>
  <li><strong><code class="language-plaintext highlighter-rouge">.qcow2</code>:</strong> This is a disk image format commonly used by QEMU. It supports features like copy-on-write (allowing for smaller “diff” images that depend on a backing file) and snapshots.</li>
</ul>

<p><strong>Section 2.2: Creating Standalone VM Images by Merging <code class="language-plaintext highlighter-rouge">.qcow2</code> Diffs</strong></p>

<p>The objective here is to consolidate the data from your <code class="language-plaintext highlighter-rouge">.qcow2</code> overlay (which contains only the changes or differences) and its base backing image (often a <code class="language-plaintext highlighter-rouge">.raw</code> file) into one new image file. This new file will not have any external backing file dependencies, making it a “flat” or “standalone” image, which simplifies management and portability for use with Incus.</p>

<p><strong>Prerequisites for Merging:</strong></p>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">qemu-utils</code> installed:</strong> This package provides the <code class="language-plaintext highlighter-rouge">qemu-img</code> utility.</li>
  <li><strong>Access to both files:</strong> You need read access to both the <code class="language-plaintext highlighter-rouge">.qcow2</code> overlay file and its backing file.</li>
  <li><strong>Correct backing file path:</strong> The <code class="language-plaintext highlighter-rouge">.qcow2</code> file must correctly reference its backing file.</li>
</ul>

<p><strong>Verifying the Backing File Information (Recommended)</strong></p>

<p>Before attempting to merge, check the <code class="language-plaintext highlighter-rouge">.qcow2</code> image’s information, especially the backing file path:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><section><code>qemu-img info /path/to/your/overlay-image.qcow2
</code></section></div></div>
<p>Look for the <code class="language-plaintext highlighter-rouge">backing file:</code> line. Ensure this path is resolvable.</p>

<p><strong>Merge the Images into a Single File</strong></p>

<p><strong>Method A: Create a New Standalone Image using <code class="language-plaintext highlighter-rouge">qemu-img convert</code> (Recommended)</strong>
This method reads the overlay and its backing file, merging them into a <em>new</em> file, leaving your original files untouched.</p>

<ol>
  <li><strong>Choose your output format (raw or qcow2):</strong>
    <ul>
      <li><strong>To create a new standalone RAW image:</strong>
        <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>qemu-img convert <span class="nt">-f</span> qcow2 <span class="nt">-O</span> raw /path/to/your/overlay-image.qcow2 /path/to/your/new-standalone-image.raw
</code></section></div>        </div>
      </li>
      <li><strong>To create a new standalone QCOW2 image (without a backing file):</strong>
        <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>qemu-img convert <span class="nt">-f</span> qcow2 <span class="nt">-O</span> qcow2 /path/to/your/overlay-image.qcow2 /path/to/your/new-standalone-image.qcow2
</code></section></div>        </div>
      </li>
    </ul>
  </li>
</ol>

<p><strong>Method B: Commit Changes to the Backing File using <code class="language-plaintext highlighter-rouge">qemu-img commit</code> (Modifies Original Backing File - Use with Caution)</strong>
This method merges changes from the <code class="language-plaintext highlighter-rouge">.qcow2</code> overlay directly into its backing file. <strong>This action permanently modifies your original backing file.</strong></p>

<ol>
  <li><strong>Commit the changes:</strong>
<code class="language-plaintext highlighter-rouge">bash
qemu-img commit /path/to/your/overlay-image.qcow2
</code>    Your original backing file now contains the merged data and is your single, standalone file.</li>
</ol>

<p><strong>Method C: Rebase QCOW2 to No Backing File using <code class="language-plaintext highlighter-rouge">qemu-img rebase</code> (Modifies Overlay - Use with Caution if not on a copy)</strong>
This method is specific to making a <code class="language-plaintext highlighter-rouge">.qcow2</code> file standalone.</p>

<ol>
  <li><strong>It’s safest to work on a copy:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">cp</span> /path/to/your/overlay-image.qcow2 /path/to/your/standalone-candidate.qcow2
</code></section></div>    </div>
  </li>
  <li><strong>Rebase the copy to remove the backing file link:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>qemu-img rebase <span class="nt">-b</span> <span class="s2">""</span> <span class="nt">-f</span> qcow2 /path/to/your/standalone-candidate.qcow2
</code></section></div>    </div>
  </li>
</ol>

<p><strong>Verifying the Merged Image</strong>
After merging, use <code class="language-plaintext highlighter-rouge">qemu-img info /path/to/your/resulting-standalone-image.[qcow2_or_raw]</code> to confirm the <code class="language-plaintext highlighter-rouge">backing file:</code> line is absent.</p>

<p><strong>Section 2.3: Importing and Running VM Images in Incus</strong></p>

<p>Once you have a standalone image file (or an existing <code class="language-plaintext highlighter-rouge">.qcow2</code> you wish to use), you can import or run it in Incus.</p>

<p><strong>General Prerequisites for Using Images with Incus:</strong></p>

<ol>
  <li><strong>Hardware Virtualization:</strong> Ensure Intel VT-x or AMD-V is enabled in your machine’s BIOS/UEFI.</li>
  <li><strong>Incus Initialization (One-time if not done):</strong> If Incus hasn’t been used before, initialize it:
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">sudo </span>incus admin init
</code></section></div>    </div>
    <p>Follow the prompts, accepting defaults for simplicity if unsure. This typically sets up a default profile and a storage pool.</p>
  </li>
  <li><strong>User Permissions:</strong> Your user might need to be in the <code class="language-plaintext highlighter-rouge">incus-admin</code> group (or <code class="language-plaintext highlighter-rouge">lxd</code>) to run <code class="language-plaintext highlighter-rouge">incus</code> commands without <code class="language-plaintext highlighter-rouge">sudo</code>.</li>
</ol>

<p><strong>Method 1: Importing as a Reusable Incus Image (<code class="language-plaintext highlighter-rouge">incus image import</code>)</strong>
This adds the image to the Incus image store for launching multiple VM instances. There are a few ways to provide the image and its metadata:</p>

<ul>
  <li><strong>Option 1.1: Import a standalone image file directly, specifying properties via flags:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>incus image import /path/to/your/standalone-image.[qcow2_or_raw] <span class="nt">--alias</span> my-custom-vm-image <span class="nt">--type</span> virtual-machine <span class="nt">--property</span> <span class="nv">os</span><span class="o">=</span><span class="s2">"Ubuntu"</span> <span class="nt">--property</span> <span class="nv">release</span><span class="o">=</span><span class="s2">"22.04"</span> <span class="nt">--property</span> <span class="nv">description</span><span class="o">=</span><span class="s2">"My custom VM"</span>
</code></section></div>    </div>
    <p>Adjust alias and properties as needed.</p>
  </li>
  <li><strong>Option 1.2: Import a standalone image file accompanied by a separate metadata tarball:</strong>
    <ol>
      <li><strong>Prepare <code class="language-plaintext highlighter-rouge">metadata.yaml</code>:</strong>
        <div class="language-yaml highlighter-rouge"><div class="highlight"><section><code><span class="na">architecture</span><span class="pi">:</span> <span class="s">x86_64</span>
<span class="na">creation_date</span><span class="pi">:</span> <span class="s">$(date +%s)</span> <span class="c1"># Or a static Unix timestamp</span>
<span class="na">properties</span><span class="pi">:</span>
  <span class="na">os</span><span class="pi">:</span> <span class="s2">"</span><span class="s">MyOS"</span>
  <span class="na">release</span><span class="pi">:</span> <span class="s2">"</span><span class="s">MyVersion"</span>
  <span class="na">description</span><span class="pi">:</span> <span class="s2">"</span><span class="s">VM</span><span class="nv"> </span><span class="s">image</span><span class="nv"> </span><span class="s">with</span><span class="nv"> </span><span class="s">separate</span><span class="nv"> </span><span class="s">metadata"</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s2">"</span><span class="s">virtual-machine"</span>
</code></section></div>        </div>
      </li>
      <li><strong>Create a tarball of the metadata:</strong>
        <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">tar</span> <span class="nt">-cvf</span> metadata.tar metadata.yaml
</code></section></div>        </div>
      </li>
      <li><strong>Import the image file with its metadata tarball:</strong>
        <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>incus image import metadata.tar /path/to/your/standalone-image.[qcow2_or_raw] <span class="nt">--alias</span> my-custom-metadata-vm
</code></section></div>        </div>
      </li>
    </ol>
  </li>
  <li><strong>Option 1.3: Import a single tarball containing both the image and its metadata:</strong>
    <ol>
      <li><strong>Prepare <code class="language-plaintext highlighter-rouge">metadata.yaml</code></strong> (as in Option 1.2).</li>
      <li><strong>Prepare the image file:</strong> Often, the image file inside the tarball is named <code class="language-plaintext highlighter-rouge">root.qcow2</code>, <code class="language-plaintext highlighter-rouge">disk.qcow2</code>, or <code class="language-plaintext highlighter-rouge">rootfs.img</code>.
        <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">cp</span> /path/to/your/standalone-image.qcow2 ./root.qcow2 <span class="c"># Example renaming</span>
</code></section></div>        </div>
      </li>
      <li><strong>Create a tarball containing both:</strong>
        <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">tar</span> <span class="nt">-czvf</span> my-incus-image.tar.gz root.qcow2 metadata.yaml
</code></section></div>        </div>
      </li>
      <li><strong>Import the combined tarball:</strong>
        <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>incus image import my-incus-image.tar.gz <span class="nt">--alias</span> my-packaged-vm-image
</code></section></div>        </div>
      </li>
    </ol>
  </li>
</ul>

<p>After importing using any of these options, launch a VM:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><section><code>incus launch &lt;image_alias_used_during_import&gt; my-new-vm-instance <span class="nt">--vm</span>
</code></section></div></div>

<p><strong>Method 2: Creating a VM Instance Directly from a Disk Image (<code class="language-plaintext highlighter-rouge">incus-migrate</code>)</strong>
The <code class="language-plaintext highlighter-rouge">incus-migrate</code> tool guides you through creating a new Incus VM instance directly from a disk image.</p>

<ol>
  <li><strong>Run <code class="language-plaintext highlighter-rouge">incus-migrate</code> interactively:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>incus-migrate
</code></section></div>    </div>
  </li>
  <li><strong>Follow the prompts:</strong>
    <ul>
      <li>Choose to create a <strong>virtual-machine</strong>.</li>
      <li>Provide the Incus project, a name for the new VM, and the <strong>full path to your standalone image file</strong>.</li>
      <li>Answer questions about UEFI support, etc.</li>
    </ul>
  </li>
</ol>

<p><strong>Method 3: Direct Boot by Attaching an Existing <code class="language-plaintext highlighter-rouge">.qcow2</code> File (Quick Use)</strong>
This is useful for quickly booting an existing <code class="language-plaintext highlighter-rouge">.qcow2</code> file, especially if your Incus storage pool is type <code class="language-plaintext highlighter-rouge">dir</code>.</p>

<ol>
  <li><strong>Launch a minimal VM instance (placeholder):</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>incus launch images:alpine/edge temp-vm <span class="nt">--vm</span>
</code></section></div>    </div>
  </li>
  <li><strong>Stop the VM:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>incus stop temp-vm
</code></section></div>    </div>
  </li>
  <li><strong>Remove its default root disk:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>incus config device remove temp-vm root
</code></section></div>    </div>
  </li>
  <li><strong>Add your <code class="language-plaintext highlighter-rouge">.qcow2</code> file as the new root disk:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>incus config device add temp-vm root disk <span class="nb">source</span><span class="o">=</span>/path/to/your/image.qcow2 boot.priority<span class="o">=</span>1
</code></section></div>    </div>
  </li>
  <li><strong>Rename the VM if desired and start it:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="c"># incus rename temp-vm my-qcow-vm # Optional</span>
incus start temp-vm <span class="c"># or new name</span>
</code></section></div>    </div>
  </li>
  <li><strong>Access the console:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>incus console temp-vm <span class="c"># or new name</span>
</code></section></div>    </div>
  </li>
</ol>

<p><strong>Method 4: Importing a Disk Image into a Custom Storage Volume (<code class="language-plaintext highlighter-rouge">incus storage volume import</code>)</strong>
This is suitable if your storage pool is block-based, or you want Incus to manage the disk as a distinct volume.</p>

<ol>
  <li><strong>Identify your storage pool:</strong> <code class="language-plaintext highlighter-rouge">incus storage list</code></li>
  <li><strong>(Optional) Convert <code class="language-plaintext highlighter-rouge">.qcow2</code> to Raw:</strong> Incus volume import often works best with raw files.
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>qemu-img convert <span class="nt">-f</span> qcow2 <span class="nt">-O</span> raw /path/to/your/image.qcow2 /tmp/image-for-volume.raw
</code></section></div>    </div>
  </li>
  <li><strong>Import the image into an Incus custom storage volume:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>incus storage volume import &lt;your-pool-name&gt; /tmp/image-for-volume.raw &lt;name-for-your-volume&gt;
<span class="c"># Or if importing qcow2 directly (Incus might convert it):</span>
<span class="c"># incus storage volume import &lt;your-pool-name&gt; /path/to/your/image.qcow2 &lt;name-for-your-volume&gt;</span>
</code></section></div>    </div>
  </li>
  <li><strong>Launch a VM using the custom volume:</strong>
Create a VM instance (as in Method 3, steps 1-3 for creating a placeholder VM), then add the custom volume as its root disk:
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>incus config device add &lt;vm-name&gt; root disk <span class="nv">pool</span><span class="o">=</span>&lt;your-pool-name&gt; <span class="nb">source</span><span class="o">=</span>&lt;name-for-your-volume&gt; boot.priority<span class="o">=</span>1
incus start &lt;vm-name&gt;
</code></section></div>    </div>
  </li>
</ol>

<p><strong>Important Considerations for Images in Incus:</strong></p>

<ul>
  <li><strong>Safety First (Merging):</strong> Always prefer <code class="language-plaintext highlighter-rouge">qemu-img convert</code> to create new files when merging, preserving your originals. Back up important images before modification.</li>
  <li><strong>Disk Space:</strong> Merged images will require space. Ensure sufficiency.</li>
  <li><strong>VM Configuration:</strong> After importing/launching, you might need to adjust VM configuration (CPU, memory, network) using <code class="language-plaintext highlighter-rouge">incus config edit &lt;vm-name&gt;</code>.</li>
  <li><strong>UEFI/Secure Boot:</strong> If your original VM used UEFI/Secure Boot, ensure these settings are appropriately configured in Incus for the new VM. <code class="language-plaintext highlighter-rouge">incus-migrate</code> often handles this well.</li>
  <li><strong>Image Format in Incus Storage:</strong> Incus often stores VM root disks as raw image files (e.g., <code class="language-plaintext highlighter-rouge">rootfs.img</code>) within its storage pool structure, even if you import a qcow2 file. This conversion is typically handled by Incus.</li>
  <li><strong>Storage Pools:</strong> Imported images and instance disks reside in Incus storage pools. The type of pool (<code class="language-plaintext highlighter-rouge">dir</code>, <code class="language-plaintext highlighter-rouge">zfs</code>, <code class="language-plaintext highlighter-rouge">lvm</code>, etc.) can influence performance and features.</li>
</ul>

<p><strong>Section 2.4: Direct QEMU/KVM Usage (Alternative)</strong></p>

<p>While Incus provides a management layer, you could use QEMU/KVM directly. This bypasses Incus’s features.
Ensure QEMU/KVM utilities are installed (e.g., <code class="language-plaintext highlighter-rouge">qemu-system-x86</code> on Fedora CoreOS, though Incus usually installs dependencies).
Example command:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><section><code>qemu-system-x86_64 <span class="se">\</span>
    <span class="nt">-enable-kvm</span> <span class="se">\</span>
    <span class="nt">-m</span> 2048 <span class="se">\</span>
    <span class="nt">-smp</span> 2 <span class="se">\</span>
    <span class="nt">-hda</span> /path/to/your/image.qcow2 <span class="se">\</span>
    <span class="nt">-boot</span> d <span class="se">\</span>
    <span class="nt">-vga</span> std <span class="se">\</span>
    <span class="nt">-net</span> nic <span class="nt">-net</span> user,hostfwd<span class="o">=</span>tcp::2222-:22 <span class="c"># Example networking</span>
</code></section></div></div>
<p>This is more manual and generally not preferred if Incus is available and configured.</p>

<p><strong>Section 2.5: Clarification on Podman’s Role</strong></p>

<p>Podman is for managing OCI/Docker-compatible <em>containers</em>, not full virtual machines from <code class="language-plaintext highlighter-rouge">.qcow2</code> images. It operates at a different level of virtualization (OS-level virtualization, sharing the host kernel) compared to the hardware virtualization used by Incus (via QEMU/KVM) for VMs. Therefore, Podman is not the tool for running <code class="language-plaintext highlighter-rouge">.qcow2</code> based virtual machines.</p>

        </div>
        
          URL: https://ib.bsb.br/installing-incus-os
        
      </article>
      <nav class="post-navigation-combined" aria-label="Post navigation">
        <!-- Chronological Navigation (always visible at 40vh) -->
        
          <div class="nav-arrow chronological prev">
            <a href="/linux-home-networking/" title="Linux Home Networking" rel="prev">
              <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAAAxVJREFUaEPt18FqG1cUBuD/nLkzI42UiVInkFLTCAKhS+9KA+3Kq1L8AAHjhR7AKz+ADV55qUfoqhvThTfdmC4KzTKmYJrELshJW9PIlSeKRpqZe88pUtouihvVRknqMNoMzD1zdPXNrzMM4RJ+6BLuGeWm39RdK6VL6VcIlPEo41HG401loJQupS8mUM7pi7md/6p3UtoHUJzf4vVecZb0e0EQfB7H8b0kSeqqummt/eb1buN83SebNsZ8QkQCYHVpaenu/v7+ra2tLRwdHWF1ddWq6hfM3BCRE2b+FcBHACQAHo1E5v9c+5mIhkR0e3z0VQ8LotuqWlXVw/GRmT8QkdMK89McuAOAAfwoIu8z85yIHBPRKRGN1/IAeDx0rul53hivo6psrf2ejDGfEtFOu92u7O3tBWtra2i322g0GhgOh9je3ka325UPax7fCR0iw+lp4aLxr70aeOmgkChTRY3JGSb73EroERD73uB54WpOgdhwZkXNQNQLiVDzOU1yFymAhu+lqZVopIqISQKmPLFS+atHv3A1q8AVQ+lXP/VHRPQx+b6frKysxMvLy1hfX0ez2USv18PCwgLiOEaSJKhWq/jhwQN8dnIfVOS4dsWHqCJ5YREGjBuNEMfd0eTc9WshBqnFYGhRqxrUIoNuLwMT4eb1Cp6dZshywdW6mZzr9QsEPuPmXIhfno3gnGKuEWCUC14MLKoVb1L72+8Zvj3JOl/udZt/S7darUqn0wlarRZ2d3cxPz+PJ8dPsPP1Doq8kIbL+cawjxBIM8MRFAidpBlRpIbhFc55gM2NF5IIQtVBRlRTZgTWZQ4wzvc8spO1NPM4Gr9Wh1bSDIjU98C5E0PIC8OVSX+Rlz08hl+4/LsML6X/menFxcW7BwcHtzY2NvDw8CE21zf/NdMAHskFMs3MT/EfMg3gsTsr02f8byfTo16v3+v3+//f6fGKgXNp5vT5huZbqH4nH+NvwXH6V5bS041mU1FKz8ZxepdSerrRbCpK6dk4Tu9SSk83mk1FKT0bx+ldSunpRrOpuJTSfwBcuImxpyA7XgAAAABJRU5ErkJggg==" alt="Previous article" width="45" height="45" loading="lazy">
            </a>
          </div>
        
        
          <div class="nav-arrow chronological next">
            <a href="/performance-governor-optimizations-script/" title="Performance Governor optimizations Script" rel="next">
              <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAAAwdJREFUaEPtl01rG1cUht9z7p070ijKWLVS3I9YULtNMBRn2UIXxZtuvCjedNWfoKVXBvsHeOUfoIUx5AeY0pVXXSR052UxBJSi0kDiRplII83HvadI9CMtOFjCmBjubC7cc8+Zc555eYdLuIEP3cCe4Zu+rq/mSXvSbyHg5eHl4eVxXRrwpD3p+Qh4n56P2+xZnvTszC7MCAAUF0XfOdJa62+IaCeO40GSJA/zPP8RwB9vDjBtWmv9JRE5ImpZawdVpbo58CkAIyJnIrLAzEvOuXNm/h3AfQDOAGdj5z5m5gXn3G9ENCKilckaiDwpiFZEpCoiTyYrM3/knOtXmHs58BkABvCLc+4DZl6cxIjoh4ODA728vIzt7W2sra09PT4+fgTgQES4LMvHZIy5LyI/f/dJvfK6FKMJqAdqmBS2ZgWINY9zJyZ1whUiRJrTfmGjybSxUemwcFEmghqT1UxlUrpQEXD7jRq3NWelEz10okIi1AJOX+U2EgALgUrT0kVnmcKvQ+uazSZvbW2hWq2i3++j3W5jf38f6+vrebvdHovI5pT09+vN7teLYev990K8GpQYjS1u1TQqhnHez6EU4cM7FTw7z5AXDo16ACcyPRsaxp2FEM9ejKd7zUaIYVpiOCpRq2rUIo0XLzMwEZaaFTzvZ8hyh/iWnu69fF1AAoOfFr/A5w8eYDQaIY5jJEmC09NTNBoNdLtd7O3t4ejoCIeHh8k/pL8KUSkCZcg6hCLDjLk2ufYGpRuXAuOMYiosQiDNNEcQILQuzYgi0QxVWKuAMtcqJPdXDaKaMMOUNrOAtoFSVE5jaaY4mtQPS5dmQPS8WkdfGReYgDe/3cTdpbvo9XrY2NhAp9NBq9XKO53Ov6T/r2mlVBeX0DSAMzeHppm5h7doemdvR99buYfd3V2srq4+PTk5+a+mr9CmrqTU3+5Rr9cHg8HgYve4krddbZGb5dOXmf2d+7n4pi9D4LrOeHl40v42fl0a8KQ96fkIeJ+ej9vsWZ707Mzmy/Ck5+M2e9afhmuAz1BhwewAAAAASUVORK5CYII=" alt="Next article" width="45" height="45" loading="lazy">
            </a>
          </div>
        
            
            
              
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
                  
                  
              
              
              
              <!-- Navigation block for tag "scratchpad"; default display for the first tag -->
              <div class="nav-group tags" id="tag-nav-scratchpad" style="display: block;">
                <div class="nav-arrow tags prev">
                  
                    <a href="/linux-home-networking/" title="Linux Home Networking" rel="prev">
                      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAAAxVJREFUaEPt18FqG1cUBuD/nLkzI42UiVInkFLTCAKhS+9KA+3Kq1L8AAHjhR7AKz+ADV55qUfoqhvThTfdmC4KzTKmYJrELshJW9PIlSeKRpqZe88pUtouihvVRknqMNoMzD1zdPXNrzMM4RJ+6BLuGeWm39RdK6VL6VcIlPEo41HG401loJQupS8mUM7pi7md/6p3UtoHUJzf4vVecZb0e0EQfB7H8b0kSeqqummt/eb1buN83SebNsZ8QkQCYHVpaenu/v7+ra2tLRwdHWF1ddWq6hfM3BCRE2b+FcBHACQAHo1E5v9c+5mIhkR0e3z0VQ8LotuqWlXVw/GRmT8QkdMK89McuAOAAfwoIu8z85yIHBPRKRGN1/IAeDx0rul53hivo6psrf2ejDGfEtFOu92u7O3tBWtra2i322g0GhgOh9je3ka325UPax7fCR0iw+lp4aLxr70aeOmgkChTRY3JGSb73EroERD73uB54WpOgdhwZkXNQNQLiVDzOU1yFymAhu+lqZVopIqISQKmPLFS+atHv3A1q8AVQ+lXP/VHRPQx+b6frKysxMvLy1hfX0ez2USv18PCwgLiOEaSJKhWq/jhwQN8dnIfVOS4dsWHqCJ5YREGjBuNEMfd0eTc9WshBqnFYGhRqxrUIoNuLwMT4eb1Cp6dZshywdW6mZzr9QsEPuPmXIhfno3gnGKuEWCUC14MLKoVb1L72+8Zvj3JOl/udZt/S7darUqn0wlarRZ2d3cxPz+PJ8dPsPP1Doq8kIbL+cawjxBIM8MRFAidpBlRpIbhFc55gM2NF5IIQtVBRlRTZgTWZQ4wzvc8spO1NPM4Gr9Wh1bSDIjU98C5E0PIC8OVSX+Rlz08hl+4/LsML6X/menFxcW7BwcHtzY2NvDw8CE21zf/NdMAHskFMs3MT/EfMg3gsTsr02f8byfTo16v3+v3+//f6fGKgXNp5vT5huZbqH4nH+NvwXH6V5bS041mU1FKz8ZxepdSerrRbCpK6dk4Tu9SSk83mk1FKT0bx+ldSunpRrOpuJTSfwBcuImxpyA7XgAAAABJRU5ErkJggg==" alt="Previous in Tag" width="45" height="45" loading="lazy">
                    </a>
                  
                </div>
                <div class="nav-arrow tags next">
                  
                    <a href="/ratpoisonrc/" title="ratpoisonrc dot files" rel="next">
                      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAAAwdJREFUaEPtl01rG1cUht9z7p070ijKWLVS3I9YULtNMBRn2UIXxZtuvCjedNWfoKVXBvsHeOUfoIUx5AeY0pVXXSR052UxBJSi0kDiRplII83HvadI9CMtOFjCmBjubC7cc8+Zc555eYdLuIEP3cCe4Zu+rq/mSXvSbyHg5eHl4eVxXRrwpD3p+Qh4n56P2+xZnvTszC7MCAAUF0XfOdJa62+IaCeO40GSJA/zPP8RwB9vDjBtWmv9JRE5ImpZawdVpbo58CkAIyJnIrLAzEvOuXNm/h3AfQDOAGdj5z5m5gXn3G9ENCKilckaiDwpiFZEpCoiTyYrM3/knOtXmHs58BkABvCLc+4DZl6cxIjoh4ODA728vIzt7W2sra09PT4+fgTgQES4LMvHZIy5LyI/f/dJvfK6FKMJqAdqmBS2ZgWINY9zJyZ1whUiRJrTfmGjybSxUemwcFEmghqT1UxlUrpQEXD7jRq3NWelEz10okIi1AJOX+U2EgALgUrT0kVnmcKvQ+uazSZvbW2hWq2i3++j3W5jf38f6+vrebvdHovI5pT09+vN7teLYev990K8GpQYjS1u1TQqhnHez6EU4cM7FTw7z5AXDo16ACcyPRsaxp2FEM9ejKd7zUaIYVpiOCpRq2rUIo0XLzMwEZaaFTzvZ8hyh/iWnu69fF1AAoOfFr/A5w8eYDQaIY5jJEmC09NTNBoNdLtd7O3t4ejoCIeHh8k/pL8KUSkCZcg6hCLDjLk2ufYGpRuXAuOMYiosQiDNNEcQILQuzYgi0QxVWKuAMtcqJPdXDaKaMMOUNrOAtoFSVE5jaaY4mtQPS5dmQPS8WkdfGReYgDe/3cTdpbvo9XrY2NhAp9NBq9XKO53Ov6T/r2mlVBeX0DSAMzeHppm5h7doemdvR99buYfd3V2srq4+PTk5+a+mr9CmrqTU3+5Rr9cHg8HgYve4krddbZGb5dOXmf2d+7n4pi9D4LrOeHl40v42fl0a8KQ96fkIeJ+ej9vsWZ707Mzmy/Ck5+M2e9afhmuAz1BhwewAAAAASUVORK5CYII=" alt="Next in Tag" width="45" height="45" loading="lazy">
                    </a>
                  
                </div>
              </div>
            
          
          <!-- JavaScript to Toggle the Tag-based Navigation -->
          <script>
            document.addEventListener("DOMContentLoaded", function(){
              var tagLinks = document.querySelectorAll('.tag-option');
              tagLinks.forEach(function(link){
                link.addEventListener('click', function(event){
                  event.preventDefault();
                  // Remove "active" class from all tag options.
                  tagLinks.forEach(function(el){ el.classList.remove('active'); });
                  // Add active class to the clicked tag option.
                  this.classList.add('active');
                  // Hide all tag navigation blocks.
                  document.querySelectorAll('.nav-group.tags').forEach(function(block){
                    block.style.display = 'none';
                  });
                  // Show the navigation block corresponding to the selected tag.
                  var tagSlug = this.getAttribute('data-tag');
                  var target = document.getElementById('tag-nav-' + tagSlug);
                  if(target) {
                    target.style.display = 'block';
                  }
                });
              });
            });
          </script>
      </nav>
      
    <div class="comment-box">
      Ref. 
      <a href="https://github.com/lxc/incus-os" title="https://github.com/lxc/incus-os">https://github.com/lxc/incus-os</a>
    </div>
    
    </main>
    <footer id="bottom-of-page" class="site-footer">
      <div class="footer-content">
        <!-- Back to top link -->
        <a href="#" aria-label="Back to top" class="back2top-link">
          <span class="sronly">Back to top</span>
        </a>
    
        <!-- Liquid Time Calculation and Display -->
        
        
        
        <a href="https://ib.bsb.br/404" aria-label="404">
          2026-01-21 19:24:30
        </a>
        &#x23;
    
        <!-- Tag Selector -->
        <ul class="tag-selector">
          
            
            
              <li>
                <a href="#" class="tag-option active" data-tag="scratchpad">
                  scratchpad
                </a>
              </li>
            
          
        </ul>
        &hArr;
    
        <!-- GitHub Link -->
        <a href="https://github.com/ib-bsb-br/ib-bsb-br.github.io" aria-label="GitHub">
          &#8505;
        </a>
    
        <!-- Homepage Link -->
        <a href="/" aria-label="Homepage">
          infoBAG
        </a>
    
        <!-- Copy All Code Button -->
        <button id="copyAllButton" aria-label="Copy all code">
          &copy;
        </button>
      </div>
    </footer>
    <style>
      .back2top-link {
        display: inline-block;
        width: 32px;
        height: 32px;
        background: url("/assets/Rope_(Old).gif") center center no-repeat;
        background-size: contain;
        text-decoration: none;
        vertical-align: middle;
      }
      .sronly {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }
    </style>
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Article",
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "https://ib.bsb.br/installing-incus-os/"
        },
        "headline": "installing Incus OS",
        "description": "",
        "datePublished": "2025-05-08T00:00:00+00:00",
        "dateModified": "2025-05-14T01:09:43+00:00",
        "author": {
          "@type": "Person",
          "name": "Author"
        },
        "publisher": {
          "@type": "Organization",
          "name": "infoBAG"
          
        }
        
      }
    </script>
    <script src="/assets/js/prism.js" defer></script>
    <script src="/assets/js/copy-all-code.js"></script>
  </body>
</html>
