<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
      
        `simple-fileserver` on RK3588 - infoBAG
      
    </title>
    <meta name="title" content="`simple-fileserver` on RK3588 - infoBAG" />
    <meta name="description" content="">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://ib.bsb.br/fileserver/">
    <meta property="og:title" content="`simple-fileserver` on RK3588 - infoBAG">
    <meta property="og:description" content="">
    <meta property="og:image" content="/favicon.ico">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://ib.bsb.br/fileserver/">
    <meta name="twitter:title" content="`simple-fileserver` on RK3588 - infoBAG">
    <meta name="twitter:description" content="">
    <meta name="twitter:image" content="/favicon.ico">
    <link rel="canonical" href="https://ib.bsb.br/fileserver/">
    <link rel="alternate" type="application/rss+xml" title="infoBAG" href="https://ib.bsb.br/rss.xml">
    
      <meta name="keywords" content="aid&gt;software&gt;linux">
      
        <meta property="article:tag" content="aid&gt;software&gt;linux">
      
    
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    
    <link rel="stylesheet" href="/style.css">
  </head>
  <body class="post-content-body">
    <header class="header-container">
      <nav aria-label="Main navigation" class="header-content">
        <a href="/" aria-label="Home">
          <img src="/favicon.ico" alt="Home" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
        <a href="/tags" aria-label="Tags">
          <img src="/assets/Label.gif" alt="Tags" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
        <a href="/send" aria-label="send">
          <img src="/assets/rot.gif" alt="send" class="favicon search-link" width="32" height="32" loading="lazy">
        </a> 
        <a href="/created" aria-label="archive created">
          <img src="/assets/Loose_Stone_Pile.gif" alt="archive created" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
        <a href="/events" aria-label="Events">
          <img src="/assets/Paralyse_Rune.gif" alt="Events" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
        <a href="/modified" aria-label="archive modified">
          <img src="/assets/Hole_(Rock).gif" alt="archive modified" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
    </nav>
      <h5 class="post-title">
        <a href="#bottom-of-page" aria-label="Go to bottom">
          `simple-fileserver` on RK3588
        </a>
      </h5>
      <div class="post-meta">
        <time datetime="2025-02-28T00:00:00+00:00" class="post-date">
          28 Feb 2025
        </time>
        
          <span class="post-updated">
            ↣
            <time datetime="2025-05-27T13:20:22+00:00">
              27 May 2025
            </time>
          </span>
        
        
          <p class="post-slug">
            Slug: <a href="https://ib.bsb.br/fileserver" class="tag">fileserver</a>
          </p>
        
        
          <p class="post-tags">
            Tags:
            
              <a href="https://ib.bsb.br/tags/#aid-software-linux" class="tag">aid>software>linux</a>
            
          </p>
        
      </div>
      <div class="post-actions">
        <div class="page-stats mt-3" role="status" aria-label="Page statistics">
      
      <span class="badge bg-primary">
        23870 characters
      </span>
        <span class="separator mx-2" aria-hidden="true">•</span>
        <span class="badge bg-primary">
        2760 words
      </span>
      </div>
        <div class="action-buttons d-flex flex-wrap gap-2">
          
            
              <form action="https://github.com/ib-bsb-br/ib-bsb-br.github.io/edit/main/_posts/2025-02-28-fileserver.md"
                    method="GET"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="d-inline-block">
                <button type="submit" class="btn btn-danger" aria-label="Edit page content">
                  <span class="button-text">Improve this page?</span>
                  <span class="info-text">aberto.</span>
                </button>
              </form>
            
            <form action="https://github.com/ib-bsb-br/ib-bsb-br.github.io/commits/main/_posts/2025-02-28-fileserver.md"
                  method="GET"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="d-inline-block">
              <button type="submit" class="btn btn-danger" aria-label="View page revision history">
                View revision history
              </button>
            </form>
          
        </div>
      </div>
    </header>
    <main class="content">
      <article class="post-wrapper">
        <div class="post-content-body">
          
<ul><li><a href="#1-introduction">1. Introduction</a></li><li><a href="#2-understanding-simple-fileserver">2. Understanding <code class="language-plaintext highlighter-rouge">simple-fileserver</code></a><ul><li><a href="#key-characteristics">Key Characteristics</a></li><li><a href="#limitations-and-risks-of-direct-execution">Limitations and Risks of Direct Execution</a></li></ul></li><li><a href="#3-deployment-approach-direct-execution-on-rk3588">3. Deployment Approach: Direct Execution on RK3588</a></li><li><a href="#4-setting-up-simple-fileserver">4. Setting Up <code class="language-plaintext highlighter-rouge">simple-fileserver</code></a><ul><li><a href="#41-prerequisites">4.1 Prerequisites</a></li><li><a href="#42-cloning-the-repository">4.2 Cloning the Repository</a></li><li><a href="#43-building-the-binary">4.3 Building the Binary</a></li></ul></li><li><a href="#5-running-the-server">5. Running the Server</a><ul><li><a href="#51-initial-run-testing">5.1 Initial Run (Testing)</a></li><li><a href="#52-running-as-a-dedicated-non-root-user-recommended">5.2 Running as a Dedicated Non-Root User (Recommended)</a></li></ul></li><li><a href="#6-configuring-simple-fileserver">6. Configuring <code class="language-plaintext highlighter-rouge">simple-fileserver</code></a><ul><li><a href="#61-command-line-arguments">6.1 Command-Line Arguments</a></li><li><a href="#62-environment-variables">6.2 Environment Variables</a></li><li><a href="#63-using-command-line-arguments-vs-environment-variables">6.3 Using Command-Line Arguments vs Environment Variables</a></li></ul></li><li><a href="#7-organizing-your-files">7. Organizing Your Files</a></li><li><a href="#8-ssl-configuration">8. SSL Configuration</a><ul><li><a href="#81-using-a-reverse-proxy-with-ssl-recommended">8.1 Using a Reverse Proxy with SSL (<strong>Recommended</strong>)</a><ul><li><a href="#811-setting-up-nginx-as-a-reverse-proxy">8.1.1 Setting Up Nginx as a Reverse Proxy</a></li><li><a href="#812-obtaining-ssl-certificates-with-lets-encrypt">8.1.2 Obtaining SSL Certificates with Let’s Encrypt</a></li></ul></li><li><a href="#82-direct-ssl-termination-use-with-caution">8.2 Direct SSL Termination (Use with Caution)</a></li></ul></li><li><a href="#9-performance-optimization">9. Performance Optimization</a><ul><li><a href="#91-system-tuning">9.1 System Tuning</a></li><li><a href="#92-file-system-optimization">9.2 File System Optimization</a></li><li><a href="#93-arm64-specific-optimizations">9.3 ARM64-Specific Optimizations</a></li></ul></li><li><a href="#10-security-best-practices-for-bare-metal-deployment">10. Security Best Practices for Bare-Metal Deployment</a><ul><li><a href="#101-dedicated-non-root-user">10.1 Dedicated Non-Root User</a></li><li><a href="#102-firewall-configuration">10.2 Firewall Configuration</a></li><li><a href="#103-strict-file-permissions-and-webroot-management">10.3 Strict File Permissions and Webroot Management</a></li><li><a href="#104-path-traversal-vulnerability-mitigation">10.4 Path Traversal Vulnerability Mitigation</a></li><li><a href="#105-chroot-advanced">10.5 Chroot (Advanced)</a></li><li><a href="#106-regular-audits-and-source-updates">10.6 Regular Audits and Source Updates</a></li></ul></li><li><a href="#11-maintenance-procedures">11. Maintenance Procedures</a><ul><li><a href="#111-stopping-and-restarting-the-service">11.1 Stopping and Restarting the Service</a></li><li><a href="#112-managing-with-systemd-recommended-for-production">11.2 Managing with <code class="language-plaintext highlighter-rouge">systemd</code> (Recommended for Production)</a></li><li><a href="#113-regular-tasks-including-log-management">11.3 Regular Tasks (Including Log Management)</a></li><li><a href="#114-backup-strategy">11.4 Backup Strategy</a></li><li><a href="#115-updating-the-application">11.5 Updating the Application</a></li></ul></li><li><a href="#12-troubleshooting-guide">12. Troubleshooting Guide</a></li></ul>
          <h2 id="1-introduction">
    
    
     <a href="#1-introduction">#</a><a href="#" aria-label="Back to top">1. Introduction</a>
        
    
  </h2>
      

<p>The <code class="language-plaintext highlighter-rouge">simple-fileserver</code> application is a lightweight static file server implemented using Go’s <code class="language-plaintext highlighter-rouge">http.FileServer</code>. It’s designed for simplicity, making it suitable for serving static content without the overhead of a full-featured web server. This guide focuses on building and running <code class="language-plaintext highlighter-rouge">simple-fileserver</code> directly from its source code on an RK3588 ARM64 device running Debian Bullseye.</p>

<p>The RK3588 ARM64 platform provides a powerful foundation for hosting applications like <code class="language-plaintext highlighter-rouge">simple-fileserver</code>. With an octa-core ARM CPU, ample RAM, and high-speed networking capabilities, it’s essential to leverage this hardware effectively while ensuring security and performance, especially when running applications directly on the host.</p><hr />
  <h2 id="2-understanding-simple-fileserver">
    
    
     <a href="#2-understanding-simple-fileserver">#</a><a href="#" aria-label="Back to top">2. Understanding <code class="language-plaintext highlighter-rouge">simple-fileserver</code></a>
        
    
  </h2>
      
  <h3 id="key-characteristics">
    
    
     <a href="#key-characteristics">#</a><a href="#" aria-label="Back to top">Key Characteristics</a>
        
    
  </h3>
      

<ul>
  <li><strong>Simplicity</strong>: Serves static files with minimal configuration.</li>
  <li><strong>No Built-in Compression</strong>: Does not compress files before serving.</li>
  <li><strong>Basic Directory Listing</strong>: Provides a simple directory listing unless disabled via the <code class="language-plaintext highlighter-rouge">-no-index</code> flag.</li>
  <li><strong>No Authentication</strong>: Lacks built-in mechanisms for authentication or authorization. Rely on a reverse proxy for this if needed.</li>
  <li><strong>Single Instance Serving</strong>: Designed to serve files without advanced scaling features.</li>
</ul>
  <h3 id="limitations-and-risks-of-direct-execution">
    
    
     <a href="#limitations-and-risks-of-direct-execution">#</a><a href="#" aria-label="Back to top">Limitations and Risks of Direct Execution</a>
        
    
  </h3>
      

<ul>
  <li><strong>Security Risks</strong>: As highlighted in the <code class="language-plaintext highlighter-rouge">simple-fileserver</code> README.md (HEATHCLIFF26, 2023), direct execution is <strong>not recommended</strong> by the author due to the risk of path traversal vulnerabilities. This means a malicious actor could potentially access files outside the intended webroot if the server is not meticulously configured and secured.</li>
  <li><strong>Lack of Advanced Features</strong>: Does not support features like caching, advanced compression, or dynamic content.</li>
  <li><strong>Manual Process Management</strong>: Without container orchestration, managing the application lifecycle (start, stop, restart, logging) requires direct OS-level intervention (e.g., <code class="language-plaintext highlighter-rouge">systemd</code> services, manual process management).</li>
</ul><hr />
  <h2 id="3-deployment-approach-direct-execution-on-rk3588">
    
    
     <a href="#3-deployment-approach-direct-execution-on-rk3588">#</a><a href="#" aria-label="Back to top">3. Deployment Approach: Direct Execution on RK3588</a>
        
    
  </h2>
      

<p>This guide focuses exclusively on building <code class="language-plaintext highlighter-rouge">simple-fileserver</code> from source and running the compiled binary directly on your RK3588 Debian Bullseye system.</p>

<p><strong>Warning:</strong> This approach bypasses the isolation benefits of containerization. You are responsible for securing the host system and the application. The path traversal vulnerability mentioned is a serious concern. Ensure your <code class="language-plaintext highlighter-rouge">-webroot</code> is an isolated directory containing only public files, and run the server as an unprivileged user.</p><hr />
  <h2 id="4-setting-up-simple-fileserver">
    
    
     <a href="#4-setting-up-simple-fileserver">#</a><a href="#" aria-label="Back to top">4. Setting Up <code class="language-plaintext highlighter-rouge">simple-fileserver</code></a>
        
    
  </h2>
      
  <h3 id="41-prerequisites">
    
    
     <a href="#41-prerequisites">#</a><a href="#" aria-label="Back to top">4.1 Prerequisites</a>
        
    
  </h3>
      

<ul>
  <li><strong>RK3588 ARM64 Device</strong>: Ensure your device is running Debian 11 Bullseye or a compatible ARM64 Linux distribution.</li>
  <li><strong>Go Toolchain (Version 1.24.0 or newer)</strong>: <code class="language-plaintext highlighter-rouge">simple-fileserver</code> requires Go 1.24.0 or newer as per its <code class="language-plaintext highlighter-rouge">go.mod</code> file (HEATHCLIFF26, 2023). Debian Bullseye’s default <code class="language-plaintext highlighter-rouge">golang-go</code> package might be older. It’s recommended to install Go from the official binaries:
    <ol>
      <li>Visit the official Go downloads page: <a href="https://golang.org/dl/">golang.org/dl/</a></li>
      <li>Download the ARM64 Linux tarball for the required Go version (e.g., <code class="language-plaintext highlighter-rouge">go1.24.3.linux-arm64.tar.gz</code> at the time of writing).</li>
      <li>Install Go to <code class="language-plaintext highlighter-rouge">/usr/local</code>:
        <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="c"># Example for Go 1.24.3 (replace with the latest stable version if different)</span>
wget https://golang.org/dl/go1.24.3.linux-arm64.tar.gz 
<span class="nb">sudo rm</span> <span class="nt">-rf</span> /usr/local/go <span class="o">&amp;&amp;</span> <span class="nb">sudo tar</span> <span class="nt">-C</span> /usr/local <span class="nt">-xzf</span> go1.24.3.linux-arm64.tar.gz
</code></section></div>        </div>
      </li>
      <li>Add Go to your <code class="language-plaintext highlighter-rouge">PATH</code>. Add the following line to your <code class="language-plaintext highlighter-rouge">~/.bashrc</code> or <code class="language-plaintext highlighter-rouge">~/.zshrc</code> (or system-wide in <code class="language-plaintext highlighter-rouge">/etc/profile.d/go.sh</code>):
        <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:/usr/local/go/bin
</code></section></div>        </div>
      </li>
      <li>Apply the changes and verify:
        <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">source</span> ~/.bashrc <span class="c"># Or the relevant profile file, or logout and login</span>
go version
</code></section></div>        </div>
      </li>
    </ol>
  </li>
  <li><strong>Git</strong>: For cloning the source code repository.
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">sudo </span>apt update
<span class="nb">sudo </span>apt <span class="nb">install </span>git
</code></section></div>    </div>
  </li>
  <li><strong>Build Essentials</strong>: (Usually present, but good to ensure)
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">sudo </span>apt <span class="nb">install </span>build-essential make
</code></section></div>    </div>
  </li>
  <li><strong>Internet Access</strong>: Required to clone the repository and download Go modules.</li>
  <li><strong>(Optional) SSL Certificates</strong>: If you plan to serve content over HTTPS directly or via a reverse proxy.</li>
</ul>
  <h3 id="42-cloning-the-repository">
    
    
     <a href="#42-cloning-the-repository">#</a><a href="#" aria-label="Back to top">4.2 Cloning the Repository</a>
        
    
  </h3>
      

<p>Clone the <code class="language-plaintext highlighter-rouge">simple-fileserver</code> source code from GitHub:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><section><code>git clone https://github.com/heathcliff26/simple-fileserver.git
<span class="nb">cd </span>simple-fileserver
</code></section></div></div>
  <h3 id="43-building-the-binary">
    
    
     <a href="#43-building-the-binary">#</a><a href="#" aria-label="Back to top">4.3 Building the Binary</a>
        
    
  </h3>
      

<p>The repository includes a <code class="language-plaintext highlighter-rouge">Makefile</code> and a build script (<code class="language-plaintext highlighter-rouge">hack/build.sh</code>) (HEATHCLIFF26, 2023) that simplifies compilation. Using <code class="language-plaintext highlighter-rouge">make build</code> is recommended as it typically incorporates version information and other build flags defined in <code class="language-plaintext highlighter-rouge">hack/build.sh</code>.</p>

<ol>
  <li><strong>Navigate to the cloned repository directory</strong>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">cd </span>simple-fileserver <span class="c"># If not already there</span>
</code></section></div>    </div>
  </li>
  <li><strong>Build using the Makefile</strong>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>make build
</code></section></div>    </div>
    <p>This command executes <code class="language-plaintext highlighter-rouge">hack/build.sh</code>, which should correctly detect the ARM64 architecture and build a static binary.</p>
  </li>
  <li><strong>Locate and Install the Binary</strong>:
The compiled binary will be in <code class="language-plaintext highlighter-rouge">bin/simple-fileserver</code>. Copy it to a standard location:
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">sudo cp</span> ./bin/simple-fileserver /usr/local/bin/simple-fileserver
<span class="nb">sudo chmod</span> +x /usr/local/bin/simple-fileserver
</code></section></div>    </div>
  </li>
</ol><hr />
  <h2 id="5-running-the-server">
    
    
     <a href="#5-running-the-server">#</a><a href="#" aria-label="Back to top">5. Running the Server</a>
        
    
  </h2>
      
  <h3 id="51-initial-run-testing">
    
    
     <a href="#51-initial-run-testing">#</a><a href="#" aria-label="Back to top">5.1 Initial Run (Testing)</a>
        
    
  </h3>
      

<p>Before setting up a permanent service, test the server from your terminal.</p>

<ol>
  <li><strong>Create a directory for your web content</strong> (standardizing on <code class="language-plaintext highlighter-rouge">/srv/simplefs-webroot/public</code> for examples):
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">sudo mkdir</span> <span class="nt">-p</span> /srv/simplefs-webroot/public
<span class="nb">echo</span> <span class="s2">"Hello from simple-fileserver on RK3588!"</span> | <span class="nb">sudo tee</span> /srv/simplefs-webroot/public/index.html
<span class="c"># Ensure the user who will run the server can read this (see Security section)</span>
<span class="c"># For testing, you can temporarily make it world-readable if running as your own user:</span>
<span class="c"># sudo chmod -R a+rX /srv/simplefs-webroot</span>
</code></section></div>    </div>
  </li>
  <li><strong>Run the compiled binary</strong>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code>/usr/local/bin/simple-fileserver <span class="se">\</span>
  <span class="nt">-webroot</span> /srv/simplefs-webroot/public <span class="se">\</span>
  <span class="nt">-port</span> 8080 <span class="se">\</span>
  <span class="nt">-log</span>
</code></section></div>    </div>
    <ul>
      <li>The server will listen on port <code class="language-plaintext highlighter-rouge">8080</code>.</li>
      <li><code class="language-plaintext highlighter-rouge">-log</code> enables request logging to standard output.</li>
    </ul>

    <p>Access <code class="language-plaintext highlighter-rouge">http://&lt;RK3588_IP_ADDRESS&gt;:8080</code> in a browser. Press <code class="language-plaintext highlighter-rouge">Ctrl+C</code> to stop.</p>
  </li>
</ol>
  <h3 id="52-running-as-a-dedicated-non-root-user-recommended">
    
    
     <a href="#52-running-as-a-dedicated-non-root-user-recommended">#</a><a href="#" aria-label="Back to top">5.2 Running as a Dedicated Non-Root User (Recommended)</a>
        
    
  </h3>
      

<p>This is crucial for security and is detailed in Section 10. The server should not run as <code class="language-plaintext highlighter-rouge">root</code>.</p><hr />
  <h2 id="6-configuring-simple-fileserver">
    
    
     <a href="#6-configuring-simple-fileserver">#</a><a href="#" aria-label="Back to top">6. Configuring <code class="language-plaintext highlighter-rouge">simple-fileserver</code></a>
        
    
  </h2>
      

<p>Configuration is via command-line arguments or environment variables (<code class="language-plaintext highlighter-rouge">cmd/cmd.go</code>, HEATHCLIFF26, 2023). Command-line arguments take precedence.</p>
  <h3 id="61-command-line-arguments">
    
    
     <a href="#61-command-line-arguments">#</a><a href="#" aria-label="Back to top">6.1 Command-Line Arguments</a>
        
    
  </h3>
      

<table>
  <thead>
    <tr>
      <th>Argument</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">-webroot</code></td>
      <td><strong>Required</strong>. Absolute path to the root directory to serve files from.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">-port</code></td>
      <td>Port for the server to listen on (default <code class="language-plaintext highlighter-rouge">8080</code>).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">-cert</code></td>
      <td>Path to SSL certificate file (enables HTTPS directly).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">-key</code></td>
      <td>Path to SSL private key file (required if <code class="language-plaintext highlighter-rouge">-cert</code> is used).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">-log</code></td>
      <td>Enables logging of HTTP requests.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">-no-index</code></td>
      <td>Disables directory listing. If a directory doesn’t contain an <code class="language-plaintext highlighter-rouge">index.html</code>, a 404 error is returned instead of listing the directory’s contents.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">-version</code></td>
      <td>Displays version information and exits.</td>
    </tr>
  </tbody>
</table>
  <h3 id="62-environment-variables">
    
    
     <a href="#62-environment-variables">#</a><a href="#" aria-label="Back to top">6.2 Environment Variables</a>
        
    
  </h3>
      

<table>
  <thead>
    <tr>
      <th>Environment Variable</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SFILESERVER_WEBROOT</code></td>
      <td>Same as <code class="language-plaintext highlighter-rouge">-webroot</code>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SFILESERVER_PORT</code></td>
      <td>Same as <code class="language-plaintext highlighter-rouge">-port</code>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SFILESERVER_CERT</code></td>
      <td>Same as <code class="language-plaintext highlighter-rouge">-cert</code>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SFILESERVER_KEY</code></td>
      <td>Same as <code class="language-plaintext highlighter-rouge">-key</code>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SFILESERVER_LOG</code></td>
      <td>Same as <code class="language-plaintext highlighter-rouge">-log</code> (set to <code class="language-plaintext highlighter-rouge">true</code> or <code class="language-plaintext highlighter-rouge">1</code>).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SFILESERVER_NO_INDEX</code></td>
      <td>Same as <code class="language-plaintext highlighter-rouge">-no-index</code> (set to <code class="language-plaintext highlighter-rouge">true</code> or <code class="language-plaintext highlighter-rouge">1</code>).</td>
    </tr>
  </tbody>
</table>
  <h3 id="63-using-command-line-arguments-vs-environment-variables">
    
    
     <a href="#63-using-command-line-arguments-vs-environment-variables">#</a><a href="#" aria-label="Back to top">6.3 Using Command-Line Arguments vs Environment Variables</a>
        
    
  </h3>
      

<p>Environment variables are useful for <code class="language-plaintext highlighter-rouge">systemd</code> service files or scripts.</p>

<p><strong>Example using environment variables:</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">export </span><span class="nv">SFILESERVER_WEBROOT</span><span class="o">=</span>/srv/simplefs-webroot/public
<span class="nb">export </span><span class="nv">SFILESERVER_PORT</span><span class="o">=</span>8080
<span class="nb">export </span><span class="nv">SFILESERVER_LOG</span><span class="o">=</span><span class="nb">true</span>
/usr/local/bin/simple-fileserver
</code></section></div></div><hr />
  <h2 id="7-organizing-your-files">
    
    
     <a href="#7-organizing-your-files">#</a><a href="#" aria-label="Back to top">7. Organizing Your Files</a>
        
    
  </h2>
      

<p>A structured approach simplifies management and security.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>/srv/simplefs-webroot/  # Base directory for content served by simple-fileserver
├── public/             # This would be your -webroot (e.g., for HTTP/S access)
│   ├── documents/
│   ├── images/
│   └── downloads/
└── restricted/         # Content NOT directly served or served with specific SSL/auth
    ├── sensitive-docs/
</code></section></div></div>
<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">-webroot</code></strong>: Always use an absolute path. Ensure this directory <em>only</em> contains files intended for public access via <code class="language-plaintext highlighter-rouge">simple-fileserver</code>.</li>
</ul><hr />
  <h2 id="8-ssl-configuration">
    
    
     <a href="#8-ssl-configuration">#</a><a href="#" aria-label="Back to top">8. SSL Configuration</a>
        
    
  </h2>
      
  <h3 id="81-using-a-reverse-proxy-with-ssl-recommended">
    
    
     <a href="#81-using-a-reverse-proxy-with-ssl-recommended">#</a><a href="#" aria-label="Back to top">8.1 Using a Reverse Proxy with SSL (<strong>Recommended</strong>)</a>
        
    
  </h3>
      

<p>A reverse proxy (Nginx, Caddy, Apache) enhances security and flexibility.</p>
  <h4 id="811-setting-up-nginx-as-a-reverse-proxy">
    
    
     <a href="#811-setting-up-nginx-as-a-reverse-proxy">#</a><a href="#" aria-label="Back to top">8.1.1 Setting Up Nginx as a Reverse Proxy</a>
        
    
  </h4>
      

<ol>
  <li><strong>Install Nginx</strong>: <code class="language-plaintext highlighter-rouge">sudo apt update &amp;&amp; sudo apt install nginx</code></li>
  <li><strong>Configure Nginx</strong>: Create <code class="language-plaintext highlighter-rouge">/etc/nginx/sites-available/simple-fileserver-proxy</code>:
    <div class="language-nginx highlighter-rouge"><div class="highlight"><section><code><span class="k">server</span> <span class="p">{</span>
    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
    <span class="kn">server_name</span> <span class="s">example.com</span> <span class="s">www.example.com</span><span class="p">;</span> <span class="c1"># Replace with your domain</span>
    <span class="kn">return</span> <span class="mi">301</span> <span class="s">https://</span><span class="nv">$host$request_uri</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">server</span> <span class="p">{</span>
    <span class="kn">listen</span> <span class="mi">443</span> <span class="s">ssl</span> <span class="s">http2</span><span class="p">;</span>
    <span class="kn">server_name</span> <span class="s">example.com</span> <span class="s">www.example.com</span><span class="p">;</span> <span class="c1"># Replace with your domain</span>

    <span class="c1"># SSL Certificate paths (Certbot will manage these)</span>
    <span class="kn">ssl_certificate</span>     <span class="n">/etc/letsencrypt/live/example.com/fullchain.pem</span><span class="p">;</span>
    <span class="kn">ssl_certificate_key</span> <span class="n">/etc/letsencrypt/live/example.com/privkey.pem</span><span class="p">;</span>

    <span class="c1"># Strong SSL Settings (Refer to Mozilla SSL Configuration Generator for current best practices)</span>
    <span class="kn">ssl_protocols</span> <span class="s">TLSv1.2</span> <span class="s">TLSv1.3</span><span class="p">;</span>
    <span class="kn">ssl_prefer_server_ciphers</span> <span class="no">off</span><span class="p">;</span>
    <span class="kn">ssl_ciphers</span> <span class="s">'ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384'</span><span class="p">;</span>
        
    <span class="c1"># Add HSTS header (after confirming everything works)</span>
    <span class="c1"># add_header Strict-Transport-Security "max-age=63072000; includeSubDomains; preload" always;</span>

    <span class="kn">location</span> <span class="n">/</span> <span class="p">{</span>
        <span class="kn">proxy_pass</span> <span class="s">http://127.0.0.1:8080</span><span class="p">;</span> <span class="c1"># Assuming simple-fileserver on port 8080</span>
        <span class="kn">proxy_set_header</span> <span class="s">Host</span> <span class="nv">$host</span><span class="p">;</span>
        <span class="kn">proxy_set_header</span> <span class="s">X-Real-IP</span> <span class="nv">$remote_addr</span><span class="p">;</span>
        <span class="kn">proxy_set_header</span> <span class="s">X-Forwarded-For</span> <span class="nv">$proxy_add_x_forwarded_for</span><span class="p">;</span>
        <span class="kn">proxy_set_header</span> <span class="s">X-Forwarded-Proto</span> <span class="nv">$scheme</span><span class="p">;</span>
        <span class="kn">proxy_http_version</span> <span class="mf">1.1</span><span class="p">;</span>
        <span class="kn">proxy_set_header</span> <span class="s">Upgrade</span> <span class="nv">$http_upgrade</span><span class="p">;</span>
        <span class="kn">proxy_set_header</span> <span class="s">Connection</span> <span class="s">"upgrade"</span><span class="p">;</span>
        <span class="kn">proxy_buffering</span> <span class="no">off</span><span class="p">;</span> <span class="c1"># Can be useful for large file streaming</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></section></div>    </div>
  </li>
  <li><strong>Enable and Restart Nginx</strong>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">sudo ln</span> <span class="nt">-s</span> /etc/nginx/sites-available/simple-fileserver-proxy /etc/nginx/sites-enabled/
<span class="nb">sudo </span>nginx <span class="nt">-t</span> <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>systemctl restart nginx
</code></section></div>    </div>
    <p>Run <code class="language-plaintext highlighter-rouge">simple-fileserver</code> listening on <code class="language-plaintext highlighter-rouge">127.0.0.1:8080</code> (e.g., as <code class="language-plaintext highlighter-rouge">simplefsuser</code>).</p>
  </li>
</ol>
  <h4 id="812-obtaining-ssl-certificates-with-lets-encrypt">
    
    
     <a href="#812-obtaining-ssl-certificates-with-lets-encrypt">#</a><a href="#" aria-label="Back to top">8.1.2 Obtaining SSL Certificates with Let’s Encrypt</a>
        
    
  </h4>
      

<ol>
  <li><strong>Install Certbot</strong>: <code class="language-plaintext highlighter-rouge">sudo apt install certbot python3-certbot-nginx</code></li>
  <li><strong>Obtain Certificate</strong>: <code class="language-plaintext highlighter-rouge">sudo certbot --nginx -d example.com -d www.example.com</code> (replace with your domain)</li>
  <li><strong>Test Renewal</strong>: <code class="language-plaintext highlighter-rouge">sudo certbot renew --dry-run</code></li>
</ol>
  <h3 id="82-direct-ssl-termination-use-with-caution">
    
    
     <a href="#82-direct-ssl-termination-use-with-caution">#</a><a href="#" aria-label="Back to top">8.2 Direct SSL Termination (Use with Caution)</a>
        
    
  </h3>
      

<p>Less secure and flexible for production.</p>

<ol>
  <li><strong>Prepare SSL Certificates</strong>: Store <code class="language-plaintext highlighter-rouge">cert.pem</code> and <code class="language-plaintext highlighter-rouge">key.pem</code> (e.g., in <code class="language-plaintext highlighter-rouge">/etc/simple-fileserver/ssl/</code>).
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">sudo mkdir</span> <span class="nt">-p</span> /etc/simple-fileserver/ssl
<span class="c"># Copy your cert.pem and key.pem here</span>
<span class="c"># Example: sudo cp /path/to/your/cert.pem /path/to/your/key.pem /etc/simple-fileserver/ssl/</span>
<span class="c"># Ensure simplefsuser (see Section 10.1) can read them:</span>
<span class="nb">sudo chown</span> <span class="nt">-R</span> root:simplefsuser /etc/simple-fileserver/ssl
<span class="nb">sudo chmod </span>0750 /etc/simple-fileserver/ssl <span class="c"># Directory permissions</span>
<span class="nb">sudo chmod </span>0640 /etc/simple-fileserver/ssl/cert.pem
<span class="nb">sudo chmod </span>0600 /etc/simple-fileserver/ssl/key.pem <span class="c"># Key must be private</span>
</code></section></div>    </div>
  </li>
  <li><strong>Run with SSL</strong>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="c"># As simplefsuser (or the user you configured)</span>
<span class="nb">sudo</span> <span class="nt">-u</span> simplefsuser /usr/local/bin/simple-fileserver <span class="se">\</span>
  <span class="nt">-webroot</span> /srv/simplefs-webroot/public <span class="se">\</span>
  <span class="nt">-port</span> 8443 <span class="se">\</span>
  <span class="nt">-cert</span> /etc/simple-fileserver/ssl/cert.pem <span class="se">\</span>
  <span class="nt">-key</span> /etc/simple-fileserver/ssl/key.pem <span class="se">\</span>
  <span class="nt">-log</span>
</code></section></div>    </div>
    <p>Open port <code class="language-plaintext highlighter-rouge">8443</code> in your firewall.</p>
  </li>
</ol><hr />
  <h2 id="9-performance-optimization">
    
    
     <a href="#9-performance-optimization">#</a><a href="#" aria-label="Back to top">9. Performance Optimization</a>
        
    
  </h2>
      
  <h3 id="91-system-tuning">
    
    
     <a href="#91-system-tuning">#</a><a href="#" aria-label="Back to top">9.1 System Tuning</a>
        
    
  </h3>
      

<ul>
  <li><strong>Max Open Files</strong>: Edit <code class="language-plaintext highlighter-rouge">/etc/security/limits.conf</code>:
```
    <ul>
      <li>soft  nofile  65535</li>
      <li>hard  nofile  65535
simplefsuser soft  nofile  65535 
simplefsuser hard  nofile  65535
```
Apply with logout/login or set <code class="language-plaintext highlighter-rouge">LimitNOFILE</code> in systemd service. Temp: <code class="language-plaintext highlighter-rouge">ulimit -n 65535</code>.</li>
    </ul>
  </li>
  <li><strong>Network Buffers</strong>: In <code class="language-plaintext highlighter-rouge">/etc/sysctl.conf</code> (or <code class="language-plaintext highlighter-rouge">/etc/sysctl.d/99-local.conf</code>):
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>net.core.rmem_max=16777216
net.core.wmem_max=16777216
</code></section></div>    </div>
    <p>Apply: <code class="language-plaintext highlighter-rouge">sudo sysctl -p</code>.</p>
  </li>
  <li><strong>Memory Management</strong>: In <code class="language-plaintext highlighter-rouge">/etc/sysctl.conf</code> (or <code class="language-plaintext highlighter-rouge">/etc/sysctl.d/99-local.conf</code>):
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>vm.vfs_cache_pressure=50
vm.swappiness=10
</code></section></div>    </div>
    <p>Apply: <code class="language-plaintext highlighter-rouge">sudo sysctl -p</code>.</p>
  </li>
</ul>
  <h3 id="92-file-system-optimization">
    
    
     <a href="#92-file-system-optimization">#</a><a href="#" aria-label="Back to top">9.2 File System Optimization</a>
        
    
  </h3>
      

<ul>
  <li><strong>Fast File System</strong>: <code class="language-plaintext highlighter-rouge">ext4</code> or <code class="language-plaintext highlighter-rouge">XFS</code> on SSD/NVMe.</li>
  <li><strong>Mount Options</strong> (in <code class="language-plaintext highlighter-rouge">/etc/fstab</code> for the <code class="language-plaintext highlighter-rouge">/srv/simplefs-webroot</code> partition, if separate):
<code class="language-plaintext highlighter-rouge">defaults,noatime,nodiratime,discard</code> (discard for SSDs). Remount or reboot.</li>
</ul>
  <h3 id="93-arm64-specific-optimizations">
    
    
     <a href="#93-arm64-specific-optimizations">#</a><a href="#" aria-label="Back to top">9.3 ARM64-Specific Optimizations</a>
        
    
  </h3>
      

<ul>
  <li><strong>CPU Scaling</strong>: Set governor to <code class="language-plaintext highlighter-rouge">performance</code> for high load, or <code class="language-plaintext highlighter-rouge">ondemand</code>/<code class="language-plaintext highlighter-rouge">schedutil</code> for balance. Check with <code class="language-plaintext highlighter-rouge">cat /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor</code>.</li>
  <li><strong>Monitoring</strong>: Use <code class="language-plaintext highlighter-rouge">htop</code>, <code class="language-plaintext highlighter-rouge">iotop</code>, <code class="language-plaintext highlighter-rouge">dstat</code>, <code class="language-plaintext highlighter-rouge">perf</code>.</li>
  <li><strong>Updates</strong>: Keep kernel and firmware updated via <code class="language-plaintext highlighter-rouge">sudo apt update &amp;&amp; sudo apt upgrade</code>.</li>
</ul><hr />
  <h2 id="10-security-best-practices-for-bare-metal-deployment">
    
    
     <a href="#10-security-best-practices-for-bare-metal-deployment">#</a><a href="#" aria-label="Back to top">10. Security Best Practices for Bare-Metal Deployment</a>
        
    
  </h2>
      
  <h3 id="101-dedicated-non-root-user">
    
    
     <a href="#101-dedicated-non-root-user">#</a><a href="#" aria-label="Back to top">10.1 Dedicated Non-Root User</a>
        
    
  </h3>
      

<p><strong>Crucial.</strong></p>
<ol>
  <li><strong>Create User</strong>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">sudo </span>adduser <span class="nt">--system</span> <span class="nt">--group</span> <span class="nt">--no-create-home</span> <span class="nt">--shell</span> /usr/sbin/nologin simplefsuser
</code></section></div>    </div>
  </li>
  <li><strong>Binary Permissions</strong>: (Assuming binary at <code class="language-plaintext highlighter-rouge">/usr/local/bin/simple-fileserver</code>)
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">sudo chown </span>root:simplefsuser /usr/local/bin/simple-fileserver
<span class="nb">sudo chmod </span>750 /usr/local/bin/simple-fileserver <span class="c"># rwxr-x---</span>
</code></section></div>    </div>
  </li>
  <li><strong>Webroot &amp; SSL Permissions</strong>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">sudo mkdir</span> <span class="nt">-p</span> /srv/simplefs-webroot/public
<span class="nb">sudo chown</span> <span class="nt">-R</span> simplefsuser:simplefsuser /srv/simplefs-webroot
<span class="nb">sudo </span>find /srv/simplefs-webroot <span class="nt">-type</span> d <span class="nt">-exec</span> <span class="nb">chmod </span>750 <span class="o">{}</span> <span class="se">\;</span> <span class="c"># Dirs: rwxr-x---</span>
<span class="nb">sudo </span>find /srv/simplefs-webroot <span class="nt">-type</span> f <span class="nt">-exec</span> <span class="nb">chmod </span>640 <span class="o">{}</span> <span class="se">\;</span> <span class="c"># Files: rw-r----</span>
<span class="c"># For direct SSL (certs in /etc/simple-fileserver/ssl/):</span>
<span class="nb">sudo mkdir</span> <span class="nt">-p</span> /etc/simple-fileserver/ssl
<span class="nb">sudo chown</span> <span class="nt">-R</span> root:simplefsuser /etc/simple-fileserver/ssl
<span class="nb">sudo chmod </span>0750 /etc/simple-fileserver/ssl <span class="c"># Directory permissions</span>
<span class="nb">sudo chmod </span>0640 /etc/simple-fileserver/ssl/<span class="k">*</span>cert.pem <span class="c"># Or your cert name</span>
<span class="nb">sudo chmod </span>0600 /etc/simple-fileserver/ssl/<span class="k">*</span>key.pem  <span class="c"># Or your key name</span>
</code></section></div>    </div>
  </li>
  <li><strong>Run as <code class="language-plaintext highlighter-rouge">simplefsuser</code></strong>: Via <code class="language-plaintext highlighter-rouge">sudo -u simplefsuser ...</code> or <code class="language-plaintext highlighter-rouge">User=simplefsuser</code> in systemd.</li>
</ol>
  <h3 id="102-firewall-configuration">
    
    
     <a href="#102-firewall-configuration">#</a><a href="#" aria-label="Back to top">10.2 Firewall Configuration</a>
        
    
  </h3>
      

<p>(Using UFW as an example)</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="c"># If simple-fileserver direct on 8080:</span>
<span class="nb">sudo </span>ufw allow 8080/tcp
<span class="c"># If Nginx reverse proxy for HTTP/HTTPS:</span>
<span class="c"># sudo ufw allow http </span>
<span class="c"># sudo ufw allow https</span>
<span class="nb">sudo </span>ufw <span class="nb">enable
sudo </span>ufw status
</code></section></div></div>
  <h3 id="103-strict-file-permissions-and-webroot-management">
    
    
     <a href="#103-strict-file-permissions-and-webroot-management">#</a><a href="#" aria-label="Back to top">10.3 Strict File Permissions and Webroot Management</a>
        
    
  </h3>
      

<ul>
  <li><code class="language-plaintext highlighter-rouge">simplefsuser</code> needs <em>only read</em> access to webroot files, <em>execute</em> on directories within the webroot.</li>
  <li>The <code class="language-plaintext highlighter-rouge">-webroot</code> argument must be an absolute path to an isolated directory containing <em>only</em> files intended for public access.</li>
  <li><strong>Never</strong> point <code class="language-plaintext highlighter-rouge">-webroot</code> to <code class="language-plaintext highlighter-rouge">/</code>, <code class="language-plaintext highlighter-rouge">~</code>, <code class="language-plaintext highlighter-rouge">/tmp</code>, or any other sensitive system directory.</li>
</ul>
  <h3 id="104-path-traversal-vulnerability-mitigation">
    
    
     <a href="#104-path-traversal-vulnerability-mitigation">#</a><a href="#" aria-label="Back to top">10.4 Path Traversal Vulnerability Mitigation</a>
        
    
  </h3>
      

<ol>
  <li><strong>Run as unprivileged <code class="language-plaintext highlighter-rouge">simplefsuser</code></strong>. This is the primary mitigation.</li>
  <li><strong>Correct and absolute <code class="language-plaintext highlighter-rouge">-webroot</code> path</strong> definition.</li>
  <li><strong>Strict file system permissions</strong> for <code class="language-plaintext highlighter-rouge">simplefsuser</code>, preventing access outside its designated areas.</li>
  <li><strong>Reverse Proxy</strong> can add a layer of path normalization and request filtering.</li>
  <li><strong>Chroot (Advanced)</strong>, see below, for an additional strong layer of filesystem isolation.</li>
</ol>

<p><strong>The application-level risk noted by the author remains the primary concern if the Go <code class="language-plaintext highlighter-rouge">http.FileServer</code> itself has issues or <code class="language-plaintext highlighter-rouge">simple-fileserver</code>’s argument handling is flawed, allowing interpretation of “..” sequences to escape the defined webroot, even if ultimately limited by OS permissions.</strong></p>
  <h3 id="105-chroot-advanced">
    
    
     <a href="#105-chroot-advanced">#</a><a href="#" aria-label="Back to top">10.5 Chroot (Advanced)</a>
        
    
  </h3>
      

<p>Restricts the server’s view of the filesystem to a specific directory, making path traversal outside this “jail” significantly harder.
Since <code class="language-plaintext highlighter-rouge">simple-fileserver</code> is built as a static Go binary (due to <code class="language-plaintext highlighter-rouge">CGO_ENABLED=0</code> in its build process, as seen in <code class="language-plaintext highlighter-rouge">hack/build.sh</code>), setting up a chroot jail is simpler as there are minimal dynamic library dependencies to copy into the jail.
This involves creating a jail directory, copying the binary, the webroot content into the jail, and potentially a few essential device nodes like <code class="language-plaintext highlighter-rouge">/dev/null</code>, <code class="language-plaintext highlighter-rouge">/dev/random</code>, <code class="language-plaintext highlighter-rouge">/dev/urandom</code> if strictly needed by the Go runtime for specific operations (though often Go uses syscalls directly for these). Running the server would then involve the <code class="language-plaintext highlighter-rouge">chroot</code> command. This is an advanced setup.</p>
  <h3 id="106-regular-audits-and-source-updates">
    
    
     <a href="#106-regular-audits-and-source-updates">#</a><a href="#" aria-label="Back to top">10.6 Regular Audits and Source Updates</a>
        
    
  </h3>
      

<ul>
  <li>Periodically audit file permissions and configurations.</li>
  <li>Monitor logs for suspicious activity (if <code class="language-plaintext highlighter-rouge">-log</code> is enabled and logs are captured).</li>
  <li>Keep your Debian Bullseye system updated: <code class="language-plaintext highlighter-rouge">sudo apt update &amp;&amp; sudo apt full-upgrade</code>.</li>
  <li>Periodically check the <code class="language-plaintext highlighter-rouge">simple-fileserver</code> GitHub repository for updates or security notices. If updates are available, you’ll need to <code class="language-plaintext highlighter-rouge">git pull</code> the changes and rebuild the binary (see Section 11.5).</li>
</ul><hr />
  <h2 id="11-maintenance-procedures">
    
    
     <a href="#11-maintenance-procedures">#</a><a href="#" aria-label="Back to top">11. Maintenance Procedures</a>
        
    
  </h2>
      
  <h3 id="111-stopping-and-restarting-the-service">
    
    
     <a href="#111-stopping-and-restarting-the-service">#</a><a href="#" aria-label="Back to top">11.1 Stopping and Restarting the Service</a>
        
    
  </h3>
      

<ul>
  <li><strong>Manual Foreground</strong>: <code class="language-plaintext highlighter-rouge">Ctrl+C</code>.</li>
  <li><strong>Manual Background (<code class="language-plaintext highlighter-rouge">&amp;</code>)</strong>: <code class="language-plaintext highlighter-rouge">pgrep -u simplefsuser -f simple-fileserver</code> then <code class="language-plaintext highlighter-rouge">sudo kill &lt;PID&gt;</code>.</li>
  <li><strong>Systemd</strong>: See below.</li>
</ul>
  <h3 id="112-managing-with-systemd-recommended-for-production">
    
    
     <a href="#112-managing-with-systemd-recommended-for-production">#</a><a href="#" aria-label="Back to top">11.2 Managing with <code class="language-plaintext highlighter-rouge">systemd</code> (Recommended for Production)</a>
        
    
  </h3>
      

<p>Create <code class="language-plaintext highlighter-rouge">/etc/systemd/system/simple-fileserver.service</code>:</p>
<div class="language-ini highlighter-rouge"><div class="highlight"><section><code><span class="nn">[Unit]</span>
<span class="py">Description</span><span class="p">=</span><span class="s">Simple File Server</span>
<span class="py">After</span><span class="p">=</span><span class="s">network.target</span>

<span class="nn">[Service]</span>
<span class="py">Type</span><span class="p">=</span><span class="s">simple</span>
<span class="py">User</span><span class="p">=</span><span class="s">simplefsuser</span>
<span class="py">Group</span><span class="p">=</span><span class="s">simplefsuser</span>

<span class="c"># Option 1: Command-line arguments
</span><span class="py">ExecStart</span><span class="p">=</span><span class="s">/usr/local/bin/simple-fileserver -port 8080 -webroot /srv/simplefs-webroot/public -log</span>

<span class="c"># Option 2: Environment variables (uncomment and adjust ExecStart if preferred)
# Environment="SFILESERVER_PORT=8080"
# Environment="SFILESERVER_WEBROOT=/srv/simplefs-webroot/public"
# Environment="SFILESERVER_LOG=true"
# ExecStart=/usr/local/bin/simple-fileserver
</span>
<span class="py">Restart</span><span class="p">=</span><span class="s">on-failure</span>
<span class="py">RestartSec</span><span class="p">=</span><span class="s">5s</span>

<span class="c"># Logging to journald
</span><span class="py">StandardOutput</span><span class="p">=</span><span class="s">journal</span>
<span class="py">StandardError</span><span class="p">=</span><span class="s">journal</span>

<span class="c"># Security Hardening
</span><span class="py">ProtectSystem</span><span class="p">=</span><span class="s">full</span>
<span class="py">PrivateTmp</span><span class="p">=</span><span class="s">true</span>
<span class="py">NoNewPrivileges</span><span class="p">=</span><span class="s">true</span>
<span class="py">ProtectHome</span><span class="p">=</span><span class="s">read-only # Or true if webroot is not under /home; 'read-only' is safer.</span>
<span class="c"># Ensure simplefsuser can read its webroot and SSL certs if used
</span><span class="py">ReadOnlyPaths</span><span class="p">=</span><span class="s">/srv/simplefs-webroot/public</span>
<span class="c"># If using direct SSL with certs in /etc/simple-fileserver/ssl:
</span><span class="py">ReadOnlyPaths</span><span class="p">=</span><span class="s">/etc/simple-fileserver/ssl</span>

<span class="nn">[Install]</span>
<span class="py">WantedBy</span><span class="p">=</span><span class="s">multi-user.target</span>
</code></section></div></div>
<p><strong>Reload, Enable, Start</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="nb">sudo </span>systemctl daemon-reload
<span class="nb">sudo </span>systemctl <span class="nb">enable </span>simple-fileserver.service
<span class="nb">sudo </span>systemctl start simple-fileserver.service
</code></section></div></div>
<p><strong>Manage</strong>: <code class="language-plaintext highlighter-rouge">sudo systemctl status/stop/start/restart simple-fileserver.service</code>
<strong>Logs</strong>: <code class="language-plaintext highlighter-rouge">sudo journalctl -u simple-fileserver.service -f</code> (to follow logs)</p>
  <h3 id="113-regular-tasks-including-log-management">
    
    
     <a href="#113-regular-tasks-including-log-management">#</a><a href="#" aria-label="Back to top">11.3 Regular Tasks (Including Log Management)</a>
        
    
  </h3>
      

<ul>
  <li><strong>Monitor Disk Usage</strong>: <code class="language-plaintext highlighter-rouge">du -sh /srv/simplefs-webroot/public</code>.</li>
  <li><strong>Identify Large Files</strong>: <code class="language-plaintext highlighter-rouge">find /srv/simplefs-webroot/public -type f -printf "%s\t%p\n" | sort -nr | head -n 20</code>.</li>
  <li><strong>Log Management</strong>:
    <ul>
      <li>If using <code class="language-plaintext highlighter-rouge">systemd</code> with <code class="language-plaintext highlighter-rouge">StandardOutput=journal</code>, logs go to <code class="language-plaintext highlighter-rouge">journald</code>. <code class="language-plaintext highlighter-rouge">journald</code> has its own size limits and rotation (configurable in <code class="language-plaintext highlighter-rouge">/etc/systemd/journald.conf</code>). You can view logs with <code class="language-plaintext highlighter-rouge">journalctl -u simple-fileserver.service</code>.</li>
      <li>If you redirect <code class="language-plaintext highlighter-rouge">simple-fileserver</code> output to a custom log file (not recommended if using systemd’s journal integration), use <code class="language-plaintext highlighter-rouge">logrotate</code> to manage log file sizes. Create a config in <code class="language-plaintext highlighter-rouge">/etc/logrotate.d/simple-fileserver</code>:
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>/var/log/simple-fileserver.log { # Adjust path to your custom log file
    daily
    rotate 7
    compress
    delaycompress
    missingok
    notifempty
    create 640 simplefsuser simplefsuser # Or appropriate user/group
}
</code></section></div>        </div>
      </li>
    </ul>
  </li>
</ul>
  <h3 id="114-backup-strategy">
    
    
     <a href="#114-backup-strategy">#</a><a href="#" aria-label="Back to top">11.4 Backup Strategy</a>
        
    
  </h3>
      

<p>A script to backup web content and critical configurations. Store this script, for example, at <code class="language-plaintext highlighter-rouge">/usr/local/sbin/backup_simplefs.sh</code>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><section><code><span class="c">#!/bin/bash</span>
<span class="nv">BACKUP_DIR</span><span class="o">=</span><span class="s2">"/opt/backups/simplefs"</span> <span class="c"># Choose a secure backup location</span>
<span class="nv">WEBROOT_DIR</span><span class="o">=</span><span class="s2">"/srv/simplefs-webroot/public"</span>
<span class="nv">NGINX_CONFIG_DIR</span><span class="o">=</span><span class="s2">"/etc/nginx"</span>
<span class="nv">SYSTEMD_SERVICE_FILE</span><span class="o">=</span><span class="s2">"/etc/systemd/system/simple-fileserver.service"</span>
<span class="nv">SSL_CERTS_DIR</span><span class="o">=</span><span class="s2">"/etc/letsencrypt"</span> <span class="c"># If using Let's Encrypt with Nginx</span>
<span class="nv">DIRECT_SSL_CERTS_DIR</span><span class="o">=</span><span class="s2">"/etc/simple-fileserver/ssl"</span> <span class="c"># If using direct SSL</span>

<span class="nv">TIMESTAMP</span><span class="o">=</span><span class="si">$(</span><span class="nb">date</span> +%Y%m%d-%H%M%S<span class="si">)</span>

<span class="nb">mkdir</span> <span class="nt">-p</span> <span class="s2">"</span><span class="nv">$BACKUP_DIR</span><span class="s2">"</span>

<span class="c"># Backup web content</span>
<span class="nb">echo</span> <span class="s2">"Backing up webroot..."</span>
<span class="nb">sudo tar </span>czf <span class="s2">"</span><span class="nv">$BACKUP_DIR</span><span class="s2">/sfs_webroot-</span><span class="nv">$TIMESTAMP</span><span class="s2">.tar.gz"</span> <span class="nt">-C</span> <span class="s2">"</span><span class="si">$(</span><span class="nb">dirname</span> <span class="s2">"</span><span class="nv">$WEBROOT_DIR</span><span class="s2">"</span><span class="si">)</span><span class="s2">"</span> <span class="s2">"</span><span class="si">$(</span><span class="nb">basename</span> <span class="s2">"</span><span class="nv">$WEBROOT_DIR</span><span class="s2">"</span><span class="si">)</span><span class="s2">"</span>

<span class="c"># Backup Nginx configs (if used)</span>
<span class="k">if</span> <span class="o">[</span> <span class="nt">-d</span> <span class="s2">"</span><span class="nv">$NGINX_CONFIG_DIR</span><span class="s2">/sites-enabled/simple-fileserver-proxy"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span> <span class="c"># Check if proxy config exists</span>
  <span class="nb">echo</span> <span class="s2">"Backing up Nginx configuration..."</span>
  <span class="nb">sudo tar </span>czf <span class="s2">"</span><span class="nv">$BACKUP_DIR</span><span class="s2">/sfs_nginx_config-</span><span class="nv">$TIMESTAMP</span><span class="s2">.tar.gz"</span> <span class="s2">"</span><span class="nv">$NGINX_CONFIG_DIR</span><span class="s2">"</span>
<span class="k">fi</span>

<span class="c"># Backup systemd service file (if used)</span>
<span class="k">if</span> <span class="o">[</span> <span class="nt">-f</span> <span class="s2">"</span><span class="nv">$SYSTEMD_SERVICE_FILE</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"Backing up systemd service file..."</span>
  <span class="nb">sudo cp</span> <span class="s2">"</span><span class="nv">$SYSTEMD_SERVICE_FILE</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$BACKUP_DIR</span><span class="s2">/simple-fileserver.service-</span><span class="nv">$TIMESTAMP</span><span class="s2">"</span>
<span class="k">fi</span>

<span class="c"># Backup Let's Encrypt SSL certs (if used)</span>
<span class="k">if</span> <span class="o">[</span> <span class="nt">-d</span> <span class="s2">"</span><span class="nv">$SSL_CERTS_DIR</span><span class="s2">/live/example.com"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span> <span class="c"># Check for your specific domain</span>
  <span class="nb">echo</span> <span class="s2">"Backing up Let's Encrypt SSL certificates..."</span>
  <span class="nb">sudo tar </span>czf <span class="s2">"</span><span class="nv">$BACKUP_DIR</span><span class="s2">/sfs_letsencrypt_ssl_certs-</span><span class="nv">$TIMESTAMP</span><span class="s2">.tar.gz"</span> <span class="nt">-C</span> /etc letsencrypt
<span class="k">fi</span>

<span class="c"># Backup Direct SSL certs (if used)</span>
<span class="k">if</span> <span class="o">[</span> <span class="nt">-d</span> <span class="s2">"</span><span class="nv">$DIRECT_SSL_CERTS_DIR</span><span class="s2">"</span> <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="o">[</span> <span class="s2">"</span><span class="si">$(</span><span class="nb">ls</span> <span class="nt">-A</span> <span class="nv">$DIRECT_SSL_CERTS_DIR</span><span class="si">)</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"Backing up direct SSL certificates..."</span>
  <span class="nb">sudo tar </span>czf <span class="s2">"</span><span class="nv">$BACKUP_DIR</span><span class="s2">/sfs_direct_ssl_certs-</span><span class="nv">$TIMESTAMP</span><span class="s2">.tar.gz"</span> <span class="nt">-C</span> /etc simple-fileserver/ssl
<span class="k">fi

</span><span class="nb">echo</span> <span class="s2">"Backup completed to </span><span class="nv">$BACKUP_DIR</span><span class="s2">"</span>

<span class="c"># Optional: Remove old backups (e.g., older than 30 days)</span>
find <span class="s2">"</span><span class="nv">$BACKUP_DIR</span><span class="s2">"</span> <span class="nt">-name</span> <span class="s2">"sfs_*-*.tar.gz"</span> <span class="nt">-mtime</span> +30 <span class="nt">-exec</span> <span class="nb">sudo rm</span> <span class="o">{}</span> <span class="se">\;</span>
find <span class="s2">"</span><span class="nv">$BACKUP_DIR</span><span class="s2">"</span> <span class="nt">-name</span> <span class="s2">"simple-fileserver.service-*"</span> <span class="nt">-mtime</span> +30 <span class="nt">-exec</span> <span class="nb">sudo rm</span> <span class="o">{}</span> <span class="se">\;</span>

</code></section></div></div>
<p>Make it executable: <code class="language-plaintext highlighter-rouge">sudo chmod +x /usr/local/sbin/backup_simplefs.sh</code>.
Automate with a cron job (run <code class="language-plaintext highlighter-rouge">sudo crontab -e</code>):</p>
<pre><code class="language-cron">0 2 * * * /usr/local/sbin/backup_simplefs.sh &gt; /var/log/simplefs_backup.log 2&gt;&amp;1
</code></section>
  <h3 id="115-updating-the-application">
    
    
     <a href="#115-updating-the-application">#</a><a href="#" aria-label="Back to top">11.5 Updating the Application</a>
        
    
  </h3>
      

<ol>
  <li>Navigate to the cloned <code class="language-plaintext highlighter-rouge">simple-fileserver</code> repository:
<code class="language-plaintext highlighter-rouge">cd /path/to/cloned/simple-fileserver/repo</code></li>
  <li>Pull the latest changes:
<code class="language-plaintext highlighter-rouge">git pull origin main</code> (or the relevant branch/tag)</li>
  <li>Rebuild the binary:
<code class="language-plaintext highlighter-rouge">make build</code></li>
  <li>Copy the new binary to its operational location:
<code class="language-plaintext highlighter-rouge">sudo cp ./bin/simple-fileserver /usr/local/bin/simple-fileserver</code></li>
  <li>Restart the service:
<code class="language-plaintext highlighter-rouge">sudo systemctl restart simple-fileserver.service</code> (if using systemd)</li>
</ol><hr />
  <h2 id="12-troubleshooting-guide">
    
    
     <a href="#12-troubleshooting-guide">#</a><a href="#" aria-label="Back to top">12. Troubleshooting Guide</a>
        
    
  </h2>
      

<ol>
  <li><strong>Server Won’t Start / Binary Not Found or Not Executable</strong>
    <ul>
      <li><strong>Symptoms</strong>: Command not found, permission denied.</li>
      <li><strong>Solutions</strong>:
        <ul>
          <li>Verify binary path (<code class="language-plaintext highlighter-rouge">/usr/local/bin/simple-fileserver</code>).</li>
          <li>Check execute permissions: <code class="language-plaintext highlighter-rouge">ls -l /usr/local/bin/simple-fileserver</code>.</li>
          <li>If using <code class="language-plaintext highlighter-rouge">systemd</code>, verify <code class="language-plaintext highlighter-rouge">ExecStart</code> path and check logs: <code class="language-plaintext highlighter-rouge">sudo journalctl -u simple-fileserver.service -n 50 --no-pager</code>.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong>Port Conflicts</strong>
    <ul>
      <li><strong>Symptoms</strong>: “address already in use”.</li>
      <li><strong>Solutions</strong>: <code class="language-plaintext highlighter-rouge">sudo netstat -tulpn | grep :&lt;port_number&gt;</code>. Change <code class="language-plaintext highlighter-rouge">-port</code> or stop conflicting service.</li>
    </ul>
  </li>
  <li><strong>File Not Found Errors (404)</strong>
    <ul>
      <li><strong>Symptoms</strong>: Browser shows 404.</li>
      <li><strong>Solutions</strong>:
        <ul>
          <li>Verify <code class="language-plaintext highlighter-rouge">-webroot</code> path is correct, absolute (e.g., <code class="language-plaintext highlighter-rouge">/srv/simplefs-webroot/public</code>).</li>
          <li>Check file existence within webroot.</li>
          <li>Case sensitivity: <code class="language-plaintext highlighter-rouge">File.txt</code> != <code class="language-plaintext highlighter-rouge">file.txt</code>.</li>
          <li>Permissions: Ensure <code class="language-plaintext highlighter-rouge">simplefsuser</code> has read access to webroot files and execute access to directories.</li>
          <li>If <code class="language-plaintext highlighter-rouge">-no-index</code> used, ensure <code class="language-plaintext highlighter-rouge">index.html</code> exists for directory access.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong>Permission Denied Errors (Logs or Terminal)</strong>
    <ul>
      <li><strong>Symptoms</strong>: Service fails to start, or logs show permission issues.</li>
      <li><strong>Solutions</strong>:
        <ul>
          <li><code class="language-plaintext highlighter-rouge">simplefsuser</code> needs read access to webroot and its contents.</li>
          <li><code class="language-plaintext highlighter-rouge">simplefsuser</code> needs read access to SSL certificate and key files (if direct SSL).</li>
          <li>Check <code class="language-plaintext highlighter-rouge">systemd</code> sandboxing options (<code class="language-plaintext highlighter-rouge">ReadOnlyPaths</code>, <code class="language-plaintext highlighter-rouge">ProtectHome</code>).</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong>Slow File Access</strong>
    <ul>
      <li><strong>Symptoms</strong>: Delays.</li>
      <li><strong>Solutions</strong>: Optimize files, check network (<code class="language-plaintext highlighter-rouge">iperf3</code>), system resources (<code class="language-plaintext highlighter-rouge">htop</code>, <code class="language-plaintext highlighter-rouge">iotop</code>), apply performance optimizations (Section 9).</li>
    </ul>
  </li>
</ol>

        </div>
        
          URL: https://ib.bsb.br/fileserver
        
      </article>
      <nav class="post-navigation-combined" aria-label="Post navigation">
        <!-- Chronological Navigation (always visible at 40vh) -->
        
          <div class="nav-arrow chronological prev">
            <a href="/albert-hammond-work/" title="Albert Hammond work" rel="prev">
              <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAAAxVJREFUaEPt18FqG1cUBuD/nLkzI42UiVInkFLTCAKhS+9KA+3Kq1L8AAHjhR7AKz+ADV55qUfoqhvThTfdmC4KzTKmYJrELshJW9PIlSeKRpqZe88pUtouihvVRknqMNoMzD1zdPXNrzMM4RJ+6BLuGeWm39RdK6VL6VcIlPEo41HG401loJQupS8mUM7pi7md/6p3UtoHUJzf4vVecZb0e0EQfB7H8b0kSeqqummt/eb1buN83SebNsZ8QkQCYHVpaenu/v7+ra2tLRwdHWF1ddWq6hfM3BCRE2b+FcBHACQAHo1E5v9c+5mIhkR0e3z0VQ8LotuqWlXVw/GRmT8QkdMK89McuAOAAfwoIu8z85yIHBPRKRGN1/IAeDx0rul53hivo6psrf2ejDGfEtFOu92u7O3tBWtra2i322g0GhgOh9je3ka325UPax7fCR0iw+lp4aLxr70aeOmgkChTRY3JGSb73EroERD73uB54WpOgdhwZkXNQNQLiVDzOU1yFymAhu+lqZVopIqISQKmPLFS+atHv3A1q8AVQ+lXP/VHRPQx+b6frKysxMvLy1hfX0ez2USv18PCwgLiOEaSJKhWq/jhwQN8dnIfVOS4dsWHqCJ5YREGjBuNEMfd0eTc9WshBqnFYGhRqxrUIoNuLwMT4eb1Cp6dZshywdW6mZzr9QsEPuPmXIhfno3gnGKuEWCUC14MLKoVb1L72+8Zvj3JOl/udZt/S7darUqn0wlarRZ2d3cxPz+PJ8dPsPP1Doq8kIbL+cawjxBIM8MRFAidpBlRpIbhFc55gM2NF5IIQtVBRlRTZgTWZQ4wzvc8spO1NPM4Gr9Wh1bSDIjU98C5E0PIC8OVSX+Rlz08hl+4/LsML6X/menFxcW7BwcHtzY2NvDw8CE21zf/NdMAHskFMs3MT/EfMg3gsTsr02f8byfTo16v3+v3+//f6fGKgXNp5vT5huZbqH4nH+NvwXH6V5bS041mU1FKz8ZxepdSerrRbCpK6dk4Tu9SSk83mk1FKT0bx+ldSunpRrOpuJTSfwBcuImxpyA7XgAAAABJRU5ErkJggg==" alt="Previous article" width="45" height="45" loading="lazy">
            </a>
          </div>
        
        
          <div class="nav-arrow chronological next">
            <a href="/claude-code/" title="Claude Code" rel="next">
              <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAAAwdJREFUaEPtl01rG1cUht9z7p070ijKWLVS3I9YULtNMBRn2UIXxZtuvCjedNWfoKVXBvsHeOUfoIUx5AeY0pVXXSR052UxBJSi0kDiRplII83HvadI9CMtOFjCmBjubC7cc8+Zc555eYdLuIEP3cCe4Zu+rq/mSXvSbyHg5eHl4eVxXRrwpD3p+Qh4n56P2+xZnvTszC7MCAAUF0XfOdJa62+IaCeO40GSJA/zPP8RwB9vDjBtWmv9JRE5ImpZawdVpbo58CkAIyJnIrLAzEvOuXNm/h3AfQDOAGdj5z5m5gXn3G9ENCKilckaiDwpiFZEpCoiTyYrM3/knOtXmHs58BkABvCLc+4DZl6cxIjoh4ODA728vIzt7W2sra09PT4+fgTgQES4LMvHZIy5LyI/f/dJvfK6FKMJqAdqmBS2ZgWINY9zJyZ1whUiRJrTfmGjybSxUemwcFEmghqT1UxlUrpQEXD7jRq3NWelEz10okIi1AJOX+U2EgALgUrT0kVnmcKvQ+uazSZvbW2hWq2i3++j3W5jf38f6+vrebvdHovI5pT09+vN7teLYev990K8GpQYjS1u1TQqhnHez6EU4cM7FTw7z5AXDo16ACcyPRsaxp2FEM9ejKd7zUaIYVpiOCpRq2rUIo0XLzMwEZaaFTzvZ8hyh/iWnu69fF1AAoOfFr/A5w8eYDQaIY5jJEmC09NTNBoNdLtd7O3t4ejoCIeHh8k/pL8KUSkCZcg6hCLDjLk2ufYGpRuXAuOMYiosQiDNNEcQILQuzYgi0QxVWKuAMtcqJPdXDaKaMMOUNrOAtoFSVE5jaaY4mtQPS5dmQPS8WkdfGReYgDe/3cTdpbvo9XrY2NhAp9NBq9XKO53Ov6T/r2mlVBeX0DSAMzeHppm5h7doemdvR99buYfd3V2srq4+PTk5+a+mr9CmrqTU3+5Rr9cHg8HgYve4krddbZGb5dOXmf2d+7n4pi9D4LrOeHl40v42fl0a8KQ96fkIeJ+ej9vsWZ707Mzmy/Ck5+M2e9afhmuAz1BhwewAAAAASUVORK5CYII=" alt="Next article" width="45" height="45" loading="lazy">
            </a>
          </div>
        
            
            
              
              
                
                  
                  
              
              
              
              <!-- Navigation block for tag "aid>software>linux"; default display for the first tag -->
              <div class="nav-group tags" id="tag-nav-aid-software-linux" style="display: block;">
                <div class="nav-arrow tags prev">
                  
                    <a href="/clipse-listener-systemd-user-service/" title="Clipse Listener Systemd User Service" rel="prev">
                      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAAAxVJREFUaEPt18FqG1cUBuD/nLkzI42UiVInkFLTCAKhS+9KA+3Kq1L8AAHjhR7AKz+ADV55qUfoqhvThTfdmC4KzTKmYJrELshJW9PIlSeKRpqZe88pUtouihvVRknqMNoMzD1zdPXNrzMM4RJ+6BLuGeWm39RdK6VL6VcIlPEo41HG401loJQupS8mUM7pi7md/6p3UtoHUJzf4vVecZb0e0EQfB7H8b0kSeqqummt/eb1buN83SebNsZ8QkQCYHVpaenu/v7+ra2tLRwdHWF1ddWq6hfM3BCRE2b+FcBHACQAHo1E5v9c+5mIhkR0e3z0VQ8LotuqWlXVw/GRmT8QkdMK89McuAOAAfwoIu8z85yIHBPRKRGN1/IAeDx0rul53hivo6psrf2ejDGfEtFOu92u7O3tBWtra2i322g0GhgOh9je3ka325UPax7fCR0iw+lp4aLxr70aeOmgkChTRY3JGSb73EroERD73uB54WpOgdhwZkXNQNQLiVDzOU1yFymAhu+lqZVopIqISQKmPLFS+atHv3A1q8AVQ+lXP/VHRPQx+b6frKysxMvLy1hfX0ez2USv18PCwgLiOEaSJKhWq/jhwQN8dnIfVOS4dsWHqCJ5YREGjBuNEMfd0eTc9WshBqnFYGhRqxrUIoNuLwMT4eb1Cp6dZshywdW6mZzr9QsEPuPmXIhfno3gnGKuEWCUC14MLKoVb1L72+8Zvj3JOl/udZt/S7darUqn0wlarRZ2d3cxPz+PJ8dPsPP1Doq8kIbL+cawjxBIM8MRFAidpBlRpIbhFc55gM2NF5IIQtVBRlRTZgTWZQ4wzvc8spO1NPM4Gr9Wh1bSDIjU98C5E0PIC8OVSX+Rlz08hl+4/LsML6X/menFxcW7BwcHtzY2NvDw8CE21zf/NdMAHskFMs3MT/EfMg3gsTsr02f8byfTo16v3+v3+//f6fGKgXNp5vT5huZbqH4nH+NvwXH6V5bS041mU1FKz8ZxepdSerrRbCpK6dk4Tu9SSk83mk1FKT0bx+ldSunpRrOpuJTSfwBcuImxpyA7XgAAAABJRU5ErkJggg==" alt="Previous in Tag" width="45" height="45" loading="lazy">
                    </a>
                  
                </div>
                <div class="nav-arrow tags next">
                  
                    <a href="/tigerbird/" title="NetBird Cloud & TigerVNC: Secure SSH & VNC Access" rel="next">
                      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAAAwdJREFUaEPtl01rG1cUht9z7p070ijKWLVS3I9YULtNMBRn2UIXxZtuvCjedNWfoKVXBvsHeOUfoIUx5AeY0pVXXSR052UxBJSi0kDiRplII83HvadI9CMtOFjCmBjubC7cc8+Zc555eYdLuIEP3cCe4Zu+rq/mSXvSbyHg5eHl4eVxXRrwpD3p+Qh4n56P2+xZnvTszC7MCAAUF0XfOdJa62+IaCeO40GSJA/zPP8RwB9vDjBtWmv9JRE5ImpZawdVpbo58CkAIyJnIrLAzEvOuXNm/h3AfQDOAGdj5z5m5gXn3G9ENCKilckaiDwpiFZEpCoiTyYrM3/knOtXmHs58BkABvCLc+4DZl6cxIjoh4ODA728vIzt7W2sra09PT4+fgTgQES4LMvHZIy5LyI/f/dJvfK6FKMJqAdqmBS2ZgWINY9zJyZ1whUiRJrTfmGjybSxUemwcFEmghqT1UxlUrpQEXD7jRq3NWelEz10okIi1AJOX+U2EgALgUrT0kVnmcKvQ+uazSZvbW2hWq2i3++j3W5jf38f6+vrebvdHovI5pT09+vN7teLYev990K8GpQYjS1u1TQqhnHez6EU4cM7FTw7z5AXDo16ACcyPRsaxp2FEM9ejKd7zUaIYVpiOCpRq2rUIo0XLzMwEZaaFTzvZ8hyh/iWnu69fF1AAoOfFr/A5w8eYDQaIY5jJEmC09NTNBoNdLtd7O3t4ejoCIeHh8k/pL8KUSkCZcg6hCLDjLk2ufYGpRuXAuOMYiosQiDNNEcQILQuzYgi0QxVWKuAMtcqJPdXDaKaMMOUNrOAtoFSVE5jaaY4mtQPS5dmQPS8WkdfGReYgDe/3cTdpbvo9XrY2NhAp9NBq9XKO53Ov6T/r2mlVBeX0DSAMzeHppm5h7doemdvR99buYfd3V2srq4+PTk5+a+mr9CmrqTU3+5Rr9cHg8HgYve4krddbZGb5dOXmf2d+7n4pi9D4LrOeHl40v42fl0a8KQ96fkIeJ+ej9vsWZ707Mzmy/Ck5+M2e9afhmuAz1BhwewAAAAASUVORK5CYII=" alt="Next in Tag" width="45" height="45" loading="lazy">
                    </a>
                  
                </div>
              </div>
            
          
          <!-- JavaScript to Toggle the Tag-based Navigation -->
          <script>
            document.addEventListener("DOMContentLoaded", function(){
              var tagLinks = document.querySelectorAll('.tag-option');
              tagLinks.forEach(function(link){
                link.addEventListener('click', function(event){
                  event.preventDefault();
                  // Remove "active" class from all tag options.
                  tagLinks.forEach(function(el){ el.classList.remove('active'); });
                  // Add active class to the clicked tag option.
                  this.classList.add('active');
                  // Hide all tag navigation blocks.
                  document.querySelectorAll('.nav-group.tags').forEach(function(block){
                    block.style.display = 'none';
                  });
                  // Show the navigation block corresponding to the selected tag.
                  var tagSlug = this.getAttribute('data-tag');
                  var target = document.getElementById('tag-nav-' + tagSlug);
                  if(target) {
                    target.style.display = 'block';
                  }
                });
              });
            });
          </script>
      </nav>
      
    <div class="comment-box">
      Ref. 
      <a href="https://github.com/heathcliff26/simple-fileserver" title="https://github.com/heathcliff26/simple-fileserver">https://github.com/heathcliff26/simple-fileserver</a>
    </div>
    
    </main>
    <footer id="bottom-of-page" class="site-footer">
      <div class="footer-content">
        <!-- Back to top link -->
        <a href="#" aria-label="Back to top" class="back2top-link">
          <span class="sronly">Back to top</span>
        </a>
    
        <!-- Liquid Time Calculation and Display -->
        
        
        
        <a href="https://ib.bsb.br/404" aria-label="404">
          2025-10-06 16:14:09
        </a>
        &#x23;
    
        <!-- Tag Selector -->
        <ul class="tag-selector">
          
            
            
              <li>
                <a href="#" class="tag-option active" data-tag="aid-software-linux">
                  aid>software>linux
                </a>
              </li>
            
          
        </ul>
        &hArr;
    
        <!-- GitHub Link -->
        <a href="https://github.com/ib-bsb-br/ib-bsb-br.github.io" aria-label="GitHub">
          &#8505;
        </a>
    
        <!-- Homepage Link -->
        <a href="/" aria-label="Homepage">
          infoBAG
        </a>
    
        <!-- Copy All Code Button -->
        <button id="copyAllButton" aria-label="Copy all code">
          &copy;
        </button>
      </div>
    </footer>
    <style>
      .back2top-link {
        display: inline-block;
        width: 32px;
        height: 32px;
        background: url("/assets/Rope_(Old).gif") center center no-repeat;
        background-size: contain;
        text-decoration: none;
        vertical-align: middle;
      }
      .sronly {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }
    </style>
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Article",
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "https://ib.bsb.br/fileserver/"
        },
        "headline": "`simple-fileserver` on RK3588",
        "description": "",
        "datePublished": "2025-02-28T00:00:00+00:00",
        "dateModified": "2025-05-27T13:20:22+00:00",
        "author": {
          "@type": "Person",
          "name": "Author"
        },
        "publisher": {
          "@type": "Organization",
          "name": "infoBAG"
          
        }
        
      }
    </script>
    <script src="/assets/js/prism.js" defer></script>
    <script src="/assets/js/copy-all-code.js"></script>
  </body>
</html>
