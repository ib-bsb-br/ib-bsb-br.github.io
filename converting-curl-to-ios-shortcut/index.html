<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>
    
      Converting cURL to iOS Shortcut — infoBAG
    
  </title>
  <meta name="title" content="Converting cURL to iOS Shortcut">
  <meta name="description" content="can't steer unless already moving">
  <meta property="og:title" content="Converting cURL to iOS Shortcut — infoBAG">
  <meta property="og:description" content="can't steer unless already moving">
  <meta property="og:url" content="https://ib.bsb.br/converting-curl-to-ios-shortcut/">
  <meta property="og:type" content="article">
  <meta property="og:site_name" content="infoBAG">
  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Converting cURL to iOS Shortcut — infoBAG">
  <meta name="twitter:description" content="can't steer unless already moving">
  

  <link rel="canonical" href="https://ib.bsb.br/converting-curl-to-ios-shortcut/">
  <link rel="alternate" type="application/rss+xml" title="infoBAG" href="https://ib.bsb.br/rss.xml">

  
    <meta name="keywords" content="scratchpad>gemini">
    
      <meta property="article:tag" content="scratchpad>gemini">
    
  
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
  

  <link href="/style.css" rel="stylesheet">
</head>
<body class="post-content-body">
  <header class="header-container">
    <nav aria-label="Main navigation" class="header-content">
      <a href="/" aria-label="Home">
        <img src="/favicon.ico" alt="Home" class="favicon search-link" width="45" height="45" loading="lazy">
      </a>
      <a href="/tags" aria-label="Tags">
        <img src="/assets/Label.gif" alt="Tags" class="favicon search-link" width="45" height="45" loading="lazy">
      </a>
      <a href="/archive" aria-label="Archive">
        <img src="/assets/Loose_Stone_Pile.gif" alt="Archive" class="favicon search-link" width="45" height="45" loading="lazy">
      </a>
      <a href="/events" aria-label="Events">
        <img src="/assets/Paralyse_Rune.gif" alt="Events" class="favicon search-link" width="45" height="45" loading="lazy">
      </a>
      <a href="/archive-created" aria-label="Archive created">
          <img src="/assets/Hole_(Rock).gif" alt="Archive created" class="favicon search-link" width="32" height="32" loading="lazy">
      </a>
      <a href="/rot64" aria-label="rot">
          <img src="/assets/rot.gif" alt="rot" class="favicon search-link" width="32" height="32" loading="lazy">
      </a>
    </nav>
    <h5 class="post-title">
      <a href="#bottom-of-page" aria-label="Go to bottom">
        Converting cURL to iOS Shortcut
      </a>
    </h5>
    <div class="post-meta">
      <time datetime="2024-11-12T00:00:00+00:00" class="post-date">
        12 Nov 2024
      </time>
      
        <span class="post-updated">
          ↣
          <time datetime="2024-12-29T17:31:33+00:00">29 Dec 2024</time>
        </span>
      
      
        <p class="post-slug">
          Slug: <a href="https://ib.bsb.br/converting-curl-to-ios-shortcut" class="tag">converting-curl-to-ios-shortcut</a>
        </p>
      
      
        <p class="post-tags">
          Tags:
          
            <a href="https://ib.bsb.br/tags/#scratchpad-gemini" class="tag">scratchpad>gemini</a>
          
        </p>
      
    </div>
    <div class="post-actions">
      <div class="page-stats mt-3" role="status" aria-label="Page statistics">
        <span class="badge bg-primary">
          6151 characters
        </span>
        <span class="separator mx-2" aria-hidden="true">•</span>
        <span class="badge bg-primary">
          533 words
        </span>
      </div>
      <div class="action-buttons d-flex flex-wrap gap-2">
        
          
            <form action="https://github.com/ib-bsb-br/ib-bsb-br.github.io/edit/main/_posts/2024-11-12-converting-curl-to-ios-shortcut.md"
                  method="GET"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="d-inline-block">
              <button type="submit" class="btn btn-danger" aria-label="Edit page content">
                <span class="button-text">Improve this page?</span>
                <span class="info-text">aberto.</span>
              </button>
            </form>
          
          <form action="https://github.com/ib-bsb-br/ib-bsb-br.github.io/commits/main/_posts/2024-11-12-converting-curl-to-ios-shortcut.md"
                method="GET"
                target="_blank"
                rel="noopener noreferrer"
                class="d-inline-block">
            <button type="submit" class="btn btn-danger" aria-label="View page revision history">
              View revision history
            </button>
          </form>
        
      </div>
    </div>
  </header>
  <main class="content">
    <article class="post-wrapper">
      <div class="post-content-body">
        
<ul><li><a href="#converting-curl-to-ios-shortcut">Converting cURL to iOS Shortcut</a><ul><li><a href="#step-1-open-shortcuts-and-create-a-new-shortcut">Step 1: Open Shortcuts and Create a New Shortcut</a></li><li><a href="#step-2-add-get-contents-of-url">Step 2: Add “Get Contents of URL”</a></li><li><a href="#step-3-configure-url-and-method">Step 3: Configure URL and Method</a></li><li><a href="#step-4-add-headers">Step 4: Add Headers</a></li><li><a href="#step-5-handling-the-response-json">Step 5: Handling the Response (JSON)</a></li><li><a href="#step-6-displaying-the-result">Step 6: Displaying the Result</a></li><li><a href="#step-7-security-considerations">Step 7: Security Considerations</a></li><li><a href="#step-8-save-and-run">Step 8: Save and Run</a></li></ul></li></ul>
        <h2 id="converting-curl-to-ios-shortcut">
    
    
     <a href="#converting-curl-to-ios-shortcut">#</a><a href="#" aria-label="Back to top">Converting cURL to iOS Shortcut</a>
        
    
  </h2>
      

<p>This guide provides a step-by-step approach to converting your <code class="language-plaintext highlighter-rouge">cURL</code> command into an iOS Shortcut, focusing on clarity and security.</p>
  <h3 id="step-1-open-shortcuts-and-create-a-new-shortcut">
    
    
     <a href="#step-1-open-shortcuts-and-create-a-new-shortcut">#</a><a href="#" aria-label="Back to top">Step 1: Open Shortcuts and Create a New Shortcut</a>
        
    
  </h3>
      

<p>Launch the Shortcuts app and tap the <strong>”+”</strong> button to create a new shortcut.  Tap <strong>”Add Action”</strong>.</p>
  <h3 id="step-2-add-get-contents-of-url">
    
    
     <a href="#step-2-add-get-contents-of-url">#</a><a href="#" aria-label="Back to top">Step 2: Add “Get Contents of URL”</a>
        
    
  </h3>
      

<p>Search for and add the <strong>”Get Contents of URL”</strong> action.</p>
  <h3 id="step-3-configure-url-and-method">
    
    
     <a href="#step-3-configure-url-and-method">#</a><a href="#" aria-label="Back to top">Step 3: Configure URL and Method</a>
        
    
  </h3>
      

<ol>
  <li><strong>URL:</strong>  Enter the following URL:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code></code></section></div>    </div>
  </li>
  <li><strong>Method:</strong> Select <strong>”GET”</strong>.</li>
</ol>
  <h3 id="step-4-add-headers">
    
    
     <a href="#step-4-add-headers">#</a><a href="#" aria-label="Back to top">Step 4: Add Headers</a>
        
    
  </h3>
      

<p>Tap on <strong>”Headers”</strong> and add the following key-value pairs.  See the image below for a visual guide on adding headers:</p>

<p><img src="https://i.imgur.com/7F1t5bD.png" alt="Adding Headers in Shortcuts" /></p>

<table>
  <tbody>
    <tr>
      <td>Key</td>
      <td>Value</td>
    </tr>
    <tr>
      <td>——————</td>
      <td>————————————————————————————————————————————————————————————————————————————</td>
    </tr>
    <tr>
      <td>Host</td>
      <td><code class="language-plaintext highlighter-rouge">app.khoj.dev</code></td>
    </tr>
    <tr>
      <td>Sec-Fetch-Dest</td>
      <td><code class="language-plaintext highlighter-rouge">empty</code></td>
    </tr>
    <tr>
      <td>User-Agent</td>
      <td><code class="language-plaintext highlighter-rouge">Mozilla/5.0 (iPhone; CPU iPhone OS 18_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.1 Mobile/15E148 Safari/604.1</code></td>
    </tr>
    <tr>
      <td>Accept</td>
      <td><code class="language-plaintext highlighter-rouge">*/*</code></td>
    </tr>
    <tr>
      <td>Referer</td>
      <td><code class="language-plaintext highlighter-rouge">https://app.khoj.dev/chat?conversationId=b24b3a6b-0915-41a9-b540-643ed42b60ef</code></td>
    </tr>
    <tr>
      <td>Sec-Fetch-Site</td>
      <td><code class="language-plaintext highlighter-rouge">same-origin</code></td>
    </tr>
    <tr>
      <td>Sec-Fetch-Mode</td>
      <td><code class="language-plaintext highlighter-rouge">cors</code></td>
    </tr>
    <tr>
      <td>Accept-Language</td>
      <td><code class="language-plaintext highlighter-rouge">en-GB,en-US;q=0.9,en;q=0.8</code></td>
    </tr>
    <tr>
      <td>Priority</td>
      <td><code class="language-plaintext highlighter-rouge">u=3, i</code></td>
    </tr>
    <tr>
      <td>Accept-Encoding</td>
      <td><code class="language-plaintext highlighter-rouge">gzip, deflate, br</code></td>
    </tr>
    <tr>
      <td>Connection</td>
      <td><code class="language-plaintext highlighter-rouge">keep-alive</code></td>
    </tr>
    <tr>
      <td>Cookie</td>
      <td><em>(See Security Considerations below)</em>  Instead of directly embedding the cookie here, use a “Get Variable” action to retrieve it from a secure location (e.g., another shortcut dedicated to storing and refreshing it).</td>
    </tr>
  </tbody>
</table>
  <h3 id="step-5-handling-the-response-json">
    
    
     <a href="#step-5-handling-the-response-json">#</a><a href="#" aria-label="Back to top">Step 5: Handling the Response (JSON)</a>
        
    
  </h3>
      

<ol>
  <li>Add a <strong>”Get Dictionary Value”</strong> action.</li>
  <li>Connect it to the “Get Contents of URL” action.</li>
  <li>In the “Key” field of “Get Dictionary Value”, enter the key you want to extract from the JSON response.  For example, if the JSON response is <code class="language-plaintext highlighter-rouge">{“message”: “Hello”}</code>, enter “message” to extract the value “Hello”.</li>
</ol>

<p><strong>Example JSON Output and Parsing:</strong></p>

<p>Let’s say the API returns:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><section><code><span class="p">{</span><span class="err">“status”:</span><span class="w"> </span><span class="err">“success”</span><span class="p">,</span><span class="w"> </span><span class="err">“data”:</span><span class="w"> </span><span class="p">[{</span><span class="err">“id”:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="err">“name”:</span><span class="w"> </span><span class="err">“John”</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="err">“id”:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="err">“name”:</span><span class="w"> </span><span class="err">“Jane”</span><span class="p">}]}</span><span class="w">
</span></code></section></div></div>

<p>To get the name of the first user, you would set the “Key” in “Get Dictionary Value” to “data”, then use another “Get Item from List” action to get the first item, and finally another “Get Dictionary Value” action with the key “name”.</p>
  <h3 id="step-6-displaying-the-result">
    
    
     <a href="#step-6-displaying-the-result">#</a><a href="#" aria-label="Back to top">Step 6: Displaying the Result</a>
        
    
  </h3>
      

<p>Add a <strong>”Show Result”</strong> action and connect it to the output of the “Get Dictionary Value” action (or any other action processing the response).</p>
  <h3 id="step-7-security-considerations">
    
    
     <a href="#step-7-security-considerations">#</a><a href="#" aria-label="Back to top">Step 7: Security Considerations</a>
        
    
  </h3>
      

<p><strong>Important:</strong> Directly embedding the <code class="language-plaintext highlighter-rouge">session</code> cookie in your shortcut is not recommended due to security risks and session expiration.  Instead, store the cookie securely and retrieve it dynamically.  Consider using a dedicated secrets management shortcut or iCloud Keychain.  This allows you to refresh the cookie periodically without modifying the main shortcut.</p>
  <h3 id="step-8-save-and-run">
    
    
     <a href="#step-8-save-and-run">#</a><a href="#" aria-label="Back to top">Step 8: Save and Run</a>
        
    
  </h3>
      

<p>Save your shortcut with a descriptive name (e.g., “Get Chat History”).  Run the shortcut to test its functionality.</p>

      </div>
      
        URL: https://ib.bsb.br/converting-curl-to-ios-shortcut
      
    </article>
        <nav class="post-navigation same-tag-navigation" aria-label="Posts sharing the same tag">
          
          
        </nav>
    
    
      
      
      
        
          
          
      
    
    
    <div class="comment-box">
      Ref.
      <a href="https://app.khoj.dev/api/chat/history?client=web&conversation_id=b24b3a6b-0915-41a9-b540-643ed42b60ef" title="https://app.khoj.dev/api/chat/history?client=web&conversation_id=b24b3a6b-0915-41a9-b540-643ed42b60ef">https://app.khoj.dev/api/chat/history?client=web&conversation_id=b24b3a6b-0915-41a9-b540-643ed42b60ef</a>
    </div>
    
  </main>
  <footer id="bottom-of-page" class="site-footer">
    <p>
      <a href="#" aria-label="Back to top">
        <img src="/assets/Rope_(Old).gif" alt="Back to top" width="32" height="32" loading="lazy"></a>
      
      <a href="https://ib.bsb.br/404" aria-label="404">
        2025-01-28 19:33:30
      </a>‎
      &hArr;‎
      <a href="https://github.com/ib-bsb-br/ib-bsb-br.github.io" aria-label="GitHub">&#8505;</a>‎
      <a href="/" aria-label="Homepage">
        infoBAG
      </a>
      <button id="copyAllButton" aria-label="Copy all code">&copy;</button>
    </p>
  </footer>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://ib.bsb.br/converting-curl-to-ios-shortcut/"
    },
    "headline": "Converting cURL to iOS Shortcut",
    "description": "",
    "datePublished": "2024-11-12T00:00:00+00:00",
    "dateModified": "2024-12-29T17:31:33+00:00",
    "author": {
      "@type": "Person",
      "name": "Author"
    },
    "publisher": {
      "@type": "Organization",
      "name": "infoBAG"
      
    }
    
  }
  </script>
  <script src="/assets/js/prism.js" defer></script>
  <script src="/assets/js/copy-all-code.js"></script>
</body>
</html>
