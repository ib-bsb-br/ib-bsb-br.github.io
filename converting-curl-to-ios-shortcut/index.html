<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>
    
      Converting cURL to iOS Shortcut — infoBAG
    
  </title>
  <meta name="title" content="Converting cURL to iOS Shortcut" />
  <meta name="description" content="can't steer unless already moving" />  
  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="Converting cURL to iOS Shortcut — infoBAG" />
  <meta property="og:description" content="can't steer unless already moving" />
  <meta property="og:url" content="https://ib.bsb.br/converting-curl-to-ios-shortcut/" />
  <meta property="og:type" content="article" />
  <meta property="og:site_name" content="infoBAG" />
    
  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Converting cURL to iOS Shortcut — infoBAG">
  <meta name="twitter:description" content="can't steer unless already moving">
    
   <link rel="canonical" href="https://ib.bsb.br/converting-curl-to-ios-shortcut/">
  <link rel="alternate" type="application/rss+xml" title="infoBAG" href="https://ib.bsb.br/rss.xml">  
  
    <meta name="keywords" content="scratchpad>gemini">
    
      <meta property="article:tag" content="scratchpad>gemini">
    
    
  <!-- Favicons and Icons -->
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    
  <link href="/style.css" rel="stylesheet">
</head>
<body class="post-content-body">
  <header class="header-container">
    <nav aria-label="Main navigation" class="header-content">
      <a href="/" aria-label="Home">
        <img src="/favicon.ico" alt="Home" class="favicon search-link" width="45" height="45" loading="lazy">
      </a>
      <a href="/tags" aria-label="Tags">
        <img src="/assets/Label.gif" alt="Tags" class="favicon search-link" width="45" height="45" loading="lazy">
      </a>
      <a href="/events" aria-label="Events">
        <img src="/assets/Paralyse_Rune.gif" alt="Events" class="favicon search-link" width="45" height="45" loading="lazy">
      </a>
      <a href="/archive" aria-label="Archive">
        <img src="/assets/Loose_Stone_Pile.gif" alt="Archive" class="favicon search-link" width="45" height="45" loading="lazy">
      </a>
    </nav>
    <h1 class="post-title">Converting cURL to iOS Shortcut</h1>
    <div class="post-meta">
          <time datetime="2024-11-12T00:00:00+00:00" class="post-date">
            12 Nov 2024</time>
          
            <span class="post-updated"> &rightarrowtail; <time datetime="2024-11-12T12:32:33+00:00">12 Nov 2024</time></span>
          
        
        <p class="post-slug">
          Slug: <a href="https://ib.bsb.br/converting-curl-to-ios-shortcut" class="tag">converting-curl-to-ios-shortcut</a>
        </p>
        
        
        <p class="post-tags">
          Tags:
          
          <a href="https://ib.bsb.br/tags/#scratchpad-gemini" class="tag">scratchpad>gemini</a>
          
          
        </p>
        
    </div>
    <div class="post-actions">
      <div class="page-stats mt-3" 
         role="status" 
         aria-label="Page statistics">
        <span class="badge bg-primary">
            6257 characters
        </span>
        <span class="separator mx-2" 
              aria-hidden="true">•</span>
        <span class="badge bg-primary">
            534 words
        </span>
      </div>
      <div class="action-buttons d-flex flex-wrap gap-2">
        
            
            <form action="https://github.com/ib-bsb-br/ib-bsb-br.github.io/edit/main/_posts/2024-11-12-converting-curl-to-ios-shortcut.md" 
                  method="GET" 
                  target="_blank" 
                  rel="noopener noreferrer"
                  class="d-inline-block">
                <button type="submit" 
                        class="btn btn-danger"
                        aria-label="Edit page content">
                    <span class="button-text">Improve this page?</span>
                    <span class="info-text">aberto.</span>
                </button>
            </form>
            
        <form action="https://github.com/ib-bsb-br/ib-bsb-br.github.io/commits/main/_posts/2024-11-12-converting-curl-to-ios-shortcut.md" 
                  method="GET" 
                  target="_blank" 
                  rel="noopener noreferrer"
                  class="d-inline-block">
                <button type="submit" 
                        class="btn btn-danger"
                        aria-label="View page revision history">
                    View revision history
                </button>
        </form>
        
      </div>
    </div>
  </header>
  <main class="content">
    
    
      
      
        
          
          
    
    <article class="post-wrapper">      
      <div class="post-content-body">
        
<ul><li><a href="#converting-curl-to-ios-shortcut">Converting cURL to iOS Shortcut</a><ul><li><a href="#step-1-open-shortcuts-and-create-a-new-shortcut">Step 1: Open Shortcuts and Create a New Shortcut</a></li><li><a href="#step-2-add-get-contents-of-url">Step 2: Add “Get Contents of URL”</a></li><li><a href="#step-3-configure-url-and-method">Step 3: Configure URL and Method</a></li><li><a href="#step-4-add-headers">Step 4: Add Headers</a></li><li><a href="#step-5-handling-the-response-json">Step 5: Handling the Response (JSON)</a></li><li><a href="#step-6-displaying-the-result">Step 6: Displaying the Result</a></li><li><a href="#step-7-security-considerations">Step 7: Security Considerations</a></li><li><a href="#step-8-save-and-run">Step 8: Save and Run</a></li></ul></li></ul>
        <h2 id="converting-curl-to-ios-shortcut">
    
    
     <a href="#converting-curl-to-ios-shortcut">#</a><a href="#" aria-label="Back to top">Converting cURL to iOS Shortcut</a>
        
    
  </h2>
      

<p>This guide provides a step-by-step approach to converting your <code class="language-plaintext highlighter-rouge">cURL</code> command into an iOS Shortcut, focusing on clarity and security.</p>
  <h3 id="step-1-open-shortcuts-and-create-a-new-shortcut">
    
    
     <a href="#step-1-open-shortcuts-and-create-a-new-shortcut">#</a><a href="#" aria-label="Back to top">Step 1: Open Shortcuts and Create a New Shortcut</a>
        
    
  </h3>
      

<p>Launch the Shortcuts app and tap the <strong>”+”</strong> button to create a new shortcut.  Tap <strong>”Add Action”</strong>.</p>
  <h3 id="step-2-add-get-contents-of-url">
    
    
     <a href="#step-2-add-get-contents-of-url">#</a><a href="#" aria-label="Back to top">Step 2: Add “Get Contents of URL”</a>
        
    
  </h3>
      

<p>Search for and add the <strong>”Get Contents of URL”</strong> action.</p>
  <h3 id="step-3-configure-url-and-method">
    
    
     <a href="#step-3-configure-url-and-method">#</a><a href="#" aria-label="Back to top">Step 3: Configure URL and Method</a>
        
    
  </h3>
      

<ol>
  <li><strong>URL:</strong>  Enter the following URL:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>https://app.khoj.dev/api/chat/history?client=web&amp;conversation_id=b24b3a6b-0915-41a9-b540-643ed42b60ef
</code></section></div>    </div>
  </li>
  <li><strong>Method:</strong> Select <strong>”GET”</strong>.</li>
</ol>
  <h3 id="step-4-add-headers">
    
    
     <a href="#step-4-add-headers">#</a><a href="#" aria-label="Back to top">Step 4: Add Headers</a>
        
    
  </h3>
      

<p>Tap on <strong>”Headers”</strong> and add the following key-value pairs.  See the image below for a visual guide on adding headers:</p>

<p><img src="https://i.imgur.com/7F1t5bD.png" alt="Adding Headers in Shortcuts" /></p>

<table>
  <tbody>
    <tr>
      <td>Key</td>
      <td>Value</td>
    </tr>
    <tr>
      <td>——————</td>
      <td>————————————————————————————————————————————————————————————————————————————</td>
    </tr>
    <tr>
      <td>Host</td>
      <td><code class="language-plaintext highlighter-rouge">app.khoj.dev</code></td>
    </tr>
    <tr>
      <td>Sec-Fetch-Dest</td>
      <td><code class="language-plaintext highlighter-rouge">empty</code></td>
    </tr>
    <tr>
      <td>User-Agent</td>
      <td><code class="language-plaintext highlighter-rouge">Mozilla/5.0 (iPhone; CPU iPhone OS 18_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.1 Mobile/15E148 Safari/604.1</code></td>
    </tr>
    <tr>
      <td>Accept</td>
      <td><code class="language-plaintext highlighter-rouge">*/*</code></td>
    </tr>
    <tr>
      <td>Referer</td>
      <td><code class="language-plaintext highlighter-rouge">https://app.khoj.dev/chat?conversationId=b24b3a6b-0915-41a9-b540-643ed42b60ef</code></td>
    </tr>
    <tr>
      <td>Sec-Fetch-Site</td>
      <td><code class="language-plaintext highlighter-rouge">same-origin</code></td>
    </tr>
    <tr>
      <td>Sec-Fetch-Mode</td>
      <td><code class="language-plaintext highlighter-rouge">cors</code></td>
    </tr>
    <tr>
      <td>Accept-Language</td>
      <td><code class="language-plaintext highlighter-rouge">en-GB,en-US;q=0.9,en;q=0.8</code></td>
    </tr>
    <tr>
      <td>Priority</td>
      <td><code class="language-plaintext highlighter-rouge">u=3, i</code></td>
    </tr>
    <tr>
      <td>Accept-Encoding</td>
      <td><code class="language-plaintext highlighter-rouge">gzip, deflate, br</code></td>
    </tr>
    <tr>
      <td>Connection</td>
      <td><code class="language-plaintext highlighter-rouge">keep-alive</code></td>
    </tr>
    <tr>
      <td>Cookie</td>
      <td><em>(See Security Considerations below)</em>  Instead of directly embedding the cookie here, use a “Get Variable” action to retrieve it from a secure location (e.g., another shortcut dedicated to storing and refreshing it).</td>
    </tr>
  </tbody>
</table>
  <h3 id="step-5-handling-the-response-json">
    
    
     <a href="#step-5-handling-the-response-json">#</a><a href="#" aria-label="Back to top">Step 5: Handling the Response (JSON)</a>
        
    
  </h3>
      

<ol>
  <li>Add a <strong>”Get Dictionary Value”</strong> action.</li>
  <li>Connect it to the “Get Contents of URL” action.</li>
  <li>In the “Key” field of “Get Dictionary Value”, enter the key you want to extract from the JSON response.  For example, if the JSON response is <code class="language-plaintext highlighter-rouge">{“message”: “Hello”}</code>, enter “message” to extract the value “Hello”.</li>
</ol>

<p><strong>Example JSON Output and Parsing:</strong></p>

<p>Let’s say the API returns:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><section><code><span class="p">{</span><span class="err">“status”:</span><span class="w"> </span><span class="err">“success”</span><span class="p">,</span><span class="w"> </span><span class="err">“data”:</span><span class="w"> </span><span class="p">[{</span><span class="err">“id”:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="err">“name”:</span><span class="w"> </span><span class="err">“John”</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="err">“id”:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="err">“name”:</span><span class="w"> </span><span class="err">“Jane”</span><span class="p">}]}</span><span class="w">
</span></code></section></div></div>

<p>To get the name of the first user, you would set the “Key” in “Get Dictionary Value” to “data”, then use another “Get Item from List” action to get the first item, and finally another “Get Dictionary Value” action with the key “name”.</p>
  <h3 id="step-6-displaying-the-result">
    
    
     <a href="#step-6-displaying-the-result">#</a><a href="#" aria-label="Back to top">Step 6: Displaying the Result</a>
        
    
  </h3>
      

<p>Add a <strong>”Show Result”</strong> action and connect it to the output of the “Get Dictionary Value” action (or any other action processing the response).</p>
  <h3 id="step-7-security-considerations">
    
    
     <a href="#step-7-security-considerations">#</a><a href="#" aria-label="Back to top">Step 7: Security Considerations</a>
        
    
  </h3>
      

<p><strong>Important:</strong> Directly embedding the <code class="language-plaintext highlighter-rouge">session</code> cookie in your shortcut is not recommended due to security risks and session expiration.  Instead, store the cookie securely and retrieve it dynamically.  Consider using a dedicated secrets management shortcut or iCloud Keychain.  This allows you to refresh the cookie periodically without modifying the main shortcut.</p>
  <h3 id="step-8-save-and-run">
    
    
     <a href="#step-8-save-and-run">#</a><a href="#" aria-label="Back to top">Step 8: Save and Run</a>
        
    
  </h3>
      

<p>Save your shortcut with a descriptive name (e.g., “Get Chat History”).  Run the shortcut to test its functionality.</p>

      </div>
      URL: https://ib.bsb.br/converting-curl-to-ios-shortcut
    </article>
    <nav class="post-navigation" aria-label="Post navigation">
      
      <div class="nav-arrow prev">
        <a href="/etcinitdperformance-governorssh/" title="/etc/init.d/performance_governors.sh" rel="prev">
          <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAAAxVJREFUaEPt18FqG1cUBuD/nLkzI42UiVInkFLTCAKhS+9KA+3Kq1L8AAHjhR7AKz+ADV55qUfoqhvThTfdmC4KzTKmYJrELshJW9PIlSeKRpqZe88pUtouihvVRknqMNoMzD1zdPXNrzMM4RJ+6BLuGeWm39RdK6VL6VcIlPEo41HG401loJQupS8mUM7pi7md/6p3UtoHUJzf4vVecZb0e0EQfB7H8b0kSeqqummt/eb1buN83SebNsZ8QkQCYHVpaenu/v7+ra2tLRwdHWF1ddWq6hfM3BCRE2b+FcBHACQAHo1E5v9c+5mIhkR0e3z0VQ8LotuqWlXVw/GRmT8QkdMK89McuAOAAfwoIu8z85yIHBPRKRGN1/IAeDx0rul53hivo6psrf2ejDGfEtFOu92u7O3tBWtra2i322g0GhgOh9je3ka325UPax7fCR0iw+lp4aLxr70aeOmgkChTRY3JGSb73EroERD73uB54WpOgdhwZkXNQNQLiVDzOU1yFymAhu+lqZVopIqISQKmPLFS+atHv3A1q8AVQ/lXP/VHRPQx+b6frKysxMvLy1hfX0ez2USv18PCwgLiOEaSJKhWq/jhwQN8dnIfVOS4dsWHqCJ5YREGjBuNEMfd0eTc9WshBqnFYGhRqxrUIoNuLwMT4eb1Cp6dZshywdW6mZzr9QsEPuPmXIhfno3gnGKuEWCUC14MLKoVb1L72+8Zvj3JOl/udZt/S7darUqn0wlarRZ2d3cxPz+PJ8dPsPP1Doq8kIbL+cawjxBIM8MRFAidpBlRpIbhFc55gM2NF5IIQtVBRlRTZgTWZQ4wzvc8spO1NPM4Gr9Wh1bSDIjU98C5E0PIC8OVSX+Rlz08hl+4/LsML6X/menFxcW7BwcHtzY2NvDw8CE21zf/NdMAHskFMs3MT/EfMg3gsTsr02f8byfTo16v3+v3+//f6fGKgXNp5vT5huZbqH4nH+NvwXH6V5bS041mU1FKz8ZxepdSerrRbCpK6dk4Tu9SSk83mk1FKT0bx+ldSunpRrOpuJTSfwBcuImxpyA7XgAAAABJRU5ErkJggg==" alt="Previous article" width="45" height="45" loading="lazy">
        </a>
      </div>
      
      
      <div class="nav-arrow next">
        <a href="/procedimento-de-liberao-condicionada-de-veculo-retido/" title="Procedimento de Liberação Condicionada de Veículo Retido" rel="next">
          <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAAAwdJREFUaEPtl01rG1cUht9z7p070ijKWLVS3I9YULtNMBRn2UIXxZtuvCjedNWfoKVXBvsHeOUfoIUx5AeY0pVXXSR052UxBJSi0kDiRplII83HvadI9CMtOFjCmBjubC7cc8+Zc555eYdLuIEP3cCe4Zu+rq/mSXvSbyHg5eHl4eVxXRrwpD3p+Qh4n56P2+xZnvTszC7MCAAUF0XfOdJa62+IaCeO40GSJA/zPP8RwB9vDjBtWmv9JRE5ImpZawdVpbo58CkAIyJnIrLAzEvOuXNm/h3AfQDOAGdj5z5m5gXn3G9ENCKilckaiDwpiFZEpCoiTyYrM3/knOtXmHs58BkABvCLc+4DZl6cxIjoh4ODA728vIzt7W2sra09PT4+fgTgQES4LMvHZIy5LyI/f/dJvfK6FKMJqAdqmBS2ZgWINY9zJyZ1whUiRJrTfmGjybSxUemwcFEmghqT1UxlUrpQEXD7jRq3NWelEz10okIi1AJOX+U2EgALgUrT0kVnmcKvQ+uazSZvbW2hWq2i3++j3W5jf38f6+vrebvdHovI5pT09+vN7teLYev990K8GpQYjS1u1TQqhnHez6EU4cM7FTw7z5AXDo16ACcyPRsaxp2FEM9ejKd7zUaIYVpiOCpRq2rUIo0XLzMwEZaaFTzvZ8hyh/iWnu69fF1AAoOfFr/A5w8eYDQaIY5jJEmC09NTNBoNdLtd7O3t4ejoCIeHh8k/pL8KUSkCZcg6hCLDjLk2ufYGpRuXAuOMYiosQiDNNEcQILQuzYgi0QxVWKuAMtcqJPdXDaKaMMOUNrOAtoFSVE5jaaY4mtQPS5dmQPS8WkdfGReYgDe/3cTdpbvo9XrY2NhAp9NBq9XKO53Ov6T/r2mlVBeX0DSAMzeHppm5h7doemdvR99buYfd3V2srq4+PTk5+a+mr9CmrqTU3+5Rr9cHg8HgYve4krddbZGb5dOXmf2d+7n4pi9D4LrOeHl40v42fl0a8KQ96fkIeJ+ej9vsWZ707Mzmy/Ck5+M2e9afhmuAz1BhwewAAAAASUVORK5CYII=" alt="Next article" width="45" height="45" loading="lazy">
        </a>
      </div>
      
    </nav>
    
    <div class="comment-box">
      
      <p>Reference: Converting cURL to iOS Shortcut

This guide provides a step-by-step approach to converting your cURL command into an iOS Shortcut, focusing on clarity and security.

Step 1: Open Shortcuts and Create a New Shortcut

Launch the Shortcuts app and tap the ”+” button to create a new shortcut.  Tap ”Add Action”.

Step 2: Add “Get Contents of URL”

Search for and add the ”Get Contents of URL” action.

Step 3: Configure URL and Method


  URL:  Enter the following URL:
    https://app.khoj.dev/api/chat/history?client=web&amp;conversation_id=b24b3a6b-0915-41a9-b540-643ed42b60ef
    
  
  Method: Select ”GET”.


Step 4: Add Headers

Tap on ”Headers” and add the following key-value pairs.  See the image below for a visual guide on adding headers:




  
    
      Key
      Value
    
    
      ——————
      ————————————————————————————————————————————————————————————————————————————
    
    
      Host
      app.khoj.dev
    
    
      Sec-Fetch-Dest
      empty
    
    
      User-Agent
      Mozilla/5.0 (iPhone; CPU iPhone OS 18_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.1 Mobile/15E148 Safari/604.1
    
    
      Accept
      */*
    
    
      Referer
      https://app.khoj.dev/chat?conversationId=b24b3a6b-0915-41a9-b540-643ed42b60ef
    
    
      Sec-Fetch-Site
      same-origin
    
    
      Sec-Fetch-Mode
      cors
    
    
      Accept-Language
      en-GB,en-US;q=0.9,en;q=0.8
    
    
      Priority
      u=3, i
    
    
      Accept-Encoding
      gzip, deflate, br
    
    
      Connection
      keep-alive
    
    
      Cookie
      (See Security Considerations below)  Instead of directly embedding the cookie here, use a “Get Variable” action to retrieve it from a secure location (e.g., another shortcut dedicated to storing and refreshing it).
    
  


Step 5: Handling the Response (JSON)


  Add a ”Get Dictionary Value” action.
  Connect it to the “Get Contents of URL” action.
  In the “Key” field of “Get Dictionary Value”, enter the key you want to extract from the JSON response.  For example, if the JSON response is {“message”: “Hello”}, enter “message” to extract the value “Hello”.


Example JSON Output and Parsing:

Let’s say the API returns:

{“status”: “success”, “data”: [{“id”: 1, “name”: “John”}, {“id”: 2, “name”: “Jane”}]}


To get the name of the first user, you would set the “Key” in “Get Dictionary Value” to “data”, then use another “Get Item from List” action to get the first item, and finally another “Get Dictionary Value” action with the key “name”.

Step 6: Displaying the Result

Add a ”Show Result” action and connect it to the output of the “Get Dictionary Value” action (or any other action processing the response).

Step 7: Security Considerations

Important: Directly embedding the session cookie in your shortcut is not recommended due to security risks and session expiration.  Instead, store the cookie securely and retrieve it dynamically.  Consider using a dedicated secrets management shortcut or iCloud Keychain.  This allows you to refresh the cookie periodically without modifying the main shortcut.

Step 8: Save and Run

Save your shortcut with a descriptive name (e.g., “Get Chat History”).  Run the shortcut to test its functionality.</p>
      
    </div>
    
  </main>
  <footer class="site-footer">
    <p><a href="#" aria-label="Back to top"><img src="/assets/Rope_(Old).gif" alt="Back to top" width="32" height="32" loading="lazy"></a><a href="https://ib.bsb.br/404" aria-label="404">2024-12-21 06:59:32</a>‎ &hArr;‎ <a href="https://github.com/ib-bsb-br/ib-bsb-br.github.io" aria-label="GitHub">&#8505;</a>‎ <a href="/" aria-label="Homepage">infoBAG</a></p>
  </footer>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://ib.bsb.br/converting-curl-to-ios-shortcut/"
    },
    "headline": "Converting cURL to iOS Shortcut",
    "description": "",
    "datePublished": "2024-11-12T00:00:00+00:00",
    "dateModified": "2024-11-12T12:32:33+00:00",
    "author": {
      "@type": "Person",
      "name": "Author"
    },
    "publisher": {
      "@type": "Organization",
      "name": "infoBAG",
      
    }
    
  }
  </script>  
  <script src="/assets/js/prism.js" defer></script>
</body>
</html>
