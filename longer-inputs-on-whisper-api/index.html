<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>
    
      Longer inputs on WHISPER API — infoBAG
    
  </title>
  <meta name="title" content="Longer inputs on WHISPER API" />
  <meta name="description" content="A website about..." />

  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="Longer inputs on WHISPER API — infoBAG" />
  <meta property="og:description" content="A website about..." />
  <meta property="og:url" content="https://ib.bsb.br/longer-inputs-on-whisper-api/" />
  <meta property="og:type" content="article" />
  <meta property="og:site_name" content="infoBAG" />
  

  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Longer inputs on WHISPER API — infoBAG">
  <meta name="twitter:description" content="A website about...">
  

  <!-- Structured Data (JSON-LD) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://ib.bsb.br/longer-inputs-on-whisper-api/"
    },
    "headline": "Longer inputs on WHISPER API",
    "description": "",
    "datePublished": "2024-07-21T00:00:00+00:00",
    "dateModified": "2024-09-20T02:37:06+00:00",
    "author": {
      "@type": "Person",
      "name": "infoBAG"
    },
    "publisher": {
      "@type": "Organization",
      "name": "infoBAG"
    }
  }
  </script>

  <link rel="canonical" href="https://ib.bsb.br/longer-inputs-on-whisper-api/">
  <link rel="alternate" type="application/rss+xml" title="infoBAG" href="https://ib.bsb.br/rss.xml">
  
  <!-- Favicons and Icons -->
  
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">

  
    <meta name="keywords" content="scripts>AI">
    
      <meta property="article:tag" content="scripts>AI">
    
  

  <!-- Stylesheets -->
  <link href="/style.css" rel="stylesheet">
  <link href="/pagefind/pagefind-ui.css" rel="stylesheet">

  <!-- JavaScript Files with 'defer' for Non-blocking -->
  <script src="/pagefind/pagefind-ui.js" defer></script>
  <script type="module" defer>
    import PagefindHighlight from '/pagefind/pagefind-highlight.js';
    document.addEventListener('DOMContentLoaded', () => {
      new PagefindHighlight({ highlightParam: 'highlight' });
    });
  </script>
  <script src="/assets/js/search.js" defer></script>
  <script src="/assets/js/prism.js" defer></script>
</head>
<body class="post-content-body">
  <header class="header-container">
    <div id="search" class="search-input-block"></div>
    <nav aria-label="Main navigation" class="header-content">
      <a href="/" aria-label="Home">
        <img src="/assets/Sudden_Death_Rune.gif" alt="Home" class="favicon search-link" width="32" height="32" loading="lazy">
      </a>
      <a href="/archive" aria-label="Archive">
        <img src="/favicon.ico" alt="Archive" class="favicon search-link" width="32" height="32" loading="lazy">
      </a>
      <a href="/tags" aria-label="Tags">
        <img src="/assets/Label.gif" alt="Tags" class="favicon search-link" width="32" height="32" loading="lazy">
      </a>
      <a href="/events" aria-label="Events">
        <img src="/assets/Paralyse_Rune.gif" alt="Events" class="favicon search-link" width="32" height="32" loading="lazy">
      </a>
    </nav>
  </header>

  <main class="content">
    <article class="post-wrapper">
      <header class="post-heading">
        <h1 class="post-title">Longer inputs on WHISPER API</h1>
        <div class="post-meta">
          <time datetime="2024-07-21T00:00:00+00:00" class="post-date">July 21, 2024</time>
          
            <span class="post-updated"> &rightarrowtail; Updated: <time datetime="2024-09-20T02:37:06+00:00">September 20, 2024</time></span>
          
          
            <div class="post-info">Edit: aberto.</div>
          
          
            <div class="post-tags">
              Tags:
              
                <a href="/tags-scripts-ai" class="tag">scripts>AI</a>
              
            </div>
          
          <div class="post-actions">
            <a href="https://github.com/ib-bsb-br/ib-bsb-br.github.io/edit/main/_posts/2024-07-21-longer-inputs-on-whisper-api.md" target="_blank" rel="noopener noreferrer nofollow" class="btn-primary">Improve this page</a> ⇔
            <a href="https://github.com/ib-bsb-br/ib-bsb-br.github.io/commits/main/_posts/2024-07-21-longer-inputs-on-whisper-api.md" target="_blank" rel="noopener noreferrer nofollow" class="btn-secondary">View revision history</a>
          </div>
        </div>
      </header>
      <div class="post-content">
        
<ul><li><a href="#audio-file-limitations"><a href="https://console.groq.com/docs/speech-text#audio-file-limitations">Audio file limitations</a></a></li></ul>
        <h3 id="audio-file-limitations">
    
    
     <a href="#audio-file-limitations">#</a><a href="#" aria-label="Back to top"><a href="https://console.groq.com/docs/speech-text#audio-file-limitations">Audio file limitations</a></a>
        
    
  </h3>
      

<ul>
  <li>File uploads are limited to 25 MB</li>
  <li>The following input file types are supported: <code class="language-plaintext highlighter-rouge">mp3</code>, <code class="language-plaintext highlighter-rouge">mp4</code>, <code class="language-plaintext highlighter-rouge">mpeg</code>, <code class="language-plaintext highlighter-rouge">mpga</code>, <code class="language-plaintext highlighter-rouge">m4a</code>, <code class="language-plaintext highlighter-rouge">wav</code>, and <code class="language-plaintext highlighter-rouge">webm</code></li>
  <li>If a file contains multiple audio tracks, for example a video with dubs, only the first track will be transcribed</li>
</ul>

<p>Whisper will downsample audio to 16,000 Hz mono before transcribing. This preprocessing can be performed client-side to reduce file size and allow longer files to be uploaded to groq. The following ffmpeg command can be used to reduce file size:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>ffmpeg \
  -i &lt;your file&gt; \
  -ar 16000 \
  -ac 1 \
  -map 0:a: \
  &lt;output file name&gt;
</code></section></div></div>

<p>By default, the Whisper API only supports files that are less than 25 MB. If you have an audio file that is longer than that, you will need to break it up into chunks of 25 MB’s or less or used a compressed audio format. To get the best performance, we suggest that you avoid breaking the audio up mid-sentence as this may cause some context to be lost.</p>

<p>One way to handle this is to use the PyDub open source Python package to split the audio:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>from pydub import AudioSegment

song = AudioSegment.from_mp3("good_morning.mp3")

# PyDub handles time in milliseconds
ten_minutes = 10 * 60 * 1000

first_10_minutes = song[:ten_minutes]

first_10_minutes.export("good_morning_10.mp3", format="mp3")
</code></section></div></div>

<p>To preserve the context of a file that was split into segments, you can prompt the model with the transcript of the preceding segment. This will make the transcript more accurate, as the model will use the relevant information from the previous audio. The model will only consider the final 224 tokens of the prompt and ignore anything earlier.</p>

      </div>

      <nav class="post-navigation" aria-label="Post navigation">
        
          <div class="nav-arrow prev">
            <a href="/vpc-3588-motherboard/" title="VPC-3588 Motherboard" rel="prev">
              <span aria-hidden="true">&larr;</span> Previous: VPC-3588 Motherboard
            </a>
          </div>
        
        
          <div class="nav-arrow next">
            <a href="/mlo-workspaces-logic/" title="MLO Workspaces logic" rel="next">
              Next: MLO Workspaces logic <span aria-hidden="true">&rarr;</span>
            </a>
          </div>
        
      </nav>

      
    </article>
  </main>

  <footer class="site-footer">
    <p>&copy; 2024 infoBAG. All rights reserved.</p>
  </footer>
</body>
</html>
