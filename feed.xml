<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.4.1">Jekyll</generator><link href="https://ib.bsb.br/feed.xml" rel="self" type="application/atom+xml" /><link href="https://ib.bsb.br/" rel="alternate" type="text/html" /><updated>2025-06-23T13:58:12+00:00</updated><id>https://ib.bsb.br/feed.xml</id><title type="html">infoBAG</title><entry><title type="html">Bash Watchdogs, Discord Alerts, and Dynamic DNS</title><link href="https://ib.bsb.br/bash-watchdogs-discord-alerts-and-dynamic-dns/" rel="alternate" type="text/html" title="Bash Watchdogs, Discord Alerts, and Dynamic DNS" /><published>2025-06-21T00:00:00+00:00</published><updated>2025-06-21T08:59:21+00:00</updated><id>https://ib.bsb.br/bash-watchdogs-discord-alerts-and-dynamic-dns</id><content type="html" xml:base="https://ib.bsb.br/bash-watchdogs-discord-alerts-and-dynamic-dns/"><![CDATA[<h2 id="ssh-watcher">SSH Watcher</h2>

<p>Make sure your server is set up to allow SSH logins with public keys and, <strong>at the server console or shell, as <code class="language-plaintext highlighter-rouge">root</code>, login to your local server (yes, recursively):</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh &lt;ipaddress you want to be monitored&gt;
</code></pre></div></div>

<p>The first time you do this, you should get a message about remembering the fingerprint – say “yes”.</p>

<p>You will be logged into the server in an SSH shell from your current SSH shell. You can exit.<br />
Next time you log in like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh &lt;ipaddress you want to be monitored&gt;
</code></pre></div></div>

<p>there should be <strong>no prompt</strong>.</p>

<p>Create a file <code class="language-plaintext highlighter-rouge">/opt/watchdog/watchdog-ssh.sh</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
<span class="nv">SSH_USER</span><span class="o">=</span><span class="s2">"root"</span>
<span class="nv">SSH_HOST</span><span class="o">=</span><span class="s2">"&lt;ipaddress you want to be monitored&gt;"</span>
<span class="nv">SSH_PORT</span><span class="o">=</span><span class="s2">"&lt;port of ssh&gt;"</span>

attempt_ssh_login<span class="o">()</span> <span class="o">{</span>
    <span class="nb">local </span><span class="nv">user</span><span class="o">=</span><span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span>
    <span class="nb">local </span><span class="nv">host</span><span class="o">=</span><span class="s2">"</span><span class="nv">$2</span><span class="s2">"</span>
    <span class="nb">local </span><span class="nv">port</span><span class="o">=</span><span class="s2">"</span><span class="nv">$3</span><span class="s2">"</span>
    <span class="nb">echo</span> <span class="s2">"Attempting SSH login to </span><span class="nv">$user</span><span class="s2">@</span><span class="nv">$host</span><span class="s2">:</span><span class="nv">$port</span><span class="s2">..."</span>
    ssh <span class="nt">-o</span> <span class="nv">BatchMode</span><span class="o">=</span><span class="nb">yes</span> <span class="se">\</span>
        <span class="nt">-o</span> <span class="nv">ConnectTimeout</span><span class="o">=</span>10 <span class="se">\</span>
        <span class="nt">-o</span> <span class="nv">StrictHostKeyChecking</span><span class="o">=</span>no <span class="se">\</span>
        <span class="nt">-o</span> <span class="nv">PasswordAuthentication</span><span class="o">=</span>no <span class="se">\</span>
        <span class="nt">-p</span> <span class="s2">"</span><span class="nv">$port</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$user</span><span class="s2">@</span><span class="nv">$host</span><span class="s2">"</span> <span class="s2">"exit"</span> &amp;&gt; /dev/null
    <span class="k">return</span> <span class="nv">$?</span>   <span class="c"># Return the exit status of the ssh command</span>
<span class="o">}</span>

<span class="c"># Perform the SSH login attempt</span>
attempt_ssh_login <span class="s2">"</span><span class="nv">$SSH_USER</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$SSH_HOST</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$SSH_PORT</span><span class="s2">"</span>

<span class="c"># Check the exit status</span>
<span class="nv">SSH_STATUS</span><span class="o">=</span><span class="nv">$?</span>

<span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$SSH_STATUS</span><span class="s2">"</span> <span class="nt">-eq</span> 0 <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    <span class="c"># --- Actions on SUCCESS ---</span>
    <span class="nb">echo</span> <span class="s2">"SSH login to </span><span class="nv">$SSH_USER</span><span class="s2">@</span><span class="nv">$SSH_HOST</span><span class="s2">:</span><span class="nv">$SSH_PORT</span><span class="s2"> successful!"</span>
    <span class="nb">echo</span> <span class="s2">"Nothing to do, exiting."</span>
    <span class="c"># You can put a script here but consider this runs every 5 minutes.</span>
    <span class="nb">exit </span>0

<span class="k">elif</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$SSH_STATUS</span><span class="s2">"</span> <span class="nt">-ne</span> 0 <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    <span class="c"># --- Actions on FAILURE ---</span>
    <span class="nb">echo</span> <span class="s2">"SSH login to </span><span class="nv">$SSH_USER</span><span class="s2">@</span><span class="nv">$SSH_HOST</span><span class="s2">:</span><span class="nv">$SSH_PORT</span><span class="s2"> FAILED (Exit Code: </span><span class="nv">$SSH_STATUS</span><span class="s2">)."</span>
    <span class="nb">echo</span> <span class="s2">"Restarting sshd..."</span>
    systemctl restart ssh.service   <span class="c"># Restart the SSH service; your distro might vary.</span>
    <span class="c"># /path/scriptToRun.sh  # you can run a script here; make sure it is +x and on PATH.</span>
    <span class="nb">exit </span>1

<span class="k">else</span>
    <span class="c"># This block should not be reached if SSH_STATUS is always 0 or non-zero, but for completeness:</span>
    <span class="nb">echo</span> <span class="s2">"An unexpected error occurred."</span>
    <span class="nb">exit </span>2
<span class="k">fi</span>
</code></pre></div></div>

<p>Make the file executable:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chmod</span> +x /opt/watchdog/watchdog-ssh.sh
</code></pre></div></div>

<p>Open crontab and put the line there to run every 5 minutes:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>crontab <span class="nt">-e</span>
</code></pre></div></div>

<p>Add this on a new line:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">*</span>/5 <span class="k">*</span> <span class="k">*</span> <span class="k">*</span> <span class="k">*</span> /opt/watchdog/watchdog-ssh.sh
</code></pre></div></div>

<p>You can manually run the script (be aware it restarts sshd) or wait a few minutes and check the crontab logs (may vary with distro):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">grep </span>CRON /var/log/syslog
</code></pre></div></div>

<p>Or you can use the script logic to write something meaningful or send a Discord notification.</p>

<blockquote>
  <p><strong>Note:</strong> Some distros don’t like <code class="language-plaintext highlighter-rouge">*/5</code> in a cron job. If you have that trouble, try <a href="http://crontab.guru">http://crontab.guru</a> for tips.</p>
</blockquote>

<p>Also, you don’t have to use <code class="language-plaintext highlighter-rouge">root</code> for this. You can use any user with permissions and a valid public key.</p>

<hr />

<h2 id="port-watcher">Port Watcher</h2>

<p>Similarly, a port can be checked with <code class="language-plaintext highlighter-rouge">nc</code> (netcat). In this case, create a file <code class="language-plaintext highlighter-rouge">/opt/watcher/watcher-minecraft.sh</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
<span class="nv">TARGET_HOST</span><span class="o">=</span><span class="s2">"172.16.30.212"</span>   <span class="c"># The IP address or hostname of the target server</span>
<span class="nv">TARGET_PORT</span><span class="o">=</span><span class="s2">"25565"</span>           <span class="c"># The port number to check</span>

check_port_status<span class="o">()</span> <span class="o">{</span>
    <span class="nb">local </span><span class="nv">host</span><span class="o">=</span><span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span>
    <span class="nb">local </span><span class="nv">port</span><span class="o">=</span><span class="s2">"</span><span class="nv">$2</span><span class="s2">"</span>
    <span class="nb">echo</span> <span class="s2">"Checking if port </span><span class="nv">$port</span><span class="s2"> on </span><span class="nv">$host</span><span class="s2"> is open..."</span>
    <span class="k">if </span>nc <span class="nt">-z</span> <span class="nt">-w</span> 1 <span class="s2">"</span><span class="nv">$host</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$port</span><span class="s2">"</span> &amp;&gt; /dev/null<span class="p">;</span> <span class="k">then
        return </span>0   <span class="c"># Port is open</span>
    <span class="k">else
        return </span>1   <span class="c"># Port is not open</span>
    <span class="k">fi</span>
<span class="o">}</span>

<span class="c"># Perform the port check</span>
check_port_status <span class="s2">"</span><span class="nv">$TARGET_HOST</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$TARGET_PORT</span><span class="s2">"</span>

<span class="c"># Check the exit status of the port check</span>
<span class="nv">PORT_STATUS</span><span class="o">=</span><span class="nv">$?</span>

<span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$PORT_STATUS</span><span class="s2">"</span> <span class="nt">-eq</span> 0 <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    <span class="c"># --- Actions on SUCCESS (Port is Open) ---</span>
    <span class="nb">echo</span> <span class="s2">"Port </span><span class="nv">$TARGET_PORT</span><span class="s2"> on </span><span class="nv">$TARGET_HOST</span><span class="s2"> is open. Nothing to do, exiting."</span>
    <span class="nb">exit </span>0

<span class="k">elif</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$PORT_STATUS</span><span class="s2">"</span> <span class="nt">-ne</span> 0 <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    <span class="c"># --- Actions on FAILURE (Port is NOT Open) ---</span>
    <span class="nb">echo</span> <span class="s2">"Port </span><span class="nv">$TARGET_PORT</span><span class="s2"> on </span><span class="nv">$TARGET_HOST</span><span class="s2"> is NOT open (Exit Code: </span><span class="nv">$PORT_STATUS</span><span class="s2">)."</span>
    <span class="nb">echo</span> <span class="s2">"Attempting to restart Minecraft, watch Discord for updates..."</span>
    <span class="nb">cd</span> /opt/docker
    docker compose restart minecraft   <span class="c"># Restart the service or run a script</span>

    <span class="k">if</span> <span class="o">[</span> <span class="nv">$?</span> <span class="nt">-eq</span> 0 <span class="o">]</span><span class="p">;</span> <span class="k">then
        </span><span class="nb">echo</span> <span class="s2">"Service restarted successfully."</span>
    <span class="k">else
        </span><span class="nb">echo</span> <span class="s2">"Failed to restart service. Check Discord for updates."</span>
    <span class="k">fi
    </span><span class="nb">exit </span>1

<span class="k">else</span>
    <span class="c"># This block should not theoretically be reached</span>
    <span class="nb">echo</span> <span class="s2">"An unexpected error occurred during port check."</span>
    <span class="nb">exit </span>2
<span class="k">fi</span>
</code></pre></div></div>

<hr />

<h2 id="discord-notifications">Discord Notifications</h2>

<p>This is the easiest way, I think, to keep track of things as the app is nice and the service is reliable.<br />
<em>I find sometimes messages might be 1–2 minutes after the fact, so this is not a real-time messaging solution.</em></p>

<ol>
  <li>Create a Discord account, server, and webhook.</li>
</ol>

<p>You should have a string that looks like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://discordapp.com/api/webhooks/115954877264954...
</code></pre></div></div>

<ol>
  <li>Make a file <code class="language-plaintext highlighter-rouge">/opt/discord/discord.conf</code> and put the string in, like this:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">webhook</span><span class="o">=</span><span class="s2">"https://discordapp.com/api/webhooks/115954877264954..."</span>
</code></pre></div></div>

<ol>
  <li>Lock the file down:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chmod </span>400 /opt/discord/discord.conf
</code></pre></div></div>

<ol>
  <li>Make a file <code class="language-plaintext highlighter-rouge">/opt/discord/discord.sh</code>:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
<span class="nb">.</span> /opt/discord/discord.conf
curl <span class="nt">-H</span> <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
     <span class="nt">-d</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">username</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="nv">$1</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">content</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="nv">$2</span><span class="se">\"</span><span class="s2">}"</span> <span class="nv">$webhook</span>
</code></pre></div></div>

<ol>
  <li>Make this file executable:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chmod </span>775 /opt/discord/discord.sh
</code></pre></div></div>

<p>Now, if you want to send a notification to your Discord channel from the command line:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@server12:~# /opt/discord/discord.sh <span class="s2">"username"</span> <span class="s2">"message"</span>
</code></pre></div></div>

<p>This will send a message with the fields to the Discord channel on the server.<br />
Make sure the server is private.</p>

<p>Similarly, you can add that line to one of the actions above:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">elif</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$PORT_STATUS</span><span class="s2">"</span> <span class="nt">-ne</span> 0 <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    <span class="c"># --- Actions on FAILURE (Port is NOT Open) ---</span>
    <span class="nb">echo</span> <span class="s2">"Port </span><span class="nv">$TARGET_PORT</span><span class="s2"> on </span><span class="nv">$TARGET_HOST</span><span class="s2"> is NOT open (Exit Code: </span><span class="nv">$PORT_STATUS</span><span class="s2">)."</span>
    <span class="nb">echo</span> <span class="s2">"Attempting to restart Minecraft, watch Discord for updates..."</span>
    /opt/discord/discord.sh <span class="s2">"server12"</span> <span class="s2">"Attempting to restart the Minecraft container..."</span>
    <span class="nb">cd</span> /opt/docker
    docker compose restart minecraft
</code></pre></div></div>

<hr />

<h2 id="reboot-notifications">Reboot Notifications</h2>

<p>A little-known key of <code class="language-plaintext highlighter-rouge">crontab</code> is <code class="language-plaintext highlighter-rouge">@reboot</code>, and it can be used like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>crontab <span class="nt">-e</span>
</code></pre></div></div>

<p>Add this on its own line:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@reboot /opt/discord/discord.sh <span class="s2">"</span><span class="si">$(</span><span class="nb">hostname</span><span class="si">)</span><span class="s2">"</span> <span class="s2">"</span><span class="si">$(</span><span class="nb">hostname</span><span class="si">)</span><span class="s2"> starting up..."</span>
</code></pre></div></div>

<p>Now, whenever your Linux server starts up, you get a short message; this is good to get confirmation of a restart or a warning the power may have gone off.</p>

<h2 id="ddns-updater">DDNS Updater</h2>

<p>Often when self-hosting the problem is related to the ever-changing IP address at home. To get around this, I created a Cloudflare account, then set up the free DNS services and hosted a domain I own there. I then created a record called <code class="language-plaintext highlighter-rouge">home.&lt;mydomain&gt;</code> with IP address <code class="language-plaintext highlighter-rouge">1.2.3.4</code>.</p>

<p>Make sure with <code class="language-plaintext highlighter-rouge">nslookup</code> the IP address is visible and resolves:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nslookup home.&lt;mydomain&gt;
</code></pre></div></div>

<p>Should return the IP <code class="language-plaintext highlighter-rouge">1.2.3.4</code>.</p>

<p>In Cloudflare, click on your profile picture, then <em>Preferences</em>, then <em>API Tokens</em> and make a token that has <strong>EDIT</strong> rights to <code class="language-plaintext highlighter-rouge">&lt;mydomain&gt;</code> domain.</p>

<p>Install <code class="language-plaintext highlighter-rouge">jq</code> (varies by distro):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apt <span class="nb">install </span>jq
</code></pre></div></div>

<p>Get your zone ID from Cloudflare’s API:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-X</span> GET <span class="s2">"https://api.cloudflare.com/client/v4/zones?name=&lt;mydomain&gt;"</span> <span class="se">\</span>
     <span class="nt">-H</span> <span class="s2">"Authorization: Bearer &lt;cloudflare token&gt;"</span> <span class="se">\</span>
     <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span>
</code></pre></div></div>

<p>The output is 30- or 40-character alphanumerics; that is the <code class="language-plaintext highlighter-rouge">&lt;zoneid&gt;</code> for <code class="language-plaintext highlighter-rouge">&lt;mydomain&gt;</code>.</p>

<p>Create a script <code class="language-plaintext highlighter-rouge">/opt/ddns/ddns.sh</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
<span class="c"># Don't forget to install the jq package</span>

<span class="c">## keep these private</span>
<span class="nv">cloudflare_auth_key</span><span class="o">=</span>&lt;cloudflare token&gt;

<span class="c"># Cloudflare zone is the zone which holds the record</span>
<span class="nv">dnsrecord</span><span class="o">=</span>home.&lt;mydomain&gt;
<span class="nv">zoneid</span><span class="o">=</span>&lt;zone <span class="nb">id</span><span class="o">&gt;</span>

<span class="c"># Get the current external IP address</span>
<span class="nv">ip</span><span class="o">=</span><span class="si">$(</span>curl <span class="nt">-4</span> icanhazip.com<span class="si">)</span>

<span class="c">#echo "Current IP is $ip"</span>

<span class="k">if </span>host <span class="nv">$dnsrecord</span> 1.1.1.1 | <span class="nb">grep</span> <span class="s2">"has address"</span> | <span class="nb">grep</span> <span class="s2">"</span><span class="nv">$ip</span><span class="s2">"</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$dnsrecord</span><span class="s2"> is currently set to </span><span class="nv">$ip</span><span class="s2">; no changes needed"</span>
<span class="k">else</span>
  /opt/discord/discord.sh <span class="s2">"</span><span class="si">$(</span><span class="nb">hostname</span><span class="si">)</span><span class="s2">"</span> <span class="s2">"Cloudflare address for </span><span class="nv">$dnsrecord</span><span class="s2"> should be </span><span class="nv">$ip</span><span class="s2">, I'll update the address..."</span>

  <span class="c"># get the dns record id</span>
  <span class="nv">dnsrecordid</span><span class="o">=</span><span class="si">$(</span>curl <span class="nt">-s</span> <span class="nt">-X</span> GET <span class="s2">"https://api.cloudflare.com/client/v4/zones/</span><span class="nv">$zoneid</span><span class="s2">/dns_records?type=A&amp;name=</span><span class="nv">$dnsrecord</span><span class="s2">"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Authorization: Bearer </span><span class="nv">$cloudflare_auth_key</span><span class="s2">"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> | jq <span class="nt">-r</span>  <span class="s1">'{"result"}[] | .[0] | .id'</span><span class="si">)</span>

  <span class="c"># update the record</span>
  curl <span class="nt">-s</span> <span class="nt">-X</span> PUT <span class="s2">"https://api.cloudflare.com/client/v4/zones/</span><span class="nv">$zoneid</span><span class="s2">/dns_records/</span><span class="nv">$dnsrecordid</span><span class="s2">"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Authorization: Bearer </span><span class="nv">$cloudflare_auth_key</span><span class="s2">"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">A</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="nv">$dnsrecord</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">content</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="nv">$ip</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ttl</span><span class="se">\"</span><span class="s2">:1,</span><span class="se">\"</span><span class="s2">proxied</span><span class="se">\"</span><span class="s2">:false}"</span> | jq
<span class="k">fi</span>
</code></pre></div></div>

<p>Make the file executable:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chmod </span>775 /opt/ddns/ddns.sh
</code></pre></div></div>

<p>The script checks the IPv4 address of the public interface against what is in Cloudflare and makes a change if needed. It also sends a Discord notice if a change was required.</p>

<p>I know my ISP resets the IP address every morning at 03:00 and I get a new one if the modem reboots for any reason, so this script can be added to <code class="language-plaintext highlighter-rouge">crontab</code> to run every 20 minutes:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>crontab <span class="nt">-e</span>
</code></pre></div></div>

<p>Put this on a new line:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">*</span>/20 <span class="k">*</span> <span class="k">*</span> <span class="k">*</span> <span class="k">*</span> /opt/ddns/ddns.sh
</code></pre></div></div>

<p>You can test this by restarting your modem to get a new IP, then manually running the script. You should see <code class="language-plaintext highlighter-rouge">nslookup</code> returning your public IP after a few minutes and, of course, a Discord notification. You can also use the logic of the script to run another script in case some service needs to be restarted with an IP renewal, like a VPN service.</p>

<p>All the scripts above can be combined to make them monitor each other and provide some resilience. For example, you can use a modification of the port-monitoring script to check the DNS record and alert via Discord if a record does not return results.</p>

<p>Something else: I know not everybody is into AI, but for these short scripts most AIs are actually really good. Try this in Gemini:</p>

<blockquote>
  <p><em>I am a sysadmin looking after a server. I want a bash script that checks if a specific file has been changed in the last 10 minutes and return a 1 else 0.</em></p>
</blockquote>]]></content><author><name></name></author><category term="scratchpad" /></entry><entry><title type="html">Cosmic Microwave Background</title><link href="https://ib.bsb.br/cosmic-microwave-background/" rel="alternate" type="text/html" title="Cosmic Microwave Background" /><published>2025-06-21T00:00:00+00:00</published><updated>2025-06-21T17:55:40+00:00</updated><id>https://ib.bsb.br/cosmic-microwave-background</id><content type="html" xml:base="https://ib.bsb.br/cosmic-microwave-background/"><![CDATA[<h3 id="section-i-the-primordial-echo-theoretical-foundations-and-discovery"><strong>Section I: The Primordial Echo: Theoretical Foundations and Discovery</strong></h3>

<p>The Cosmic Microwave Background (CMB) is the most ancient light in the universe, a relic radiation that permeates all of space. It serves as a direct observational window into the conditions of the cosmos when it was a mere infant, providing the bedrock upon which the modern standard model of cosmology is built. Understanding its origin, discovery, and properties is fundamental to comprehending the 13.8-billion-year history of the universe, from its hot, dense beginnings to the vast, structured cosmos we inhabit today.</p>

<h4 id="11-from-a-hot-dense-plasma-to-a-transparent-universe-the-physics-of-recombination"><strong>1.1 From a Hot, Dense Plasma to a Transparent Universe: The Physics of Recombination</strong></h4>

<p>In the first few hundred thousand years after the Big Bang, the universe was an unrecognizable environment, profoundly different from the cold, dark space we observe between stars and galaxies. It was filled with a hot, dense, and opaque fog of fundamental particles. The temperature was so extreme—thousands of degrees Kelvin—that atoms could not exist. Instead, matter was a plasma composed primarily of free-flying protons, helium nuclei, and electrons, bathed in an intense field of photons (particles of light).<br />
In this primordial soup, photons were not free to travel unimpeded. They were tightly “coupled” to the matter via a process called Thomson scattering, constantly colliding with the abundant free electrons. Any time a photon attempted to travel a significant distance, it would scatter off an electron, changing its direction and transferring momentum. This constant scattering rendered the early universe opaque, analogous to the way light scatters within a thick fog, preventing one from seeing through it. The photons and the baryon-electron fluid behaved as a single, unified plasma.<br />
This state of affairs persisted until the universe was approximately 380,000 years old. Over this time, the continuous expansion of space caused the universe to cool. Eventually, it reached a critical threshold temperature of about 3000 K. At this point, the average energy of the photons dropped below the binding energy of the hydrogen atom. This allowed the free electrons to be captured by protons, forming stable, electrically neutral hydrogen atoms. This pivotal event is known as the epoch of <strong>recombination</strong>.<br />
The formation of neutral atoms dramatically changed the cosmic landscape. With the vast majority of free electrons now bound within atoms, the primary obstacle for photon travel was removed. The universe, once opaque, suddenly became transparent. The photons, now decoupled from matter, were free to stream across the cosmos in straight lines, their paths disturbed only by the curvature of spacetime itself. This moment of decoupling created what is known as the <strong>surface of last scattering</strong>. When we observe the CMB today, we are looking back in time to this spherical surface, seeing the light that was last scattered at that instant, 13.8 billion years ago.<br />
Since the epoch of recombination, the universe has continued to expand by a factor of about 1,100. This expansion has stretched the wavelengths of the primordial photons through a process known as cosmological redshift. The light that was emitted at a temperature of 3000 K, primarily in the visible and infrared parts of the spectrum, has been redshifted all the way into the microwave region of the electromagnetic spectrum. Today, this relic radiation is observed as a faint, uniform glow coming from every direction in the sky, with a near-perfect thermal blackbody spectrum corresponding to an average temperature of just 2.725 Kelvin.</p>

<h4 id="12-a-serendipitous-hiss-the-penzias-wilson-discovery-and-the-triumph-of-the-big-bang-model"><strong>1.2 A Serendipitous Hiss: The Penzias-Wilson Discovery and the Triumph of the Big Bang Model</strong></h4>

<p>The discovery of the Cosmic Microwave Background is a classic story of scientific convergence, where a puzzling experimental anomaly found its explanation in a parallel but initially unconnected theoretical framework. While the observation itself was serendipitous, the scientific community was, in many ways, primed for its interpretation.<br />
The theoretical groundwork was laid decades earlier. In 1948, as part of their work on Big Bang nucleosynthesis, Ralph Alpher and Robert Herman predicted that the hot, early universe should leave behind a relic radiation field, which they estimated would have cooled to a present-day temperature of about 5 K. However, their prediction did not spur an experimental search and was largely forgotten. In the early 1960s, a group at Princeton University, led by physicist Robert H. Dicke, independently arrived at a similar conclusion. Dicke, along with colleagues Jim Peebles, Peter Roll, and David Wilkinson, theorized that if the universe had a hot, dense origin, it should be filled with a low-temperature thermal radiation. Peebles calculated a temperature of about 10 K, and the team began constructing a small radio antenna (a Dicke radiometer) to search for this very signal.<br />
Contemporaneously, just 30 miles away at the Crawford Hill location of Bell Telephone Laboratories in Holmdel, New Jersey, two radio astronomers, Arno Penzias and Robert Wilson, were working with a very different objective. They were using a large, 20-foot horn-reflector antenna, an instrument of exquisite sensitivity originally built to communicate with the Echo balloon satellites. Their goal was to make precise measurements of faint radio sources in the Milky Way and to characterize all sources of terrestrial and atmospheric noise for future satellite communications.<br />
In 1964, while calibrating their instrument at a wavelength of 7.35 cm (4080 MHz), they encountered a persistent and perplexing problem: a low, steady, isotropic “hiss” of noise that they could not eliminate. This signal was equivalent to an “excess antenna temperature” of about 3.5 K—meaning it was 100 times more intense than they expected. It was present day and night, in all seasons, and no matter where they pointed the antenna in the sky. Over many months, they meticulously ruled out every conceivable source of interference. They checked for radio and radar from New York City, suppressed thermal noise from the receiver itself by cooling it with liquid helium to just 4 K, and accounted for atmospheric absorption. In a now-famous episode, they even climbed into the antenna to remove a pair of nesting pigeons and clean out what Penzias described as “white dielectric material” (pigeon droppings), yet the noise remained. They concluded the signal had to be coming from outside the Milky Way, but they had no explanation for what it could be.<br />
The resolution came through a series of conversations. Penzias happened to talk to Bernard Burke, a radio astronomer at MIT, who mentioned he had recently seen a preprint of a paper by Peebles from the Princeton group, discussing the possibility of a relic thermal radiation from the Big Bang. Realizing the potential connection, Penzias called Dicke at Princeton. The conversation was revelatory. As Dicke hung up the phone, he reportedly turned to his colleagues and said, “Boys, we’ve been scooped”.<br />
The two groups quickly understood the significance of combining their work. They decided to publish their results side-by-side in the <em>Astrophysical Journal</em> in 1965. The first paper, by Penzias and Wilson, was modestly titled “A Measurement of Excess Antenna Temperature at 4080 Mc/s,” and it simply reported the detection of the unexplained signal. The companion paper, by Dicke, Peebles, Roll, and Wilkinson, provided the cosmological interpretation: that Penzias and Wilson had found the cosmic microwave background radiation, the thermal remnant of a hot Big Bang.<br />
This discovery was a watershed moment in 20th-century science. At the time, the leading cosmological models were the Big Bang and the rival Steady State theory, which proposed that matter was continuously created as the universe expanded, keeping its average properties constant for all time. The Steady State theory had no natural explanation for a uniform, thermal, extragalactic radiation field. The Big Bang theory, however, predicted it. The discovery of the CMB was therefore landmark evidence that settled the debate decisively in favor of the Big Bang. It transformed cosmology from a field of philosophical speculation into a precision, observational science. For their pivotal discovery, Arno Penzias and Robert Wilson were awarded the Nobel Prize in Physics in 1978 , with the profound theoretical contributions of Jim Peebles being recognized with the Nobel Prize in 2019.<br />
The story of the CMB’s discovery is often painted as one of pure luck, but this oversimplifies the scientific process. It was a convergence of parallel lines of inquiry. The Princeton group had a powerful, predictive theory but lacked the observational evidence. The Bell Labs group had a puzzling, high-quality observation but lacked a theoretical framework. It was the rapid synthesis of the two that ignited a revolution in our understanding of the cosmos. The distinct perspectives of the key players are evident in their Nobel Lectures. Penzias, a physicist, framed his lecture around the grand quest for “The Origin of Elements,” placing the CMB discovery within the broader context of nucleosynthesis and fundamental physics. Wilson, a radio astronomer, focused his lecture on the meticulous experimental details of “The Cosmic Microwave Background Radiation,” detailing the radiometry, calibration, and noise elimination that made the discovery possible. Together, their work exemplifies the essential synergy between theory and experiment that drives scientific progress.</p>

<h3 id="section-ii-the-era-of-precision-cosmology-mapping-the-infant-universe-from-space"><strong>Section II: The Era of Precision Cosmology: Mapping the Infant Universe from Space</strong></h3>

<p>The discovery by Penzias and Wilson confirmed the existence of the CMB and established the Big Bang model. However, their ground-based measurement was of a single, average temperature. The Big Bang theory made a further, crucial prediction: this ancient light should not be perfectly uniform. It should contain minuscule temperature variations—anisotropies—reflecting the primordial density fluctuations that were the seeds of all future structure, including galaxies, clusters, and ourselves. The quest to detect and map these anisotropies drove the development of a series of increasingly sophisticated space-based observatories, ushering in an era of “precision cosmology.”</p>

<h4 id="21-cobe-cosmic-background-explorer-confirming-the-blackbody-spectrum-and-finding-the-first-seeds"><strong>2.1 COBE (Cosmic Background Explorer): Confirming the Blackbody Spectrum and Finding the First Seeds</strong></h4>

<p>Launched by NASA in 1989, the Cosmic Background Explorer (COBE) satellite was the first space mission specifically designed to study the CMB. It carried three instruments, two of which would revolutionize cosmology. The mission had two primary objectives: to make a definitive measurement of the CMB’s frequency spectrum and to conduct the first sensitive search for anisotropies across the entire sky.<br />
The first instrument, the Far-Infrared Absolute Spectrophotometer (FIRAS), delivered a spectacular result that was immediately hailed as a triumph. It measured the spectrum of the CMB and found it to be an almost perfect blackbody, a pure thermal radiation signature. The data points fit the theoretical blackbody curve so precisely that the error bars were smaller than the thickness of the line drawn on the plot. This measurement confirmed the CMB’s temperature to be 2.725 ± 0.002 K and provided incontrovertible evidence for the hot, thermal origin of the universe predicted by the Big Bang theory. No plausible alternative model could account for such a perfect thermal spectrum. For this landmark achievement, COBE Principal Investigator John Mather was awarded the 2006 Nobel Prize in Physics.<br />
The second key instrument, the Differential Microwave Radiometer (DMR), spent four years meticulously mapping the temperature of the sky at three different microwave frequencies. After carefully subtracting the bright foreground emission from our own Milky Way galaxy and the large dipole anisotropy caused by the motion of our Solar System through space, the DMR team was left with the intrinsic fluctuations of the CMB itself. In 1992, they announced their historic finding: they had detected the primordial temperature anisotropies. These fluctuations were incredibly faint, representing variations of only about one part in 100,000 compared to the average 2.725 K temperature. These were the imprints of the initial density ripples in the early universe, the “seeds” from which all large-scale structure would later grow via gravitational instability. DMR’s Principal Investigator, George Smoot, shared the 2006 Nobel Prize with Mather for this discovery. The finding was so profound that Stephen Hawking called it the “discovery of the century, if not of all time”.</p>

<h4 id="22-wmap-wilkinson-microwave-anisotropy-probe-charting-the-anisotropies-and-defining-the-standard-model"><strong>2.2 WMAP (Wilkinson Microwave Anisotropy Probe): Charting the Anisotropies and Defining the Standard Model</strong></h4>

<p>While COBE discovered the anisotropies, its angular resolution of about 7 degrees was too coarse to study their detailed structure. This task fell to its successor, NASA’s Wilkinson Microwave Anisotropy Probe (WMAP), launched in 2001. WMAP was a transformative mission, designed to map the anisotropies with 33 times the angular resolution and 45 times the sensitivity of COBE.<br />
Over nine years of observation, WMAP produced a stunningly detailed, full-sky map of the infant universe. This map allowed cosmologists, for the first time, to precisely measure the statistical properties of the anisotropies, particularly their angular power spectrum (discussed in Section III). The WMAP data provided overwhelming confirmation for what is now the <strong>Standard Model of Cosmology</strong>, known as the <strong>Lambda-Cold Dark Matter (ΛCDM)</strong> model. This model posits a universe composed of a cosmological constant (Λ, representing dark energy), hypothetical cold dark matter (CDM), and a small fraction of ordinary baryonic matter.<br />
WMAP’s data pinned down the key parameters of this model with unprecedented accuracy, a feat that led to the phrase “precision cosmology”. The mission’s results determined:</p>

<ul>
  <li><strong>The Age of the Universe:</strong> 13.77 ± 0.059 billion years, a measurement with better than 1% precision.</li>
  <li><strong>The Geometry of the Universe:</strong> Spatially flat, like a Euclidean plane, to within 0.4% accuracy.</li>
  <li><strong>The Composition of the Universe:</strong> Approximately 4.6% ordinary baryonic matter, 24.0% dark matter, and 71.4% dark energy.</li>
</ul>

<p>Furthermore, WMAP’s measurements of the polarization of the CMB provided the first evidence that the “cosmic dark ages” ended earlier than expected, with the first stars reionizing the universe when it was about 400 million years old. The statistical properties of the temperature fluctuations also lent strong support to the theory of cosmic inflation as the mechanism that generated the primordial seeds of structure. The WMAP mission was so successful that its key science papers are among the most highly cited in the history of physics and astronomy.</p>

<h4 id="23-planck-the-definitive-picture-and-the-onset-of-tension"><strong>2.3 Planck: The Definitive Picture and the Onset of Tension</strong></h4>

<p>Following WMAP, the European Space Agency (ESA) launched the Planck satellite in 2009, representing the third generation of space-based CMB observatories. Planck was designed to be the ultimate CMB temperature mapping mission, pushing technology to its limits. It boasted roughly 3 times the angular resolution and 10 times the sensitivity of WMAP. Crucially, it observed the sky in nine frequency bands, compared to WMAP’s five. This broad frequency coverage was essential for an even more precise separation of the faint CMB signal from the contaminating foreground emissions of our own galaxy and distant galaxies.<br />
The data released by the Planck collaboration, culminating in the final 2018 results, provided the most detailed and highest-fidelity view of the CMB ever obtained. These results largely confirmed the ΛCDM model established by WMAP, but refined its six core parameters to astounding, sub-percent-level precision. For example, the angular scale of the sound horizon at recombination, a key parameter, was measured to 0.03% accuracy.<br />
However, the very precision of the Planck data brought new challenges to the forefront. By measuring the ΛCDM parameters so exquisitely from the early universe, Planck sharpened what are now known as “tensions” with measurements made in the local, late-time universe. The most significant of these is the <strong>Hubble Tension</strong>. The Planck data, when interpreted through the lens of the ΛCDM model, predicts a value for the Hubble constant (the current expansion rate of the universe) of H_0 = 67.4 \pm 0.5 km/s/Mpc. This is in significant, greater-than-5-sigma disagreement with direct measurements from the local universe using techniques like the cosmic distance ladder, which find a value closer to H_0 \approx 73 km/s/Mpc.<br />
Planck also confirmed, with higher statistical significance, the existence of several large-scale anomalies in the CMB map that were first hinted at in the WMAP data. These include a power deficit at the largest angular scales and a peculiar alignment of the largest features in the sky with our own Solar System, a feature dubbed the “Axis of Evil”. These features are statistically unlikely within the standard isotropic ΛCDM model, posing a potential challenge to its foundational principles.<br />
The progression from COBE to WMAP to Planck thus tells a compelling story about the scientific process. It is a journey from initial discovery (COBE), to the establishment of a robust standard model (WMAP), and finally to a state of such high precision (Planck) that the model’s potential cracks and inconsistencies with other data have become the new frontier of research. The very success of these missions in cementing the ΛCDM model has simultaneously provided the sharpest tools for challenging it.<br />
&lt;br&gt;<br />
<strong>Table 1: A Comparative Analysis of Key CMB Space Missions</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Mission</th>
      <th style="text-align: left">Agency</th>
      <th style="text-align: left">Launch Year</th>
      <th style="text-align: left">Frequency Bands (GHz)</th>
      <th style="text-align: left">Best Angular Resolution</th>
      <th style="text-align: left">Temperature Sensitivity (\Delta T/T)</th>
      <th style="text-align: left">Key Scientific Contributions</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>COBE</strong></td>
      <td style="text-align: left">NASA</td>
      <td style="text-align: left">1989</td>
      <td style="text-align: left">31.5, 53, 90</td>
      <td style="text-align: left">~7^\circ</td>
      <td style="text-align: left">~10^{-5}</td>
      <td style="text-align: left">Confirmed the perfect blackbody spectrum of the CMB; First detection of intrinsic temperature anisotropies.</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>WMAP</strong></td>
      <td style="text-align: left">NASA</td>
      <td style="text-align: left">2001</td>
      <td style="text-align: left">23, 33, 41, 61, 94</td>
      <td style="text-align: left">~13 arcmin</td>
      <td style="text-align: left">~10^{-6}</td>
      <td style="text-align: left">Established the standard 6-parameter ΛCDM model; Provided precision measurements of age, geometry, and composition of the universe.</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Planck</strong></td>
      <td style="text-align: left">ESA</td>
      <td style="text-align: left">2009</td>
      <td style="text-align: left">30, 44, 70, 100, 143, 217, 353, 545, 857</td>
      <td style="text-align: left">~5 arcmin</td>
      <td style="text-align: left">~10^{-6}</td>
      <td style="text-align: left">Produced the definitive temperature and polarization maps; Refined ΛCDM parameters to sub-percent precision; Sharpened cosmological tensions (e.g., Hubble Tension) and confirmed large-scale anomalies.</td>
    </tr>
  </tbody>
</table>

<p>&lt;br&gt;</p>

<h3 id="section-iii-decoding-the-fluctuations-the-angular-power-spectrum-as-a-cosmic-rosetta-stone"><strong>Section III: Decoding the Fluctuations: The Angular Power Spectrum as a Cosmic Rosetta Stone</strong></h3>

<p>The rich, mottled maps of the CMB produced by satellites like WMAP and Planck contain a treasure trove of cosmological information. However, to extract this information, scientists must first translate the complex two-dimensional map into a more digestible, quantitative form. The primary tool for this task is the <strong>angular power spectrum</strong>. This mathematical representation acts as a cosmic Rosetta Stone, allowing cosmologists to decode the physical processes of the early universe from the statistical properties of the temperature and polarization fluctuations.</p>

<h4 id="31-the-physics-of-the-acoustic-peaks-and-damping-tail"><strong>3.1 The Physics of the Acoustic Peaks and Damping Tail</strong></h4>

<p>The angular power spectrum is a plot that shows the magnitude, or “power,” of the temperature variations as a function of their angular size on the sky. Large angular scales, corresponding to features that stretch across many degrees, are represented by low “multipole moments” (low ℓ). Small angular scales, corresponding to tiny hot and cold spots, are represented by high multipole moments (high ℓ). The resulting plot is not a random curve; it has a distinct and predictable structure of peaks and valleys, which directly encodes the physics of the primordial universe.<br />
The origin of these features lies in a process called <strong>baryon acoustic oscillations</strong>. In the primordial plasma before recombination, two opposing forces were at play. The immense gravity of dark matter pulled matter together into regions of slightly higher density, while the intense radiation pressure of the coupled photon-baryon fluid pushed it apart. Any region that started slightly denser than average would begin to collapse under its own gravity. As it compressed, the plasma would heat up, increasing its radiation pressure until that pressure became strong enough to halt the collapse and drive an expansion. This expanding shell of plasma would then cool and rarefy until gravity took over again, starting another cycle of compression.<br />
This process set up sound waves that propagated through the primordial plasma. At the moment of recombination, when the universe suddenly became transparent, the pattern of these oscillations was frozen into the CMB. Regions that happened to be at a point of maximum compression at that instant appear as hot spots in the CMB map today, while regions at maximum rarefaction (expansion) appear as cold spots.<br />
The power spectrum reveals this underlying physics with remarkable clarity. The series of peaks corresponds to the harmonic modes of these sound waves.</p>

<ul>
  <li>The <strong>first peak</strong>, located at an angular scale of about one degree (ℓ ≈ 220), corresponds to the fundamental sound wave—the largest wave that had just enough time to complete its first compression before recombination.</li>
  <li>The <strong>second peak</strong> corresponds to the first harmonic, representing waves that had completed one full compression and expanded to maximum rarefaction.</li>
  <li>The <strong>third peak</strong> corresponds to waves that had completed their second compression, and so on.</li>
</ul>

<p>At very small angular scales (high ℓ), the power spectrum shows a sharp drop-off. This feature is known as <strong>Silk damping</strong>, named after Joseph Silk who first predicted it. On very small scales, photons had enough time before recombination to diffuse from the hot, dense regions into the cooler, less dense regions, effectively smearing out the temperature fluctuations and damping the power of the anisotropies.</p>

<h4 id="32-deriving-the-universes-recipe-constraints-on-baryons-dark-matter-and-dark-energy"><strong>3.2 Deriving the Universe’s Recipe: Constraints on Baryons, Dark Matter, and Dark Energy</strong></h4>

<p>The precise shape of the power spectrum—the locations and relative heights of the acoustic peaks and the shape of the damping tail—is exquisitely sensitive to the fundamental parameters that define our universe. By creating a theoretical model of the universe with a given set of parameters, calculating the predicted power spectrum, and comparing it to the observed data, cosmologists can determine the “recipe” of the cosmos.</p>

<ul>
  <li><strong>Cosmic Geometry:</strong> The angular scale of the first acoustic peak serves as a “standard ruler” for cosmology. The physical size of this sound wave at recombination is known with high precision from fundamental physics. By measuring its apparent angular size on the sky today, we can determine the geometry of the intervening space. If the universe were positively curved (like a sphere), the light rays would converge, making the peak appear at larger angular scales (lower ℓ). If it were negatively curved (like a saddle), the rays would diverge, making it appear at smaller scales (higher ℓ). The observed position of the first peak at ℓ ≈ 220 is a powerful confirmation that our universe is spatially flat to a very high degree of accuracy.</li>
  <li><strong>Baryon Density (\Omega_b h^2):</strong> The relative heights of the peaks are a sensitive probe of the amount of baryonic (ordinary) matter. Because baryons have mass, they add inertia to the oscillating photon-baryon fluid, a phenomenon known as “baryon loading.” This enhances the compressions (which are aided by gravity) relative to the rarefactions (which are driven purely by pressure). A higher baryon density therefore increases the height of the odd-numbered (compression) peaks relative to the even-numbered (rarefaction) peaks. Measuring this ratio in the observed power spectrum provides a precise measurement of the universe’s baryon content.</li>
  <li><strong>Dark Matter Density (\Omega_c h^2):</strong> The amount of non-baryonic cold dark matter also leaves a distinct imprint. Dark matter does not interact with photons, so it does not oscillate with the plasma. Instead, its gravity deepens the potential wells into which the plasma falls. A higher dark matter density increases the gravitational driving force of the oscillations, which affects the overall amplitude of all the peaks, particularly the third peak and beyond.</li>
  <li><strong>Dark Energy (Λ) and the Hubble Constant (H_0):</strong> While the CMB is a snapshot of the early universe, its observed properties today are influenced by the entire expansion history of the cosmos. The overall angular scale of the CMB pattern depends on the distance light has traveled from the surface of last scattering. This distance is determined by the expansion rate at all times between then and now, which in the ΛCDM model depends on the densities of matter and dark energy. Therefore, even though dark energy was negligible in the early universe, its modern-day dominance affects the inferred parameters, creating a tight relationship within the model between the CMB data and parameters like the Hubble constant.</li>
</ul>

<p>The astonishing success of this paradigm lies in the fact that a simple, six-parameter model can so perfectly fit the immense complexity of the CMB data—a power spectrum with dozens of precisely measured features derived from billions of pixels on the sky. This “unreasonable effectiveness” is both the greatest triumph of the ΛCDM model and, as the data has improved, the source of its greatest challenges, as any deviation from this simple model must still reckon with its exquisite fit to the CMB.</p>

<h4 id="33-the-λcdm-model-and-the-final-parameters-from-planck-2018"><strong>3.3 The ΛCDM Model and the Final Parameters from Planck 2018</strong></h4>

<p>The Standard Model of Cosmology, ΛCDM, is defined by just six fundamental parameters that describe the universe’s origin, composition, and evolution. All other cosmological quantities, such as the age of the universe and the Hubble constant, can be derived from these six. The final data release from the Planck mission in 2018, combining temperature, polarization, and CMB lensing data, provides the most stringent constraints on these parameters to date. These values represent the definitive “early universe” measurement that forms one side of the current tensions in cosmology.<br />
The six base parameters are:</p>

<ol>
  <li><strong>\Omega_b h^2 (Physical Baryon Density):</strong> The density of ordinary matter (protons, neutrons, electrons).</li>
  <li><strong>\Omega_c h^2 (Physical Cold Dark Matter Density):</strong> The density of non-baryonic cold dark matter.</li>
  <li><strong>100\theta_{MC} (Angular Scale of the Sound Horizon):</strong> A precise measure of the apparent size of the sound horizon at recombination.</li>
  <li><strong>\tau (Optical Depth to Reionization):</strong> A measure of how much the CMB photons were scattered by free electrons during the epoch of reionization, when the first stars and galaxies formed.</li>
  <li><strong>A_s (Amplitude of Primordial Scalar Perturbations):</strong> The initial amplitude of the density fluctuations.</li>
  <li><strong>n_s (Scalar Spectral Index):</strong> A measure of how the amplitude of the density fluctuations changes with scale. A value of n_s = 1 would mean the fluctuations have the same amplitude on all scales (scale-invariant).</li>
</ol>

<p>The Planck 2018 results for these parameters established a new benchmark for precision cosmology, with most measured to better than 1% accuracy.<br />
&lt;br&gt;<br />
<strong>Table 2: The Six Core Cosmological Parameters of the ΛCDM Model (Planck 2018 TT,TE,EE+lowE+lensing)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parameter</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">Best-fit Value (68% limits)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>Base Parameters</strong></td>
      <td style="text-align: left"> </td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left">\Omega_b h^2</td>
      <td style="text-align: left">Physical baryon density parameter</td>
      <td style="text-align: left">0.0224 \pm 0.0001</td>
    </tr>
    <tr>
      <td style="text-align: left">\Omega_c h^2</td>
      <td style="text-align: left">Physical cold dark matter density parameter</td>
      <td style="text-align: left">0.120 \pm 0.001</td>
    </tr>
    <tr>
      <td style="text-align: left">100\theta_{MC}</td>
      <td style="text-align: left">100 x Angular scale of the sound horizon</td>
      <td style="text-align: left">1.0411 \pm 0.0003</td>
    </tr>
    <tr>
      <td style="text-align: left">\tau</td>
      <td style="text-align: left">Reionization optical depth</td>
      <td style="text-align: left">0.054 \pm 0.007</td>
    </tr>
    <tr>
      <td style="text-align: left">\ln(10^{10}A_s)</td>
      <td style="text-align: left">Log power of the primordial curvature perturbations</td>
      <td style="text-align: left">3.044 \pm 0.014</td>
    </tr>
    <tr>
      <td style="text-align: left">n_s</td>
      <td style="text-align: left">Scalar spectral index</td>
      <td style="text-align: left">0.965 \pm 0.004</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Derived Parameters</strong></td>
      <td style="text-align: left"> </td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left">H_0 (km/s/Mpc)</td>
      <td style="text-align: left">Hubble constant</td>
      <td style="text-align: left">67.4 \pm 0.5</td>
    </tr>
    <tr>
      <td style="text-align: left">\Omega_m</td>
      <td style="text-align: left">Total matter density parameter</td>
      <td style="text-align: left">0.315 \pm 0.007</td>
    </tr>
    <tr>
      <td style="text-align: left">\sigma_8</td>
      <td style="text-align: left">Fluctuation amplitude at 8 $h^{-1}$Mpc scales</td>
      <td style="text-align: left">0.811 \pm 0.006</td>
    </tr>
  </tbody>
</table>

<p><em>Source: Adapted from Planck Collaboration 2018 results, Paper VI. The parameters \Omega_b h^2 and \Omega_c h^2 represent physical densities, where h is the Hubble constant in units of 100 km/s/Mpc. \Omega_m is the density parameter for all matter (\Omega_b + \Omega_c) relative to the critical density.</em><br />
&lt;br&gt;</p>

<h3 id="section-iv-advanced-probes-and-new-observational-windows"><strong>Section IV: Advanced Probes and New Observational Windows</strong></h3>

<p>While the temperature anisotropies of the CMB have been the workhorse of precision cosmology, the field is increasingly turning to more subtle features of this relic light to answer some of the most profound questions in physics. These advanced probes, including the polarization of the CMB and its secondary interactions with large-scale structure, open new windows onto the physics of inflation, the nature of dark energy, and the properties of neutrinos. This pursuit requires a parallel advancement in detector technology, pushing the boundaries of sensitivity and scale.</p>

<h4 id="41-the-search-for-inflations-smoking-gun-cmb-polarization-e-modes-and-the-b-mode-quest"><strong>4.1 The Search for Inflation’s “Smoking Gun”: CMB Polarization, E-Modes, and the B-Mode Quest</strong></h4>

<p>The theory of <strong>cosmic inflation</strong> posits that in the first fleeting moments of the universe (perhaps around 10^{-33} seconds after the Big Bang), spacetime underwent a period of stupendous, near-exponential expansion. This theory elegantly solves several long-standing cosmological puzzles, such as why the universe is so spatially flat and why distant regions of the CMB have the same temperature (the “horizon problem”). Inflation also provides a physical mechanism for the origin of structure: tiny quantum fluctuations in the primordial energy field were stretched to astronomical sizes, becoming the seeds for all future galaxies.<br />
Inflation makes a key, yet-unverified prediction: this violent expansion should have churned the very fabric of spacetime, generating a stochastic background of <strong>primordial gravitational waves</strong> (also known as tensor perturbations). These gravitational waves are too faint to be detected directly by instruments like LIGO, but they would have left a unique and indelible signature on the polarization of the CMB.<br />
CMB photons become linearly polarized when they scatter off free electrons at the surface of last scattering, but only if the incoming radiation field they see is anisotropic (specifically, if it has a quadrupole moment). The resulting polarization pattern across the sky can be mathematically decomposed into two distinct types, in a way analogous to how a vector field can be split into a gradient and a curl component :</p>

<ul>
  <li><strong>E-modes:</strong> These are curl-free patterns (like radial or tangential lines). They are generated by the standard scalar density perturbations that also create the temperature anisotropies. E-modes are the dominant component of the CMB polarization signal and were first detected in 2002.</li>
  <li><strong>B-modes:</strong> These are gradient-free, or “twisting,” patterns (like swirls). Crucially, scalar density perturbations cannot generate B-modes at first order. Primordial gravitational waves, however, stretch and squeeze spacetime in a way that uniquely sources a B-mode pattern in the CMB.</li>
</ul>

<p>For this reason, the search for a primordial B-mode signal is considered the “smoking gun” for inflation. A detection would not only provide definitive proof that inflation occurred but would also allow scientists to measure its energy scale directly. The amplitude of the primordial B-mode signal is parameterized by the <strong>tensor-to-scalar ratio, <em>r</em></strong>, which compares the power in tensor perturbations (gravitational waves) to that in scalar perturbations (density fluctuations). Current experiments have placed an upper limit of r &lt; 0.056, ruling out many simpler models of inflation.<br />
The search is complicated by the fact that other physical processes can also create B-modes. The most significant of these is <strong>gravitational lensing</strong>. As CMB photons travel from the last scattering surface to us, their paths are bent by the gravitational potential of intervening large-scale structures (like galaxies and dark matter halos). This lensing effect distorts the much stronger E-mode polarization pattern, converting a fraction of it into a B-mode signal. This lensing B-mode signal has been detected and acts as a foreground “noise” that must be meticulously modeled and subtracted to reveal the faint, underlying primordial signal. This effort represents a direct link between cosmology and high-energy particle physics, as a measurement of <em>r</em> would probe physics at energy scales trillions of times higher than any terrestrial accelerator can achieve.</p>

<h4 id="42-illuminating-the-cosmic-web-the-sunyaev-zeldovich-effect"><strong>4.2 Illuminating the Cosmic Web: The Sunyaev-Zel’dovich Effect</strong></h4>

<p>Beyond its primordial information, the CMB also serves as a powerful backlight for studying the structure of the more recent universe. As the CMB photons journey across billions of light-years, they occasionally pass through massive galaxy clusters, the largest gravitationally bound objects in the cosmos. These clusters are filled with vast reservoirs of extremely hot (millions of degrees), ionized gas known as the intracluster medium (ICM).<br />
When CMB photons travel through this hot gas, some of them scatter off the high-energy electrons via a process called <strong>inverse Compton scattering</strong>. This interaction gives a slight energy boost to the photons, shifting them to higher frequencies. This phenomenon is called the <strong>Sunyaev-Zel’dovich (SZ) effect</strong>, named for the two Soviet physicists who predicted it in the late 1960s.<br />
The SZ effect imprints a unique spectral distortion on the CMB. In the direction of a galaxy cluster, there is a measurable deficit of CMB photons at frequencies below 217 GHz and a corresponding surplus of photons at frequencies above 217 GHz. At exactly 217 GHz, there is no change. This characteristic spectral signature allows astronomers to identify galaxy clusters by looking for these distinctive “shadows” or “holes” in the CMB sky.<br />
A remarkable feature of the SZ effect is that its strength is almost entirely independent of the cluster’s distance, or redshift. This makes it an exceptionally powerful tool for discovering massive clusters throughout cosmic history, even at very high redshifts where they would be too faint to detect with optical or X-ray telescopes. Surveys conducted by instruments like the South Pole Telescope (SPT), the Atacama Cosmology Telescope (ACT), and the Planck satellite have used the SZ effect to discover thousands of previously unknown galaxy clusters.<br />
The census of galaxy clusters provided by these SZ surveys is a crucial cosmological probe. The number and distribution of the most massive clusters are highly sensitive to the underlying cosmological parameters, such as the total amount of matter (\Omega_m) and the nature of dark energy, which governs the growth of structure over time. Thus, by studying these giants of the cosmic web, the SZ effect provides an independent check on the cosmological model derived from the primordial CMB anisotropies.</p>

<h4 id="43-the-engines-of-discovery-a-look-at-cmb-detector-technology"><strong>4.3 The Engines of Discovery: A Look at CMB Detector Technology</strong></h4>

<p>The ability to measure the faint CMB signal and its even fainter anisotropies is a story of incredible technological innovation. At the heart of modern CMB experiments are arrays of highly sensitive superconducting detectors that must be cooled to temperatures just a fraction of a degree above absolute zero to minimize their own thermal noise.<br />
The workhorse technology for the current and next generation of CMB experiments is the <strong>Transition-Edge Sensor (TES) bolometer</strong>. A bolometer is essentially a very sensitive thermometer that measures incident radiation by absorbing it and detecting the resulting temperature increase. A TES bolometer uses a tiny film of superconducting material that is precisely voltage-biased to hold it at its critical transition temperature—the knife-edge point between being a superconductor (with zero electrical resistance) and a normal resistor. This transition is extremely sharp, meaning a minuscule change in temperature causes a very large change in resistance.<br />
Here is how it works:</p>

<ol>
  <li>The TES is cooled to its operating temperature, typically around 100 millikelvin (0.1 K).</li>
  <li>Incoming CMB photons are focused onto an absorber, which is thermally linked to the TES.</li>
  <li>The absorbed photon energy raises the temperature of the TES slightly, pushing it further into its resistive state.</li>
  <li>This increase in resistance causes a measurable drop in the current flowing through the device.</li>
  <li>This change in current is the signal, which is directly proportional to the energy of the absorbed photons.</li>
</ol>

<p>To build the powerful telescopes needed for modern cosmology, scientists must deploy these detectors not individually, but in vast arrays containing thousands or even hundreds of thousands of pixels. Reading out each detector with its own set of wires would be physically impossible and would introduce an enormous heat load into the cryogenic system. The solution is <strong>multiplexing</strong>, a technique that allows the signals from many detectors to be read out on a single set of wires. In modern CMB experiments, this is typically achieved using <strong>Superconducting Quantum Interference Devices (SQUIDs)</strong>, which are extremely sensitive magnetic field detectors that can amplify the tiny currents from the TES arrays and combine them at different frequencies for readout.<br />
While this core technology has been successfully demonstrated in experiments like SPT and ACT, the primary challenge for future projects like CMB-S4 is one of scale. CMB-S4 will require fabricating, assembling, and operating approximately 550,000 detectors—an order of magnitude more than any previous experiment. This monumental engineering effort is what will enable the next great leap in sensitivity required to probe the frontiers of cosmology. The various CMB probes—temperature, E-modes, B-modes, lensing, and the SZ effect—are not merely independent lines of inquiry but form a deeply interconnected ecosystem. The lensing B-modes that must be subtracted to search for the primordial signal are themselves a rich source of information about dark matter. The SZ effect, which probes the large-scale structure responsible for that lensing, provides an independent check on the growth of structure. This self-consistency is what makes the CMB such a robust and powerful tool; the ability to cross-check results between different aspects of the same dataset provides powerful constraints on both cosmological models and potential systematic errors.</p>

<h3 id="section-v-cracks-in-the-cosmic-edifice-tensions-and-anomalies"><strong>Section V: Cracks in the Cosmic Edifice? Tensions and Anomalies</strong></h3>

<p>The ΛCDM model, solidified by the precision data from WMAP and Planck, stands as a monumental achievement, describing the universe’s evolution with just six parameters. Yet, this very precision has revealed troubling discrepancies—”tensions”—between different types of cosmological observations. Furthermore, the CMB maps themselves contain large-scale features, or “anomalies,” that appear statistically unlikely within the standard model’s framework. These cracks in the cosmic edifice are the focus of intense research and debate, hinting at either unknown systematic errors or the first whispers of new physics.</p>

<h4 id="51-the-hubble-tension-a-crisis-between-the-early-and-late-universe"><strong>5.1 The Hubble Tension: A Crisis Between the Early and Late Universe</strong></h4>

<p>The most significant and persistent challenge to the standard cosmological model is the <strong>Hubble Tension</strong>. This is a statistically sharp disagreement, now exceeding a 5-sigma significance level, between the value of the Hubble constant, H_0 (the universe’s current expansion rate), as inferred from the early universe and as measured directly in the local, late-time universe.</p>

<ul>
  <li><strong>The Early Universe Measurement:</strong> The value of H_0 from the CMB is not a direct measurement but an inferred parameter derived from fitting the ΛCDM model to the Planck data. The model provides an exquisite fit to the acoustic peak structure of the CMB power spectrum. Within this model, the physical scale of the sound horizon at recombination is fixed by well-understood physics. The observed <em>angular</em> scale of this feature in the sky then determines the distance to the last scattering surface, which in turn constrains the expansion history and thus the present-day value of H_0. The final Planck 2018 analysis yields a value of <strong>H_0 = 67.4 \pm 0.5 km/s/Mpc</strong>. This result is robust, with other early-universe probes like Baryon Acoustic Oscillation (BAO) measurements combined with Big Bang Nucleosynthesis (BBN) data yielding consistent values.</li>
  <li><strong>The Late Universe Measurement:</strong> In contrast, astronomers can measure H_0 directly by observing objects in the local universe. The most precise of these measurements comes from the “cosmic distance ladder” method, pioneered by the SH0ES (Supernovae, H₀, for the Equation of State of Dark Energy) team led by Adam Riess. This technique involves a meticulous, multi-step process:
    <ol>
      <li>Measure the distances to nearby galaxies using geometric methods (like parallax).</li>
      <li>Use these distances to calibrate the intrinsic brightness of “standard candle” stars, primarily Cepheid variables, within those galaxies.</li>
      <li>Find Cepheid variables in more distant galaxies that have also hosted a Type Ia supernova, another, much brighter class of standard candle. This calibrates the intrinsic luminosity of Type Ia supernovae.</li>
      <li>Observe Type Ia supernovae in the far-distant “Hubble flow,” where their observed redshift is dominated by the expansion of the universe. By comparing the known intrinsic brightness of these supernovae to their apparent faintness, their distance can be calculated. Combining this with their redshift gives a direct measurement of H_0. The latest SH0ES result is <strong>H_0 = 73.04 \pm 1.04 km/s/Mpc</strong>. Other late-universe methods, such as those using the Tip of the Red Giant Branch (TRGB) or gravitational lensing time delays, also tend to yield higher values for H_0.</li>
    </ol>
  </li>
</ul>

<p>The discrepancy between 67.4 and 73.0 km/s/Mpc is not a minor disagreement; their error bars do not overlap, and the statistical significance of the tension suggests it is highly unlikely to be a mere fluke. This has led to what many call a “crisis in cosmology”. The potential explanations fall into two broad categories: unknown systematic errors in one or both measurement techniques, or new physics beyond the standard ΛCDM model. Proposed physical solutions often involve modifying the universe’s expansion history, either in the early universe (e.g., with a period of “Early Dark Energy” that would change the size of the sound horizon) or in the late universe. To date, no single proposed solution has been ableto resolve the tension without creating other problems, such as spoiling the excellent fit of ΛCDM to the CMB or other cosmological data.</p>

<h4 id="52-the-axis-of-evil-and-other-large-scale-anomalies-statistical-flukes-or-new-physics"><strong>5.2 The “Axis of Evil” and Other Large-Scale Anomalies: Statistical Flukes or New Physics?</strong></h4>

<p>The ΛCDM model is built upon the <strong>Cosmological Principle</strong>, which asserts that the universe, on large scales, is statistically homogeneous (the same in all locations) and isotropic (the same in all directions). While this principle has been remarkably successful, the high-precision maps from WMAP and Planck have revealed several features at the largest angular scales (corresponding to low multipole moments, ℓ) that appear to challenge this assumption of isotropy.<br />
The most famous and unsettling of these is the so-called <strong>“Axis of Evil”</strong>. This refers to a set of unexpected alignments:</p>

<ol>
  <li>The two largest patterns on the microwave sky, the quadrupole (an elliptical pattern with two hot and two cold lobes, ℓ=2) and the octupole (a pattern with three pairs of lobes, ℓ=3), are aligned with each other to a surprising degree.</li>
  <li>The plane defined by this alignment is, in turn, closely aligned with the plane of our own Solar System (the ecliptic plane) and the direction of our motion through the cosmos.</li>
</ol>

<p>In a statistically isotropic universe, the orientation of these large-scale cosmic patterns should be completely random. Their alignment with each other, and particularly with our local, dynamically insignificant Solar System, is highly improbable.<br />
Other large-scale anomalies have also been noted. The amplitude of the quadrupole itself is anomalously low compared to the prediction of the best-fit ΛCDM model. There is also a <strong>hemispherical power asymmetry</strong>, where the fluctuations in one half of the sky appear to be systematically stronger than in the other.<br />
The scientific community is deeply divided on the interpretation of these anomalies. The possibilities include:</p>

<ul>
  <li><strong>Statistical Fluke:</strong> In any single realization of a random process, improbable-looking patterns can emerge by chance. Since we only have one sky to observe, it is possible that these alignments are simply a statistical coincidence.</li>
  <li><strong>Systematic Errors or Foregrounds:</strong> The signal at large angular scales is the most difficult to measure and the most susceptible to contamination from foreground emission from our own galaxy. It is possible that an incomplete subtraction of these foregrounds or other subtle instrumental effects are creating the illusion of an alignment.</li>
  <li><strong>New Physics:</strong> The most tantalizing possibility is that the anomalies are real and are pointing towards a breakdown of the Cosmological Principle. This could imply new physics, such as a non-trivial cosmic topology (e.g., the universe is finite in some directions), the existence of primordial magnetic fields, or some other source of large-scale anisotropy in the very early universe.</li>
</ul>

<p>While many studies suggest that systematic effects or statistical variance could explain the anomalies, their persistence in both the WMAP and the more precise Planck datasets keeps the debate active.</p>

<h4 id="53-philosophical-tremors-challenges-to-the-copernican-principle"><strong>5.3 Philosophical Tremors: Challenges to the Copernican Principle</strong></h4>

<p>The large-scale anomalies, particularly the Axis of Evil, extend beyond a mere technical debate into the realm of scientific philosophy. They pose a direct challenge to the <strong>Copernican Principle</strong>, a foundational, though usually unstated, assumption of modern science. Named for Nicolaus Copernicus, whose work displaced Earth from the center of the cosmos, this principle holds that humanity does not occupy a special or privileged position in the universe. The Cosmological Principle is the modern, mathematical formulation of this idea.<br />
The alignment of the largest observable structures in the entire universe with the plane of our own Solar System is a flagrant violation of this principle. It suggests, prima facie, that our location is somehow special. This prospect is deeply unsettling to most physicists, as it runs counter to the entire trajectory of scientific thought since the 16th century. The situation was famously summarized by physicist Lawrence Krauss: “The new results are either telling us that all of science is wrong and we’re the center of the universe, or maybe the data is simply incorrect… or maybe there’s something wrong with our theories on the larger scales”.<br />
This creates a profound philosophical dilemma. The Hubble Tension represents a quantitative challenge to the <em>dynamics</em> of the ΛCDM model; it might be resolved by adding a new ingredient or tweaking an equation. The Axis of Evil, however, represents a qualitative challenge to the model’s fundamental <em>symmetries</em>. A resolution to the Hubble Tension might lead to a “ΛCDM 2.0,” but a confirmation of the Axis of Evil as a real, physical phenomenon could force a complete abandonment of the Friedmann-Lemaître-Robertson-Walker (FLRW) metric that underpins all of modern cosmology.<br />
Given the profound implications, the bar for accepting a violation of the Copernican Principle is extraordinarily high. Most researchers therefore favor more mundane explanations, such as subtle systematic errors or statistical flukes. However, the inability to definitively dismiss these anomalies after decades of scrutiny by multiple independent experiments means this uncomfortable philosophical question remains a persistent undercurrent in modern cosmology. We are faced with the fundamental limitation of our single observational vantage point. Without the ability to observe the cosmos from a distant galaxy, it is exceptionally difficult to distinguish a true global anisotropy from a local measurement effect or a simple cosmic accident.</p>

<h3 id="section-vi-the-future-of-cmb-research"><strong>Section VI: The Future of CMB Research</strong></h3>

<p>The era of precision cosmology, defined by Planck, has established the ΛCDM model with breathtaking accuracy while simultaneously uncovering tantalizing tensions and anomalies. This has set the stage for the next generation of CMB experiments, which are designed with two primary objectives: to make a definitive search for the faint B-mode polarization signal from inflation and to map the CMB with such sensitivity and control over systematic errors that they can decisively address the current cracks in the standard model.</p>

<h4 id="61-next-generation-ground-and-space-observatories-simons-observatory-cmb-s4-and-litebird"><strong>6.1 Next-Generation Ground and Space Observatories: Simons Observatory, CMB-S4, and LiteBIRD</strong></h4>

<p>The next wave of CMB experiments is defined by a monumental leap in scale and sensitivity, driven by deploying enormous arrays of detectors.</p>

<ul>
  <li><strong>Simons Observatory (SO) and CMB-S4:</strong> These are ground-based projects that represent a coordinated, international effort. The Simons Observatory, currently being built in the Atacama Desert in Chile, will serve as a stepping stone to the even more ambitious CMB-S4 project. CMB-S4, the “Next-Generation Cosmic Microwave Background Experiment,” will utilize telescopes at both the Atacama site and the South Pole. Together, these observatories will field hundreds of thousands of detectors—an order of magnitude more than any previous experiment. Their strategy is twofold:
    <ul>
      <li><strong>Deep, Small-Area Surveys:</strong> Using dedicated small-aperture telescopes, they will stare at small, clean patches of the sky for thousands of hours. This ultra-deep integration is optimized for the primary science goal: searching for the faint, large-angular-scale B-mode signal from primordial gravitational waves.</li>
      <li><strong>Wide, High-Resolution Surveys:</strong> Using large-aperture telescopes, they will map larger areas of the sky to high resolution. These maps will be used to create exquisite measurements of the gravitational lensing of the CMB and to build vast catalogs of galaxy clusters via the SZ effect.</li>
    </ul>
  </li>
  <li><strong>LiteBIRD:</strong> Complementing the deep, ground-based surveys is the LiteBIRD (Lite satellite for the studies of B-mode polarization and Inflation from cosmic background Radiation Detection) mission. This is a JAXA-led space observatory, with significant international collaboration, planned for launch in the early 2030s. LiteBIRD’s primary objective is to measure the polarization of the CMB across the entire sky, with a specific focus on the very large angular scales where the primordial B-mode signal is expected to be strongest. Its all-sky view from the stable thermal environment of space makes it uniquely suited to characterizing the large-scale B-mode signal and investigating the large-scale anomalies with unprecedented control over systematics, providing a crucial cross-check to the ground-based efforts.</li>
</ul>

<p>This two-pronged attack on the unknown—deep ground-based surveys for sensitivity and an all-sky space mission for large-scale fidelity—represents a mature and comprehensive strategy for the field. It is not an all-or-nothing bet on a single discovery. Even a null result in the search for primordial B-modes will yield revolutionary datasets for lensing, neutrino physics, and large-scale structure, pushing the standard model to its breaking point.</p>

<h4 id="62-the-unanswered-questions-driving-the-field"><strong>6.2 The Unanswered Questions Driving the Field</strong></h4>

<p>The design of this next generation of experiments is motivated by a clear set of fundamental questions that have emerged from the successes and challenges of the Planck era.</p>

<ol>
  <li><strong>What is the nature of cosmic inflation?</strong> The primary goal is to cross a critical discovery threshold for the tensor-to-scalar ratio, aiming for a sensitivity of \delta r &lt; 0.001. A detection of primordial B-modes would be a revolutionary discovery, confirming inflation and opening a window onto physics at ultra-high energies. A definitive non-detection at this level would be equally profound, ruling out a vast class of the most natural inflationary models and forcing theorists to seek alternative explanations for the origin of the universe.</li>
  <li><strong>Can the Hubble Tension be resolved?</strong> By providing new, independent, and highly precise measurements of the CMB’s properties, these experiments will provide crucial data to scrutinize the “early universe” side of the Hubble Tension. Furthermore, the high-resolution lensing maps will provide new constraints on dark energy and the late-time universe, offering a new window onto the “late universe” side. This data will be essential for determining whether the tension is due to new physics (like Early Dark Energy) or an unaccounted-for systematic error.</li>
  <li><strong>What is the mass of the neutrino?</strong> Neutrinos are the only particles in the Standard Model of particle physics whose absolute mass is unknown. Massive neutrinos would slightly suppress the growth of large-scale structure, an effect that is imprinted on the gravitational lensing of the CMB. The high-precision lensing maps from CMB-S4 are expected to be sensitive enough to make a definitive measurement of the sum of the neutrino masses, a key goal for both cosmology and particle physics.</li>
  <li><strong>What is the nature of dark matter and dark energy?</strong> While the CMB has been instrumental in measuring the <em>quantity</em> of these mysterious components, it has revealed little about their fundamental nature. The vast datasets on lensing and the growth of structure (via SZ clusters) from future surveys will provide powerful new tests of the properties of dark matter and the evolution of dark energy over cosmic time, complementing other probes like galaxy surveys and supernovae.</li>
  <li><strong>Are the large-scale anomalies real?</strong> With vastly improved sensitivity, especially in polarization, and superior control over systematic errors, experiments like LiteBIRD and CMB-S4 will provide the final verdict on the large-scale anomalies. They will either confirm them as real physical phenomena, forcing a paradigm shift in cosmology, or show them to be statistical flukes or instrumental artifacts, thereby reinforcing the foundational principle of statistical isotropy.</li>
</ol>

<p>The next two decades promise to be a pivotal era for cosmology. The combination of these next-generation CMB experiments with other large-scale surveys like the Dark Energy Spectroscopic Instrument (DESI) and the Vera C. Rubin Observatory will test the ΛCDM model with unprecedented rigor. The field is at a crossroads: either the tensions will dissolve under the weight of more precise data, cementing ΛCDM as the enduring model of our cosmos, or they will be confirmed with undeniable significance, heralding the discovery of new physical laws and beginning the next chapter in our quest to understand the universe.</p>]]></content><author><name></name></author><category term="scratchpad" /></entry><entry><title type="html">CSA ratz discussions backup</title><link href="https://ib.bsb.br/csa-ratz-discussions-backup/" rel="alternate" type="text/html" title="CSA ratz discussions backup" /><published>2025-06-21T00:00:00+00:00</published><updated>2025-06-21T10:38:25+00:00</updated><id>https://ib.bsb.br/csa-ratz-discussions-backup</id><content type="html" xml:base="https://ib.bsb.br/csa-ratz-discussions-backup/"><![CDATA[<p>Title: Computed-Score Priority and Start Dates</p>

<p>URL Source: https://groups.google.com/g/mylifeorganized/c/3RjdJkYRKL8</p>

<p>Markdown Content:</p>
<h3 id="chrisleeuk">chrisleeuk</h3>

<p>unread,</p>

<p>Jul 10, 2009, 3:31:41 AM 7/10/09</p>

<p>to MyLifeOrganized</p>

<p>I generally like the Computed-Score Priority but I’ve got one issue</p>

<p>with it that I wonder if anyone has solved, or if a change would be</p>

<p>required in the software.</p>

<p>The problem I have relates to how dates are handled.</p>

<p>Specifically Start Dates.</p>

<p>Say I have two tasks both ending tommorow.</p>

<p>Task A has a start date set a month ago.</p>

<p>Task B has a start date set a week ago.</p>

<p>I understand why Task A will appear higher on the priority list,</p>

<p>because I’ve had a whole month to do Task A and it’s still not</p>

<p>complete.</p>

<p>However I just don’t work that way in practical terms.</p>

<p>I only want to use a start date to hide a task that can’t start until</p>

<p>say next week.</p>

<p>I don’t want the start date to change the weight of the two tasks I’ll</p>

<p>use importance and urgency for that.</p>

<p>I’ve tried dropping the Start Date in the Weight factors but this has</p>

<p>made little difference.</p>

<p>A second issue is tasks with no start date, these generally end up way</p>

<p>below tasks that do have a start date. Again I don’t want the start</p>

<p>date to have any say at all in the ordering, because the only reason</p>

<p>one of the tasks had a start date to begin with is because it could</p>

<p>not start until some time in the future.</p>

<p>Any ideas how to solve this one?</p>

<h3 id="timothee">Timothee</h3>

<p>unread,</p>

<p>Jul 11, 2009, 11:01:29 AM 7/11/09</p>

<p>to MyLifeOrganized</p>

<p>It seems to me too, that Start Date shouldn’t affect priority. Can’t</p>

<p>anyone think of a reason it should? A scenario where it makes sense</p>

<p>to?</p>

<h3 id="chrisleeuk-1">chrisleeuk</h3>

<p>unread,</p>

<p>Jul 13, 2009, 3:40:37 AM 7/13/09</p>

<p>to MyLifeOrganized</p>

<p>The only scenario I could come up with was the one I touched on above.</p>

<p>MLO seems to assume that because you have had a long time to do a task</p>

<p>it is more urgent, but that would only be true if the amount of time</p>

<p>between the start and end date was a measure of how long the task</p>

<p>takes to do.</p>

<p>Another way to think of this would be to say, hey this is urgent you</p>

<p>have had three months to do this and it’s due tommorow so its more</p>

<p>urgent than that other thing.</p>

<p>As I said above, that’s just not how I work.</p>

<p>I think we do need the option to take the start date out of the</p>

<p>computer scoring.</p>

<p>This might be making the weight slider drop down to a ‘no effect’</p>

<p>setting or a check box saying ‘Don’t use start date in scoring, or</p>

<p>whatever.</p>

<p>Anyone else agree on this one?</p>

<h3 id="chuckdevee">chuckdevee</h3>

<p>unread,</p>

<p>Jul 13, 2009, 5:41:33 AM 7/13/09</p>

<p>to MyLifeOrganized</p>

<p>Great idea. Definitely agree. This is a big problem for me. The</p>

<p>weightings for start and due date are misleading in that they suggest</p>

<p>you can actually nullify the effect of a start date. In actual fact,</p>

<p>if you enter a start date you put the calculatation into what amounts</p>

<p>to ‘egg-timer’ mode for that task. Your score depends on the amount of</p>

<p>time that has passed since the start date, as a proportion of total</p>

<p>time for the task (due date less start date). By contrast, a task</p>

<p>without a start date is scored on a time-to-deadline basis.</p>

<p>If I micro-managed my life and had masses of spare time to manage my</p>

<p>tasks, this would be OK I guess, but I’m very busy most of the time</p>

<p>and I have many, many tasks in MLO. In most cases my start date</p>

<p>simply signifies when a task becomes viable, or simply when I expect</p>

<p>or want to start it. I really don’t want to be scored using this start</p>

<p>date at all. The only time that is really important to me is how long</p>

<p>until the due date.</p>

<p>A tickbox next to the Start Date slider in the weightings section</p>

<p>which renders it useless and enforces scoring on a time-to-deadline</p>

<p>basis for all tasks (ie assumes that a start date has not been set)</p>

<p>would work really well I think. I might even be able to start properly</p>

<p>understanding and using the computed score priority.</p>

<h3 id="eberhard">Eberhard</h3>

<p>unread,</p>

<p>Jul 13, 2009, 10:16:36 AM 7/13/09</p>

<p>to MyLifeOrganized</p>

<p>+1</p>

<h3 id="kudos">Kudos</h3>

<p>unread,</p>

<p>Jul 13, 2009, 1:12:59 PM 7/13/09</p>

<p>to MyLifeOrganized</p>

<p>+1</p>

<h3 id="andrey-tkachuk-mlo">Andrey Tkachuk (MLO)</h3>

<p>unread,</p>

<p>Jul 14, 2009, 10:31:20 AM 7/14/09</p>

<p>to MyLifeOrganized</p>

<p>Bob Pankratz (the author of the algorithm) and I are looking at the</p>

<p>code at the moment…</p>

<p>A.</p>

<h3 id="ratz">ratz</h3>

<p>unread,</p>

<p>Jul 14, 2009, 11:31:33 AM 7/14/09</p>

<p>to MyLifeOrganized</p>

<p>The start date should effect the priority because MLO was conceived to</p>

<p>be a mini project management system and start dates do matter in many</p>

<p>instances.</p>

<p>We are looking at the weighting factors to see if setting them to the</p>

<p>minimum can gracefully remove them from the computation all together.</p>

<p>In the past that didn’t work; rev 1 of the algorithm would get divide</p>

<p>by zero errors; so the weights let you tweak but not removed the</p>

<p>effect of due dates). Rev 2 is done differently and may handle that</p>

<p>case; just not something that was looked at; at the time. Rev 2 was</p>

<p>conceived to make the depth of the outline less of a factor in the</p>

<p>priority and to make sliders at the center as a default possible; aka</p>

<p>our focus was on that; not dates.</p>

<p>This is a recursive algorithm so putting IF gates into it to handle</p>

<p>special case causes exponential increases in the computation overhead</p>

<p>and slow the algorithm down. Not a big deal on the PC side, but the</p>

<p>PPC version this is a BIG deal so we have to be careful about change.</p>

<p>We can’t just say “IF john set this preference” then skip this step.</p>

<p>We can do parallel code branches but both have the problem that then</p>

<p>every option someone dreams up has a huge increase in the size of the</p>

<p>code or the or the speed of the code. Or in other words it’s really</p>

<p>not as simple as it would seem….</p>

<p>If there is a graceful way to modify the algorithm we’ll do it; I</p>

<p>think setting the slider to the minimums may work if we modify</p>

<p>existing branch checks in the code; we calculate the weighting factor</p>

<p>separate from everything else and then feed it into the engine. I</p>

<p>think we’ll do something like. If the startdate weight is at the</p>

<p>lowest setting then only use the due date weight formula in all cases;</p>

<p>if both weighting factors are zero then don’t weight factor at all;</p>

<p>one key feature will get lost if we do that; if you zero out the due</p>

<p>date weight then you’ll loose the special feature that a task that is</p>

<p>due in 1 day and less than 3 days overdue; it gets a pretty major</p>

<p>priority boast in the hopes that you will either get it done and</p>

<p>rescue it; or reschedule it; this saves you from those time bombs that</p>

<p>are hiding in your list a page down. After 3 days the algorithm</p>

<p>assumes you are an optimist that lies to him/herself and it drops the</p>

<p>task back into a normal aging progression.</p>

<h3 id="chuckdevee-1">chuckdevee</h3>

<p>unread,</p>

<p>Jul 14, 2009, 1:56:50 PM 7/14/09</p>

<p>to MyLifeOrganized</p>

<p>Correct me if I’m wrong but, after having looked at the formulas, it</p>

<p>doesn’t matter of you adjust the start date, or the due date, it does</p>

<p>EXACTLY the same thing in the formula. So it’s a bit misleading to</p>

<p>suggest people can independently alter weightings for start and due</p>

<p>date.</p>

<p>Why not keep it as simple and clear as possible and tell users exactly</p>

<p>what’s going on.</p>

<p>MLO should just have a single Time Factor slider and two clearly but</p>

<p>succinctly explained options to set it to either:-</p>

<ul>
  <li>
    <p>Proportion of task period elapsed.</p>
  </li>
  <li>
    <p>Time to due date.</p>
  </li>
</ul>

<p>Users can then decide on the relative importance of this Time Factor</p>

<p>in the calculations.</p>

<p>For speed, that would be two seperate algorithms in MLO I guess.</p>

<p>And personally, I wouldn’t use that adjustment for tasks between 1 day</p>

<p>to go and 3 days overdue.</p>

<p>There are plenty of other ways now in MLO to highlight these tasks if</p>

<p>you really want to - using the special formats.</p>

<p>I really think you should keep the algorithm as simple, clear and</p>

<p>straightforward as you possibly can.</p>

<h3 id="ratz-1">ratz</h3>

<p>unread,</p>

<p>Jul 14, 2009, 2:17:37 PM 7/14/09</p>

<p>to MyLifeOrganized</p>

<p>On Jul 14, 1:56 pm, chuckdevee <a href="mailto:don_sm...@me.com">don_sm...@me.com</a> wrote:</p>

<blockquote>
  <p>Correct me if I’m wrong but, after having looked at the formulas, it</p>
</blockquote>

<blockquote>
  <p>doesn’t matter of you adjust the start date, or the due date, it does</p>
</blockquote>

<blockquote>
  <p>EXACTLY the same thing in the formula. So it’s a bit misleading to</p>
</blockquote>

<blockquote>
  <p>suggest people can independently alter weightings for start and due</p>
</blockquote>

<blockquote>
  <p>date.</p>
</blockquote>

<blockquote>

</blockquote>

<p>Since I’m in the code right now redoing the about 50 lines to</p>

<p>implement</p>

<p>this without a speed hit speed hit I can tell you that you are wrong.</p>

<p>I’m</p>

<p>not sure what you miss read of if the docs are off (the code has been</p>

<p>tweaked over time); but I think I’m better of spending my time on code</p>

<p>There are spread sheets that graph and model the forumlas on my HD</p>

<p>somewhere and I can assure you the dates matter.</p>

<h3 id="richard-collings">Richard Collings</h3>

<p>unread,</p>

<p>Jul 14, 2009, 3:59:28 PM 7/14/09</p>

<p>to myLifeO…@googlegroups.com</p>

<p>Hi Bob</p>

<p>Really interested in what you say about Rev2 trying to make depth in the</p>

<p>outline less of a factor in the scoring process. This is my major hate in</p>

<p>MLO - the way in which lower level items are automatically made more</p>

<p>important than higher level items to the extent that it is often impossible</p>

<p>to promote the higher level items in front of the lower level items -</p>

<p>particularly if one has applied the Week priority boost. It causes me so</p>

<p>many problems that I just don’t use the MLO scoring.</p>

<p>Is there anyway that this recursive boosting can be made optional?</p>

<p>Thanks</p>

<p>Richard</p>

<h3 id="ratz-2">ratz</h3>

<p>unread,</p>

<p>Jul 14, 2009, 9:32:22 PM 7/14/09</p>

<p>to MyLifeOrganized</p>

<p>You are already using REV2. Which has been around for 3-5 years.</p>

<p>First some comments then some news about REV3.</p>

<p>The depth of the outline really shouldn’t come into play UNLESS</p>

<p>you use the WEEKLY GOAL setting. The weekly goal applies</p>

<p>a HUGE boost and that does cascade down because that’s</p>

<p>the original design intent. It was the HOLLY CRAP feature</p>

<p>to make something POP to the top.</p>

<p>If you don’t use that weekly goal (never like that myself);</p>

<p>things inherit correctly; whenever someone has an outline</p>

<p>that is out of whack I usually find they have a item near the top</p>

<p>with aggressive importance or urgency which propagates</p>

<p>down a really deep tree. Which is what it was designed to do;</p>

<p>and it is simply a case that that user just didn’t expect the impact</p>

<p>to be so strong. Lower the priority cascade down too but people</p>

<p>always see to over look LOWERing the importance to balance the</p>

<p>outline… any how I digress.</p>

<p>The boosting factor I’m speaking of is that we BOOST the priority</p>

<p>of tasks that are overdue; not like we do with weekly goals; but we</p>

<p>do exponentially increase as the moves past the due in 1 day mark.</p>

<hr />

<p>REV 3 of the algorithm was just sent to Andrey; this is the first</p>

<p>redux in about 3-5 years.</p>

<hr />

<p>I took a good long look at it and decided it was time to re-factor the</p>

<p>code.</p>

<p>I found a couple things I no longer liked, Remember when the</p>

<p>algorithm REV2 was last written you had to have both a start and a</p>

<p>due date they weren’t optional.</p>

<p>When Andrey gave you the ability to have no start or no due date;</p>

<p>the algorithm could handle it BUT it was not optimized for those cases</p>

<p>by any means; In the end it did work just not like everyone thought it</p>

<p>should</p>

<p>Such is the problem with changing things because someone likes</p>

<p>purple instead of green… opinions are like…..and sometimes the</p>

<p>results aren’t perfect.</p>

<p>Here’s the enhancements</p>

<p>0) Made it faster never hurts to protect our PPC user’s batteries.</p>

<p>1) Added the ability to turn off the over-due boosting via a</p>

<p>preference.</p>

<p>tasks will not use the more aggressive calculation when over due</p>

<p>if this is disabled. (consider it the “don’t nag me if</p>

<p>procrastinate”</p>

<p>option)</p>

<p>2) Made it possible to have due and start date weighting factors of</p>

<p>ZERO</p>

<p>or to out right disable them.</p>

<p>3) Change the computations for the duedate=startdate condition.</p>

<p>When start=due now the start acts only as a snooze function</p>

<p>and only the due date calculation is used. Old logical / code,</p>

<p>was using the start &lt;&gt; due calculation but was convoluted so</p>

<p>bad that you couldn’t tell when you read the code; and it only</p>

<p>threw things out of whack on very deep outlines.</p>

<p>4) Fixed the miss handling of the startdate with nodue date condition.</p>

<p>Startdate now acts a a snooze only; previously the algorithm</p>

<p>treated this by using the StartDate as the DUE date; this happened</p>

<p>when it became possible to have NO Due Date. Most people</p>

<p>assume no due date means finish this task some day but who</p>

<p>cares when; the algorithm is now designed to think that way about</p>

<p>this case as well.</p>

<p>5) Made some structural changes that make it much much</p>

<p>easier to adapt as MLO evolves in the future.</p>

<p>It’s a pretty big write so it will take him a few days to look over</p>

<p>decide</p>

<p>if he likes it and then integrate it. Or it will take him 1 day;</p>

<p>sometimes</p>

<p>he’s crazy fast.</p>

<p>I usually try not to give him code that requires him to change the</p>

<p>gui or the object model. This time I did both <em>gasp</em> so it might</p>

<p>take a bit of integrate and I have no insight into which version</p>

<p>if any will use this code. I did hack together a version that</p>

<p>should plug into the existing MLO version so he could do quick</p>

<p>beta testing with select users. If you get tapped to test it realize</p>

<p>that the testing would be desktop only and probably break</p>

<p>your PPC sync if you use it; so beware what you ask for.</p>

<p>ok that’s all; I’m going back to pondering on how to create</p>

<p>AutoFocus and AutoFocus2 templates for MLO without</p>

<p>begging for 30 new features…. ok maybe 5 or 6.</p>

<p>….. See</p>

<p><a href="http://www.markforster.net/autofocus-system/">http://www.markforster.net/autofocus-system/</a></p>

<p><a href="http://www.markforster.net/blog/2009/6/27/autofocus-2-time-management-system-af2.html">http://www.markforster.net/blog/2009/6/27/autofocus-2-time-management-system-af2.html</a></p>

<p>and</p>

<p><a href="http://www.markforster.net/forum/post/835234">http://www.markforster.net/forum/post/835234</a></p>

<h3 id="ratz-3">ratz</h3>

<p>unread,</p>

<p>Jul 14, 2009, 9:34:44 PM 7/14/09</p>

<p>to MyLifeOrganized</p>

<p>oh good golly rest assured my code is better than my grammar and</p>

<p>formatting in that post…</p>

<p>I need some sleep.</p>

<h3 id="chuckdevee-2">chuckdevee</h3>

<p>unread,</p>

<p>Jul 15, 2009, 1:58:44 AM 7/15/09</p>

<p>to MyLifeOrganized</p>

<p>Hi Ratz, this is why I thought the srat date and due date were</p>

<p>identical in the calculations..here is the main formula from the MLO</p>

<p>help guide for those tasks with a start date:</p>

<p>date score contribution = ((StartDate WeightFactor + DueDate</p>

<p>WeightFactor )/ (Task Duration / Elapsed)) /500</p>

<p>If it’s wrong, then it needs to be changed in the explanation, but</p>

<p>according to this formula, the strart date and due date have exactly</p>

<p>the same effect on the calculation.</p>

<p>Ideally, I’d like there to be an option for the date factor to be</p>

<p>scored based on an assumption that there is no start date, using the</p>

<p>formula you have for these tasks:</p>

<p>date score contribution = (DueDate WeightFactor / (1 – (1 /</p>

<p>Remaining)))/2500</p>

<p>Can you tell me please, do your changes accommodate this? From what I</p>

<p>have read, it’s not clear that they do, but maybe I’m misreading</p>

<p>this.</p>

<p>I need to be able to disable the Start Date but still keep the Due</p>

<p>Date weight factor… and I think this is the main thrust of suggested</p>

<p>changes in this thread..</p>

<h3 id="chuckdevee-3">chuckdevee</h3>

<p>unread,</p>

<p>Jul 15, 2009, 2:50:09 AM 7/15/09</p>

<p>to MyLifeOrganized</p>

<p>.. actually Bob to be more clear, my key question is:</p>

<p>If I enter a task with no start date, and one with a start date, under</p>

<p>this new algorithm, is there a way that MLO can score the date factor</p>

<p>for these tasks identically so that the start date is irrelevant. And</p>

<p>will I still be able to change the effect of dates on the overall</p>

<p>score by changing the due date weight factor?</p>

<p>thanks</p>

<h3 id="richard-collings-1">Richard Collings</h3>

<p>unread,</p>

<p>Jul 15, 2009, 3:17:37 AM 7/15/09</p>

<p>to myLifeO…@googlegroups.com</p>

<p>Hi Bob - you wrote:</p>

<blockquote>

</blockquote>

<blockquote>
  <p>The depth of the outline really shouldn’t come into play</p>
</blockquote>

<blockquote>
  <p>UNLESS you use the WEEKLY GOAL setting. The weekly goal</p>
</blockquote>

<blockquote>
  <p>applies a HUGE boost and that does cascade down because</p>
</blockquote>

<blockquote>
  <p>that’s the original design intent. It was the HOLLY CRAP</p>
</blockquote>

<blockquote>
  <p>feature to make something POP to the top.</p>
</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>If you don’t use that weekly goal (never like that myself);</p>
</blockquote>

<blockquote>
  <p>things inherit correctly; whenever someone has an outline</p>
</blockquote>

<blockquote>
  <p>that is out of whack I usually find they have a item near the</p>
</blockquote>

<blockquote>
  <p>top with aggressive importance or urgency which propagates</p>
</blockquote>

<blockquote>
  <p>down a really deep tree. Which is what it was designed to do;</p>
</blockquote>

<blockquote>
  <p>and it is simply a case that that user just didn’t expect the</p>
</blockquote>

<blockquote>
  <p>impact to be so strong. Lower the priority cascade down too</p>
</blockquote>

<blockquote>
  <p>but people always see to over look LOWERing the importance to</p>
</blockquote>

<blockquote>
  <p>balance the outline… any how I digress.</p>
</blockquote>

<p>Thanks for this explanation.</p>

<p>As I remember it, it was the use of the weekly goal that was causing the</p>

<p>problem and specifically that the Weekly Goal boost that is applied</p>

<p>recursively.</p>

<p>I asked at the time what the business logic was behind this - and nobody</p>

<p>could supply an answer.</p>

<p>From memory, if you have a situation like this:</p>

<p>Project A</p>

<p>Task 1</p>

<p>Task 2</p>

<p>Task 3</p>

<p>Task 4</p>

<p>And you apply the Week Goal to Project A, then Task 1 gets boosted by the</p>

<p>Weekly Goal factor twice and Tasks 3 and 4 get boosted three times which</p>

<p>makes it impossible to bring Task 1 in front of Tasks 3 and Task 4. I</p>

<p>was (and still am) totally bemused by this - why should Tasks 3 and 4 be</p>

<p>more important than Task 1 - the fact that Task 2 logically breaks down into</p>

<p>two smaller tasks does not automatically make those tasks more important, in</p>

<p>my view. And when I asked on the board previously, nobody could explain</p>

<p>why this was. And nobody said, please don’t change this, I find it really</p>

<p>useful because …..</p>

<p>So it seems that we have a feature which causes lots of problems to new</p>

<p>users, which some people hate (me!) and which nobody uses/defends. Am I</p>

<p>missing something? Incidentally, what does HOLLY CRAP mean!!</p>

<p>Is there any chance of getting this changed? Or at least making it an</p>

<p>option. For me, the Weekly Goal boost is useful but it should just boost</p>

<p>all the tasks to which it applies equally.</p>

<p>Regards</p>

<p>Richard</p>

<h3 id="ratz-4">ratz</h3>

<p>unread,</p>

<p>Jul 15, 2009, 1:02:34 PM 7/15/09</p>

<p>to MyLifeOrganized</p>

<p>Yes if Andrey implements the preference to turn off the boost</p>

<p>you can have exactly what you want. I used this thread to find</p>

<p>the problem in the first place.</p>

<p>And yes IMO the case you refer to was incorrectly selecting</p>

<p>the wrong formula because of the changes that resulted from</p>

<p>the addition of null dates. It worked but not optimally IMO.</p>

<p>The docs you refer to really document REV 1.5 of the algorithm</p>

<p>They will be updated when REV 3.0 gets put in; such it the</p>

<p>world of docs; no one notice that null dates meant updating that.</p>

<p>The old code was highly optimized compound if branchs very fast but</p>

<p>hard to read. The new stuff needs to handle more cases</p>

<p>and is now a case statement with other optimization to</p>

<p>get the speed back. It’s now REALLY obvious which</p>

<p>branch algorithm is getting used. This should prevent</p>

<p>future changes from have really hard to locate logic bombs.</p>

<p>It’s not my day job and I’m super busy but I think the</p>

<p>6 hours of work I did on it yesterday should leave use in a</p>

<p>good place for a while.</p>

<p>In the end I’m a volunteer and the CSA is something</p>

<p>I’m responsible for and Andrey graciously puts</p>

<p>in MLO for me. The Hierarchal method is his.</p>

<p>I’ve always said blame me if you don’t like it</p>

<p>I’ll do what I can when I can to improve it but the</p>

<p>delays will be long. The last 3 years have been</p>

<p>crazy and I suspect in the future I can be more responsive.</p>

<h3 id="ratz-5">ratz</h3>

<p>unread,</p>

<p>Jul 15, 2009, 1:03:02 PM 7/15/09</p>

<p>to MyLifeOrganized</p>

<p>Yes, and Yes.</p>

<h3 id="ratz-6">ratz</h3>

<p>unread,</p>

<p>Jul 15, 2009, 1:24:54 PM 7/15/09</p>

<p>to MyLifeOrganized</p>

<p>The weekly goal was an option carried over from the Hierarchal Method;</p>

<p>that just got grafted into the CSA.</p>

<p>It simply affects Urgency; and it’s from before the urgency slider was</p>

<p>added. It was a way to make something urgent. It’s going to be very</p>

<p>sensitive to outline depth. It was designed to drive things deep in</p>

<p>the outline to the top and it’s a very old feature.</p>

<p>The best thing would probably to remove it’s effect from computed</p>

<p>score all together the way monthly and weekly are ignored. If you</p>

<p>really need to boost a project you should move the urgency slider</p>

<p>these days as that is the proper way. The weekly goals is redundant</p>

<p>and flawed from the perspective of the CSA and that’s why the urgency</p>

<p>slider was created.</p>

<p>I have to think about that; and review with Andrey; it’s a one line</p>

<p>change to the algorithm; I don’t very much that we’d enhance it to do</p>

<p>anything else as it’s after all redundant.</p>

<p>….. but I could see having the Weekly goal checked magically move</p>

<p>the urgency slider up 1 full notch but that would probably freak out a</p>

<p>percentage of the user base. We could probably do that transparently</p>

<p>under the hood without anyone noticing and get the desire effect; with</p>

<p>the cavet that if you maxed out the urgency slider AND check the</p>

<p>weekly goal; the weekly goal would have no effect as you’d already be</p>

<p>at the max setting and you can’t go past the max without returning to</p>

<p>the original problem you described. Any how that’s all code in the</p>

<p>gui; so I’ll share my thoughts with him on how that could work.</p>

<h3 id="richard-collings-2">Richard Collings</h3>

<p>unread,</p>

<p>Jul 15, 2009, 3:22:17 PM 7/15/09</p>

<p>to myLifeO…@googlegroups.com</p>

<p>Hi Bob</p>

<p>Thanks for the detailed reply. I have a question and then an observation</p>

<p>re:</p>

<blockquote>

</blockquote>

<blockquote>
  <p>The weekly goal was an option carried over from the</p>
</blockquote>

<blockquote>
  <p>Hierarchal Method; that just got grafted into the CSA.</p>
</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>It simply affects Urgency; and it’s from before the urgency</p>
</blockquote>

<blockquote>
  <p>slider was added. It was a way to make something urgent.</p>
</blockquote>

<blockquote>
  <p>It’s going to be very sensitive to outline depth. It was</p>
</blockquote>

<blockquote>
  <p>designed to drive things deep in the outline to the top and</p>
</blockquote>

<blockquote>
  <p>it’s a very old feature.</p>
</blockquote>

<blockquote>

</blockquote>

<p>Does this mean that boosting the Urgency of a top level task will also</p>

<p>generate a depth related boost down the tree below that task - ie that the</p>

<p>urgency boost of the top level task is applied recursively down the tree</p>

<p>(once to the top level task, twice to its children, three times to their</p>

<p>children and so on).</p>

<p>If so, then this just doesn’t work for me. Taking my example again:</p>

<blockquote>
  <blockquote>
    <p>Project A</p>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <p>Task 1</p>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <p>Task 2</p>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <p>Task 3</p>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <p>Task 4</p>
  </blockquote>
</blockquote>

<p>If I boost the urgency of A, I would like Tasks 1, 3 and 4 to all receive</p>

<p>the same boost and not to suddenly find that Tasks 3 and 4 appear above Task</p>

<ol>
  <li>I just cannot see the logic of this - all I have said is that A is now</li>
</ol>

<p>more urgent. Why should Tasks 3 and 4 then suddenly become more important</p>

<p>than Task 1?</p>

<p>If this recursive boosting is the case, then I would make a strong plea for</p>

<p>this behaviour to be made optional - ie: to have ‘Switch off recursive</p>

<p>boosting’ (or similar) which when ticked will result in the boost just being</p>

<p>applied once to the Task in question and to all the children and their</p>

<p>children, etc.</p>

<p>Many thanks</p>

<p>Richard</p>

<h3 id="ratz-7">ratz</h3>

<p>unread,</p>

<p>Jul 15, 2009, 4:15:43 PM 7/15/09</p>

<p>to MyLifeOrganized</p>

<p>Honestly…..I’d have to go look again; I really haven’t thought about</p>

<p>urgency in a long time. I believe after thinking about it that</p>

<p>importance is recursive and urgency is not but I will check an make a</p>

<p>authoritative statement. later. ( I was working in a different part of</p>

<p>the algorithm that runs in parrallel so I didn’t have to concern</p>

<p>myself with thinking about the urgency topic)</p>

<p>I will say that it’s highly unlikely we’ll change the way urgency</p>

<p>works because it does what it was suppose to do and and people expect</p>

<p>it to do what it does now. So don’t spend a ton of time formulating an</p>

<p>argument; we’ve been through that 4 years ago.</p>

<p>Fixing the weekly goal is the only real topic open for discussion.</p>

<p>I’ll review urgency only so much as finding the right way to fix the</p>

<p>weekly goal issue my above thoughts were open thinking on the fly that</p>

<p>doesn’t mean they are the correct solution; just me thinking out loud;</p>

<p>only so much as the weekly goal issue is concerned and sometimes I</p>

<p>draw bad ideas when doing that; we sort through that when I try and</p>

<p>implement them.</p>

<p>Completely separate from thoughts of the weekly goal</p>

<p>If urgency as implemented isn’t to your liking you have several</p>

<p>options:</p>

<p>1) Don’t use the urgency slider</p>

<p>2) Set the preference to by importance only</p>

<p>3) Use the hierarchal priority method</p>

<p>That should suffice for anyone’s needs; the program has got so many</p>

<p>different ways to tweak the priority that it is silly. And this this</p>

<p>program has too many options already and we can’t bend the algorithms</p>

<p>to everyone’s whims or the program would be unfathomable to new users.</p>

<p>The additive approach your suggesting really isn’t’ in the cards for</p>

<p>the design.; that’s what the weekly goal was suppose to do and it</p>

<p>doesn’t work because it’s really really hard to track it down the tree</p>

<p>as you recurse. lots of stack space and speed issues and plenty of</p>

<p>places to make mistakes; and it confuses people… really trust me it</p>

<p>does; the last time we went over this everyone had trouble keeping the</p>

<p>additive and multiplicative properties straight during the discussion</p>

<p>and much arguing and crying occurred.</p>

<p>I go off to think about it some more. maybe something simple and</p>

<p>elegant will occur to me … no promises.</p>

<h3 id="richardcollings">RichardCollings</h3>

<p>unread,</p>

<p>Jul 15, 2009, 5:16:11 PM 7/15/09</p>

<p>to MyLifeOrganized</p>

<p>Hi Bob</p>

<p>Thanks very much for taking the time to reply in such detail. I can</p>

<p>undertand your reluctance to go over ground that was clearly covered</p>

<p>in some detail some time ago (before I got involved with MLO).</p>

<p>I would be very interested to know if one of the sliders does not</p>

<p>apply a recursive boost because this is what I want (desparately).</p>

<p>What is frustrating for me is that when I have posted previously on</p>

<p>this topic nobody has been able to explain the reasoning behing the</p>

<p>recursive boost - why from a project planning/business point of view,</p>

<p>lower level leaf tasks in a hierarchical structure should be made more</p>

<p>important than other leaf tasks that appear higher up in the</p>

<p>hierarchy?</p>

<p>ie: Going back to my example:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <blockquote>
        <p>Project A</p>
      </blockquote>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <blockquote>
        <p>Task 1</p>
      </blockquote>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <blockquote>
        <p>Task 2</p>
      </blockquote>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <blockquote>
        <p>Task 3</p>
      </blockquote>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <blockquote>
        <p>Task 4</p>
      </blockquote>
    </blockquote>
  </blockquote>
</blockquote>

<p>why should Tasks 3 and 4 be made more important than Task 1 when I</p>

<p>boost Project A?</p>

<p>I agree that there are lots of different ways of exploiting the</p>

<p>algorithm but there does not appear to be a way of handling my simple</p>

<p>requirement which is</p>

<p>«When I boost a top level task, I want all the subtasks to receive</p>

<p>the same level of boost irrespective of their depth in the hierarchy</p>

<p>below that higher level task. ie: they retain their relatively levels</p>

<p>of importance/urgency»</p>

<p>This does not seem an unreasonable request. Incidentally, I am</p>

<p>pretty certain that the hierarchical scoring method does meet this</p>

<p>requirement.</p>

<p>If you can throw any more light on this, I would be very grateful.</p>

<p>Many thanks.</p>

<p>Richard</p>

<blockquote>
  <blockquote>
    <p>Richard- Hide quoted text -</p>
  </blockquote>
</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <ul>
    <li>Show quoted text -</li>
  </ul>
</blockquote>

<h3 id="ratz-8">ratz</h3>

<p>unread,</p>

<p>Jul 15, 2009, 10:01:31 PM 7/15/09</p>

<p>to MyLifeOrganized</p>

<p>Yes we seem to have fun explaining this topic, but the software does</p>

<p>do the right thing from a fuzzy logic project management task break</p>

<p>down approach.</p>

<p>Let’s have a little philosophy of the methods discussion I think that</p>

<p>will help you see what CSA does what it does.</p>

<p>We have 2 scheme’s</p>

<p>(a) Hierarchal is a method that uses and arithmetic progression down</p>

<p>the tree using addition. That method assumes that all tasks are rated</p>

<p>against the universe at large on a fixed scale. This is traditional</p>

<p>prioritization with a few necessities for making mass changes and</p>

<p>boost whole groups with the goals functions and a little hierarchal</p>

<p>smoothing thrown in. This method is great if you have less than 200</p>

<p>tasks and if you are disciplined and consistent I bet you can do 500</p>

<p>without tiring of the effort of prioritizing correctly. This method is</p>

<p>Andrey’s baby and it works great for what it was designed to do. I</p>

<p>like it! and so do a lot of people.</p>

<p>(b) CSA is a method, that use an arithmetic progress down the tree</p>

<p>using multiplication of logarithmic reversible number pairs to</p>

<p>calculate a relative priority based on minimal data entered around a</p>

<p>localized position in the tree. (sounds sexy doesn’t it? or just Bs?</p>

<p>actually it just some math theory that happens to be pretty it’s a</p>

<p>GLOB Sorter if you want to get technical it cluster “like data” into</p>

<p>groups of similar values ). Under this model you set each tasks</p>

<p>Importance and urgency relative to it’s immediate parent only. How</p>

<p>important and how urgent is this individual task to completing the</p>

<p>parent task; and only the parent task; not the project at a whole,</p>

<p>that’s the KEY the parent task only. That allows for faster data</p>

<p>entry within huge outlines with 500 to 5000s of tasks. Because you</p>

<p>don’t have to evaluate the task against your whole life; just it’s</p>

<p>importance and urgency to the parent task, and when it’s do. That is</p>

<p>localized positioning. IF you set your values that way the CSA will</p>

<p>give you very accurate results for priorities. I know I’ve been using</p>

<p>it for almost 10 years as lifebalance uses a simpler form of this</p>

<p>approach and I started on that tool in 98. This scheme is designed</p>

<p>specifically for people that have to make decisions about what gets</p>

<p>done AND what does NOT get done. Just because it’s due today doesn’t</p>

<p>mean it should be done. If figuring out which tasks should even be</p>

<p>reviewed on a give day is a challenge, then CSA is the method you</p>

<p>want. The CSA gets you a nice list of likely suspects to review. This</p>

<p>lines up nicely with GTD that says to own you own intuitive</p>

<p>prioritizations, so we often recommend CSA to GTDers’ because it make</p>

<p>a first WHACK at you list for you; and reduces the number of items you</p>

<p>have to consider for you final selection of the correct task to do.</p>

<p>The problems usually creep in when people try to use CSA in a manner</p>

<p>other than intended; it will not make your decisions for you and it</p>

<p>won’t process a really short list all that effectively that’s why tiny</p>

<p>short lists give weird results; it wasn’t designed to do what people</p>

<p>often try to test. It’s also not a GANTT chart and it won’t schedule</p>

<p>time linear linked tasks; if you need that see MS project and numerous</p>

<p>other tools or fall back to Hierarchal. CSA will always get the top</p>

<p>15-25 things to do in the right cluster at the top of the list out of</p>

<p>1000s of tasks. That’s what it’s designed to do. Get you a todo list</p>

<p>where the top screen without scrolling down at all has the things that</p>

<p>should be review and action’ed as necessary. The order of that screen</p>

<p>will never be perfect because only your intuition at the time of</p>

<p>choosing will tell you which of the top 15 things is the right one to</p>

<p>do right now right here.</p>

<p>That’s what the method does. It really can’t be bent to do other</p>

<p>things. But people loose site of that and start to blend the two</p>

<p>different methods characteristics. I you expect the computed todo list</p>

<p>to be ordered 1, 2, 3 ,4 exactly like you are expecting it you will be</p>

<p>disappointed. Don’t pound nails with a screw driver; use Hierarchal</p>

<p>instead.</p>

<p>The anomalies I was fixing this week where messing up the output of</p>

<p>the data; and that was true of both large data sets and small data</p>

<p>sets. People do get confused when I jump in to fix something when that</p>

<p>conversation started out as a discussion of a short list. I’m usually</p>

<p>not trying to fix the short list results. Rather I see something that</p>

<p>makes me realize there is a problem with the core approach for it’s</p>

<p>intended goal.</p>

<h3 id="richard-collings-3">Richard Collings</h3>

<p>unread,</p>

<p>Jul 16, 2009, 2:53:26 AM 7/16/09</p>

<p>to myLifeO…@googlegroups.com</p>

<p>Thanks again for the detailed reply. Sadly I have tried both schemes and</p>

<p>can’t make either work for me. And there is a steady stream (trickle?) of</p>

<p>other people posting similar comments.</p>

<p>Although the last time, I tried CSA I was also using the Weekly Goal which</p>

<p>from what you have said, distorts the behaviour significantly.</p>

<p>I would definitely put myself in the ‘too many tasks’ category so perhaps I</p>

<p>should go back and try it again</p>

<p>I am not sure that I understand the math. I tried Googling for GLOB sorter</p>

<p>and couldn’t find anything. If the CSA is based on a more widely used set</p>

<p>of theories I would be interested to read a bit more - do you have any</p>

<p>references?</p>

<p>Would I be right in thinking that what you have as your top level tasks is</p>

<p>quite important to the CSA. At the moment, I start off with a Home/Work</p>

<p>split and then split each of these into things like Single Step Actions,</p>

<p>Daily Routines, etc.</p>

<p>What do you have or would you advise to have as the top level tasks and what</p>

<p>principles would you use in terms of how you organise tasks under this. Is</p>

<p>there a template that works well with CSA?</p>

<p>And given what you say about the CSA not being suited to sorting things down</p>

<p>to the level of individual tasks, it maybe points back to the need for a</p>

<p>layering a manual sort, which I desparately need, on top of this (and I</p>

<p>believe Andrey is thinking about) - ie: you use CSA to bring the most</p>

<p>important stuff to the top and then use manual sort to put into an order in</p>

<p>which you want to tackle things today.</p>

<p>Thanks again for taking the time to post.</p>

<h3 id="toes_nz">Toes_NZ</h3>

<p>unread,</p>

<p>Jul 16, 2009, 6:03:07 AM 7/16/09</p>

<p>to MyLifeOrganized</p>

<p>gidday all</p>

<p>i am not an expert on all this but seem to have it working quite well</p>

<p>i am using computed score, by urgency, &amp; importance</p>

<p>i have due and start date at the minimum settings</p>

<p>i mainly use the importance slider, usually on the project heading</p>

<p>which weights all the sub tasks</p>

<p>the say if i have a project with a deadline that is urgent also, i</p>

<p>ramp up the urgency to suit</p>

<p>i came across a website that explained the Eisenhower method, which</p>

<p>makes sense to me with a lot of stuff hitting my desk every day and</p>

<p>having to keep focus on the stuff that is important</p>

<p>basically to work effectivly, the task / project should have normal</p>

<p>urgency and be ranked by importance mainly</p>

<p>if a job is urgent and important, you are fighting fires [which i do</p>

<p>from time to time!]</p>

<p>just google it, there is stacks of info on the web about it</p>

<p>i find gtd is a little to perfect world for me, some parts are great,</p>

<p>and other parts veers a little on the micro managing side</p>

<p>with tasks i believe the 80/20 rule applies, 20% of your tasks are</p>

<p>truly important and create 80% of your productivity</p>

<p>the other 80%, probably should be delegated, or removed</p>

<p>mlo is still my favorite task manager and just seems to work better</p>

<p>the more i learn about it’s features</p>

<p>i have quite a few custom views setup</p>

<p>the main ones i use are Due today, due in the past, &amp; my dit short</p>

<p>list [do it today]</p>

<p>i find my productivity levels are very high working in an environment</p>

<p>where i will never get to the bottom of the pile</p>

<p>anyway, i’m off the beaten track</p>

<p>cheers</p>

<p>toes</p>

<h3 id="chuckdevee-4">chuckdevee</h3>

<p>unread,</p>

<p>Jul 16, 2009, 6:10:36 AM 7/16/09</p>

<p>to MyLifeOrganized</p>

<p>thanks for your work on CSA Bob.. and for the explanation.</p>

<p>I think this is a really important part of MLO to get right..</p>

<p>I like the concept behind CSA but just think it needs to be simplified</p>

<p>so that users can better understand its behaviour..</p>

<p>mainly, I’d argue for taking out any additional boosts - either from</p>

<p>weekly goals or when a goal approaches its deadline..</p>

<p>Beyond that, I think it might be worth providing some more explanation</p>

<p>(minus the maths) about how the underlying concepts work, in</p>

<p>particular, the importance of localised scoring and the waterfall</p>

<p>effect whereby settings of parent tasks affect sub-tasks..And then,</p>

<p>perhaps some guidance on the sliders.. as these are subjective</p>

<p>measures.. I mean, what exactly does importance actually mean in</p>

<p>relation to a task?</p>

<p>I don’t really use the urgency slider but here’s how I use the</p>

<p>importance slider for CSA…</p>

<p>A neutral value (MID-POINT) means that task MUST to be done in order</p>

<p>to complete its parent. Tasks that are not essential get scored either</p>

<p>one or two notches below. For the remainder, as all these must be done</p>

<p>in order to complete the parent, in theory they are all equally</p>

<p>important for that parent task. However, those tasks that have a</p>

<p>positive impact on other tasks/goals/aims beyond the parent get scored</p>

<p>a notch or two higher, depending on how significant this impact might</p>

<p>be. Eg if I’m writing a few functions for a programme but one of them</p>

<p>could be really useful elsewhere, then I give it above neutral</p>

<p>importance. I find that if I use this method, it gives me a reaonably</p>

<p>consistent scoring logic for importance across tasks. Does this fit</p>

<p>with your view of how scoring should be used with CSA?</p>

<h3 id="richardcollings-1">RichardCollings</h3>

<p>unread,</p>

<p>Jul 16, 2009, 7:50:32 AM 7/16/09</p>

<p>to MyLifeOrganized</p>

<p>And I guess the other question that I don’t thinkn your response</p>

<p>answers is the question of whether when you boost a parent task</p>

<p>Importance or Urgency, whether that boost gets applied recursively as</p>

<p>you pass down the tree.</p>

<p>If it does, I cannot just get my head around that - all that you have</p>

<p>done is say - ‘all these tasks under these parents are now more</p>

<p>imporant relative to other tasks elswhere in the hierarchy’. Why</p>

<p>should altering the priority of the parent, boost lower level tasks</p>

<p>more than higher level tasks. Surely all the bottom level tasks</p>

<p>should remain in the same relationship to each other according to the</p>

<p>urgency/importance settings applied to them and to their immediate</p>

<p>parents?</p>

<blockquote>
  <blockquote>
    <blockquote>
      <blockquote>
        <p>If I boost- Hide quoted text -</p>
      </blockquote>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <ul>
    <li>Show quoted text -…</li>
  </ul>
</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>read more »</p>
</blockquote>

<h3 id="chuckdevee-5">chuckdevee</h3>

<p>unread,</p>

<p>Jul 16, 2009, 8:59:12 AM 7/16/09</p>

<p>to MyLifeOrganized</p>

<p>I guess I can understand that one, if indeed it is the case that lower</p>

<p>level tasks get an extra boost..</p>

<p>Imagine 2 projects with the same importance/urgency scores… the CSA</p>

<p>will work to try to get both done at the same time, other things</p>

<p>equal.</p>

<p>So if you have 5 levels of subtasks for Project A, and only 3 for</p>

<p>Project B, you will tend to see more Project A tasks cropping up until</p>

<p>you are at broadly equal levels of depth..</p>

<p>And if you feel that Project B is more important, you can presumably</p>

<p>negate/lessen this effect by giving it a higher importance score..so</p>

<p>that it gets done ahead of Project A. How well this works depends on</p>

<p>the extent of the recursive boost to lower level tasks.. I might try</p>

<p>a test to see how this would actually work..</p>

<h3 id="richardcollings-2">RichardCollings</h3>

<p>unread,</p>

<p>Jul 16, 2009, 9:16:47 AM 7/16/09</p>

<p>to MyLifeOrganized</p>

<p>It just doesn’t work for me - the fact that you have broken one</p>

<p>activity down into more steps and to a deeper level doesn’t</p>

<p>automatically make those individual tasks more important if you boost</p>

<p>their common parent. If they are more important/urgent, I can go</p>

<p>in and make adjustments at that level, I don’t want MLO )or anything</p>

<p>else) doing it for me.</p>

<p>For me, boosting a parent’s urgency/importance should leave the</p>

<p>relative ordering of the tasks under that parent exactly as it was.</p>

<p>All the tasks should move up the overall list together but keep their</p>

<p>ordering as before.</p>

<h3 id="scoobie">scoobie</h3>

<p>unread,</p>

<p>Jul 16, 2009, 1:41:53 PM 7/16/09</p>

<p>to MyLifeOrganized</p>

<p>Bob,</p>

<p>What’s your take on being able to do all this in an iphone sized</p>

<p>processor and screen?</p>

<p>Do you think its possible?</p>

<blockquote>
  <p>…</p>
</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>read more »</p>
</blockquote>

<h3 id="vallon-justin">Vallon, Justin</h3>

<p>unread,</p>

<p>Jul 16, 2009, 4:06:51 PM 7/16/09</p>

<p>to myLifeO…@googlegroups.com</p>

<p>Bob,</p>

<p>You might have considered this, but if you are dynamically computing the</p>

<p>scoring, you could try a cached-value approach, where you cache the</p>

<p>calculation of the score, and some operations (adjusting inputs,</p>

<p>reparenting, modifying weighting of parent) would invalidate the</p>

<p>calculation. If you are lazy about recalculating the score, then it</p>

<p>would be no slower than now on display (with a speedup after being</p>

<p>computed once), for some additional cost when you have to invalidate the</p>

<p>tree (when the root is modified or reparented).</p>

<p>Of course, this is a space-for-time tradeoff, and the devices are</p>

<p>memory-constrained.</p>

<p>-Justin</p>

<h3 id="ratz-9">ratz</h3>

<p>unread,</p>

<p>Jul 16, 2009, 9:31:52 PM 7/16/09</p>

<p>to MyLifeOrganized</p>

<p>Actually there isn’t only a fraction of the users that report</p>

<p>struggles because only a fraction of the license sold lead to someone</p>

<p>posting hear in the forums. What the silent majority has for</p>

<p>experiences we can only guess, and unfortunately if you are on this</p>

<p>list you are a cogg in this highly statistically schewd crowd. So</p>

<p>welcome to the funny farm as they say :) :)</p>

<blockquote>

</blockquote>

<blockquote>
  <p>What do you have or would you advise to have as the top level tasks and what</p>
</blockquote>

<blockquote>
  <p>principles would you use in terms of how you organise tasks under this. Is</p>
</blockquote>

<blockquote>
  <p>there a template that works well with CSA?</p>
</blockquote>

<blockquote>

</blockquote>

<p>I did 3/4 of the templates so here’s as authoritative answer for you:</p>

<p>CSA: All the GTD ones.</p>

<p>Heriarchial:</p>

<p>Traditional FranlinkCovey</p>

<p>FlyLady</p>

<p>MLO Demo</p>

<p>Do it Tomorrow - don’t know I assume Heirarchial</p>

<p>On Jul 16, 2:53 am, “Richard Collings” <a href="mailto:r...@rcollings.co.uk">r...@rcollings.co.uk</a> wrote:</p>

<blockquote>
  <p>Thanks again for the detailed reply.  Sadly I have tried both schemes and</p>
</blockquote>

<blockquote>
  <p>can’t make either work for me.  And there is a steady stream (trickle?) of</p>
</blockquote>

<blockquote>
  <p>other people posting similar comments.</p>
</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>Although the last time, I tried CSA I was also using the Weekly Goal which</p>
</blockquote>

<blockquote>
  <p>from what you have said, distorts the behaviour significantly.</p>
</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>I would definitely put myself in the ‘too many tasks’ category so perhaps I</p>
</blockquote>

<blockquote>
  <p>should go back and try it again</p>
</blockquote>

<blockquote>

</blockquote>

<p>I would suggest using the “reset all tasks to normal urgency and</p>

<p>importance” button and starting over ranking things as needed. This</p>

<p>button exists for 2 reason; if you come from the heirachial method we</p>

<p>recommend you reset and start over. Secondly people get confused and</p>

<p>then I say “press RESET” you didn’t understand the premise. (((yes</p>

<p>someday I need to write a tutorial, but this darn thing started life</p>

<p>as a power tool for the geeks on this list, it’s not my fault Andrey</p>

<p>built a great app that happens to sell really well…)))</p>

<p>My #1 piece of advice is never change the Importance and Urgency of a</p>

<p>TASK based on what you see in the Todo List; Only do that from the</p>

<p>Outline when you are looking at the whole picture. If I could have the</p>

<p>sliders disabled in the Todo List view; I would in a heart beat. You’d</p>

<p>all whine, complain and hold your breath; but everyone would have far</p>

<p>better results. If you think the todo list is in the wrong order, then</p>

<p>there is the problem it is in the Outline not the TASK that’s in the</p>

<p>wrong place. If you can’t resist tweaking individual tasks in the todo</p>

<p>list don’t use this method. Seriously don’t do it</p>

<p>I have “triaged” a number of users files over the years and without</p>

<p>exception if it doesn’t work it’s because they put bad data in and</p>

<p>then try to game the system. The program gives them an exact result of</p>

<p>garbage and they are surprised by the result in-spite of feeding it</p>

<p>garbage. The biggest problem is they really refuse to rank items IN</p>

<p>RESPECT to the parent only. You have to do that or it won’t work. I</p>

<p>find lots of people are ranking the siblings against each other; that</p>

<p>is wrong.</p>

<p>Look we could go on and on about this for hours of examples but, there</p>

<p>is only so much time in the day;</p>

<p>If you have the following outline below (yes it’s way too short). If</p>

<p>we exclude everything except importance for the moment.</p>

<p>Project A</p>

<p>++Task A</p>

<p>++++SubTask A</p>

<p>++++++SubSubTask A</p>

<p>++++++++SubSubSubTask A</p>

<p>++++SubTask B</p>

<p>++++++SubSubTask B</p>

<p>++++++++SubSubSubTask B</p>

<p>Project B</p>

<p>++Task B</p>

<p>++++SubTask C</p>

<p>++++SubTask D</p>

<p>++Task C</p>

<p>++++SubTask E</p>

<p>++++++SubSubTask C</p>

<p>++++++++SubSubSubTask C</p>

<p>The Only Items that must have there importance set are the ones with *</p>

<p>Project A*</p>

<p>++Task A</p>

<p>++++SubTask A*</p>

<p>++++++SubSubTask A</p>

<p>++++++++SubSubSubTask A</p>

<p>++++SubTask B*</p>

<p>++++++SubSubTask B</p>

<p>++++++++SubSubSubTask B</p>

<p>Project B*</p>

<p>++Task B*</p>

<p>++++SubTask C*</p>

<p>++++SubTask D*</p>

<p>++Task C*</p>

<p>++++SubTask E</p>

<p>++++++SubSubTask C</p>

<p>++++++++SubSubSubTask C</p>

<p>That’s it; if you set the importance of those you get a valid result.</p>

<p>The mistake people make is how they do that. Let’s look at 2 cases.</p>

<p>Case (1) (SubTask C &amp; SubTask D)</p>

<p>The mistake here is to say SubTask C is more important than SubTask D</p>

<p>So let’s set C high and D low. That is in not correct. You have to</p>

<p>Decide how important SubTask C is to Task B, and how important SubTask</p>

<p>D is to Task B and you only have to do that because more than 1</p>

<p>SubTask X exists in Task B. Those are different questions completely.</p>

<p>If you don’t understand that keep reading that sentence until you do.</p>

<p>Still here? really? Awesome, here’s the same idea in a concrete</p>

<p>example:</p>

<p>Think of it like cleaning a room. If you make a list of ten things to</p>

<p>do to clean the room, let’s assume 5 of those are probably very</p>

<p>important to cleaning the room; if you don’t get them done the room</p>

<p>isn’t clean. The other 5 are optional if you don’t do them the room is</p>

<p>still clean and you can call it good enough. The first 5 are then very</p>

<p>important to the Parent and the other 5 are not. If only the first 5</p>

<p>are present and the other 5 don’t exist then the critical 5 are</p>

<p>“normal” importance to the parent. The first 5 are very because the</p>

<p>noncritical 5 EXISIT; but NOT RELATIVE to them. You rank then IN</p>

<p>RESPECT to the PARENT. What that means in our example is: If the only</p>

<p>the second five existed then they would all be “normal” importance IN</p>

<p>RESPECT the parent, and the Parent “clean the room” would in all</p>

<p>likelihood be less important IN RESPECT to its parent IF it had</p>

<p>sibling items within that parent. Ok backup and read this paragraph</p>

<p>again 3 more times; it’s a very very hard concept to grasp, but if you</p>

<p>are struggling if you can grok it; you might get yourself over the</p>

<p>hurdle. What are you waiting for go back and read it again.</p>

<p>Case (2) Why is is subsubsubTask C more important than SubTask D; I</p>

<p>must change it…. NOPE. SubSubSubTask C will be more important if</p>

<p>what you said of above it computes it to be that way. if it’s wrong to</p>

<p>your intuition go to the outline and review your outline the problem</p>

<p>is elsewhere because SubSubSubTask C has no siblings and therefore</p>

<p>should be NORMAL importance. (Cavet if SubSubSubTask C had previous</p>

<p>siblings it might be something other than normal). In the virgin case</p>

<p>above though there are 3 tasks that must be completed to get back up</p>

<p>the tree to Task C Therefore If you make Task C important or then all</p>

<p>the tasks below it have to get our of the way to get back up to it;</p>

<p>the more there are the more important they become because the road</p>

<p>block is thicker.</p>

<p>Another good trick if you want to learn that the system works; it to</p>

<p>only use Dates for a while. If you are in a new outline set only due</p>

<p>dates for awhile and watch the results. If REV3 was deployed I would</p>

<p>suggest both start and due dates. If you have an existing outline you</p>

<p>can save a copy and then use the “reset importance” button; and look</p>

<p>at what your due date date is telling you. Most people can get their</p>

<p>due dates right.</p>

<blockquote>
  <p>I am not sure that I understand the math.  I tried Googling for GLOB sorter</p>
</blockquote>

<blockquote>
  <p>and couldn’t find anything. If the CSA is based on a more widely used set</p>
</blockquote>

<blockquote>
  <p>of theories I would be interested to read a bit more - do you have any</p>
</blockquote>

<blockquote>
  <p>references?</p>
</blockquote>

<p>Ah sorry GLOB sorter is a term from Chaotic Mathematics and Number</p>

<p>Theory, I think one of my profs made it up 25 years ago; some very odd</p>

<p>stuff. If you chart natural scientific data; things tend to cluster in</p>

<p>storm cells are points of interest where near by points are similar in</p>

<p>the characteristic being modeled. Many, nonlinear chaotic oscillating</p>

<p>function do that. What the algorithm is doing is taking a finite set</p>

<p>of data; and trying to figure out which things in the outline are</p>

<p>important and urgent; It’s basically mathematically doing covey’s 4</p>

<p>quadrants for you. Most everything the algorithm does can be found in</p>

<p>a Nonlinear mathematics text book; or a good computational math book</p>

<p>would do, I doubt you’ll find them combined in one spot. I use</p>

<p><a href="http://www-cs-faculty.stanford.edu/~knuth/gkp.html">http://www-cs-faculty.stanford.edu/~knuth/gkp.html</a> for most fancy</p>

<p>things I do. The best self regulating qsort with an embedded shell</p>

<p>sort can be derived from that book; but you have to know where to</p>

<p>look.</p>

<blockquote>

</blockquote>

<blockquote>
  <p>Would I be right in thinking that what you have as your top level tasks is</p>
</blockquote>

<blockquote>
  <p>quite important to the CSA. At the moment, I start off with a Home/Work</p>
</blockquote>

<blockquote>
  <p>split and then split each of these into things like Single Step Actions,</p>
</blockquote>

<blockquote>
  <p>Daily Routines, etc.</p>
</blockquote>

<p>What matters is the first level at which you move the sliders out of</p>

<p>the central position; OR assign a Due Date to an item; From that point</p>

<p>down the algorithm is morphing the data.</p>

<blockquote>

</blockquote>

<blockquote>
  <p>And given what you say about the CSA not being suited to sorting things down</p>
</blockquote>

<blockquote>
  <p>to the level of individual tasks, it maybe points back to the need for a</p>
</blockquote>

<blockquote>
  <p>layering a manual sort, which I desparately need, on top of this (and I</p>
</blockquote>

<blockquote>
  <p>believe Andrey is thinking about) - ie: you use CSA to bring the most</p>
</blockquote>

<blockquote>
  <p>important stuff to the top and then use manual sort to put into an order in</p>
</blockquote>

<blockquote>
  <p>which you want to tackle things today.</p>
</blockquote>

<blockquote>

</blockquote>

<p>Manual sorting on top; I’ve looked at that twice and all</p>

<p>implementations are ugly due to the need to reset at some point; when</p>

<p>is the right time without loosing the data. It’s a real briar patch.</p>

<p>But Andrey may have other thoughts. As for having things in a precise</p>

<p>order for the day? I suggest that people really try and get beyond</p>

<p>that psychological itch; nobody can maintain that in today world. I</p>

<p>know I’m sure that rubs a few people; but I’m old enough now to get</p>

<p>away with it. But I’ve got a challenge for everyone that disagrees.</p>

<p>Tomorrow take you top ten things you need to do. Write them on an</p>

<p>index card in the order you think you need to do them; then put that</p>

<p>card in a drawer, now right down your top ten things you need to do;</p>

<p>on another card; no read the whole list and pick one; do it; when you</p>

<p>are done cross it off and number item 1. Read read the WHOLE list and</p>

<p>pick the one that feels right and do; when done cross it off and</p>

<p>number it item 2; repeat until done; when you are finished compare the</p>

<p>order of the two cards. If you find that interesting then join the</p>

<p>thread on autofocus. Most of my current energies are being used to see</p>

<p>if MLO can be a platform for that technique.</p>

<h3 id="ratz-10">ratz</h3>

<p>unread,</p>

<p>Jul 16, 2009, 9:33:07 PM 7/16/09</p>

<p>to MyLifeOrganized</p>

<p>Sounds to me like you are using it the way it should be….by avoiding</p>

<p>obsessing done at the lowest level details. Well done.</p>

<h3 id="ratz-11">ratz</h3>

<p>unread,</p>

<p>Jul 16, 2009, 9:34:37 PM 7/16/09</p>

<p>to MyLifeOrganized</p>

<blockquote>
  <p>Thanks again for the detailed reply.</p>
</blockquote>

<p>Btw no problem, just don’t mind my ton; I’m three days behind on some</p>

<p>obligation because a server when QA-Boom. And I really shouldn’t be</p>

<p>spending any time here positng. But I need a distraction every 10</p>

<p>hours or so.</p>

<h3 id="ratz-12">ratz</h3>

<p>unread,</p>

<p>Jul 16, 2009, 11:17:47 PM 7/16/09</p>

<p>to MyLifeOrganized</p>

<blockquote>
  <p>I don’t really use the urgency slider but here’s how I use the</p>
</blockquote>

<blockquote>
  <p>importance slider for CSA…</p>
</blockquote>

<blockquote>
  <p>A neutral value (MID-POINT) means that task MUST to be done in order</p>
</blockquote>

<blockquote>
  <p>to complete its parent. Tasks that are not essential get scored either</p>
</blockquote>

<blockquote>
  <p>one or two notches below. For the remainder, as all these must be done</p>
</blockquote>

<blockquote>
  <p>in order to complete the parent, in theory they are all equally</p>
</blockquote>

<blockquote>
  <p>important for that parent task. However, those tasks that have a</p>
</blockquote>

<blockquote>
  <p>positive impact on other tasks/goals/aims beyond the parent get scored</p>
</blockquote>

<blockquote>
  <p>a notch or two higher, depending on how significant this impact might</p>
</blockquote>

<blockquote>
  <p>be. Eg if I’m writing a few functions for a programme but one of them</p>
</blockquote>

<blockquote>
  <p>could be really useful elsewhere, then I give it above neutral</p>
</blockquote>

<blockquote>
  <p>importance. I find that if I use this method, it gives me a reaonably</p>
</blockquote>

<blockquote>
  <p>consistent scoring logic for importance across tasks. Does this fit</p>
</blockquote>

<blockquote>
  <p>with your view of how scoring should be used with CSA?</p>
</blockquote>

<p>Sorry I missed this question.; that’s close but you should only rank</p>

<p>tasks IN RESPECT to their immediate parent that’s what the algorithm</p>

<p>expects. It’s suppose to relieve you of the burden of thinking about</p>

<p>EVERY task in a GLOBAL context. If a Project contains items that are</p>

<p>important to other projects; i would make that project itself more</p>

<p>important. rather than the tasks within it.</p>

<h3 id="ratz-13">ratz</h3>

<p>unread,</p>

<p>Jul 16, 2009, 11:25:07 PM 7/16/09</p>

<p>to MyLifeOrganized</p>

<blockquote>
  <p>If it does, I cannot just get my head around that - all that you have</p>
</blockquote>

<blockquote>
  <p>done is say - ‘all these tasks under these parents are now more</p>
</blockquote>

<blockquote>
  <p>imporant relative to other tasks elswhere in the hierarchy’. Why</p>
</blockquote>

<blockquote>
  <p>should altering the priority of the parent, boost lower level tasks</p>
</blockquote>

<blockquote>
  <p>more than higher level tasks. Surely all the bottom level tasks</p>
</blockquote>

<blockquote>
  <p>should remain in the same relationship to each other according to the</p>
</blockquote>

<blockquote>
  <p>urgency/importance settings applied to them and to their immediate</p>
</blockquote>

<blockquote>
  <p>parents?</p>
</blockquote>

<p>If dates are ignored; tasks further down the tree will have the same</p>

<p>almost the same value as their parents. If the sliders are in the</p>

<p>neutral position.</p>

<p>If dates are applied to any task; task below that will have slightly</p>

<p>increasing priority based on depth; the algorithm assumes more tasks</p>

<p>need to be done by the due date so you better get to work. As you</p>

<p>check tasks off, the next task up is less urgent, there’s less to do</p>

<p>by the due date; but as the “day and time” move forward the entire</p>

<p>section of the outline becomes more urgent because you are getting</p>

<p>closer to the do date. So both ends push at each other when there are</p>

<p>dates involved.</p>

<p>We once had a user freak out because the priority changed each time he</p>

<p>hit update without changing any tasks. He failed to realize that he</p>

<p>set a due date and time and that he forgot to pause the universe</p>

<p>before hitting update. :) :)</p>

<p>I do think people will have less issues when and if REV 3 of CSA is</p>

<p>available. I did some spreadsheet calcs and I really think this</p>

<p>handles the NULL dates and start dates better. I’m glad I found the</p>

<p>time review it in light of the software changes at large. I really</p>

<p>should have found time before Andrey released 3.0; but that wasn’t in</p>

<p>the cards.</p>

<h3 id="ratz-14">ratz</h3>

<p>unread,</p>

<p>Jul 16, 2009, 11:28:35 PM 7/16/09</p>

<p>to MyLifeOrganized</p>

<p>Well I test 70 some iphone todo apps to figure out where to look for</p>

<p>ideas; I can tell you I think most iphone task apps suck because</p>

<p>people aren’t thinking iphone; they think desktop app –&gt; iphone. So</p>

<p>I’ll be one snob on the team. Example I’d like to see major screen and</p>

<p>view changes handled like tweet deck for the iphone; that page</p>

<p>metophor is very iphone. Don’t even get me started on LB for the</p>

<p>iphone or OF for the iphone. OMG overhead and too slow to get anything</p>

<p>done.</p>

<blockquote>
  <p>…</p>
</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>read more »</p>
</blockquote>

<h3 id="ratz-15">ratz</h3>

<p>unread,</p>

<p>Jul 16, 2009, 11:36:52 PM 7/16/09</p>

<p>to MyLifeOrganized</p>

<p>Yeah it’s not that bad; it’s comp-cost equation.</p>

<p>The algorithm is truly recursive. So every IF or SUM that we can</p>

<p>removed is removed time the number of items in the outline. That’s why</p>

<p>I don’t like adding orthogonal feature. Each option that has to be</p>

<p>test globally mean and extra branch in the algorithm has to be run</p>

<p>through for every node in the task tree.</p>

<p>So you have to think smart. The current rev I was able to identify 5</p>

<p>items we use to calc on the fly because it made sense. I was able to</p>

<p>move those over it the Task OBJECT and handle the updating process in</p>

<p>the gui. That removed something like 12-20 operations from the loop</p>

<p>and that is per Node iteration; that’s a ton; We also probably remove</p>

<p>15-20% of the main IF/Then branch with the new matrix and case</p>

<p>statement.</p>

<p>Part of this is that the algorithm got “extend” in version 1.5; and</p>

<p>should have been re-factored at REV2, there wasn’t time to it go</p>

<p>bloated. It’s now lean and mean and able to grow again; BUT we need to</p>

<p>try a running version of REV3 and have people see how it behaves as</p>

<p>designed before doing anything else.</p>

<p>This is all based on the desktop code of course; I’ve never seen the</p>

<p>source code for the PPC version; the team takes the desktop and</p>

<p>rewrites it for the PPC so they might have already made many of the</p>

<p>same improvements in the past; they weren’t anything special they just</p>

<p>require groking the algorithm and having the time to dedicate to it.</p>

<h3 id="chuckdevee-6">chuckdevee</h3>

<p>unread,</p>

<p>Aug 26, 2009, 8:31:39 AM 8/26/09</p>

<p>to MyLifeOrganized</p>

<p>Ratz/Andrey, would it be possible to tell us when this upgrade is</p>

<p>likely to be released please? thanks</p>

<h3 id="fletcher-kauffman">Fletcher Kauffman</h3>

<p>unread,</p>

<p>Apr 5, 2011, 5:21:38 PM 4/5/11</p>

<p>to mylifeo…@googlegroups.com, MyLifeOrganized</p>

<p>I know this thread is a bit old, but there seems to be some issue I’m having rearing it’s ugly head again.</p>

<p>I’m very interested in this aspect of MLO in particular– the magic of a program like this is that it has the (potential) ability to answer the question “What should I be doing right now?” without my having to do any thinking.</p>

<p>I have the experience pretty often that (for whatever reason) when my Outline is sufficiently complex, my To Do list winds up incorrect.</p>

<p>I also want to touch on another point about MLO being like a light Project Management piece of software– it has one “flaw” in this regard, which is that it treats Start and End as the same thing as when the task should appear in the list. I’ve struggled to understand this for a long time, and I finally resolved to just view it that start (in particular) merely dictates when it should show up on the list.</p>

<p>From that premise, the Start Date should have no impact on urgency or priority (from the aspect that MLO doesn’t actually know anything about the task itself– just how far in advance I needed to know about it).</p>

<p>MLO could make some “smarter” calculations by taking Min/Max times into account to do this, but we’re then talking about a more complex Project-Oriented feature set.</p>

<p>I worked in MS Project (and other similar tools) for many, many years and I’ve been very pleased with MLO getting to close to that experience (especially cutting out all the stuff that makes MS Project unusable for certain things)– it’s when MLO gets right close to the edge of that featureset that it starts to wiggle out.</p>

<p>I’m keenly interested in steering MLO (or an offshoot) toward teams and groups– a full-fledged, cross-platform, multi-user work-brokering system.</p>

<p>I had started looking at this a few years ago when I asked the question: “What if you used Life Balance at an organizational level?”</p>

<p>Right now, the priority/sorting algorithm is most holding us up– I am working with two other stakeholders who are non-MLO users (getting slowly acquainted) and the biggest thing I’m having to defend/explain is that we seem to be setting priorities we all agree to in the Outline, but then the To Do list sort does not reflect those priorities.</p>

<p>I know it’s been a few years– any thoughts on this?</p>

<h3 id="pottster">pottster</h3>

<p>unread,</p>

<p>Apr 6, 2011, 1:16:12 AM 4/6/11</p>

<p>to mylifeo…@googlegroups.com, MyLifeOrganized</p>

<p>For me, people get too hung up trying to optimize the sorting of tasks when in reality it’s the filtering of tasks that is important. Most of the time a “definitive” sorting of tasks is out of date and ignored the moment it’s compiled. A rough sorting is usually all that’s required within a framework of contextual filtering. There are too many subjective inputs to achieve a rigid, all-inclusive, tightly sequenced to-do list; especially at the corporate level you are talking about. For example, changing priorities, personal energy levels, physical location, dependencies on external factors outide of your control, etc etc. An algorithm is just a tool to help YOU answer the question “what should I do next”, a decision aided by filtering out the stuff you don’t need to consider right now. That’s still a good result. I don’t expect automated Project Management anytime soon ;-)</p>

<h3 id="mario-seixas-sales">Mario Seixas Sales</h3>

<p>unread,</p>

<p>Sep 12, 2024, 2:21:54 AM 9/12/24</p>

<p>to MyLifeOrganized</p>

<p>holy shit, those ‘ratz’ comments about CSA are gold</p>

<p>Reply all</p>

<p>Reply to author</p>

<p>Forward</p>

<p>Title: Prioritizing Items ToDo Today - Suggestions Wanted</p>

<p>URL Source: https://groups.google.com/g/mylifeorganized/c/3oqFbGDUweU/m/ePT9b1NfXQkJ</p>

<p>Markdown Content:</p>
<h3 id="s2sailor">s2sailor</h3>

<p>unread,</p>

<p>Jan 23, 2009, 12:21:58 PM 1/23/09</p>

<p>to MyLifeOrganized</p>

<p>I thoroughly enjoy MLO. It is an important tool in my day-to-day work</p>

<p>and personal life, yet I struggle with how to setup a view to</p>

<p>prioritize and focus on just the items I want or need to do today. I</p>

<p>have my couple of hundred items that need tracking entered with due</p>

<p>dates entered where appropriate, then I have an active items view</p>

<p>sorted by due date, so my usual daily drill is to review this sorted</p>

<p>list and also the items in my inbox and then decide what to work on.</p>

<p>I’m looking for a better method and am wondering how others handle</p>

<p>this.</p>

<p>It almost seems to me that MLO needs a separate Today tag which can be</p>

<p>used in addition to due date. I may have a task due in a week but</p>

<p>want to work on it today. With a Today tag, I would still do my daily</p>

<p>scan but then tag the items I want to focus on today and then have a</p>

<p>separate Today only view. Ideally it would be useful to be able to</p>

<p>manually arrange the order of the items in the Today view. This would</p>

<p>provide a very limited ordered subset of items that allow me to focus</p>

<p>on just what I want to do today. Maybe I overlooking something and</p>

<p>that function is already there, but I’m real curious as to how others</p>

<p>handle this.</p>

<p>Thanks,</p>

<p>John</p>

<h3 id="swifty">Swifty</h3>

<p>unread,</p>

<p>Jan 23, 2009, 9:30:20 PM 1/23/09</p>

<p>to MyLifeOrganized</p>

<p>John,</p>

<p>A lot of people use the Weekly goal radio button as a hack for exactly</p>

<p>this type of sorting. You can simply set “This task is a goal for” and</p>

<p>select Week and these items will then become your daily to-do list.</p>

<p>Personally I’ve created a nice filter that sorts everything by Due</p>

<p>Date but filters out anything with a Start Date in the future so</p>

<p>that’s it’s easy to get a Today view. The new feature of tagging a</p>

<p>Start Date with no Due Date also adds these tasks to my view in a</p>

<p>separate bucket which I find useful.</p>

<h3 id="chuckdevee-7">chuckdevee</h3>

<p>unread,</p>

<p>Jan 24, 2009, 9:02:45 AM 1/24/09</p>

<p>to MyLifeOrganized</p>

<p>If I understand you correctly, MLO functionality should be able to put</p>

<p>in place what you’re looking for.</p>

<p>Create a category - perhaps call it ‘Today’, then give it a hot-key -</p>

<p>perhaps ‘Ctrl '.</p>

<p>In your main ToList of active tasks, amend the rules to exclude tasks</p>

<p>with context ‘Today’.</p>

<p>Then create another ToDo list to only include tasks with this context</p>

<ul>
  <li>give it a hot key, eg Ctrl 2 (and maybe your main ToDo list Ctrl 1).</li>
</ul>

<p>In this setup, you can look down your main ToDo list and select items</p>

<p>with ‘Ctrl ' to toggle tasks between your main task list and your</p>

<p>Today list, then you can flick between your these ToDO lists by using</p>

<p>Ctrl 1 and 2.</p>

<p>MLO doesn’t have a manual sort (yet), of course, but you could perhaps</p>

<p>manually sort the items in your Today view by using the Effort slider</p>

<p>(ie sorting by this).</p>

<h3 id="s2sailor-1">s2sailor</h3>

<p>unread,</p>

<p>Jan 25, 2009, 9:36:46 AM 1/25/09</p>

<p>to MyLifeOrganized</p>

<p>Thanks for the responses. I had initially considered setting a today</p>

<p>context, and realize that it would work, but creating this seemed</p>

<p>contrary to how I have been using contexts so decided against it. I</p>

<p>also had looked at the goat setting and originally thought that</p>

<p>setting a weekly goal was changing my due date setting but on re-</p>

<p>inspection I realized that is not happening and I can use the weekly</p>

<p>goal as a work around for my purposes. I have gone back and searched</p>

<p>the forum and see there have been numerous entries on this subject,</p>

<p>including recent ones on todo manual sorting. I look forward to</p>

<p>seeing how Andrey implements this feature and also hope that a “today”</p>

<p>goal will be added.</p>

<h3 id="mlosus">MLOSus</h3>

<p>unread,</p>

<p>Jan 25, 2009, 12:16:24 PM 1/25/09</p>

<p>to MyLifeOrganized</p>

<p>+1</p>

<h3 id="eberhard-1">Eberhard</h3>

<p>unread,</p>

<p>Jan 25, 2009, 2:40:34 PM 1/25/09</p>

<p>to MyLifeOrganized</p>

<p>+1 for the Today Goal</p>

<blockquote>
  <blockquote>
    <p>goal will be added.- Zitierten Text ausblenden -</p>
  </blockquote>
</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <ul>
    <li>Zitierten Text anzeigen -</li>
  </ul>
</blockquote>

<h3 id="dasolsemcom">da…@solsem.com</h3>

<p>unread,</p>

<p>Feb 5, 2009, 8:58:42 AM 2/5/09</p>

<p>to MyLifeOrganized</p>

<p>+1 on both the today goal <em>and</em> manual sorting</p>

<h3 id="jon-r">Jon R</h3>

<p>unread,</p>

<p>Feb 5, 2009, 9:24:29 AM 2/5/09</p>

<p>to MyLifeOrganized</p>

<p>+1 also for the Today Goal. I am always surprised this has not been</p>

<p>added sooner as I hear it requested so often.. but I suppose there</p>

<p>must be a good reason.</p>

<p>For recurring tasks under Advanced options, I would like a tickbox to</p>

<p>remove any goal on recurrence please!</p>

<p>Thanks :)</p>

<h3 id="timv">TimV</h3>

<p>unread,</p>

<p>Feb 5, 2009, 11:08:07 AM 2/5/09</p>

<p>to MyLifeOrganized</p>

<p>+1 for today goal</p>

<p>+1 for manual sorting</p>

<h3 id="richard-collings-4">Richard Collings</h3>

<p>unread,</p>

<p>Feb 5, 2009, 12:27:48 PM 2/5/09</p>

<p>to myLifeO…@googlegroups.com</p>

<p>I feel sure I have voted on this in the past but just in case</p>

<p>+1 Today Goal</p>

<p>+1 Manual Sorting</p>

<h3 id="s2sailor-2">s2sailor</h3>

<p>unread,</p>

<p>Feb 6, 2009, 11:07:39 AM 2/6/09</p>

<p>to MyLifeOrganized</p>

<p>I realize that adding manual sorting is difficult and will take time</p>

<p>to implement, but (and in my admitted ignorance of the programming</p>

<p>details) I would think adding a Today goal would be pretty straight</p>

<p>forward and hopefully something that could be added soon.</p>

<h3 id="derek-d">Derek D</h3>

<p>unread,</p>

<p>Feb 10, 2009, 3:31:20 AM 2/10/09</p>

<p>to MyLifeOrganized</p>

<p>+1 for today goal</p>

<p>+1 for manual sorting</p>

<h3 id="mikemac">mikemac</h3>

<p>unread,</p>

<p>Feb 11, 2009, 12:44:55 PM 2/11/09</p>

<p>to MyLifeOrganized</p>

<p>John,</p>

<p>I look at the problem from what I think is the GTD (Getting Things</p>

<p>Done) approach; I suggest reading thru the book and seeing if the</p>

<p>approach is right for you, or if there are things you can take away</p>

<p>from it.</p>

<p>The software is great for implementing the GTD system, but the</p>

<p>software doesn’t do the all the work for you. GTD gives you a</p>

<p>systematic approach to organizing ideas and tasks, then MLO helps you</p>

<p>implement the system. I have hundreds of things in the MLO software,</p>

<p>but with a GTD approach I put them in different categories. Some I</p>

<p>don’t need to think about until a specific date in the future; a start</p>

<p>date takes care of keeping them off the list until I need to see</p>

<p>them. And many of them are not yet active tasks, meaning something</p>

<p>I’m actively working on and expect to complete. For example of the 2</p>

<p>situations, take something like “paint the garage door”. In the 1st</p>

<p>category, I need to paint in this spring when rains stop; I put a</p>

<p>start date of late April and a due date sometime in May. I don’t see</p>

<p>it again until I’m ready to do something about it. Maybe it just</p>

<p>needs to be done “someday”. In GTD you set up a set of stuff that</p>

<p>goes under a “Someday/Maybe”list that you regularly review. You read</p>

<p>it regularly (I have someday lists I review weekly, others monthly)</p>

<p>and one day you read it and realize you need to get it done this</p>

<p>month; now it moves from the someday list to an active item.</p>

<p>What I’ve found to be the advantage of this approach is that it lets</p>

<p>me focus on what I’m really planning to get done. I have a system</p>

<p>that gives me assurance I won’t forget things I want to do eventually</p>

<p>or that I’ll start working on sometime in the future, but doesn’t</p>

<p>clutter the view by showing me everything. What I’ve found, and what</p>

<p>others I’ve talked to using GTD have found, is that initially you set</p>

<p>up the system and still have dozens of things in the “active”</p>

<p>category. Gradually the realization sinks in that they’re not really</p>

<p>all active; sure you’d LIKE to be getting them all done, but</p>

<p>realistically you’re simply not capable of doing them all. More and</p>

<p>more shift into someday categories as your experience allows you to</p>

<p>refine your estimates of what you really can get done. Your judgement</p>

<p>as you review your someday lists then comes into play; while it would</p>

<p>be nice to get them all done, you are forced to prioritize and</p>

<p>schedule the things you really want/need to accomplish.</p>

<p>The upshot of the GTD approach is you end up with a limited list of</p>

<p>the stuff you’re really working on now; the thinking about priorities</p>

<p>has already been done and now you look thru the list of current</p>

<p>actions and pick the one that is most appropriate for your time</p>

<p>available, energy level, etc.</p>

<h3 id="toes_nz-1">Toes_NZ</h3>

<p>unread,</p>

<p>Feb 12, 2009, 3:02:58 AM 2/12/09</p>

<p>to MyLifeOrganized</p>

<p>Hello</p>

<p>I would really like manual prioritising, It’s the one feature of Time</p>

<p>&amp; Chaos that a really liked the most [i used it for several years].</p>

<p>The way MLO currently sorts priorities just does not work for me at</p>

<p>all [i have had a good try at trying to make it work].</p>

<p>My quick and dirty fix is a context that sits at the top <strong>DIT</strong>,</p>

<p>these are the items i just do not want to forget about doing.</p>

<p>I believe that andrey has plans to make the goals tags user defined,</p>

<p>so you can change the name of the tag to what ever you wish.</p>

<p>Cheers</p>

<p>Steve</p>

<h3 id="oleg-l">Oleg L</h3>

<p>unread,</p>

<p>Feb 13, 2009, 3:55:10 AM 2/13/09</p>

<p>to MyLifeOrganized</p>

<p>Hello</p>

<p>As far as I understand - the goal is not just tag used for grouping</p>

<p>similar items - it also influences priorities (i.e. order in which</p>

<p>your tasks are sorded in TODO list).</p>

<p>It means that tasks assigned to week goal will appear at the top of</p>

<p>the list, assigned to month goal - below them and assigned to year</p>

<p>goal - at the bottom.</p>

<p>As to manual priorities - I don’t really think it is good idea.</p>

<p>Just imagine: You have thousands of tasks in your MLO database - all</p>

<p>waiting for your attention. And some day you think “oh - it’s good</p>

<p>idea to complete task1 today! - and assign it highest priority”. But</p>

<p>for some reason - you can’t complete it - and it stays until next day.</p>

<p>Next day - you may change your mind and prefer to complete task2 - so</p>

<p>you will constantly have to struggle all those old tasks.</p>

<p>You can find manual priorities in Outlook TODO - it doesn’t work for</p>

<p>me. With MLO I change the way of choosing what to do - I influence it</p>

<p>indirectly - by assigning it start/due date, goal, putting it into</p>

<p>specific place in my outline. This is useful - because I can do it in</p>

<p>advance - plan my activities - and it’s separate from the moment of</p>

<p>doing tasks. When the moment comes to do (I see my TODO list or get</p>

<p>reminder) - I don’t have to think anymore - I can simply perform it.</p>

<p>With Respect,</p>

<p>Oleg</p>

<h3 id="richard-collings-5">Richard Collings</h3>

<p>unread,</p>

<p>Feb 13, 2009, 6:46:02 PM 2/13/09</p>

<p>to myLifeO…@googlegroups.com</p>

<blockquote>
  <p>As to manual priorities - I don’t really think it is good idea.</p>
</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>Just imagine: You have thousands of tasks in your MLO</p>
</blockquote>

<blockquote>
  <p>database - all waiting for your attention. And some day you</p>
</blockquote>

<blockquote>
  <p>think “oh - it’s good idea to complete task1 today! - and</p>
</blockquote>

<blockquote>
  <p>assign it highest priority”. But for some reason - you can’t</p>
</blockquote>

<blockquote>
  <p>complete it - and it stays until next day. Next day - you may</p>
</blockquote>

<blockquote>
  <p>change your mind and prefer to complete task2 - so you will</p>
</blockquote>

<blockquote>
  <p>constantly have to struggle all those old tasks.</p>
</blockquote>

<blockquote>

</blockquote>

<p>An interesting point which has some truth but I think there is a simple</p>

<p>solution.</p>

<p>Like the previous correspondant I just can’t make the MLO prioritisation</p>

<p>work for me at the detail level because the order in which I want to work on</p>

<p>things does vary by day (and by hour) - clients phone up and need things</p>

<p>doing urgently; I am feeling tired so I want to do some easy tasks;</p>

<p>somebody emails me to say they want to talk about x at 4:30 today but before</p>

<p>I can talk to them about x and I have to do w and z and so on. Trying to</p>

<p>order these activities in MLO at the moment in this way is impossible.</p>

<p>So my vision for the manual sorting is that one uses the broad MLO</p>

<p>priorisation tools to bring the most important tasks to the top of the list</p>

<p>for today but one can then drag them out of that list and put them in a</p>

<p>manual order that makes sense for today.</p>

<p>And then tomorrow, there is an option which says ‘Clear manual list’ which</p>

<p>just puts everything back into the natural MLO order.</p>

<p>That would be a great step forward.</p>

<p>The next step would be to have multiple manual lists so that one can sort a</p>

<p>set of tasks for a project into a sensible order for that project by</p>

<p>creating a manual list for that particular project and then using drag and</p>

<p>drop. A much better mechanism than trying to create dependencies.</p>

<p>And finally</p>

<blockquote>
  <p>You can find manual priorities in Outlook TODO - it doesn’t</p>
</blockquote>

<blockquote>
  <p>work for me. With MLO I change the way of choosing what to do</p>
</blockquote>

<blockquote>
  <ul>
    <li>I influence it indirectly - by assigning it start/due date,</li>
  </ul>
</blockquote>

<blockquote>
  <p>goal, putting it into specific place in my outline.</p>
</blockquote>

<p>Nooooo. Surely the whole point of having a tool like MLO is that you create</p>

<p>an Outline that makes sense to you eg typically into some form of work</p>

<p>breakdown structure and then <strong>without disturbing the outline</strong>* you switch</p>

<p>to a different flat view which allows you to put the tasks into an order</p>

<p>than makes sense. If you have to put the tasks into order in which you are</p>

<p>going to do them in the outline itself, then what is the point of the ToDo</p>

<p>view (and MLO). You can just use Word - put the tasks into an outline and</p>

<p>then just drag the tasks out of the outline into a list in the order in</p>

<p>which you want to do them.</p>

<p>Richard</p>

<h3 id="philb">Philb</h3>

<p>unread,</p>

<p>Feb 13, 2009, 10:27:55 PM 2/13/09</p>

<p>to MyLifeOrganized</p>

<p>I think you can tackle all this with the existing features in MLO.</p>

<p>Capture the time you think it takes to do the tasks. Have an</p>

<p>@Braindead category for those items to do when you are tired, like</p>

<p>filling your stapler as David Allen says. Use other contexts as</p>

<p>needed. Use the filtering to build a view that shows you things to do</p>

<p>when you only have 2 minutes or less. Use the Due dates. You can</p>

<p>have a filter to show you tasks that need to be done today. You also</p>

<p>have dependencies, to make one task appear before another. You also</p>

<p>have complete tasks in order - another way to control your todo list.</p>

<p>Does the task actually have to be at the top of the list for you to</p>

<p>work on it? At some point you have to make the decision what to do at</p>

<p>any given moment. No software is going to accomplish that for you.</p>

<p>MLO certainly gives you the tools to make a better decision though.</p>

<p>Worst comes to worst, you can always write down the top items you need</p>

<p>to focus on on a piece of paper. That way they will be right in front</p>

<p>of you all the time, which is far faster and more efficient than any</p>

<p>software could be when things are coming at you hot and heavy. Then</p>

<p>at the end of the day or when you next have breathing room for</p>

<p>processing time, get your outline up to date again.</p>

<h3 id="richard-collings-6">Richard Collings</h3>

<p>unread,</p>

<p>Feb 14, 2009, 8:08:00 AM 2/14/09</p>

<p>to myLifeO…@googlegroups.com</p>

<p>I would agree that you can do most of these things in MLO and indeed I do,</p>

<p>in order to manage my broad list But it all takes time and worse, thought,</p>

<p>and when it comes to the point of wanting to manage my task flow over the</p>

<p>next few hours it would be so much easier to be able to drag tasks into the</p>

<p>order in which I want to do them.</p>

<p>And as previously indicated, I have found it almost impossible to get MLO to</p>

<p>order things into an order that makes sense to me.</p>

<p>So I do indeed do what you suggest - namely create a list in EverNote of</p>

<p>what I want to do in order I want to do it - which is completely bonkers</p>

<p>(Brit word meaning totally stupid) as the tasks are sitting there in MLO -</p>

<p>stubbornly stuck in an order which does not make sense to me.</p>

<p>And finally, yes you are right that the tasks do not have to be in order -</p>

<p>but I find it helps enormously - spend some time thinking about what I want</p>

<p>to do for the day and then work through the list without needing to think</p>

<p>about it again. And again what’s the point of having a bit of software that</p>

<p>could so easily do this and yet doesn’t.</p>

<h3 id="s2sailor-3">s2sailor</h3>

<p>unread,</p>

<p>Feb 14, 2009, 11:33:08 AM 2/14/09</p>

<p>to MyLifeOrganized</p>

<p>Wow, I never expected to see this much discussion on this topic.</p>

<p>I’ve read Allen’s GTD book and “mostly” follow its principles, but I</p>

<p>think the bottom line here is that we each have our own preferred</p>

<p>subtleties in how we implement the system. One of the earlier</p>

<p>comments was that use of dates could be made to generate and provide</p>

<p>focus on todo today lists. I don’t doubt this works for many. As</p>

<p>others have mentioned, I also make heavy use of rapid entry and many</p>

<p>new items get entered each day. I could take time and manipulate dates</p>

<p>for each, but for me the today goal tag (and subsequent filtering on</p>

<p>this tag) provides a very fast way to give “now” focus on the items</p>

<p>that must be done. I scan my items that have dates attached and I</p>

<p>scan the rapid entry inbox and can very quickly select what must be</p>

<p>done today.</p>

<p>I purposely keep this today goal list short so it can be quickly</p>

<p>scanned. I scan this list many times a day. New items get added and</p>

<p>priorities may change. A manual sort option would allow me to arrange</p>

<p>this list in the order needed. I would no longer have to spend time</p>

<p>scanning and processing the order of this list. I would just follow</p>

<p>it top down. I realize this is subtle but for me would save real time</p>

<p>and enhance focus on what needs to be done now. I’ve tried using the</p>

<p>importance and urgency slides but they just don’t work for me.</p>

<p>Here’s hoping that Andrey implements a few more options to allow us</p>

<p>each to work our tasks the way we feel is best :-)</p>

<h3 id="metroboy">metroboy</h3>

<p>unread,</p>

<p>Feb 14, 2009, 4:45:03 PM 2/14/09</p>

<p>to MyLifeOrganized</p>

<p>I completely agree!</p>

<p>I (mostly) follow GTD, but however disciplined I am in looking at only</p>

<p>Next Actions that can be done in the current context, there are always</p>

<p>“several” Next Actions that fit in that category. (actual number</p>

<p>could vary from 5 to 20 depending on the day). I could keep coming</p>

<p>and scanning that list over and over…but I am cursed with being</p>

<p>easily distracted, and with rethinking decisions that have already</p>

<p>been made. So every time I scan the list is a potential distraction,</p>

<p>and a rather difficult moment where I have to make a “What do I do</p>

<p>now?” decision all over again. Sometimes these little decisions are</p>

<p>difficult enough that I deflect myself away from the Today list…and</p>

<p>end up wasting time for 20 minutes or longer on a completely</p>

<p>irrelevant task that is psychologically “easier” to perform at that</p>

<p>juncture.</p>

<p>If I could manually re-order this list of 5 to 20 Next-Actions-in-</p>

<p>Current-Context, I could do this re-ordering ONCE during the day and</p>

<p>just work my way down the list…I would be much less tempted to</p>

<p>distract myself with something irrelevant. For a long while I’ve</p>

<p>tried to use the Importance and Urgency sliders to accomplish this re-</p>

<p>ordering, but I always end up feeling frustrated, because sometimes it</p>

<p>will be almost impossible to get a task to land exactly in the order I</p>

<p>want…and I also usually spend a few seconds cursing the lack of the</p>

<p>ability to manually reorder a Todo list in MLO! It would be fabulous</p>

<p>to have this ability.</p>

<p>Nick</p>

<h3 id="richard-collings-7">Richard Collings</h3>

<p>unread,</p>

<p>Feb 15, 2009, 9:40:31 AM 2/15/09</p>

<p>to myLifeO…@googlegroups.com</p>

<p>Hi Nick</p>

<p>An excellent post which I also agree with a 100%. Just picking out a couple</p>

<p>of points to emphasise:</p>

<blockquote>
  <p>I could keep coming and scanning that</p>
</blockquote>

<blockquote>
  <p>list over and over…but I am cursed with being easily</p>
</blockquote>

<blockquote>
  <p>distracted, and with rethinking decisions that have already</p>
</blockquote>

<blockquote>
  <p>been made. So every time I scan the list is a potential</p>
</blockquote>

<blockquote>
  <p>distraction, and a rather difficult moment where I have to</p>
</blockquote>

<blockquote>
  <p>make a “What do I do now?” decision all over again.</p>
</blockquote>

<blockquote>
  <p>Sometimes these little decisions are difficult enough that I</p>
</blockquote>

<blockquote>
  <p>deflect myself away from the Today list…and end up wasting</p>
</blockquote>

<blockquote>
  <p>time for 20 minutes or longer on a completely irrelevant task</p>
</blockquote>

<blockquote>
  <p>that is psychologically “easier” to perform at that juncture.</p>
</blockquote>

<blockquote>

</blockquote>

<p>This is exactly my experience. What I want is MLO to deliver tasks to me</p>

<p>in a order that have decided earlier in the day and to do so in a way that</p>

<p>avoids that ‘What should I do next’ moment that you describe so well (with</p>

<p>resulting prevarication/loss of momentum)</p>

<blockquote>
  <p>If I could manually re-order this list of 5 to 20</p>
</blockquote>

<blockquote>
  <p>Next-Actions-in- Current-Context, I could do this re-ordering</p>
</blockquote>

<blockquote>
  <p>ONCE during the day and just work my way down the list…I</p>
</blockquote>

<blockquote>
  <p>would be much less tempted to distract myself with something</p>
</blockquote>

<blockquote>
  <p>irrelevant.</p>
</blockquote>

<p>Yes, yes, yes!!</p>

<blockquote>
  <p>For a long while I’ve tried to use the</p>
</blockquote>

<blockquote>
  <p>Importance and Urgency sliders to accomplish this re-</p>
</blockquote>

<blockquote>
  <p>ordering, but I always end up feeling frustrated, because</p>
</blockquote>

<blockquote>
  <p>sometimes it will be almost impossible to get a task to land</p>
</blockquote>

<blockquote>
  <p>exactly in the order I want…and I also usually spend a few</p>
</blockquote>

<blockquote>
  <p>seconds cursing the lack of the ability to manually reorder a</p>
</blockquote>

<blockquote>
  <p>Todo list in MLO! It would be fabulous to have this ability.</p>
</blockquote>

<p>Glad its not just me. This is exactly my experience.</p>

<p>Richard</p>

<h3 id="stephen">Stephen</h3>

<p>unread,</p>

<p>Mar 8, 2009, 10:57:55 PM 3/8/09</p>

<p>to MyLifeOrganized</p>

<p>Another enthusiastic +1 for the ability to flag items to do TODAY.</p>

<p>This is very important for perfectionists like me who tend to have too</p>

<p>many task items and get overwhelmed at seeing a long list. In the</p>

<p>morning I need to be able to pick a subset of items to do that day,</p>

<p>and right now that’s difficult in MLO. A flagging feature like the</p>

<p>weekly goal would work great, although a general “flag” feature would</p>

<p>also work, as long as we can filter on it.</p>

<p>Stephen Weatherford</p>

<p>On Feb 15, 8:40 am, “Richard Collings” <a href="mailto:r...@rcollings.co.uk">r...@rcollings.co.uk</a> wrote:</p>

<blockquote>
  <p>Hi Nick</p>
</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>An excellent post which I also agree with a 100%. Just picking out a couple</p>
</blockquote>

<blockquote>
  <p>of points to emphasise:</p>
</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <blockquote>
    <p>I could keep coming and scanning that</p>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <p>list over and over…but I am cursed with being easily</p>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <p>distracted, and with rethinking decisions that have already</p>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <p>been made. So every time I scan the list is a potential</p>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <p>distraction, and a rather difficult moment where I have to</p>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <p>make a “What do I do now?” decision all over again.</p>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <p>Sometimes these little decisions are difficult enough that I</p>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <p>deflect myself away from theTodaylist…and end up wasting</p>
  </blockquote>
</blockquote>

<h3 id="mikemac-1">mikemac</h3>

<p>unread,</p>

<p>Mar 9, 2009, 3:03:10 PM 3/9/09</p>

<p>to MyLifeOrganized</p>

<p>On Mar 8, 8:57 pm, Stephen <a href="mailto:ushlt-li...@yahoo.com">ushlt-li...@yahoo.com</a> wrote:</p>

<blockquote>
  <p>Another enthusiastic +1 for the ability to flag items to do TODAY.</p>
</blockquote>

<blockquote>
  <p>A flagging feature like the</p>
</blockquote>

<blockquote>
  <p>weekly goal would work great, although a general “flag” feature would</p>
</blockquote>

<blockquote>
  <p>also work, as long as we can filter on it.</p>
</blockquote>

<blockquote>

</blockquote>

<p>If that’s what you want to do, I think the software supports it</p>

<p>already. Go to “Manage Contexts” and create a new context called</p>

<p>“today” (or maybe “TODAY”). Now when you go thru your list of items</p>

<p>simply add the context “today” to the items you want to do today.</p>

<p>Then on the “To-Do” tab create a filter to see only the tasks for the</p>

<p>context “today” and you’re set.</p>

<h3 id="metroboy-1">metroboy</h3>

<p>unread,</p>

<p>Mar 10, 2009, 12:05:10 PM 3/10/09</p>

<p>to MyLifeOrganized</p>

<p>yes, finding some technique to flag items as “Today” is certainly</p>

<p>possible.</p>

<p>What’s not currently possible in MLO (that I know of) is then *re-</p>

<p>ordering* these today items.</p>

<p>This morning is a busy day at work, and I currently have 14 items on</p>

<p>my Today list. On slow mornings, I can take the time to re-order this</p>

<p>list through the (extremely kludgy!) technique of jiggling the</p>

<p>Importance and Urgency slider. However, it is sometimes really</p>

<p>difficult to get the list in exactly the order I would like it. Today</p>

<p>is one of those days…and I don’t really have the time to fiddle with</p>

<p>it. As a result, I have temporarily bailed from MLO for the morning,</p>

<p>and I have my top three to-do items scribbled on a pad by my desk.</p>

<p>(and yes, I plead Guilty to procrastinating by making this post!)</p>

<p>I think it’s really kind of sad that a program as sophisticated as MLO</p>

<p>is rendered useless in the crunch like this by not having the ability</p>

<p>to manually re-order to-do lists. As always, I am actively scanning</p>

<p>the horizon for other programs that will let me accomplish my to-do</p>

<p>goals (Vitalist? Essential PIM Pro?). I’d love to stay with MLO</p>

<p>because of its elegant design and speed…but pretty soon the lack of</p>

<p>re-ordering is going to become a dealbreaker for me.</p>

<p>Nick</p>

<h3 id="richard-collings-8">Richard Collings</h3>

<p>unread,</p>

<p>Mar 10, 2009, 5:15:15 PM 3/10/09</p>

<p>to myLifeO…@googlegroups.com</p>

<p>(What Nick says)^2</p>

<p>But I guess that is no surprise!</p>

<h3 id="steve-wynn">Steve Wynn</h3>

<p>unread,</p>

<p>Mar 11, 2009, 7:50:47 AM 3/11/09</p>

<p>to myLifeO…@googlegroups.com</p>

<p>Overall the target of MLO to my mind is not really systems that are heavily concerned with ordering of lists. The order is to an extent obtained more by the grouping of similar items - via things like context. The general idea being you create ‘batches’ of items that are related in some way.</p>

<p>I would say if order is important then prioritise on only one factor in MLO - Urgency. Forget importance because this throws too many different factors into the mix with regards to the priority algorithm. Only utilise urgency on tasks, not parent items - and remove the importance aspect altogether. Sort your list’s based on Goal and then Urgency. That way by quickly flagging something as a weekly goal it will pop to the top of the list. By default have all tasks set to normal urgency. Then moving tasks is just a case of increasing/decreasing the urgency slider. Of course colour coding/formatting can also be utilised now to highlight specific items.</p>

<p>But I would question the use of ordering if a ‘Today’ list is in play. If you have a list of items you will do today, then why would ordering matter? Ordering only matters if you plan on not doing some of the items on your Today list. Which then I think it sort of negates, to my mind, having a ‘Today’ list in the first place.</p>

<p>Priority ordering as far as understand in GTD is a minor factor. Next action choice being determined by context, time, energy and then priority. I don’t think the idea is to have ordered context based lists that you work top to bottom. Applying priority in that manner is in a way reducing the free-form aspect of GTD as a whole, to my mind.</p>

<p>I think Covey users have a case for more priority based ordering - although a lot can be achieved by the use of contexts. But an A1,A2, B1, B2 priority method would certainly help them I would imagine. That is if we have any users of Covey? But then their major grouping is really based on Roles which can be achieved via context.</p>

<p>Overall I don’t think ordering by importance or urgency really works. Much better to my mind to have a list of items you ‘will-do’ today - no excuses. Then ordering gets thrown out of the window. But to complete that list of items you will probably have to adopt different methods of working, make sure the list is Closed and no new items unless same day urgent are added etc.</p>

<p>I would also consider if the order of a list is stopping you taking action then it might be another subtle form of procrastination. I would imagine you already really know what your priorities are for the day and don’t really need an ordered list to keep you on track.</p>

<p>I recently adopted Autofocus (AF), after a few difficulties, this system has no order with regards to lists. But utilises a series of Closed Lists, which nullify the need for ordering altogether. But the system is hyper productive and you can process a large volume of tasks in a very short space of time. So I would be a little wary that applying too much order to lists, it might actually have the opposite effect and be counterproductive.</p>

<p>All the best</p>

<p>Steve</p>

<h3 id="metroboy-2">metroboy</h3>

<p>unread,</p>

<p>Mar 11, 2009, 1:58:32 PM 3/11/09</p>

<p>to MyLifeOrganized</p>

<p>Hi Steve,</p>

<p>I actually agree with most of what you say.</p>

<ul>
  <li>I’m not really concerned at all with either “Importance” or</li>
</ul>

<p>“Urgency”.</p>

<ul>
  <li>I don’t rank items in my outline by either or these factors, as I</li>
</ul>

<p>agree with you that they can become a (not-so-subtle) form of</p>

<p>procrastination.</p>

<ul>
  <li>As I’ve mentioned before, I have a large outline of tasks, organized</li>
</ul>

<p>by Project. I mark the Next Action in each Project (using the Weekly</p>

<p>Goal flag), and then I filter by context (e.g., @work). The result is</p>

<p>my Today list – which could be anywhere from 5 to 15 items.</p>

<ul>
  <li>Without interruptions, I could do all of these tasks in a day.</li>
</ul>

<p>However, there are two factors that make me want to put this list in a</p>

<p>particular order:</p>

<p>1) I have mild ADHD, and I am easily distracted. Every time I have to</p>

<p>re-scan that list of 5 to 15 items for my next task, there’s a risk</p>

<p>that I will careen off into thinking about my priorities for the day</p>

<p>all over again. To manage myself well, I really need to make this</p>

<p>decision ONCE for the day (subject to interruptions, see #2!), and get</p>

<p>on with the job of working my way down the task list one by one.</p>

<p>2) my job is (often and unpredictably) interrupt-driven. A supervisor</p>

<p>can add one, two, or five tasks in a single call or visit (and the</p>

<p>knock-on effect is that one, two or five OTHER tasks won’t be able to</p>

<p>be completed today). Even if the supervisor doesn’t add tasks, they</p>

<p>can instantly re-set my priorities for the day. When this happens, I</p>

<p>need to <em>instantly</em> reorder my list to reflect my new work reality.</p>

<p>This is the only circumstance where I ever even touch the “Importance”</p>

<p>or “Urgency” sliders. I use them as an (ugly) kludge to get my items</p>

<p>to move up or down the To-do list. As I’ve mentioned before, more</p>

<p>often than not I become frustrated with this process – I can’t get</p>

<p>the items to land where I want, or the controls are too twitchy. I</p>

<p>often give up and go to a paper list, leaving MLO aside until things</p>

<p>calm down again.</p>

<p>This frustrates me, as I want MLO to be a useful tool for me</p>

<p><em>especially</em> in times of high stress when there are many moving parts</p>

<p>to my day.</p>

<p>I understand that people may organize their day in completely</p>

<p>different ways from mine. I understand that many people have complete</p>

<p>control over their day and can work on an uninterrupted basis (in fact</p>

<p>my part-time freelance job is like that). However, I don’t think that</p>

<p>the way I am organizing my day – or the way in which I would like to</p>

<p>use MLO – is an unreasonable or an unusual one. I hew pretty closely</p>

<p>to GTD principles. I don’t use any prioritization in order to arrive</p>

<p>at my “Today” list; it’s mainly flaggin “Next Actions” in my active</p>

<p>Projects. But once I <em>do</em> determine my Today list for each day, it</p>

<p>helps my concentration a great deal if I am able to quickly shuffle</p>

<p>them into the “correct” order for the day – based on my intuition and</p>

<p>my subtle understanding of my job. That’s all that I’m asking for.</p>

<p>thanks for listening,</p>

<p>Nick</p>

<p>On Mar 11, 5:50 am, “Steve Wynn” <a href="mailto:steve.w...@startupcomputer.com">steve.w...@startupcomputer.com</a></p>

<p>wrote:</p>

<h3 id="steve-wynn-1">Steve Wynn</h3>

<p>unread,</p>

<p>Mar 11, 2009, 4:36:07 PM 3/11/09</p>

<p>to myLifeO…@googlegroups.com</p>

<p>Hi Nick,</p>

<p>Order does matter considerably with open lists - it all comes down to deciding what to leave as well as what to actually do. Which in essence I think is part of the problem with those types of lists.</p>

<p>The scenario you talk about I can quite easily get working with just urgency in MLO but I would have to utilise something else to flag the tasks for today. The Weekly Goal in itself is like a super-charge on priority - like having nitrous oxide in your car. While that is operating you will never be able to order very well at all with any of the sliders. You really would have to drop that as you method of selection for daily tasks. Even if a daily goal or something was added to MLO it would probably be a similar scenario.</p>

<p>If you can come up with an alternate method to select your daily tasks, then just utilising Urgency should work as you expect. For example every standard task by default has a medium/normal urgency. Move up the list - increase the urgency and down the list decrease the urgency. Supercharge to the top - add a Weekly Goal.</p>

<p>If you sort by Urgency in the list you also have other options of sorting as well, so you could sort by caption - prefix items with A-, B- is an option, or use symbols @!_+ etc. Or utilise the effort sliders as an extra option for order. But I would only implement extra options once the urgency order worked as you expect.</p>

<p>Now I have to be honest the simplest way to me to achieve a today grouping is utilising dates - which is a bit anti-GTD. But even with dates you have to consider they in themselves add priority with regards to the algorithm. So for ordering purposes you would need to adopt consistent usage if you decide to group by date. For example flag all tasks for today as start/due today. Then the urgency slider will work as desired. But if you have different start dates, then that will also be a factor in the ordering.</p>

<p>I would seriously consider looking at either Do It Tomorrow (DIT) or Autofocus (AF) because they both deal with Closed Lists. Which is like the principle you are adopting in a way with your today list, but the systems add more structure so that ordering is less of an issue. Definitely worth checking out - I would perhaps angle at DIT because it deals heavily with interruptions, dealing with a day’s work in a day etc. Very good system.</p>

<p>Like I say with just urgency you should be able to order as expected but only once you remove the Weekly Goal as your daily selection.</p>

<p>All the best</p>

<p>Steve</p>

<p>—– Original message —————————————-</p>

<p>From: metroboy <a href="mailto:ranch...@gmail.com">ranch...@gmail.com</a></p>

<p>To: MyLifeOrganized <a href="mailto:myLifeO...@googlegroups.com">myLifeO...@googlegroups.com</a></p>

<p>Received: 11/03/2009 18:58:32</p>

<p>Subject: [MLO] Re: Prioritizing Items ToDo Today - Suggestions Wanted</p>

<blockquote>
  <p>No virus found in this incoming message.</p>
</blockquote>

<blockquote>
  <p>Checked by AVG - <a href="http://www.avg.com/">www.avg.com</a></p>
</blockquote>

<blockquote>
  <p>Version: 8.0.237 / Virus Database: 270.11.10/1995 -</p>
</blockquote>

<blockquote>
  <p>Release Date: 03/11/09 08:28:00</p>
</blockquote>

<h3 id="metroboy-3">metroboy</h3>

<p>unread,</p>

<p>Mar 13, 2009, 11:13:02 AM 3/13/09</p>

<p>to MyLifeOrganized</p>

<p>Hi Steve,</p>

<p>Thanks for the tips. Do you think the Urgency slider will work if</p>

<p><em>all</em> my items are flagged as Weekly Goals? (That’s the only way that</p>

<p>items make the cut into my Today list currently.)</p>

<p>In any case, I will try using another flag (like an “@Today” context)</p>

<p>and see how just using the Urgency slider works.</p>

<p>I had the same problems with using dates that you mention, so I avoid</p>

<p>them where possible. However, I do have to use Start Dates</p>

<p>occasionally so that items don’t appear on my list until they’re</p>

<p>relevant. I’ll see how re-ordering with the Urgency slider works in a</p>

<p>mixed list (some with Start Dates, some without.) – will report back</p>

<p>and let you know.</p>

<p>Nick</p>

<p>On Mar 11, 2:36 pm, “Steve Wynn” <a href="mailto:steve.w...@startupcomputer.com">steve.w...@startupcomputer.com</a></p>

<p>wrote:</p>

<h3 id="steve-wynn-2">Steve Wynn</h3>

<p>unread,</p>

<p>Mar 13, 2009, 3:30:16 PM 3/13/09</p>

<p>to myLifeO…@googlegroups.com</p>

<p>Hi Nick,</p>

<p>If ‘all’ items that you want to sort are set to weekly goal, then utilising the urgency slider should work. But be careful about subtasks, if a parent has a weekly goal set or priority set the children inherit. So you would need to keep weekly goal at the task level. I would also look to keep priority as a whole at this level as well if you want to sort. Priority is sort of worked out on a cumulative score, top down.</p>

<p>All the best</p>

<p>Steve</p>

<p>—– Original message —————————————-</p>

<p>Received: 13/03/2009 16:13:02</p>

<p>Subject: [MLO] Re: Prioritizing Items ToDo Today - Suggestions Wanted</p>

<blockquote>
  <p>Hi Steve,</p>
</blockquote>

<blockquote>
  <p>Version: 8.0.237 / Virus Database: 270.11.13/1999 -</p>
</blockquote>

<blockquote>
  <p>Release Date: 03/13/09 05:59:00</p>
</blockquote>

<h3 id="richard-collings-9">Richard Collings</h3>

<p>unread,</p>

<p>Mar 13, 2009, 3:56:56 PM 3/13/09</p>

<p>to myLifeO…@googlegroups.com</p>

<p>Another interpretation (from a more jaundiced view) of what Steve is saying</p>

<p>is that using Weekly Goal breaks the Computerised Scoring algorithm</p>

<p>(something I have moaned about in the past) because of the way in which it</p>

<p>recursively boosts the score of everything that is under the item to which</p>

<p>you have applied the weekly goal.</p>

<p>Ie: it boost score of the item, all the children of the item inherit that</p>

<p>boosted score (good) and then for some bizarre reason MLO applies the weekly</p>

<p>goal boost again on top of this (bad) which means that the children (and</p>

<p>their children) always end up getting much higher scores than other</p>

<p>activities in the work breakdown structure which happen to be higher in the</p>

<p>tree.</p>

<h3 id="metroboy-4">metroboy</h3>

<p>unread,</p>

<p>Mar 14, 2009, 6:18:14 AM 3/14/09</p>

<p>to MyLifeOrganized</p>

<p>Steve,</p>

<p>I’ve replaced Weekly Goals with an “@_Today” context for flagging</p>

<p>items to go onto my “Today” list. I’ve normalized all the Importance</p>

<p>and Urgency settings and…unfortunately using the Urgency slider</p>

<p>doesn’t really work. I am getting a very similar behavior to what I</p>

<p>was previously: moving a task up or down with the slider is <em>very</em></p>

<p>jerky. In some places it advances task-by-task (which is the behavior</p>

<p>I want) – and in some places it advances over 5 or 6 other tasks in</p>

<p>one jump, and I can’t place it in the middle of that task clump, no</p>

<p>matter how hard I try.</p>

<p>It’s really crazy not to be able to directly drag-and-drop tasks to a</p>

<p>particular spot in the to-do list! I seriously think there needs to</p>

<p>be <em>three</em> settings in the To-Do Ordering Behavior dialog:</p>

<p>Hierarchical Score, Computerized Priority, and a new one: “Manual</p>

<p>Ordering”. The task order achieved as a result of choosing “Manual”</p>

<p>should be persistent between sessions, so that I can come back to the</p>

<p>same order that I set up previously.</p>

<p>My observation from watching the past few years of MLO’s development</p>

<p>is that a lot of work was put into rationalizing the Computed Score</p>

<p>Priority. This was partially motivated based on MLO’s background as a</p>

<p>competitor to Life Balance, which was one of the first to-do programs</p>

<p>to automatically rank tasks in a “suggested” order. I think it’s time</p>

<p>to gently move this part of MLO’s DNA into the background. Life</p>

<p>Balance is no longer the dominant player in Task/To-Do programs, and</p>

<p>people come to MLO from a lot of different directions. I understand</p>

<p>that a lot of people are using the Computed Score Priority ranking in</p>

<p>their daily work, and that option should certainly be left in place</p>

<p>for them. But I bet there are a lot of people who would like something</p>

<p>different, and I’m definitely one of them.</p>

<p>Nick</p>

<h3 id="metroboy-5">metroboy</h3>

<p>unread,</p>

<p>Mar 14, 2009, 6:18:25 AM 3/14/09</p>

<p>to MyLifeOrganized</p>

<h3 id="steve-wynn-3">Steve Wynn</h3>

<p>unread,</p>

<p>Mar 14, 2009, 9:33:06 AM 3/14/09</p>

<p>to myLifeO…@googlegroups.com</p>

<p>Hi Nick,</p>

<p>Most programs tend to group priorities in batches, A, B, C, 1, 2,3, High, Medium, Low. This is in effect what MLO does, so to achieve individual task order you would need to apply another factor once the priority groups have been established. So for example if you sort by urgency then by caption - items could be pre-fixed with a letter/number combination to display the exact correct order you wish. Possibly also effort could be utilised or min/max time etc. Or perhaps further subdivide with Morning, Afternoon, Evening contexts. I think you can achieve what you are after but it is not going to be easy and may require you to really think about your view definition and how you sort/group.</p>

<p>I think part of the problem may be that the computerised scoring method references a lookup table for speed. So that the CPU doesn’t go ballistic calculating individual priorities on tasks - though this was also done to aid performance on the PPC as well. So in a way the exactness of the priority mechanism in MLO is somewhat of a tradeoff against performance. I suppose things could be exact - but then MLO speed might seriously suffer.</p>

<p>Ordering in the ToDo list is always going to be a little difficult, as MLO pulls the information in from various parts of the Outline based on context grouping. The only way I can see at the moment of getting a list with exact and specific order is to forget priority altogether and manually create the Today list with no sorting - in the Outline itself. But this would probably mean duplicating existing tasks if you are dealing with project items as well.</p>

<p>MLO in effect is not dealing with a single list with a ToDo list view which I think needs to be considered. It is for the most part pulling in multiple lists and placing the items into a single list in some type of order - usually defined by the view.</p>

<p>I think there probably is a case for a specific priority order - the only method I can see that would work easily in your scenario is A1, A2, A3, B1, B2, ….. , Y1,Y2,Z1,Z2 etc. I would imagine this could be achieved quite easily with another field added to MLO for custom priority - then computerised scoring etc switched off, and manual priority order established.</p>

<p>I suppose another option may to automatically number lists as they are generated in the ToDo list view - then have the ability to drag and drop. Not sure how easy that would be overall. Perhaps there is a way to create the ToDo list in another format which would allow manual ordering?</p>

<p>I may be wrong but for most people I don’t think ordering on a task by task basis is a major concern. It is basically used as more of a guide than a specific sequence in which to do tasks. The common systems MLO addresses, GTD, DIT concern themselves mostly with grouping. Autofocus (AF) utilises ordered lists but simply ordered by creation date. Covey users may like an A1,A2 priority mechanism I suppose.</p>

<p>Personally I quite like the dynamic ordering in MLO - I think as a guide it can work very well. But in a way it is just a suggestion, as with any priority system/mechanism you still have to choose which task to action.</p>

<p>If exact ordering is required, then it might pay to look more at how the Outline is structured with the ToDo list views just acting as a representation of the existing order.</p>

<p>All the best</p>

<p>Steve</p>

<p>—– Original message —————————————-</p>

<p>Received: 14/03/2009 11:18:25</p>

<p>Subject: [MLO] Re: Prioritizing Items ToDo Today - Suggestions Wanted</p>

<blockquote>
  <p>No virus found in this incoming message.</p>
</blockquote>

<blockquote>
  <p>Checked by AVG - <a href="http://www.avg.com/">www.avg.com</a></p>
</blockquote>

<h3 id="richard-collings-10">Richard Collings</h3>

<p>unread,</p>

<p>Mar 15, 2009, 6:52:55 AM 3/15/09</p>

<p>to myLifeO…@googlegroups.com</p>

<p>Thanks for doing this, Nick. Your experience mirrors mine exactly with MLO.</p>

<p>MLO has consistently frustrated my attempts to order tasks precisely WHICH</p>

<p>IS WHAT I WANT (Sorry to use capital here but no attempts to persuade me</p>

<p>otherwise is going to succeed - for the reasons that you have succinctly</p>

<p>outlined in previous posts).</p>

<p>And as you indicate, Nick, I suspect there is a significant number of people</p>

<p>for whom this is a must have. What nobody can easily know (Andrey included)</p>

<p>is the proportion of people who look at/try out MLO and think “Hmmm -</p>

<p>interesting but I can’t easily order tasks in an order that makes sense to</p>

<p>me” and move on (unless Andrey is doing any sort of abandonment survey of</p>

<p>those who download but then don’t sign up). There is a real risk of just</p>

<p>listening to your existing customers that you end up with a product that</p>

<p>meets their needs really well but which does not have a broader appeal</p>

<p>(Aside: EverNote is an interesting example of this - they had an interesting</p>

<p>product which successful met the needs of fairly specialist audience; they</p>

<p>made some major changes in Version 3 which actually simplified it</p>

<p>considerably and, it seems, massively broadened its appeal. I was actually</p>

<p>one of the people in the specialist audience who was very happy with Version</p>

<p>2 and so for me Version 3 was a disaster, but I can understand why they did</p>

<p>it. What was interesting was that when the launched Version 3, most of the</p>

<p>posts in the forum were hostile to the new version. We had all been posting</p>

<p>making suggestions for making the product more sophisticated and complicated</p>

<p>and so were really shocked when the EverNote reversed direction completely</p>

<p>and went for a much more simplified product with a broader appeal.</p>

<p>Do wish that Andrey would make some sort of statement of intent on manual</p>

<p>ordering (there were a couple of postings which indicated that he was</p>

<p>looking at something). It feels to me that he has recently delivered a</p>

<p>round of major enhancements that a lot of people wanted to see but it is not</p>

<p>clear to me now where he is going next with the product.</p>

<p>My guess would be that there is a significant audience out there for a</p>

<p>‘simplified’ version of EverNote which just allows people to manually order</p>

<p>their tasks (as you suggest, Nick) but unfortunately this forum isn’t the</p>

<p>place to ask as there are just a few of us from the ‘manual ordering’</p>

<p>faction for whom MLO offers enough that we stick around with everybody else</p>

<p>being quite happy with the original scoring based approach.</p>

<p>Richard</p>

<blockquote>
  <p>Sent: 14 March 2009 11:18 a</p>
</blockquote>

<blockquote>
  <p>To: MyLifeOrganized</p>
</blockquote>

<blockquote>
  <p>Subject: [MLO] Re: Prioritizing Items ToDo Today - Suggestions Wanted</p>
</blockquote>

<blockquote>

</blockquote>

<blockquote>

</blockquote>

<blockquote>

</blockquote>

<h3 id="richard-collings-11">Richard Collings</h3>

<p>unread,</p>

<p>Mar 15, 2009, 6:57:38 AM 3/15/09</p>

<p>to myLifeO…@googlegroups.com</p>

<blockquote>

</blockquote>

<blockquote>
  <p>If exact ordering is required, then it might pay to look more</p>
</blockquote>

<blockquote>
  <p>at how the Outline is structured with the ToDo list views</p>
</blockquote>

<blockquote>
  <p>just acting as a representation of the existing order.</p>
</blockquote>

<blockquote>

</blockquote>

<p>In which case, why use MLO. You can just do this in Word or some other note</p>

<p>taking/outlining software. Which is what I actually do for my major tasks</p>

<p>of the day (in the same way as Nick). I primarily use MLO to track all the</p>

<p>little tasks.</p>

<p>The beauty of MLO is that you can have two views of your Outline - one</p>

<p>showing the tasks in some sort of Work Breakdown structure (ie grouped by</p>

<p>Project, Deliverable, etc) and then the To Do list which represents the</p>

<p>order in which you want to do the tasks. The problem is that for some of us</p>

<p>we can’t get the To Do list into an order that makes sense to us.</p>

<p>Richard</p>

<h3 id="steve-wynn-4">Steve Wynn</h3>

<p>unread,</p>

<p>Mar 15, 2009, 8:24:40 AM 3/15/09</p>

<p>to myLifeO…@googlegroups.com</p>

<p>The design of MLO is primarily concerned with grouping tasks of a similar nature either by priority, context or some other manner. It offers a suggested order based on these factors. If a specific order is required it can be achieved but it involves manual intervention - for example prefixing tasks with A1, A2, A3 etc. Or configuring the Outline to be based more around a single list, similar in a way to DIT and a daily task diary. Now there are also options to colour code which can be used to an extent for ordering.</p>

<p>Specific order can be achieved easily with a single list - but here for the most part we are dealing with multiple lists displayed as a single list. Information is being pulled through from the outline from various parts. Manual ordering in a way would mean having some sort of disconnected ToDo list view, that I would imagine would be very hard to sort and order through the various other means. So in other words I could imagine a manually ordered list, but group, sort, advanced options etc wouldn’t work. Because for the most part these fields would have to be ignored for manual sorting to override the selected options.</p>

<p>Personally I think paying too much concern to list order limits your available options, you are sort of stating there is only a single starting point that being next task on the ordered list. Obviously order plays a significant part if you are dealing with a large list of items. But the general idea of MLO is to group items of a similar nature into manageable lists, grouped by a selected factor. So to that aim subdivision of lists into smaller and smaller groups, would be a way to obtain order. Then by applying specific priorities to those smaller lists you would be able to achieve a desired order.</p>

<p>Drag and drop ordering I don’t think will work, though I may be wrong. Only because the ToDo list is a representation of the data within the Outline. So dragging and dropping, may impact on the Outline itself. Unless there is a way to create a disconnected view - but then that takes away the dynamic aspects of the ToDo list automatically updating when things are modified. Which may also be an issue if your data is not current and doesn’t reflect changes immediately.</p>

<p>What I think might work is an A1, A2 priority mechanism (or a user defined custom priority) as a separate field, where only one task can be set as A1, A2, A3 etc. But the downside to that is you would have to set individual priorities on all tasks. Which could be a bit of a pain - but would always display the correct order.</p>

<p>A1, A2 priority may appeal to Covey users as well. So you could address people that require ordered lists and a specific working system.</p>

<p>All the best</p>

<p>Steve</p>

<p>—– Original message —————————————-</p>

<blockquote>
  <p>No virus found in this incoming message.</p>
</blockquote>

<blockquote>
  <p>Checked by AVG - <a href="http://www.avg.com/">www.avg.com</a></p>
</blockquote>

<blockquote>
  <p>Version: 8.0.237 / Virus Database: 270.11.13/2001 -</p>
</blockquote>

<blockquote>
  <p>Release Date: 03/14/09 06:54:00</p>
</blockquote>

<h3 id="gggirl">gggirl</h3>

<p>unread,</p>

<p>Mar 15, 2009, 3:28:37 PM 3/15/09</p>

<p>to MyLifeOrganized</p>

<p>I want to echo the wish to have the option to directly drag and drop</p>

<p>to order the items.</p>

<p>I applaud the effort MLO has put into calculating the scores</p>

<p>automatically, but as we all know sometimes the easiest way is just to</p>

<p>do it manually. If there’s an option allowing people choose to order</p>

<p>items by hand (dragging), I think that can satisfy many many people’s</p>

<p>frustration on trying to tweak to get the order as they wish, not what</p>

<p>MLO tells them, isn’t it?</p>

<p>I assume the algorithm would be assign each task an unique number by</p>

<p>their order. Whenever they’re dragged all the related numbers are re-</p>

<p>assigned/ordered. Am I right?</p>

<p>I’m really hoping this feature would be added in. Then MLO will be</p>

<p>perfect for me!!</p>

<p>Thanks again for the already very good product!!</p>

<h3 id="metroboy-6">metroboy</h3>

<p>unread,</p>

<p>Mar 16, 2009, 12:22:21 AM 3/16/09</p>

<p>to MyLifeOrganized</p>

<p>Steve,</p>

<p>You are quite right that Covey’s prioritization system (A1, A2, A3,</p>

<p>etc.) would require a lot of upkeep. That’s why I’ve found it</p>

<p>completely inappropriate for the common GTD situation that I’ve been</p>

<p>describing here:</p>

<ul>
  <li>
    <p>my Next Actions are labeled inside each project in my Outline</p>
  </li>
  <li>
    <p>then these Next Actions are sorted by the appropriate context (e.g.,</p>
  </li>
</ul>

<p>@work)</p>

<ul>
  <li>then some of these Next-Actions-in-appropriate-context are flagged</li>
</ul>

<p>as “Today” items using Weekly Goal (this becomes my To-do or “Today”</p>

<p>list)</p>

<p>These 5 to 20 items that end up in my To-do list are what’s on my</p>

<p>plate today. I need to change their order during the day (sometimes</p>

<p>repeatedly) as supervisors call, priorities change, and many other</p>

<p>reasons. I don’t have the time to fiddle around with a lot of</p>

<p>settings, I want to be able to directly manipulate this list by drag-</p>

<p>and-drop.</p>

<p>I understand that it might be <em>difficult</em> to create a manually-ordered</p>

<p>To-Do list that doesn’t affect the order of the main task Outline –</p>

<p>but I don’t buy that it is <em>impossible</em>.</p>

<p>Things (on the Mac) does it.</p>

<p>Agenda At Once does it.</p>

<p>Vitalist does it (in the sense that you can manually reorder a list</p>

<p>that’s sorted by priority or context or project, and the order is</p>

<p>persistent between sessions.)</p>

<p>Unfortunately, each of these programs has a fatal flaw that keeps me</p>

<p>from using it, which I won’t get into here. I also happen to really</p>

<p>like MLO’s speed, elegant and compact design, and the way it has</p>

<p>separate Outline and To-Do tabs. I guess that’s why I keep</p>

<p>gravitating back to it, and hoping that Andrey can add this</p>

<p>functionality to it. It would be a very cool addition, and it sounds</p>

<p>like other people would like it as well!</p>

<p>Nick</p>

<h3 id="metroboy-7">metroboy</h3>

<p>unread,</p>

<p>Mar 16, 2009, 12:22:32 AM 3/16/09</p>

<p>to MyLifeOrganized</p>

<h3 id="steve-wynn-5">Steve Wynn</h3>

<p>unread,</p>

<p>Mar 16, 2009, 5:40:31 AM 3/16/09</p>

<p>to myLifeO…@googlegroups.com</p>

<p>Hi Nick,</p>

<p>I don’t think it is impossible to achieve a drag/drop ordering in the ToDo list, I just don’t think it will be easy to implement. Though I may be wrong.</p>

<p>A Today list concept is fundamentally not really a part of GTD. GTD is based on selecting tasks to be done on a week by week basis, hence the weekly review. Then grouping those tasks by context. Now I understand why you and others might require specific ordering, but I think part of the problem is the system’s that MLO addresses. Being heavily influenced by GTD it follows that approach to an extent, grouping more than ordering. Really part of the philosophy of GTD is to get away from an ordered approach - with next action choice being made and determined by various factors.</p>

<p>So I have to say ordered list’s and GTD seem a little at odd’s with each other. GTD wouldn’t be my system of choice if I required an ordered list. Something like DIT would give me a Today list, that could quite easily be ordered. As it mainly deals with a single list. A single list can be maintained by adding tasks such as ‘Work on Project A’ then referencing other lists.</p>

<p>So I still think MLO can achieve what you desire as it stands, an ordered list, but unfortunately not if the system is based around GTD. Also not via a drag/drop method - though this could work in the Outline of course with a single list approach.</p>

<p>All the best</p>

<p>Steve</p>

<p>—– Original message —————————————-</p>

<p>Received: 16/03/2009 05:22:21</p>

<p>Subject: [MLO] Re: Prioritizing Items ToDo Today - Suggestions Wanted</p>

<blockquote>
  <p>No virus found in this incoming message.</p>
</blockquote>

<blockquote>
  <p>Checked by AVG - <a href="http://www.avg.com/">www.avg.com</a></p>
</blockquote>

<blockquote>
  <p>Version: 8.0.237 / Virus Database: 270.11.15/2003 -</p>
</blockquote>

<blockquote>
  <p>Release Date: 03/15/09 14:07:00</p>
</blockquote>

<h3 id="stephen-1">Stephen</h3>

<p>unread,</p>

<p>Mar 16, 2009, 9:50:11 PM 3/16/09</p>

<p>to MyLifeOrganized</p>

<blockquote>
  <p>Personally I think paying too much concern to list order limits your</p>
</blockquote>

<p>available options…</p>

<p>Well, that’s nice, but… different people have different styles and</p>

<p>personalities. I’m too likely to make poor decisions if there are a</p>

<p>bunch of possibilities and I have constantly review what to do next.</p>

<p>I also tend to get paralyzed when I see a large list. I’m learning I</p>

<p>do better with a closed list for the day.</p>

<p>I love the way that MLO orders tasks in a “suggested priority”, but I</p>

<p>only want to review that list once a week for weekly goals and once a</p>

<p>day for daily goals, and move selected tasks to a closed list. Then I</p>

<p>want a view where I can see only what I’ve decide to work on for today</p>

<p>(whether that’s a “must do” or a “want to do” list is irrelevant). In</p>

<p>this mode, I want to be able to easily order tasks within that view</p>

<p>(but probably still be able to set priorities that affect the other</p>

<p>views, in case for instance I decide to remove an item from today but</p>

<p>still need to do it sometime this week).</p>

<p>So I think a separate field makes a lot of sense, plus a separate view</p>

<p>or mode where “manual ordering” takes place. I definitely do <em>not</em></p>

<p>want to have to manually set “A1” etc, that would be so much of a pain</p>

<p>nobody would do it. Simple drag/drop or even “up/down” ordering is</p>

<p>sufficient. A/B/C is optional, but personally I think adding a “today</p>

<p>goal” like so many have suggested would be much better. These might</p>

<p>be things considered “have to do today” and the others are “try to do</p>

<p>today.”</p>

<p>I don’t want MLO to change to some simpler scheme, I just want to be</p>

<p>able to use the auto-priority system to guide me in making daily/</p>

<p>weekly decisions.</p>

<p>The manual ordering isn’t so much about “I have to do these in this</p>

<p>order”, but rather a way of prioritizing my time once rather than</p>

<p>having to make that decision multiple times in the day.</p>

<p>I currently use a context for personal/business today tasks, and it</p>

<p>sort of works, but having more control on ordering in that list, and</p>

<p>having a “today goal” would add a lot to this scenario.</p>

<p>Thx,</p>

<p>Stephen</p>

<h3 id="stephen-2">Stephen</h3>

<p>unread,</p>

<p>Mar 16, 2009, 9:51:13 PM 3/16/09</p>

<p>to MyLifeOrganized</p>

<p>On Mar 16, 3:40 am, “Steve Wynn” <a href="mailto:steve.w...@startupcomputer.com">steve.w...@startupcomputer.com</a></p>

<p>wrote:</p>

<blockquote>
  <p>I don’t think it is impossible to achieve a drag/drop ordering in the ToDo list, I just don’t think it will be easy to implement. Though I may be wrong.</p>
</blockquote>

<p>No, it would not be that hard to do. You just need to be able to</p>

<p>switch the ordering mode in a particular view between priority/urgency</p>

<p>and manual ordering. The manual ordering is kept in a different field</p>

<p>than priority/urgency. Those who want to use manual ordering just</p>

<p>turn on this option for their “today” view. Drag/drop to change</p>

<p>manual ordering would be enabled only when this option is turned on</p>

<p>(just like it is in the outline view). Those who want strict GID</p>

<p>don’t turn it on.</p>

<p>I’m sure there are other ways this could be accomplished, although</p>

<p>this might be the easiest. Saying you can’t have both is simply not</p>

<p>true - I want to have the outline for project organization, the</p>

<p>current To-Do list for seeing the current possibilities based on</p>

<p>priority/urgency, and then to move some of these to a today list where</p>

<p>I work from the rest of the day.</p>

<p>That way I select and prioritize once at the beginning of the day, and</p>

<p>possibility re-order as necessary. Kind of a mix between GTD and</p>

<p>DIT. I want to do this in MLO because it’s the first software I’ve</p>

<p>found for tasks that I actually like, partly because of the</p>

<p>flexibility it already gives.</p>

<p>Stephen</p>

<h3 id="nickclark">Nick.Clark</h3>

<p>unread,</p>

<p>Mar 17, 2009, 4:17:23 AM 3/17/09</p>

<p>to myLifeO…@googlegroups.com</p>

<p>How about an option to export the currently showing filtered todo list, preferably via the clipboard so that can be quickly pasted into anything else such as Word or Calendar and reordered there. Would be useful to create today’s job list.</p>

<p>Nick</p>

<h3 id="steve-wynn-6">Steve Wynn</h3>

<p>unread,</p>

<p>Mar 17, 2009, 6:27:56 AM 3/17/09</p>

<p>to myLifeO…@googlegroups.com</p>

<p>I am not trying to be pedantic but the principle of the Closed list is being somewhat lost. Operating a Closed list means once it is defined no new items are added, unless same day urgent and these get added under a line to distinguish them from the planned workload.</p>

<p>Order and priority/sequence are not a factor, that to an extent is one of the major points with regards to the Closed List concept. The list is self contained and the order you do things has no relevance or bearing. With a daily Closed List you aim to complete the items on the list each day - which is the whole reason order/priority are not a concern.</p>

<p>Order/priority is only a concern if you don’t plan to clear the contents of the defined Closed List. Which sort of goes against the principle of the list, that being clearing the list is your objective for today.</p>

<p>Now overall if people want to order lists, fair enough. But for most of the system’s MLO addresses order isn’t a significant factor. Hence the reason it is not already part of the product - I suspect. When various systems or methods are mentioned that go against the feature being requested I sort of just see contradiction which prompts me to try and clarify things.</p>

<p>I think perhaps it is becoming increasingly more important to separate what is a ‘system’ related feature to what is an individual preference. If anything it will stop me weighing in on things !! So in other words GTD/DIT/AF/Covey operate in this way - we need this feature because MLO lacks something concerned with the system being addressed. Compared to ‘I’ operate in this way and I would like this feature.</p>

<p>I am not saying personal preference in any way should be devalued with regards to system requests. Just a distinction be made for clarity purposes.</p>

<p>Again these days I think any feature request could draw strength from looking beyond the initial idea. For example A1,A2 priority method would provide an ordered list and may suit Covey users, there is also Brian Tracy who talks of the virtues of A,B,C priority. The Now Habit by Dr Neil Fiore deals with focusing on ‘A’ priority projects. There is also a priority method with defined uses, A-Today, B-This Week, C-This Month. So although it would not be the preferred method of ordering it has virtues of appealing to perhaps a broader base, and perhaps with this type of order drag/drop would also be easier.</p>

<p>A ‘Today’ goal has been requested a number of times, though to me this isn’t really what most people are after I don’t think. What we are talking about in this instance is an easy way to flag items for today - so to an extent it would make more sense I think to have some type of flags which then have no bearing on priority. But could be filtered on within the ToDo list. A Today goal would somehow need to link into the priority algorithm to be effective and would require a super+super boost to jump to the top of a priority ordered list, if weekly goals existed. User defined filtered flags would seem to me to be a better option as they could work in conjunction with the established priority ordering. If they were user defined you could have a Today flag, Follow-up, Pending etc. The most important thing would be the ability to create a filtered list based on a flag.</p>

<p>All the best</p>

<p>Steve</p>

<p>—– Original message —————————————-</p>

<blockquote>
  <p>No virus found in this incoming message.</p>
</blockquote>

<blockquote>
  <p>Checked by AVG - <a href="http://www.avg.com/">www.avg.com</a></p>
</blockquote>

<blockquote>
  <p>Version: 8.0.237 / Virus Database: 270.11.15/2004 -</p>
</blockquote>

<blockquote>
  <p>Release Date: 03/16/09 07:04:00</p>
</blockquote>

<h3 id="stephen-3">Stephen</h3>

<p>unread,</p>

<p>Mar 17, 2009, 10:34:12 AM 3/17/09</p>

<p>to MyLifeOrganized</p>

<p>Then you’re working in two system and lose all the features of MLO. I</p>

<p>do that sometimes, but I hate it.</p>

<h3 id="stephen-4">Stephen</h3>

<p>unread,</p>

<p>Mar 17, 2009, 2:32:58 PM 3/17/09</p>

<p>to MyLifeOrganized</p>

<p>Okay, let’s be clear then. I don’t think new features should be</p>

<p>judged based on whether they adhere strictly to some expert’s system.</p>

<p>I just want what will work for me, and so far MLO has brought me</p>

<p>closest to that, using kind of a mix between GTD and DIT. I don’t</p>

<p>agree that closed lists must be unordered (how often does your day</p>

<p>goes as planned?), and it appears that I’m not alone.</p>

<p>On Mar 17, 4:27 am, “Steve Wynn” <a href="mailto:steve.w...@startupcomputer.com">steve.w...@startupcomputer.com</a></p>

<p>wrote:</p>

<blockquote>
  <p>A ‘Today’ goal has been requested a number of times, though to me this isn’t really what</p>
</blockquote>

<blockquote>
  <p>most people are after I don’t think. What we are talking about in this instance is an easy</p>
</blockquote>

<blockquote>
  <p>way to flag items for today - so to an extent it would make more sense I think to have</p>
</blockquote>

<blockquote>
  <p>some type of flags which then have no bearing on priority. But could be filtered on within</p>
</blockquote>

<blockquote>
  <p>the ToDo list. A Today goal would somehow need to link into the priority algorithm to be</p>
</blockquote>

<blockquote>
  <p>effective and would require a super+super boost to jump to the top of a priority ordered</p>
</blockquote>

<blockquote>
  <p>list, if weekly goals existed. User defined filtered flags would seem to me to be a better</p>
</blockquote>

<blockquote>
  <p>option as they could work in conjunction with the established priority ordering. If they</p>
</blockquote>

<blockquote>
  <p>were user defined you could have a Today flag, Follow-up, Pending etc. The most important</p>
</blockquote>

<blockquote>
  <p>thing would be the ability to create a filtered list based on a flag.</p>
</blockquote>

<p>Yes, having a flag system would help. We can largely accomplish that</p>

<p>in the desktop version (not as well in the mobile version, at least as</p>

<p>far as editing the list goes) by using a category, setting a shortcut</p>

<p>to it, and setting up views to show items that are or aren’t in that</p>

<p>category. Using the weekly goal gives some ordering to that list,</p>

<p>along the lines of “this item absolutely has to be done today” vs “I’d</p>

<p>like to do this today if possibe” - sort of an A/B categorization.</p>

<p>Although having a “daily goal” would make a lot more sense here,</p>

<p>because using weekly for that means you can’t have weekly goals…</p>

<p>Using urgency/priority to try to just work well because:</p>

<p>A) as has been mentioned, it’s usually impossible to get the task</p>

<p>exactly where you want it.</p>

<p>B) priority/urgency are affected by the outline structure (e.g. if you</p>

<p>have organization nodes like “Projects”, the pri/sev of those nodes I</p>

<p>think affect the pri/sev of the children - there should really be a</p>

<p>“neutral” pri/sev),</p>

<p>C) It’s a real pain to set pri/urg by changing sliders. Requires</p>

<p>going to the mouse (difficult esp on laptops). It’s a lot easier to</p>

<p>press a single key such as “w” for “weekly”. Shortcuts for pri/urg</p>

<p>might help here. It was a nice idea, but most of the time I find it’s</p>

<p>too much - usually simple A/B/C priority would suffice. The only</p>

<p>reason</p>

<p>D) We’re trying to set the ordering of a list by changing something</p>

<p>that only indirectly affects that ordering. I really just want to</p>

<p>drag/drop to set relative priorities between the items in this list</p>

<p>only.</p>

<p>So, having a flagging system would be nice, having daily goals would</p>

<p>be nice, and having a manual ordered mode that can be turned on/off</p>

<p>for a specific view would be really nice.</p>

<p>On Mar 17, 4:27 am, “Steve Wynn” <a href="mailto:steve.w...@startupcomputer.com">steve.w...@startupcomputer.com</a></p>

<p>wrote:</p>

<blockquote>
  <blockquote>
    <p>Release Date: 03/16/09 07:04:00- Hide quoted text -</p>
  </blockquote>
</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <ul>
    <li>Show quoted text -</li>
  </ul>
</blockquote>

<h3 id="richard-collings-12">Richard Collings</h3>

<p>unread,</p>

<p>Mar 17, 2009, 2:59:19 PM 3/17/09</p>

<p>to myLifeO…@googlegroups.com</p>

<p>This just feels like a horrible fudge.</p>

<h3 id="richard-collings-13">Richard Collings</h3>

<p>unread,</p>

<p>Mar 17, 2009, 3:52:50 PM 3/17/09</p>

<p>to myLifeO…@googlegroups.com</p>

<p>If it helps - I agree that this is an individual preference. OK - so there</p>

<p>are bunch of other people out there who say it is not necessary but in my</p>

<p>view they are wrong!!! It may work for some but it doesn’t work for me.</p>

<p>What Andrey has to weigh up is whether there are enough of use “Getting</p>

<p>Things Ordered” people to make it worth his while adding in a manual option</p>

<p>to MLO.</p>

<p>He must know how many people download the product but never sign up and pay.</p>

<p>The key (and difficult) question for him is how many of these are</p>

<p>practitioners of the Getting Things Ordered method of working and who might</p>

<p>have signed up had MLO had a manual ordering facility.</p>

<h3 id="nickclark-1">Nick.Clark</h3>

<p>unread,</p>

<p>Mar 17, 2009, 3:51:56 PM 3/17/09</p>

<p>to myLifeO…@googlegroups.com</p>

<p>Maybe but it would be better than writing it onto a sheet of paper as someone said they do. It could also be a way of presenting someone else with the list, possibly a manager who wants to know your plans for the day, or a delegated list for an employee.</p>

<p>This just feels like a horrible fudge.</p>

<blockquote>
  <p>Sent: 17 March 2009 9:17 a</p>
</blockquote>

<blockquote>
  <p>To: myLifeO…@googlegroups.com</p>
</blockquote>

<blockquote>
  <p>Subject: [MLO] Re: Prioritizing Items ToDo Today - Suggestions Wanted</p>
</blockquote>

<blockquote>

</blockquote>

<blockquote>

</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>How about an option to export the currently showing filtered</p>
</blockquote>

<blockquote>
  <p>todo list, preferably via the clipboard so that can be</p>
</blockquote>

<blockquote>
  <p>quickly pasted into anything else such as Word or Calendar</p>
</blockquote>

<blockquote>
  <p>and reordered there. Would be useful to create today’s job list.</p>
</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>Nick</p>
</blockquote>

<blockquote>

</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>—–Original Message—–</p>
</blockquote>

<blockquote>
  <p>From: Richard Collings <a href="mailto:r...@rcollings.co.uk">r...@rcollings.co.uk</a></p>
</blockquote>

<blockquote>
  <p>Sent: 15 March 2009 11:57</p>
</blockquote>

<blockquote>
  <p>To: myLifeO…@googlegroups.com</p>
</blockquote>

<blockquote>
  <p>Subject: [MLO] Re: Prioritizing Items ToDo Today - Suggestions Wanted</p>
</blockquote>

<blockquote>

</blockquote>

<blockquote>

</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <blockquote>

  </blockquote>
</blockquote>

<h3 id="steve-wynn-7">Steve Wynn</h3>

<p>unread,</p>

<p>Mar 18, 2009, 3:57:33 AM 3/18/09</p>

<p>to myLifeO…@googlegroups.com</p>

<p>What type of Closed List are you using? Because if you are following DIT and a daily closed list - then your day should go to plan 99% of the time. If you don’t clear the list for more than three days you stop and re-evaluate your commitments. Because the list is cleared daily order or sequence has no bearing, above that of a personal preference.</p>

<p>I am not saying new features should be judged based on whether they adhere to a system. But there does need to be, I think, separation between preference and systems with regards to feature requests. Only so that it is clear we are talking about something somebody would find useful, against addressing a particular lack of a feature included within an established system.</p>

<p>All I think is we need to do is define our terms and state preference over system, if that is the case. Because when things like GTD, DIT and Closed Lists are mentioned with things like ordered lists. It has me wondering if people have somehow misinterpreted the meaning behind the terms. As from a ‘system’ perspective ordered lists have no bearing.</p>

<p>All the best</p>

<p>Steve</p>

<p>Received: 17/03/2009 19:32:58</p>

<p>Subject: [MLO] Re: Prioritizing Items ToDo Today - Suggestions Wanted</p>

<blockquote>
  <p>Okay, let’s be clear then. I don’t think new features</p>
</blockquote>

<blockquote>
  <p>should be</p>
</blockquote>

<blockquote>
  <p>judged based on whether they adhere strictly to</p>
</blockquote>

<blockquote>
  <p>some expert’s system.</p>
</blockquote>

<blockquote>
  <p>I just want what will work for me, and so far MLO has</p>
</blockquote>

<blockquote>
  <p>brought me</p>
</blockquote>

<blockquote>
  <p>closest to that, using kind of a mix between GTD and</p>
</blockquote>

<blockquote>
  <p>DIT. I don’t</p>
</blockquote>

<blockquote>
  <p>agree that closed lists must be unordered (how often</p>
</blockquote>

<blockquote>
  <p>does your day</p>
</blockquote>

<blockquote>
  <p>goes as planned?), and it appears that I’m not alone.</p>
</blockquote>

<blockquote>
  <blockquote>
    <p>A ‘Today’ goal has been requested a number of</p>
  </blockquote>
</blockquote>

<blockquote>
  <p>times, though to me this isn’t really what</p>
</blockquote>

<blockquote>
  <blockquote>
    <p>most people are after I don’t think. What we are</p>
  </blockquote>
</blockquote>

<blockquote>
  <p>talking about in this instance is an easy</p>
</blockquote>

<blockquote>
  <blockquote>
    <p>way to flag items for today - so to an extent it</p>
  </blockquote>
</blockquote>

<blockquote>
  <p>would make more sense I think to have</p>
</blockquote>

<blockquote>
  <blockquote>
    <p>some type of flags which then have no bearing on</p>
  </blockquote>
</blockquote>

<blockquote>
  <p>priority. But could be filtered on within</p>
</blockquote>

<blockquote>
  <blockquote>
    <p>the ToDo list. A Today goal would somehow need</p>
  </blockquote>
</blockquote>

<blockquote>
  <p>to link into the priority algorithm to be</p>
</blockquote>

<blockquote>
  <blockquote>
    <p>effective and would require a super+super boost</p>
  </blockquote>
</blockquote>

<blockquote>
  <p>to jump to the top of a priority ordered</p>
</blockquote>

<blockquote>
  <blockquote>
    <p>list, if weekly goals existed. User defined filtered</p>
  </blockquote>
</blockquote>

<blockquote>
  <p>flags would seem to me to be a better</p>
</blockquote>

<blockquote>
  <blockquote>
    <p>option as they could work in conjunction with the</p>
  </blockquote>
</blockquote>

<blockquote>
  <p>established priority ordering. If they</p>
</blockquote>

<blockquote>
  <blockquote>
    <p>were user defined you could have a Today flag,</p>
  </blockquote>
</blockquote>

<blockquote>
  <p>Follow-up, Pending etc. The most important</p>
</blockquote>

<blockquote>
  <blockquote>
    <p>thing would be the ability to create a filtered list</p>
  </blockquote>
</blockquote>

<blockquote>
  <p>based on a flag.</p>
</blockquote>

<blockquote>
  <p>Yes, having a flag system would help. We can largely</p>
</blockquote>

<blockquote>
  <blockquote>
    <p>From: Stephen <a href="mailto:ushlt-li...@yahoo.com">ushlt-li...@yahoo.com</a></p>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <p>Subject: [MLO] Re: Prioritizing Items ToDo Today -</p>
  </blockquote>
</blockquote>

<blockquote>
  <p>Suggestions Wanted</p>
</blockquote>

<blockquote>
  <blockquote>

  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <p>Release Date: 03/16/09 07:04:00- Hide quoted</p>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <p>text -</p>
</blockquote>

<blockquote>
  <blockquote>

  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <ul>
      <li>Show quoted text -</li>
    </ul>
  </blockquote>
</blockquote>

<blockquote>
  <p>–~–~———~–~—-~————~——-~–~—</p>
</blockquote>

<blockquote>
  <p>-~</p>
</blockquote>

<blockquote>
  <p>You received this message because you are</p>
</blockquote>

<blockquote>
  <p>subscribed to the Google Groups “MyLifeOrganized”</p>
</blockquote>

<blockquote>
  <p>group.</p>
</blockquote>

<blockquote>
  <p>To post to this group, send email to</p>
</blockquote>

<blockquote>
  <p>myLifeO…@googlegroups.com</p>
</blockquote>

<blockquote>
  <p>To unsubscribe from this group, send email to</p>
</blockquote>

<blockquote>
  <p>myLifeOrganiz…@googlegroups.com</p>
</blockquote>

<blockquote>
  <p>For more options, visit this group at</p>
</blockquote>

<blockquote>
  <p><a href="http://groups.google.com/group/myLifeOrganized">http://groups.google.com/group/myLifeOrganized</a>?</p>
</blockquote>

<blockquote>
  <p>hl=en</p>
</blockquote>

<blockquote>
  <p>-~———-~—-~—-~—-~——~—-~——~–~</p>
</blockquote>

<blockquote>
  <hr />
</blockquote>

<blockquote>
  <p>No virus found in this incoming message.</p>
</blockquote>

<blockquote>
  <p>Checked by AVG - <a href="http://www.avg.com/">www.avg.com</a></p>
</blockquote>

<blockquote>
  <p>Version: 8.0.237 / Virus Database: 270.11.17/2007 -</p>
</blockquote>

<blockquote>
  <p>Release Date: 03/17/09 10:18:00</p>
</blockquote>

<h3 id="steve-wynn-8">Steve Wynn</h3>

<p>unread,</p>

<p>Mar 18, 2009, 4:15:23 AM 3/18/09</p>

<p>to myLifeO…@googlegroups.com</p>

<p>Part of the problem with most feature requests is knowing the appeal a particular feature will have overall. This is why I mention ‘systems’, because appealing to an already defined system means there is already a target audience for the feature concerned. Manually ordered list’s may add considerable value to MLO - but this is the point to look a little beyond just an ordered list and see if the appeal can widened. What systems utilise an ordered list, what else could MLO handle if manually ordered lists are available?</p>

<p>I think looking at if from this angle only adds strength to the case for a particular feature. If no new/existing systems can be addressed but it is a well supported preference that people require, then that is also a good case for implementation. All I am saying is look beyond the initial feature - see if there is the possibility it can be expanded to draw in more than one target audience.</p>

<p>All the best</p>

<p>Steve</p>

<p>Received: 17/03/2009 20:52:50</p>

<p>Subject: [MLO] Re: Prioritizing Items ToDo Today - Suggestions Wanted</p>

<blockquote>
  <p>If it helps - I agree that this is an individual</p>
</blockquote>

<blockquote>
  <p>preference. OK - so there</p>
</blockquote>

<blockquote>
  <p>are bunch of other people out there who say it is not</p>
</blockquote>

<blockquote>
  <p>necessary but in my</p>
</blockquote>

<blockquote>
  <p>view they are wrong!!! It may work for some but it</p>
</blockquote>

<blockquote>
  <p>doesn’t work for me.</p>
</blockquote>

<blockquote>
  <p>What Andrey has to weigh up is whether there are</p>
</blockquote>

<blockquote>
  <p>enough of use “Getting</p>
</blockquote>

<blockquote>
  <p>Things Ordered” people to make it worth his while</p>
</blockquote>

<blockquote>
  <p>adding in a manual option</p>
</blockquote>

<blockquote>
  <p>to MLO.</p>
</blockquote>

<blockquote>
  <p>He must know how many people download the</p>
</blockquote>

<blockquote>
  <p>product but never sign up and pay.</p>
</blockquote>

<blockquote>
  <p>The key (and difficult) question for him is how many</p>
</blockquote>

<blockquote>
  <p>of these are</p>
</blockquote>

<blockquote>
  <p>practitioners of the Getting Things Ordered method</p>
</blockquote>

<blockquote>
  <p>of working and who might</p>
</blockquote>

<blockquote>
  <p>have signed up had MLO had a manual ordering</p>
</blockquote>

<blockquote>
  <p>facility.</p>
</blockquote>

<blockquote>
  <blockquote>
    <p>—–Original Message—–</p>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <p>Subject: [MLO] Re: Prioritizing Items ToDo Today -</p>
  </blockquote>
</blockquote>

<blockquote>
  <p>Suggestions Wanted</p>
</blockquote>

<blockquote>
  <blockquote>

  </blockquote>
</blockquote>

<blockquote>
  <blockquote>

  </blockquote>
</blockquote>

<blockquote>
  <blockquote>

  </blockquote>
</blockquote>

<blockquote>
  <blockquote>

  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <p>C-This Month. So although it would not be the</p>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <p>Version: 8.0.237 / Virus Database: 270.11.15/2004</p>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <ul>
    <li></li>
  </ul>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <p>Release Date: 03/16/09 07:04:00</p>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>

  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>

    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>

  </blockquote>
</blockquote>

<h3 id="steve-wynn-9">Steve Wynn</h3>

<p>unread,</p>

<p>Mar 17, 2009, 5:02:29 PM 3/17/09</p>

<p>to myLifeO…@googlegroups.com</p>

<p>What type of Closed List are you using? Because if you are following DIT and a daily closed list - then your day should go to plan 99% of the time. If you don’t clear the list for more than three days you stop and re-evaluate your commitments. Because the list is cleared daily order or sequence has no bearing, above that of a personal preference.</p>

<p>I am not saying new features should be judged based on whether they adhere to a system. But there does need to be, I think, separation between preference and systems with regards to feature requests. Only so that it is clear we are talking about something somebody would find useful, against addressing a particular lack of a feature included within an established system.</p>

<p>All I think is we need to do is define our terms and state preference over system, if that is the case. Because when things like GTD, DIT and Closed Lists are mentioned with things like ordered lists. It has me wondering if people have somehow misinterpreted the meaning behind the terms. As from a ‘system’ perspective ordered lists have no bearing.</p>

<p>All the best</p>

<p>Steve</p>

<p>—– Original message —————————————-</p>

<p>From: Stephen <a href="mailto:ushlt...@yahoo.com">ushlt...@yahoo.com</a></p>

<p>To: MyLifeOrganized <a href="mailto:myLifeO...@googlegroups.com">myLifeO...@googlegroups.com</a></p>

<p>Received: 17/03/2009 19:32:58</p>

<p>Subject: [MLO] Re: Prioritizing Items ToDo Today - Suggestions Wanted</p>

<blockquote>
  <p>Okay, let’s be clear then. I don’t think new features</p>
</blockquote>

<blockquote>
  <p>should be</p>
</blockquote>

<blockquote>
  <p>judged based on whether they adhere strictly to</p>
</blockquote>

<blockquote>
  <p>some expert’s system.</p>
</blockquote>

<blockquote>
  <p>I just want what will work for me, and so far MLO has</p>
</blockquote>

<blockquote>
  <p>brought me</p>
</blockquote>

<blockquote>
  <p>closest to that, using kind of a mix between GTD and</p>
</blockquote>

<blockquote>
  <p>DIT. I don’t</p>
</blockquote>

<blockquote>
  <p>agree that closed lists must be unordered (how often</p>
</blockquote>

<blockquote>
  <p>does your day</p>
</blockquote>

<blockquote>
  <p>goes as planned?), and it appears that I’m not alone.</p>
</blockquote>

<blockquote>
  <p>On Mar 17, 4:27 am, “Steve Wynn”</p>
</blockquote>

<blockquote>
  <p><a href="mailto:steve.w...@startupcomputer.com">steve.w...@startupcomputer.com</a></p>
</blockquote>

<blockquote>
  <p>wrote:</p>
</blockquote>

<blockquote>
  <blockquote>
    <p>A ‘Today’ goal has been requested a number of</p>
  </blockquote>
</blockquote>

<blockquote>
  <p>times, though to me this isn’t really what</p>
</blockquote>

<blockquote>
  <blockquote>
    <p>most people are after I don’t think. What we are</p>
  </blockquote>
</blockquote>

<blockquote>
  <p>talking about in this instance is an easy</p>
</blockquote>

<blockquote>
  <blockquote>
    <p>way to flag items for today - so to an extent it</p>
  </blockquote>
</blockquote>

<blockquote>
  <p>would make more sense I think to have</p>
</blockquote>

<blockquote>
  <blockquote>
    <p>some type of flags which then have no bearing on</p>
  </blockquote>
</blockquote>

<blockquote>
  <p>priority. But could be filtered on within</p>
</blockquote>

<blockquote>
  <blockquote>
    <p>the ToDo list. A Today goal would somehow need</p>
  </blockquote>
</blockquote>

<blockquote>
  <p>to link into the priority algorithm to be</p>
</blockquote>

<blockquote>
  <blockquote>
    <p>effective and would require a super+super boost</p>
  </blockquote>
</blockquote>

<blockquote>
  <p>to jump to the top of a priority ordered</p>
</blockquote>

<blockquote>
  <blockquote>
    <p>list, if weekly goals existed. User defined filtered</p>
  </blockquote>
</blockquote>

<blockquote>
  <p>flags would seem to me to be a better</p>
</blockquote>

<blockquote>
  <blockquote>
    <p>option as they could work in conjunction with the</p>
  </blockquote>
</blockquote>

<blockquote>
  <p>established priority ordering. If they</p>
</blockquote>

<blockquote>
  <blockquote>
    <p>were user defined you could have a Today flag,</p>
  </blockquote>
</blockquote>

<blockquote>
  <p>Follow-up, Pending etc. The most important</p>
</blockquote>

<blockquote>
  <blockquote>
    <p>thing would be the ability to create a filtered list</p>
  </blockquote>
</blockquote>

<blockquote>
  <p>based on a flag.</p>
</blockquote>

<blockquote>
  <blockquote>
    <p>From: Stephen <a href="mailto:ushlt-li...@yahoo.com">ushlt-li...@yahoo.com</a></p>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <p>Release Date: 03/16/09 07:04:00- Hide quoted</p>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <p>text -</p>
</blockquote>

<blockquote>
  <blockquote>

  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <ul>
      <li>Show quoted text -</li>
    </ul>
  </blockquote>
</blockquote>

<h3 id="toes_nz-2">Toes_NZ</h3>

<p>unread,</p>

<p>Mar 21, 2009, 4:29:00 AM 3/21/09</p>

<p>to MyLifeOrganized</p>

<p>Hello</p>

<p>I would prefer a manual priority system, It’s one of the things that</p>

<p>Time &amp; Chaos does very well, but in every other way, i find MLO to be</p>

<p>better.</p>

<p>I use keyboard shortcuts a lot, and find the slider system for</p>

<p>altering priority very slow and clunky.</p>

<p>Cheers</p>

<p>ToesNZ</p>

<h3 id="stef">Stef</h3>

<p>unread,</p>

<p>Nov 2, 2013, 11:34:18 AM 11/2/13</p>

<p>to mylifeo…@googlegroups.com, MyLifeOrganized</p>

<p>John,</p>

<p>I share your difficulty.</p>

<p>This is what I’m currently trying to create some order in my ToDo’s:</p>

<p>Flags based on the Eisenhower 4 quadrants + a Today flag, and a view to group your the To-Do’s on these flags. (see screenshot)</p>

<p><img src="https://ci5.googleusercontent.com/proxy/wzPIpX9j5a0GdDR0F7ySvKuzblS1TeZXS5rrJvOuTV3Ybb87sofh0nX69imL_tXB_UhyKDVWXOmeSW-_2iEU-OTz_LS7Lkw0eOvZvBzR4zxD_0yFx30jkvBKGhB7Lhld7CBmrUbLmbz28WxHX4fkES8w_UfgGIxB9ssQ3FueP9GD=s0-d-e1-ft#https://mail.google.com/mail/u/0/?ui=2&amp;ik=552f8b34a0&amp;view=att&amp;th=14219a1fe640f2b9&amp;attid=0.1&amp;disp=emb&amp;zw&amp;atsh=1" alt="Image 1" /></p>

<p>Very simple &amp; for me reduces the overwhelm significantly.</p>

<p>Drawback: iPad MLO doesn’t support flags (to my knowledge.</p>

<p>Hope this helps someone,</p>

<p>Stefaan</p>

<p>Reply all</p>

<p>Reply to author</p>

<p>Forward</p>

<p>Title: Don’t understand urgency score</p>

<p>URL Source: https://groups.google.com/g/mylifeorganized/c/dYEUnLfzthg/m/45LmDJKzEGcJ</p>

<p>Markdown Content:</p>
<h3 id="richard-collings-14">Richard Collings</h3>

<p>unread,</p>

<p>Jun 6, 2007, 4:59:00 PM 6/6/07</p>

<p>to myLifeO…@googlegroups.com</p>

<p>I am trying to puzzle out why some tasks have a higher urgency score than others.</p>

<p>Relevant structure looks like this</p>

<p>Project A « Set as weekly goal</p>

<p>Task 1</p>

<p>Task 2</p>

<p>Sub Task 2.1 « Marked as done</p>

<p>Sub-Sub Task 2.1.1 « Marked as done</p>

<p>Sub Task 2.2</p>

<p>Sub Task 2.2</p>

<p>Task 3 « This is my most urgent task</p>

<p>I have upped the urgency on Task 3 to bring it to the top of the list and set a due date (the other tasks do not</p>

<p>have due dates) but it remains stubbornly below Sub-Tasks 2.2 and 2.3 in the To Do list. Task 2, Sub-task</p>

<p>2.2 and 2.3 all have normal Importance and Urgency settings</p>

<p>The urgency scores are:</p>

<p>Sub-Task 2.2 and 2.3 = 1.215506250</p>

<p>Task 3 = 1.109866205</p>

<p>Interestingly changing the Urgency slider on Task 3 does not alter the Urgency score for Task 3.</p>

<p>Am I not understanding something or is there a bug?</p>

<p>Help?</p>

<p>Richard</p>

<h3 id="artem-sukhoroslov">Artem Sukhoroslov</h3>

<p>unread,</p>

<p>Jun 7, 2007, 1:33:54 AM 6/7/07</p>

<p>to MyLifeOrganized</p>

<p>Hi, Richard</p>

<p>probably, your “project A” has “Complete subtasks in order” fuction</p>

<p>turned on… try to turn it off…</p>

<p>Or try to “play” with settings (Weight factors) of “Computed-score</p>

<p>priority”</p>

<p>Sincerely,</p>

<p>Artem.</p>

<h3 id="richard-collings-15">Richard Collings</h3>

<p>unread,</p>

<p>Jun 7, 2007, 5:50:00 PM 6/7/07</p>

<p>to myLifeO…@googlegroups.com</p>

<p>Hmmm - I think I know what is going on…</p>

<p>In my example:</p>

<blockquote>
  <p>Project A « Set as weekly goal</p>
</blockquote>

<blockquote>
  <p>Task 1</p>
</blockquote>

<blockquote>
  <p>Task 2</p>
</blockquote>

<blockquote>
  <p>Sub Task 2.1 « Marked as done</p>
</blockquote>

<blockquote>
  <p>Sub-Sub Task 2.1.1 « Marked as done</p>
</blockquote>

<blockquote>
  <p>Sub Task 2.2</p>
</blockquote>

<blockquote>
  <p>Sub Task 2.3</p>
</blockquote>

<blockquote>
  <p>Task 3 « This is my most urgent task</p>
</blockquote>

<p>I demoted Task 3 to become a peer of 2.1-2.3 and the urgency immediately went up.</p>

<p>My suspicion is that it is to with the following behaviour (from the Help file):</p>

<p>“Weekly Goal Weighting factors</p>

<p>If a task is marked as a weekly goal, then the urgency gets and extra boost. The weekly goal slider value</p>

<p>ranges from 0.02 – 6.00. This boost re-computes the urgency as: Computed actual urgency of p1 = (Prj1</p>

<p>urgency to outline) * ((p1 urgency to Prj1) + (WeelkyGoalSliderWeight/150)) “</p>

<p>If I have understood this correctly, if you mark a higher level task as a weekly goal, then its children get a</p>

<p>boost. However, this boost is then applied again to the next level down - and so on.</p>

<p>ie the more deeply nested children get bigger and bigger boosts as the results of being decendents of a task</p>

<p>marked as a Weekly Goal</p>

<p>At the moment, I cannot see the logic in this? Why should Task 3 (in my example above) have a lower</p>

<p>priority than Task 2.3 as a result of Project A beng a Weekly Goal.</p>

<p>Would it not be more sensible to apply the boost once to the immediate children but to not do this</p>

<p>recursively.</p>

<p>Or am I missing something.</p>

<p>Richard</p>

<h3 id="richard-collings-16">Richard Collings</h3>

<p>unread,</p>

<p>Jun 9, 2007, 9:21:00 AM 6/9/07</p>

<p>to myLifeO…@googlegroups.com</p>

<p>Hmmm - nobody?? This looks like a design flaw to me unless I am misunderstanding something. Anybody</p>

<p>care to comment as I am finding this a significant irritant.</p>

<p>To summarise: MLO boosts the urgency of tasks that are children of tasks that are marked as a Weekly</p>

<p>Goal. This is fine and makes sense.</p>

<p>However, it appears to apply the boost again to the children of those children (and again and again, etc).</p>

<p>This means that bottom level tasks (ie tasks that do not have any children) that are lower in the outline</p>

<p>receive much a bigger boost than higher level tasks.</p>

<p>This does not make sense to me - if you have broken down a larger task into sub-tasks, that does not</p>

<p>necessarily make those sub-tasks more urgent.</p>

<p>It would seem to me that that MLO should apply the urgency boost once to its immediate children of a task</p>

<p>marked as a Weekly Goal and not re-apply to each successive level. If I have understood the algorithm</p>

<p>correctly, the lower levels will inherit the boost from their parent anyway and do not need to be boosted</p>

<p>again.</p>

<p>Am I missing something here.</p>

<p>Richard</p>

<h3 id="timv-1">TimV</h3>

<p>unread,</p>

<p>Jun 9, 2007, 8:41:07 PM 6/9/07</p>

<p>to MyLifeOrganized</p>

<p>Richard,</p>

<blockquote>
  <p>The urgency scores are:</p>
</blockquote>

<blockquote>
  <p>Sub-Task 2.2 and 2.3 = 1.215506250</p>
</blockquote>

<blockquote>
  <p>Task 3 = 1.109866205</p>
</blockquote>

<p>Are you computing these scores, or are you somehow pulling them from</p>

<p>MLO?</p>

<blockquote>
  <p>Interestingly changing the Urgency slider on Task 3</p>
</blockquote>

<blockquote>
  <p>does not alter the Urgency score for Task 3.</p>
</blockquote>

<p>How do you know that it doesn’t? If you are correct about this, then</p>

<p>something seems amiss.</p>

<p>Tim</p>

<h3 id="j-mac">J-Mac</h3>

<p>unread,</p>

<p>Jun 9, 2007, 10:49:21 PM 6/9/07</p>

<p>to MyLifeOrganized</p>

<p>No, he’s not computing them! The program computes the priority and you</p>

<p>can see it in your task properties.</p>

<p>And he sees the behavior he describes for Task 3 because he knows to</p>

<p>look at the task priority in Properties after changing the position of</p>

<p>the urgency slider, of course.</p>

<p>Tim, you must either have your To-Do calculations set to hierarchal or</p>

<p>you haven’t read how MLO calculates task priorities in the computed</p>

<p>prioritization mode.</p>

<p>Richard: Yes, as you go further down the line with nested tasks, the</p>

<p>priority is increased with each level. Supposedly, when the algorithm</p>

<p>was changed recently, the logarithm that the prioritization is based</p>

<p>on was supposed to make the nesting increase very minimal for at least</p>

<p>20 levels. However I also have noticed that the increase from the top</p>

<p>level even just to the second and third levels seems to be much more</p>

<p>than I had thought it would be. I am seeing basically all of the</p>

<p>children tasks jumping ahead of anything on the top level. I’ve been</p>

<p>playing with the sliders to try and lessen that effect, but I haven’t</p>

<p>had much luck.</p>

<p>For one thing, try starting out the importance slider at the extreme</p>

<p>left, not the designated “Normal” position in the middle. Then adjust</p>

<p>importance up from there. See if that helps.IIRC, the fellow who</p>

<p>generates the algorithm for MLO mentioned this latest version was</p>

<p>meant to have the importance slider operate only to the left of</p>

<p>center, while the Urgency slider should be kept only to the right of</p>

<p>center.</p>

<p>Jim</p>

<h3 id="richard-collings-17">Richard Collings</h3>

<p>unread,</p>

<p>Jun 10, 2007, 5:58:00 AM 6/10/07</p>

<p>to myLifeO…@googlegroups.com</p>

<blockquote>
  <p>Richard: Yes, as you go further down the line with nested tasks, the</p>
</blockquote>

<blockquote>
  <p>priority is increased with each level.</p>
</blockquote>

<p>Phew - at least my diagnosis was correct</p>

<blockquote>
  <p>Supposedly, when the algorithm</p>
</blockquote>

<blockquote>
  <p>was changed recently, the logarithm that the prioritization is based</p>
</blockquote>

<blockquote>
  <p>on was supposed to make the nesting increase very minimal for at least</p>
</blockquote>

<blockquote>
  <p>20 levels. However I also have noticed that the increase from the top</p>
</blockquote>

<blockquote>
  <p>level even just to the second and third levels seems to be much more</p>
</blockquote>

<blockquote>
  <p>than I had thought it would be. I am seeing basically all of the</p>
</blockquote>

<blockquote>
  <p>children tasks jumping ahead of anything on the top level. I’ve been</p>
</blockquote>

<blockquote>
  <p>playing with the sliders to try and lessen that effect, but I haven’t</p>
</blockquote>

<blockquote>
  <p>had much luck.</p>
</blockquote>

<p>Which is exactly my experience - you can’t promote an aunt or uncle task higher in the ToDo list than one of</p>

<p>its neices or nephews (if you will forgive my analogy) even by setting the Urgency slider for the Uncle/Aunt to</p>

<p>max. This just seems wrong to me.</p>

<p>There is absolutely no reason (as far as I can see) for a lower level task to have a higher degree of urgency</p>

<p>than a higher level task.</p>

<blockquote>
  <p>For one thing, try starting out the importance slider at the extreme</p>
</blockquote>

<blockquote>
  <p>left, not the designated “Normal” position in the middle. Then adjust</p>
</blockquote>

<blockquote>
  <p>importance up from there. See if that helps.IIRC, the fellow who</p>
</blockquote>

<blockquote>
  <p>generates the algorithm for MLO mentioned this latest version was</p>
</blockquote>

<blockquote>
  <p>meant to have the importance slider operate only to the left of</p>
</blockquote>

<blockquote>
  <p>center, while the Urgency slider should be kept only to the right of</p>
</blockquote>

<blockquote>
  <p>center.</p>
</blockquote>

<p>Hmmm - this seems a bit daft to me. Why provide a facility and tell people to only use half of it?</p>

<p>It is possible to mitigate the effect of the boost, by adjusting the Weekly Goal Weight Factor to minimum in</p>

<p>the To Do Order options dialog. This sets the boost factor to 0.02 (I seem to remember reading in the Help</p>

<p>somewhere) but then one loses the benefit of what is a useful feature namely the overall boosting of tasks</p>

<p>that are Weekly Goals (and the children thereof)</p>

<p>Richard</p>

<h3 id="richard-collings-18">Richard Collings</h3>

<p>unread,</p>

<p>Jun 10, 2007, 5:58:00 AM 6/10/07</p>

<p>to myLifeO…@googlegroups.com</p>

<blockquote>
  <blockquote>
    <p>Interestingly changing the Urgency slider on Task 3</p>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <p>does not alter the Urgency score for Task 3.</p>
  </blockquote>
</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>How do you know that it doesn’t? If you are correct about this, then</p>
</blockquote>

<blockquote>
  <p>something seems amiss.</p>
</blockquote>

<p>It is possible that I am wrong in this respect. As Jim says in his post, I was looking at the Urgency scores in</p>

<p>the last section of the Tasks Properties. However, after making that post, I observed that the Urgency</p>

<p>scores do not get refreshed if you are in the Outline view - they only update when switching to the ToDo</p>

<p>view. So I am pretty certain that is the explanation for the scores not updating.</p>

<p>However, the original problem remains for me: that tasks that are descendants of a task flagged as a</p>

<p>weekly goal and which exist at lower levels in the outline hierarchy receive more boosts to their urgency than</p>

<p>tasks higher up in the hierarchy. This just does not make sense to me and is causing me significant</p>

<p>problems at the moment.</p>

<p>Richard</p>

<h3 id="steve-wynn-10">Steve Wynn</h3>

<p>unread,</p>

<p>Jun 10, 2007, 8:05:24 AM 6/10/07</p>

<p>to myLifeO…@googlegroups.com</p>

<p>Hi,</p>

<p>My understanding is this,</p>

<p>Project 1 (weekly goal)</p>

<table>
  <tbody>
    <tr>
      <td>__ Task 1</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>__ Task 2</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>__ Task 3</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>___ Task 4</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>__ Task 5</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>__ Task 6</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>___ Task 7</td>
    </tr>
  </tbody>
</table>

<p>Now Task 4 will always be a higher priority than Task 1. Mainly because it has the weekly goal set on it twice. Once for itself and once for its parent task. The only way you would get task 1 higher in the ToDo list is if you set the weekly goal on individual tasks. Such as Task 1 and Task 4. The priority score is basically a cumulative score. If the weekly goal is set on Project 1 the task at the top of the ToDo list will be Task 7, because it has the weekly goal x 3.</p>

<p>So personally I would use the Weekly Goal sparingly and not necessarily use it to define priority on a whole structure. If you utilize the normal priority scales then you achieve the desired effects. But any of the goals act as a supercharge to priority and have a cumulative effect.</p>

<p>All the best</p>

<p>Steve</p>

<h3 id="richard-collings-19">Richard Collings</h3>

<p>unread,</p>

<p>Jun 10, 2007, 8:22:00 AM 6/10/07</p>

<p>to myLifeO…@googlegroups.com</p>

<blockquote>
  <p>Now Task 4 will always be a higher priority than Task 1. Mainly because</p>
</blockquote>

<blockquote>
  <p>it has the weekly goal set on it twice. Once for itself and once for</p>
</blockquote>

<blockquote>
  <p>its parent task.</p>
</blockquote>

<p>OK - that confirms my understanding. But doesn’t answer the question of ‘Why do this?’.</p>

<p>If Project 1 is the weekly goal and I have broken this down into lots of sub-tasks (as recommended, as I</p>

<p>understand it by GTD) and some of these I have broken down more than others, then I want all the tasks</p>

<p>under Project 1 to receive the same boost because they are all contributing to delivery of the weekly goal. I</p>

<p>don’t want some to receive a bigger boost simply because they are lower in the hierarchy.</p>

<p>For me this remains a significant design flaw in the current MLO design (which I otherwise love).</p>

<p>Richard</p>

<h3 id="steve-wynn-11">Steve Wynn</h3>

<p>unread,</p>

<p>Jun 10, 2007, 9:43:41 AM 6/10/07</p>

<p>to myLifeO…@googlegroups.com</p>

<p>Hi Richard,</p>

<p>The weekly goal setting is a recursive boost, so the further down the Outline the more impact it has overall. You need to bear this in mind if you are using the Computerised Scoring method. You can compensate for this by artificial changes to the Outline to accommodate the boost factors, the way you group tasks etc.</p>

<p>If you wanted it the way you have suggested then you would need to switch to Hierarchical Priority. In this way if you had the same Outline</p>

<p>Project 1 (weekly goal)</p>

<table>
  <tbody>
    <tr>
      <td>_ Task 1</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>_ Task 2</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>_ Task 3</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>_ Task 4</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>_ Task 5</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>_ Task 6</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>_ Task 7</td>
    </tr>
  </tbody>
</table>

<p>You could set the Importance of Task 4 to be Low, which would then put Task 5 below Task 1, 2, 3. So you could set the importance on the parent items to move things around in the ToDo list. Likewise you would have task 7 at the top by default 2xweekly goal boost. But if you wanted it at the end then you can set the importance on Task 6 to be low. Want if higher than 5, then set the importance on 6 higher than 4 etc.</p>

<p>So if you want it as you describe you need to switch your priority method from Computerised scoring to Hierarchical.</p>

<p>Personally I wouldn’t tend to utilize the weekly goal on an entire structure, only on specific tasks or specific goals. Instead I would use the other priority factors to organize things in the ToDo list. Because it does have such a significant impact/recursive boost.</p>

<p>All the best</p>

<p>Steve</p>

<h3 id="richard-collings-20">Richard Collings</h3>

<p>unread,</p>

<p>Jun 10, 2007, 10:31:00 AM 6/10/07</p>

<p>to myLifeO…@googlegroups.com</p>

<blockquote>
  <p>The weekly goal setting is a recursive boost, so the further down the</p>
</blockquote>

<blockquote>
  <p>Outline the more impact it has overall. You need to bear this in mind</p>
</blockquote>

<blockquote>
  <p>if you are using the Computerised Scoring method. You can compensate</p>
</blockquote>

<blockquote>
  <p>for this by artificial changes to the Outline to accommodate the boost</p>
</blockquote>

<blockquote>
  <p>factors, the way you group tasks etc.</p>
</blockquote>

<p>We seem to be stuck in a bit of loop here, Steve. :-)</p>

<p>I understand that MLO recursively boosts tasks underneath a Weekly Goal using the Computersised Scoring</p>

<p>method such that lower level tests end up having a higher urgency than tasks higher up in the hierarchy.</p>

<p>What I don’t understand is why MLO does this. What is the business reason for this? Why should a lower</p>

<p>level task be automatically made more urgent than a higher level task.</p>

<p>To put it another way, if MLO (using the Computerised Scoring Method) just gave a one time boost to the</p>

<p>urgency of all tasks under a Weekly Goal (irrespectively of how far down the hierarchy they are located) so</p>

<p>that they all have the same higher level of urgency (assuming none of the sliders for the individual tasks</p>

<p>have been adjusted), what would be lost?</p>

<blockquote>
  <p>If you wanted it the way you have suggested then you would need to</p>
</blockquote>

<blockquote>
  <p>switch to Hierarchical Priority. In this way if you had the same Outline</p>
</blockquote>

<p>But I like the way that the Computerised Scoring method works in all other respects (and don’t want to</p>

<p>change). I just don’t understand why MLO is giving these lower level tasks an extra boost. Can you point to</p>

<p>something in GTD that says ‘The tasks that you have broken down into more detail are always more urgent</p>

<p>than the tasks that you have not broken down’</p>

<p>Richard</p>

<h3 id="steve-wynn-12">Steve Wynn</h3>

<p>unread,</p>

<p>Jun 10, 2007, 12:05:34 PM 6/10/07</p>

<p>to myLifeO…@googlegroups.com</p>

<p>Hi Richard,</p>

<p>I would say in essence that your are not using Goals as they are designed to be used. A goal is basically an outcome, that is normally specifically defined and measurable. Setting the Project as a weekly goal is really not a weekly goal. A weekly goal would be ‘Complete Project A by 15th June 2006’. The steps involved to achieving that goal, are not goals in themselves so in essence by tagging the top level of the Project as the weekly goal, you are defining all the subtasks as weekly goals. When they are not individual goals as such.</p>

<p>As far as GTD is concerned, then you are meant to have at least one defined next action for each ‘moving part’ of a project. But with regards to Goals that is when the altitude analogies start to come into play. You would think of Goals more at the 30,000, 40,000 feet level. My understanding of GTD is only actions you will be doing this week, or soon, should be on your ToDo/Next Action list. Now the weekly goal can be used to distinguish out of those multitude of tasks a specific task that requires extra attention, or is a weekly goal. But you wouldn’t really by design set this on a whole project. If you did then you would tend to utilize Complete Subtasks in order or some other method to define the specific steps to achieving the goal. According to GTD you can’t do a Project only the Next Action associated to a Project. So in essence if you have a Project that has no sub-projects then you should in theory really have only one Next Action. The Next Action required to move th</p>

<p>e Project forward. Your GTD Weekly Review is in essence when you decide what Project/Tasks are to be done in the following week. These get added to your context lists.</p>

<p>So with regards to the Weekly Goal is has two uses at the moment. As a real ‘weekly’ goal set on an individual task. Or as an artificial weekly goal which is used to boost/promote priority on something within the ToDo list. I would say if you are setting a weekly goal on a Project it is really an incorrect usage of how the goals should be used. So although it can be done, you will experience the results you have already seen. But in essence the Project is not a Goal as such, its a Project. The Goal is to complete the Project. So the steps involved with the Project are not Goals, only Tasks.</p>

<p>All the best</p>

<p>Steve</p>

<h3 id="j-mac-1">J-Mac</h3>

<p>unread,</p>

<p>Jun 10, 2007, 1:34:51 PM 6/10/07</p>

<p>to MyLifeOrganized</p>

<p>Hi Steve!</p>

<p>I agree generally with your explanation. Though I will admit that</p>

<p>even without using the Weekly goal feature, I am seeing a larger boost</p>

<p>in nested tasks than I expected to see. In the thread a few months</p>

<p>ago where Ratz described how and why the algorithm works as it does</p>

<p>(See this thread: <a href="http://tinyurl.com/3bgrbe">http://tinyurl.com/3bgrbe</a>), the revised algorithm</p>

<p>was supposedly tested by Ratz and supposedly showed a minimal score</p>

<p>boost for 20 iterations of nesting. However I recently decided to</p>

<p>eliminate a lot of the tasks in my outline that I may or may not do,</p>

<p>and definitely will not do in the near future. Sort of a cleaning in</p>

<p>order to only keep tasks I realistically plan to do in the foreseeable</p>

<p>future. I also reset the priority settings to default for ALL my</p>

<p>tasks. I felt that forces me to take a hard, careful look at each</p>

<p>task, project, etc. and reevaluate the importance and urgency of each.</p>

<p>Finally, I have removed virtually all dates, both Start and Due Dates.</p>

<p>I also re-read that entire thread about the priority algorithm: I</p>

<p>think you know that I cannot sit at my PC for very long at a time – I</p>

<p>actually printed out that entire thread to read it at my leisure,</p>

<p>whenever and wherever I could. And I did actually learn quite a bit</p>

<p>by doing that! One big thing I found was that Ratz hammered on the</p>

<p>fact that the revised algorithm would be best used by keeping the</p>

<p>Importance slider on the left of center, and the Urgency slider on the</p>

<p>right. I admit to being a bit confused as to why none of that is made</p>

<p>very clear in the Help files, though. Here is a quote by ratz that</p>

<p>describes the line uses. It is Post #92 in the thread linked above:</p>

<p>“…Ok I lied one last reply…..</p>

<p>We loose that key feature; by going with Centered Sliders; AND the</p>

<p>current implementation…..</p>

<p>However you get the behavior you want; by doing as eastside noted:</p>

<p>Only</p>

<p>move the importance slider to the left of center; and only move the</p>

<p>urgency slider to the right of center.</p>

<p>Frankly that’s how I would use it and I suspect many of the purists</p>

<p>will too; and we still get to cater to those with other desires. …”</p>

<p>Of course you’ll have to look at the thread to see what he is</p>

<p>responding to specifically. Also he mentions in a reply to a post by</p>

<p>you that there is virtually no arithmetical increase in priority due</p>

<p>to task nesting until after the 20th iteration of nesting. However I</p>

<p>am seeing pretty significant increases.</p>

<p>I must either have something still configured incorrectly, or I am</p>

<p>greatly misunderstanding the concept! :)</p>

<p>Jim</p>

<p>On Jun 10, 1:05 pm, “Steve Wynn” <a href="mailto:steve.w...@startupcomputer.com">steve.w...@startupcomputer.com</a></p>

<p>wrote:</p>

<h3 id="timv-2">TimV</h3>

<p>unread,</p>

<p>Jun 10, 2007, 3:06:58 PM 6/10/07</p>

<p>to MyLifeOrganized</p>

<p>Hi Jim!</p>

<blockquote>
  <p>Tim, you must either have your To-Do calculations set to hierarchal or</p>
</blockquote>

<blockquote>
  <p>you haven’t read how MLO calculates task priorities in the computed</p>
</blockquote>

<blockquote>
  <p>prioritization mode.</p>
</blockquote>

<p>I do use the Computed-Score Priority method, and I did read about the</p>

<p>algorithm. My real problem was that I did not have the “Show computed</p>

<p>score values on Task Statistics” option set. I saw these scores on my</p>

<p>PPC, but not on my desktop version. Turns out that on the PPC, these</p>

<p>are always ON, with no option to turn them off; while the desktop</p>

<p>gives the option, but defaults to OFF. To further confuse me, on the</p>

<p>desktop these are called “Computed Scores”, while on the PPC they are</p>

<p>called “Ordering Coefficients”, so I didn’t even realize at first that</p>

<p>they were one in the same.</p>

<p>Now that I am on the same page as the rest of you, I have noticed</p>

<p>another odd behavior. My Urgency Scores are not computing the same on</p>

<p>my desktop as they are on my PPC. The difference is very slight</p>

<p>(0.11% difference or less). My Importance Scores are an exact match</p>

<p>on both sides, only the Urgency Scores are different, so it’s not</p>

<p>likely to be in how the different platforms do the math. Actually, I</p>

<p>read somewhere that this is done with a lookup table, so there must be</p>

<p>some small difference in that table between the two platforms. Sounds</p>

<p>like no big deal – I just hope that my To-Do list never has a</p>

<p>different ordering of tasks between desktop and PPC.</p>

<p>Tim</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>Richard- Hide quoted text -</p>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <ul>
    <li>Show quoted text -</li>
  </ul>
</blockquote>

<h3 id="richard-c">Richard C</h3>

<p>unread,</p>

<p>Jun 11, 2007, 7:45:47 AM 6/11/07</p>

<p>to MyLifeOrganized</p>

<p>On Jun 10, 6:34 pm, J-Mac <a href="mailto:jcmcgo...@gmail.com">jcmcgo...@gmail.com</a> wrote:</p>

<blockquote>
  <p>Hi Steve!</p>
</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>I agree generally with your explanation. Though I will admit that</p>
</blockquote>

<blockquote>
  <p>even without using the Weekly goal feature, I am seeing a larger boost</p>
</blockquote>

<blockquote>
  <p>in nested tasks than I expected to see. In the thread a few months</p>
</blockquote>

<blockquote>
  <p>ago where Ratz described how and why the algorithm works as it does</p>
</blockquote>

<blockquote>
  <p>(See this thread:<a href="http://tinyurl.com/3bgrbe">http://tinyurl.com/3bgrbe</a>), the revised algorithm</p>
</blockquote>

<blockquote>
  <p>was supposedly tested by Ratz and supposedly showed a minimal score</p>
</blockquote>

<blockquote>
  <p>boost for 20 iterations of nesting.</p>
</blockquote>

<p>Thanks for that link, Jim - which I will read with interest. Just</p>

<p>looking through the first post, the poster makes exactly the same</p>

<p>point that I am making: namely that an algorithm that boost the</p>

<p>overall priority of a task, the lower it is in the outline hierarchy,</p>

<p>just does not make sense in the real world.</p>

<p>Given that that thread is quite old, can somebody confirm whether</p>

<p>there have been any changes to the algorithm since that discussion</p>

<p>took place.</p>

<p>Thanks</p>

<p>Richard</p>

<h3 id="steve-wynn-13">Steve Wynn</h3>

<p>unread,</p>

<p>Jun 11, 2007, 8:51:26 AM 6/11/07</p>

<p>to myLifeO…@googlegroups.com</p>

<p>Hi Richard,</p>

<p>Yes there were changes to the algorithm since that thread started. Basically Bob (Ratz) identified a bug in the algorithm that had been introduced and resolved it. There is still a rounding issue I believe with nested tasks if you take it more than 10 levels deep. But nothing that should significantly impact priority.</p>

<p>To understand more on the Priority Algorithm and how various factors have differing weight levels. Check out the Help Computed-Score Priority &gt; more details. It gives you examples of how the priority scores are calculated and what sort of weight factors things like Weekly Goal have on the overall calculation etc.</p>

<p>If you also check some of the posts in that thread supplied by Jim take particular notice of any posted by ‘ratz’, that is Bob the author of the priority algorithm.</p>

<h3 id="j-mac-2">J-Mac</h3>

<p>unread,</p>

<p>Jun 12, 2007, 1:05:53 AM 6/12/07</p>

<p>to MyLifeOrganized</p>

<p>Hi Steve.</p>

<p>Are you seeing any significant score boosts in nested tasks? For</p>

<p>example, I have a “holder” task/project with several tasks nested</p>

<p>beneath it, and no matter how I tried I could not get the top level</p>

<p>tasks to show a higher importance than the nested ones. Here’s what I</p>

<p>am seeing now in my recently reset outline:</p>

<p>Project (Holder task)</p>

<blockquote>
  <p>General task 1</p>
</blockquote>

<blockquote>
  <p>General task 2</p>
</blockquote>

<blockquote>
  <p>General task 3</p>
</blockquote>

<blockquote>
  <p>General task 4</p>
</blockquote>

<blockquote>
  <p>Documentation: (Holder task)</p>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <p>Company 1 (Holder task)</p>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <blockquote>
        <blockquote>
          <p>Enter all Company 1 items into database</p>
        </blockquote>
      </blockquote>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <blockquote>
        <blockquote>
          <p>Scan all Company 1 documents</p>
        </blockquote>
      </blockquote>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <blockquote>
        <blockquote>
          <p>Link scanned Company 1 documents to database fields</p>
        </blockquote>
      </blockquote>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <p>Company 2 (Holder task)</p>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <blockquote>
        <blockquote>
          <p>Enter all Company 2 items into database</p>
        </blockquote>
      </blockquote>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <blockquote>
        <blockquote>
          <p>Scan all Company 2 documents</p>
        </blockquote>
      </blockquote>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <blockquote>
        <blockquote>
          <p>Link scanned Company 2 documents to database fields</p>
        </blockquote>
      </blockquote>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <p>Company 3 (Holder task)</p>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <blockquote>
        <blockquote>
          <p>Enter all Company 3 items into database</p>
        </blockquote>
      </blockquote>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <blockquote>
        <blockquote>
          <p>Scan all Company 3 documents</p>
        </blockquote>
      </blockquote>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <blockquote>
        <blockquote>
          <p>Link scanned Company 3 documents to database fields</p>
        </blockquote>
      </blockquote>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <p>Company 4 (Holder task)</p>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <blockquote>
        <blockquote>
          <p>Enter all Company 4 items into database</p>
        </blockquote>
      </blockquote>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <blockquote>
        <blockquote>
          <p>Scan all Company 4 documents</p>
        </blockquote>
      </blockquote>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <blockquote>
        <blockquote>
          <p>Link scanned Company 4 documents to database fields</p>
        </blockquote>
      </blockquote>
    </blockquote>
  </blockquote>
</blockquote>

<p>Even setting the importance and urgency sliders to maximum on the four</p>

<p>general tasks and setting them to the lowest position on the nested</p>

<p>tasks results in a considerably higher overall score for the nested</p>

<p>tasks. I finally had to eliminate the holder tasks in order to get</p>

<p>the general tasks to score higher. Though that sure makes the outline</p>

<p>tougher to follow! No dates at all, and no Weekly goals set.</p>

<p>I had thought – mistakenly, apparently – that this latest algorithm</p>

<p>was to make that nesting increase in scoring negligible. You even</p>

<p>mentioned above that it shouldn’t have a significant impact. Are you</p>

<p>actually seeing that behavior? Or are you just repeating what you</p>

<p>understood from ratz’s explanations in that thread I linked to?</p>

<p>Thanks.</p>

<p>Jim</p>

<p>On Jun 11, 9:51 am, “Steve Wynn” <a href="mailto:steve.w...@startupcomputer.com">steve.w...@startupcomputer.com</a></p>

<p>wrote:</p>

<blockquote>
  <p>Hi Richard,</p>
</blockquote>

<blockquote>

</blockquote>

<h3 id="richard-collings-21">Richard Collings</h3>

<p>unread,</p>

<p>Jun 12, 2007, 3:08:00 AM 6/12/07</p>

<p>to myLifeO…@googlegroups.com</p>

<blockquote>
  <p>Even setting the importance and urgency sliders to maximum on the four</p>
</blockquote>

<blockquote>
  <p>general tasks and setting them to the lowest position on the nested</p>
</blockquote>

<blockquote>
  <p>tasks results in a considerably higher overall score for the nested</p>
</blockquote>

<blockquote>
  <p>tasks.</p>
</blockquote>

<p>This is precisely what I am complaining about. Is this ‘works as designed’ - in which case, what is the</p>

<p>rationae behind this behaviour. Or a fault.</p>

<blockquote>
  <p>I finally had to eliminate the holder tasks in order to get</p>
</blockquote>

<blockquote>
  <p>the general tasks to score higher.</p>
</blockquote>

<p>The other option is to create a holder task for the general activities.</p>

<blockquote>
  <p>Though that sure makes the outline</p>
</blockquote>

<blockquote>
  <p>tougher to follow!</p>
</blockquote>

<p>Er - yes. Slightly defeats the whole purpose of outlining.</p>

<p>Richard</p>

<h3 id="steve-wynn-14">Steve Wynn</h3>

<p>unread,</p>

<p>Jun 12, 2007, 7:50:52 AM 6/12/07</p>

<p>to myLifeO…@googlegroups.com</p>

<p>Hi Jim,</p>

<p>No I am not seeing any difference in the priority score of Nested Tasks.Though I must say as a whole I only tend to utilize the Urgency Slider for priority. Even though I order by Importance &amp; Urgency, I only tend to use Urgency as a gauge. In your example I could set any of the tasks higher than another just via the urgency slider. I leave the Importance setting to Normal for the most part on all items. Weekly Goal is set to Maximum Weighted value, Due Date is set 3/4 way, Start Date below half way.</p>

<p>I only tend to utilize the Importance setting if I want to promote an item far down in the hierarchy. But just checking my outline for all tasks that are nested, and haven’t had priority in any way tampered with, they are all set to 1.000000000. Even a Nested Task I set 30 levels down. There position in the ToDo list is more dictated by their position in the Outline and their Urgency value.</p>

<p>All the best</p>

<p>Steve</p>

<p><em>——-Original Message——-</em></p>

<h3 id="j-mac-3">J-Mac</h3>

<p>unread,</p>

<p>Jun 12, 2007, 11:09:33 PM 6/12/07</p>

<p>to MyLifeOrganized</p>

<p>Steve,</p>

<p>I’m curious: If I do not have any Weekly Goals assigned, nor any</p>

<p>Start nor Due Dates, do those settings still affect my priority</p>

<p>scores? IIRC, ratz says that the score is made up of several factors</p>

<p>and the settings sliders and task sliders that can be set by the user</p>

<p>only affect part of the calculation. True?</p>

<p>Thanks.</p>

<p>Jim</p>

<p>On Jun 12, 8:50 am, “Steve Wynn” <a href="mailto:steve.w...@startupcomputer.com">steve.w...@startupcomputer.com</a></p>

<blockquote>
  <p>…</p>
</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>read more »</p>
</blockquote>

<h3 id="steve-wynn-15">Steve Wynn</h3>

<p>unread,</p>

<p>Jun 13, 2007, 4:59:43 AM 6/13/07</p>

<p>to myLifeO…@googlegroups.com</p>

<p>Hi Jim,</p>

<p>If you don’t use Start Dates, Due Dates or Weekly Goals then I wouldn’t think the setting in these areas will make any difference. Only if you utilize one of those components. I wondered if completed items had an impact on overall priority, but just running a quick test they don’t appear to have any bearing once they are complete.</p>

<p>As far as my understanding of priority is concerned depth within the Outline plays a part. So the lower in the structure the lower in the ToDo list. But for example a Nested Task 10 levels deep, above a single task would still be higher in the ToDo list than the next single task. So its a sort of top down approach, even for nested tasks running various levels deep. So for example</p>

<p>Project 1</p>

<table>
  <tbody>
    <tr>
      <td>__ Task 1</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>__ Task 2</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>__Task 3</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>__ Task 4</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>___ Task 5</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>__ Task 6</td>
    </tr>
  </tbody>
</table>

<p>Task 5 will always be higher in the ToDo list than Task 6. Just because of its position in the Outline. In order to change this I would either need to place Task 6 above Task 2. Or modify the Urgency/Importance on Task 6. So the lower in the Outline the lower in the ToDo list. But the nested levels work on the same level, if that makes any sense.</p>

<h3 id="ratz-16">ratz</h3>

<p>unread,</p>

<p>Jul 3, 2007, 11:16:44 PM 7/3/07</p>

<p>to MyLifeOrganized</p>

<p>On Jun 10, 8:22 am, rcolli…@cix.co.uk (Richard Collings) wrote:</p>

<blockquote>
  <blockquote>
    <p>Now Task 4 will always be a higher priority than Task 1. Mainly because</p>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <p>it has the weekly goal set on it twice. Once for itself and once for</p>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <p>its parent task.</p>
  </blockquote>
</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>OK - that confirms my understanding. But doesn’t answer the question of ‘Why do this?’.</p>
</blockquote>

<blockquote>

</blockquote>

<p>The weekly goal is a turbo turbo turbo boaster because that’s how</p>

<p>Andrey likes it.</p>

<p>The weekly goal scale will quickly overwhelm all other calculations.</p>

<p>If the goal is to</p>

<p>get it done this week then the weekly goal setting will put it in your</p>

<p>face big time.</p>

<p>That’s the only logic for it; and I never argued about it.</p>

<p>Nothing more complicated than that.</p>

<h3 id="ratz-17">ratz</h3>

<p>unread,</p>

<p>Jul 3, 2007, 11:21:40 PM 7/3/07</p>

<p>to MyLifeOrganized</p>

<p>Hey J-Mac,</p>

<p>How deep are you nesting; we did “normalize” the values from the</p>

<p>pure curve so that they could be tied to a integery positioned slider</p>

<p>aka we had to fudge a little.</p>

<p>I would suspect your’d have to go more than 7 deep to see drift.</p>

<p>If you are see more drift I suspect you are seeing the effect of</p>

<p>dates.</p>

<p>Try using “importance” only mode just that will take dates out</p>

<p>of the equations; (or at least it’s suppose to)…. Urgency</p>

<p>decays over time importance does not so you might be seeing that</p>

<p>to.</p>

<p>If it’s off you because of urgency they you should be able to tweak</p>

<p>the weigh factors to get it the way you like. Unfortunately all this</p>

<p>flexibility means you gotten test and test then settle.</p>

<p>I know from your posts you’ve been thoroughly exploring; just</p>

<p>thought I’d give you the “authoritative answer”.</p>

<h3 id="ratz-18">ratz</h3>

<p>unread,</p>

<p>Jul 3, 2007, 11:23:02 PM 7/3/07</p>

<p>to MyLifeOrganized</p>

<p>PPC dates are every so slightly different than windows Date Variables;</p>

<p>I suspect that is the source of the rounding errors. But the variable</p>

<p>should be sutler</p>

<p>decreasing the due date “Weight factor” will help a little.</p>

<h3 id="ratz-19">ratz</h3>

<p>unread,</p>

<p>Jul 3, 2007, 11:27:35 PM 7/3/07</p>

<p>to MyLifeOrganized</p>

<p>You can also cc me on critical question. I only drop in once a month</p>

<p>to check on algorithm questions unless pinged. I’ve been off started a</p>

<p>franchised IT service firm; and I just can’t read this daily; but I do</p>

<p>every 30 days read all algorithm post. For the most part it’s been</p>

<p>quite on that front since the last bug fix. There are a couple of</p>

<p>things I’d like to fix; but they are GUI bound and not algorithm</p>

<p>bound;….. aka the algorithm already support it the gui can’t for key</p>

<p>reasons.</p>

<p>On Jun 11, 8:51 am, “Steve Wynn” <a href="mailto:steve.w...@startupcomputer.com">steve.w...@startupcomputer.com</a></p>

<p>wrote:</p>

<blockquote>
  <p>Hi Richard,</p>
</blockquote>

<blockquote>

</blockquote>

<h3 id="ratz-20">ratz</h3>

<p>unread,</p>

<p>Jul 3, 2007, 11:29:50 PM 7/3/07</p>

<p>to MyLifeOrganized</p>

<p>Sounds like the holder tasks either was: (a) a goal; -or- (b) had a</p>

<p>due date or was a child of a due date, that was more agreesive than</p>

<p>the compared tasks.</p>

<p>You can validate (b) by switching to importance only mode and</p>

<p>rechecking; as that mode doesn’t use dates.</p>

<p>Reply all</p>

<p>Reply to author</p>

<p>Forward</p>

<p>Title: Serious priority problems - Ratz please read</p>

<p>URL Source: https://groups.google.com/g/mylifeorganized/c/roSrECJniI4/m/XR8uHt1x3y8J</p>

<p>Markdown Content:
Groups
Conversations
All groups and messages
Sign in
MyLifeOrganized
Conversations
About
Privacy
 • 
Terms
Groups keyboard shortcuts have been updated
Dismiss
See shortcuts




Serious priority problems - Ratz please read
120 views
Skip to first unread message

eastside
unread,
Nov 3, 2006, 1:46:44 AM



to MyLifeOrganized
I think there are two serious problems with MLO that should be
addressed immediately. I’m not trying to be alarmist, but I am really
frustrated. I will say right from the start that I really like the
potential of this program and I am writing this long post to improve
the program, not just to rant. I want to use this program for a long
time and support it. I apologize for the length of this post, but I
really want to be clear on the problems here because I think they
threaten the central usefulness of the program.</p>

<p>Ratz, I am asking you to read this because I believe that you are the
key person to address these issues.</p>

<p>THE BACKGROUND: (you can skip if uninterested)</p>

<p>I am under a lot of pressure from numerous projects (I know, so are we
all). I realized that I needed to do a huge GTD clean-sweep and I just
spent 2 full days alone in a conference room using MLO to capture,
date, and rank 600+ tasks. I didn’t worry too much about the to-do list
order as I was doing this because I figured once I adjusted importance,
date, etc. the algorithm would rank things approximately properly,
ready for some tweaking. To my horror, things are so out of whack that
I almost wish I had not started with the program. I am a long-time
LifeBalance user who recently switched to MLO because of its potential
flexibility and the willingness of the developer to respond to
customers. I think MLO has huge potential but the priority algorithm is
the heart of the system and if it isn’t working properly the program
cannot work.</p>

<p>Here is how I want to use the program. I want to rank all tasks by
importance relative to their parent, so the program will rank the
ultimate importance of all tasks (that is, I want a computed-score
ranking, not what is called the hierarchical ranking). I honestly do
not understand why there is a separate slider for urgency. Urgency is
already captured in the start and due dates. I have already given my
reasoning here in a previous thread, but that thread seems to have
died:</p>

<p>http://groups-beta.google.com/group/myLifeOrganized/browse_thread/thread/5f45d3d704c72c72?tvc=2&amp;q=priority+algorithm</p>

<p>(If the link doesn’t work, it’s the post with the subject ‘priority
algorithm’)</p>

<p>THE FIRST PROBLEM:</p>

<p>This seems to be a clear bug. Tasks are given an importance and an
urgency. Importance (conceptually) has nothing to do with the due date.
Thus, the importance task statistic should not change at all if, in the
Options section, the tasks are ranked ‘by importance’ rather than ‘by
importance and urgency’.</p>

<p>In fact, due dates do change the importance ranking. Try this: create a
task with importance ‘normal’ with no due date. The importance is
.3333. Now, set due date for today. The importance is now .3564. (This
might not be apparent at first because there is another bug where the
task statistics don’t update until you switch views AND switch
tasks–so you have to click a different top tab and then select another
task, and then the original again.)</p>

<p>Now, set the due date a month ago. The importance changes to .5099! A
huge difference. But the date relates to URGENCY, not importance. If it
is unimportant for me to straighten a picture frame, it doesn’t
suddenly become more important just because I set a due date and the
date passed a month ago.</p>

<p>If I do not want to deal with urgency, then I should be able to choose
not to. Obviously, this is the point of having a setting for this
choice in the ordering options. But the setting is not doing what the
label suggests.</p>

<p>THE SECOND PROBLEM:</p>

<p>This is a conceptual problem that Ratz refers to in the above-linked
thread. In the help file re: computed-score priority it says that
importance goes from 0 to 1, and urgency goes from 1 to 2. This isn’t
the case. By changing the sliders, you can see that the minimum for
both importance and urgency is .0056 and the maximum is .6689. This
means the minimum total is .0089 and the maximum is 1.3356.</p>

<p>This creates HUGE problems for to-do task priority. Why? Because with
the current additive scheme, tasks are prioritized NOT by importance,
but overwhelmingly by how deep they are in the hierarchy. A task’s
depth in the hierachy is currently much more influential in its overall
placement in the list than either its importance or urgency. I hope you
agree that this makes absolutely no sense. The sheer number of
sub-tasks in a project should not make any individual task more or less
important.</p>

<p>Let me try to demonstrate the extent of the problem. Consider 2
projects, task 1.1 and task 2.1. Task 1.1 has a subtask, task 1.2. Task
1.2 has a subtask, 1.3, etc., like this:</p>

<p>Task 1.1
–task 1.2
—-task 1.3
——task 1.4
Task 2.1
–task 2.2</p>

<p>Let’s assume for simplicity’s sake that all tasks have the same
importance, ‘max’, and the same urgency, ‘normal’, and have no due
dates. By all logic, if you have a bunch of tasks and sub-tasks that
are all ‘max’ importance and ‘normal’ urgency, then 1.4 and 2.2 should
have the same task statistics. But they don’t. Task 2.2 has importance
1.333 and urgency 0.3333, and task 1.4 has importance 5.333 and urgency
.3333.</p>

<p>That’s weird enough by itself, but think about this: the difference
between ‘min’ and ‘max’ importance is only about .66. But because of
the difference in the number of sub-tasks, the difference between 1.4
and 2.2 is 4.0. In other words, having 2 more subtasks in a project is
about 8 times more influential on task ranking than the actual
importance ranking!</p>

<p>Let me give you a more real-world example, using the form (I=normal,
U=more) to indicate importance and urgency:</p>

<p>Task 1:
Smith account (I=less, U=normal)
–contact Smith about re-order (I=more, U=normal)
—look in catalog for relevant new products to offer Smith (I=more,
U=normal)
—-look at old Smith order to find what types of products he is
interested in (I=more, U=normal)
—–ask Jane to give me old Smith order (I=max, U=normal)
——find Jane’s phone number to call her (I=max, U=normal)</p>

<p>Task 2:
Heart medication (I=max, U=normal)
–call pharmacy to get heart medication refill (I=max, U=max)</p>

<p>Look at how these compare:</p>

<p>Find Jane’s phone number to call her: Importance - 2.2500, Urgency -
.3333, total - 2.5833
Call pharmacy to get heart medication refill: Importance - 1.3333,
Urgency - .6667, total - 2.0000</p>

<p>The first task will be ranked much higher than the second on your to-do
list. I hope you agree that this makes absolutely no sense! The Smith
account is overall not very important and the heart medicine is very
important.</p>

<p>A POSSIBLE SOLUTION:</p>

<p>I offer not a total solution but perhaps a significant step towards
one. Have only one slider–for importance. Min should be zero and max
should be 1. Importance should be a multiplicative function so you can
actually rank importance relative to parent and have it work.</p>

<p>But, if we don’t have an urgency slider, how do we capture the very
significant role of urgency in choosing what task to do and when?</p>

<p>My suggestion: urgency should be solely determined by start and due
dates. I would actually offer the user options here because people
think about start and due dates differently. The options are: start
date dominant, due date dominant, and overdue dominant.</p>

<p>Start date dominant: This is for people who set start date with the
idea, ‘I must absolutely start this task by the start date or I will
miss the due date.’ The day the task is entered, give it an urgency of</p>
<ol>
  <li>The task gets urgency in increments based on the number of days
until the start date. The max urgency is 1. So if you enter a task that
starts in 10 days, its urgency rises 0.1 every day, and its importance
is multiplied by that urgency to determine its ranked place on the
to-do list. If a task is sort of important (0.5), then 5 days from the
start date it is ranked based on the score (0.5 * 0.5 = 0.25). When the
start date arrives, it is listed at its maximum importance. It never
rises above this.</li>
</ol>

<p>Due date dominant: For people who think of ‘start date’ as ‘it would be
nice if I started this by this day but the due date is really
important’. The day the task is entered, give it an urgency of 0. The
same thing happens as start date but the daily urgency multiplier
continues to increase after the start date, giving an urgency
multiplier of more than 1. The task ranking score rises until the due
date and then stops rising.</p>

<p>For both of these, the ‘due date’ means ‘this task must be done by this
day, but its completion should not take priority over other more
important tasks–if it is not at the top of my list on the due date, I
should still do more important tasks first.’</p>

<p>Overdue dominant: Same as due date dominant, but the urgency never
stops rising. Eventually, even an only moderately important task will
rise to the top. This choice means, ‘it is very important that the task
be done at some point near the due date. The due date is when I should
do this task based on importance, but if I let it slip, this task
should start to take priority over other tasks that are (absent all
urgency) more important in my life.’</p>

<p>WHY THIS PROPOSED SOLUTION WORKS MUCH BETTER THAN THE CURRENT
ALGORITHM:</p>

<p>Rankings will capture both importance and urgency. Task importance can
be accurately set based on relation to parent, so the computer
determines the importance of any given task in the sea of the dozens of
tasks the user enters. The user doesn’t have to constantly think about
the ways that two sliders will interact with each other (which requires
doing mental math or just deciding where something should be in the
list and fiddling around until you get there). The settings will
initially require some tweaking, but once the larger categories are
accurately set, the program helps you accurately prioritize your tasks,
and you can think about tasks or projects just in relation to their
parent tasks, which is much easier than thinking about a task in
relation to your entire to-do list.</p>

<p>The depth of a task in the hierarchy will not mess up the ranking. Now,
at first it might seem that it would, because the importance is
multiplied and if it’s below 1 that will lower the importance of child
tasks. But practically, as you get more and more children tasks, if you
are accurately ranking child tasks in terms of importance to the
parent, then their ranking will get to max or near-max quickly. Look at
the Smith example. The overall project is not very important, but to
call Jane it is absolutely 100% necessary that I find her phone number.
This system will also keep tasks of important projects high enough to
be properly ranked (I don’t want to go through a detailed example but I
take it that you can see how this works).</p>

<p>People have flexibility on what they want to emphasize in terms of
urgency/due dates. In a sense, this system has a built-in ‘balance’
feature based on the way that people use the urgency system I propose.
If you use the ‘overdue’ system, and ignore something with a due date,
you are encouraged to do it more and more as time goes on. Users that
do not want to accurately rank importance relative to parent task can
still use a hierarchical ranking.</p>

<p>Whew! This took me a really long time to write but I feel strongly
about it and I want the program to work. I need a good program like
this to manage my projects. Please, please do something about this
ASAP, even if you don’t adopt my proposed solution.</p>

<p>berlingo
unread,
Nov 3, 2006, 10:27:10 PM



to MyLifeOrganized
I second this approach. I have worked with MLO for over a month now
(after having tried many alternatives) and like its flexibility and
capacity to handle several hundreds of tails, Still, the ranking
algorithm mystifies me and sometimes causes me to focus on the wrong
tusks. The proposed algorithm seems to be more straightforward. Would
need to prove its value in practice, or course. I hope it warrants a
try. I assume replacing the algorithm in itself should not be too
difficult. I do realize that it would change MLO’s behavior quite
dramatically, and that might be a problem…</p>

<p>Luciano Passuello
unread,
Nov 4, 2006, 1:40:51 PM



to myLifeO…@googlegroups.com
I second this approach also.
I am sorry the first thread died, as I think your points are very well put
and hit the nail on the algorithm issue. I agree 100% with everything you
say on the first thread and in this one.
I think that this functionality is in the heart of MLO and should be given
more attention.</p>

<p>Some comments:</p>

<ol>
  <li>
    <h1 id="due-date-and-start-date-changing-importance-ranking">Due date and start date changing importance ranking:</h1>
    <p>I noticed that this happens because of the Due Date and Start Date sliders
on the options (Tools-&gt;Options-&gt;To-do ordering options). Sliding them all
the way down doesn’t make them have null effect however - it still changes
the importance (in a lesser degree, but it does).
I agree this behavior is not a good one. The dates are indeed changing the
Importance score, something that shouldn’t have anything to do with it. It
should change the Urgency score, if any. Or at least have them have null
effect when the slider is all the way to the left.</p>
  </li>
  <li>
    <h1 id="nesting-problem">Nesting problem</h1>
    <p>This is a HUGE flaw. Now I realize why the ordering results are not in sync
with my intuition says it should be. As I mentioned in the other thread, I
create arbitrarily deep “grouping” nests of tasks. I figured that as long as
these grouping were neutral importance and urgency, they would not affect
anything. It seems I was wrong.</p>
  </li>
</ol>

<p>Nesting level independence is imperative (as I pointed several times in
other threads). IMO, this is the most important property the algorithm has
to have.</p>

<ol>
  <li>
    <h1 id="possible-solution">Possible Solution</h1>
    <p>I absolutely love the “Start date dominant, Due date dominant and overdue
dominant” idea! In case we adopt anything like that, we should make sure we
have good defaults for people that don’t want to mess with that. But for all
of us that really care about the automatic ordering, that fixes once and for
all the urgency confusion.</p>
  </li>
</ol>

<p>Regarding the multiplicative behavior, I remember discussing with Bob (a
loong time ago) that may be some issues with extreme cases on the
multiplication, but I’m sure we can work out the math details. The important
part really is to get the concepts right.</p>

<p>Thanks again to eastside for the completeness of the analysis. I think
his(?) solutions are very good and deserve a more through discussion, but I
would like the developers (Bob, Andrey) more actively involved to make sure
the thread won’t die again. I volunteer to test (or even develop) any
prototype that we feel necessary.</p>

<p>Best Regards.
Luciano.</p>

<p>—–Original Message—–
From: myLifeO…@googlegroups.com
[mailto:myLifeO…@googlegroups.com] On Behalf Of eastside</p>

<p>mfo…@gmail.com
unread,
Nov 4, 2006, 4:32:17 PM



to MyLifeOrganized
I agree 100% also.</p>

<p>I have had to stop using MLO for the time being because I simply cannot
trust the system. I spent a lot of time setting everything up and
setting importance and due dates on tasks, but the ToDo list simply
doesn’t show the correct tasks to do next in the correct order.</p>

<p>I have gone back to my old trusted system, which is simply a plain text
file which I can read anywhere and on any device. It isn’t so easy to
use (a lot of scrolling up and down - although I use NoteTabPro on my
PC and Laptop, and have set up “Clips” to do most of the drudge for
me), but at least I can trust it as much as I trust myself to keep it
up-to-date and reviewed.</p>

<p>I am keeping a close eye on MLO, because I do want to use it again. At
the moment I’m afraid I simply dare not trust it.</p>

<p>Best,
Martyn</p>

<p>J-Mac
unread,
Nov 4, 2006, 5:04:42 PM



to MyLifeOrganized
Great posts here in this thread. I now am beginning to realize the
cause of the problems I have been experiencing with my To-Do list in
MLO.</p>

<p>I have started using MLO primarily for its stated purpose - as a Task
Outliner - and not for To-Do items at all, since when I enter critical
tasks that I need to accomplish soon, they often do not show up on the
To-Do list at all, while other, less important and less urgent tasks do
show up there.</p>

<p>I realize that there are a few different philosophies used by MLO users
and therefore hard-coding one method of To-Do prioritization is unable
to accomodate all methods. But I think there is a certain amount of
flexibility that could be realized by offering user-configurable
options that would alter the way that tasks are prioritized.</p>

<p>Hopefully this kind of user-configurability (Is that even a word?!) can
be added to MLO in future releases.</p>

<p>Thanks,</p>

<p>Jim</p>

<p>Bob in LA
unread,
Nov 4, 2006, 9:33:57 PM



to MyLifeOrganized

Bob in LA
unread,
Nov 4, 2006, 9:35:21 PM



to MyLifeOrganized
Sorry for empty posting a second ago, I’m new to this tool.</p>

<p>I just wanted to to say that I too would really like to use the todo
generation function and see the value of accomodating the nesting level
anomoly. I hope this can be fixed.</p>

<p>
Steve Wynn
unread,
Nov 5, 2006, 2:58:15 PM



to myLifeO…@googlegroups.com
I have to say I am a little bit mystified with all of these posts on
priority issues. Not to say a little baffled by what people are expecting
from MLO? It is probably down to differences in working systems but from my
perspective things are tending to go a little overboard.</p>

<p>If I have 600+ tasks I wouldn’t waste my time trying to prioritize and order
them all, I would be working on them !! Take the ten most urgent and go from
there. MLO gives you all the tools you need to get those tasks into some
sort of workable order. The Outline with Projects, for planning. The
Places/Contexts for grouping your items. Goals for planning what you hope to
achieve. Importance/Urgency, dates, time required for tasks, complete
subtasks in order etc. All of the tools are there.</p>

<p>Having an exact ToDo list that is ordered based on miniscule changes to a
task priority seems way over the top to me. If you really look at
importance/urgency it boils down to one simple maxim. Either a task needs
doing or it doesn’t. Break it down further, either it needs doing today or
it doesn’t.</p>

<p>Oh my god, what would happen if you did a task out of sequence!!! Well
either that tasks needed doing or it didn’t, what does it matter. At least
the task is done. Surely with any system you have to leave it to your
intuition to some extent. You should base some of your priorities on how
you are feeling today, what your energy levels are like. Have you got enough
time to finish that task if you start it today. Factors like these come
into the equation which can not be entered into any sort of priority
algorithm.</p>

<p>Personally I wouldn’t worry too much about the priority algorithm. I would
take the time to utilise the benefits of MLO, start to break those long ToDo
lists down into small manageable lists. Group items via Place/Context. Not
worry too much about order and just do what feels right to do at the time,
based on what you know. When things are due, project deadlines etc. At the
end of the day regardless of order you can only really do one thing at a
time. As David Allen states with Projects, you can’t do a Project you can
only do the Next Action associated with a Project.</p>

<p>You can’t do 600+ tasks, you can only do the next one. Trying to make a
system dictate to you what that next task should be totally mystifies me.
You need to make that decision, because only you really know whether that
task should be next or not. Only you know if you have the time, how you are
feeling, if you have all the necessary resources to hand. The system can
only really give you options. That is how I would view it, a ToDo list of
possible options available to me. Not an ordered list that I need to
complete, in order. As long as my tasks are on the list…great. As long as
the ones giving me the most benefit are closer to the top of the list than
the bottom, great. The fact that task 4 needs doing before task 1 … I
have to make that choice.</p>

<p>For all of you having difficulties with priorities, I would look to your
working systems. I would adapt them to work with the system and not against
it. MLO has all the tools necessary to get a very good manageable working
system together if you don’t stress too much about task ordering!!</p>

<p>Regards</p>

<p>Steve</p>

<p>
eastside
unread,
Nov 5, 2006, 4:14:03 PM



to MyLifeOrganized
Hi Steve, we have had this discussion already in the other thread. I
think that rather than try to convince each other to change the way
that we approach the system, we should simply respect that different
people use it differently. For me (and many of the other people in this
thread) it is crucial that MLO rank tasks properly. Not perfectly, but
properly. I’ll explain to you why your suggestions don’t work for my
approach, but I don’t think there is too much point going back and
forth on whose approach makes the most sense.</p>

<blockquote>
  <p>If I have 600+ tasks I wouldn’t waste my time trying to prioritize and order
them all, I would be working on them !!</p>
</blockquote>

<p>If you had 600 tasks, it would be clear that you cannot work on all of
them at the same time. That is why prioritizing them correctly is so
important.</p>

<blockquote>
  <p>Take the ten most urgent and go from
there.</p>
</blockquote>

<p>On different days, different tasks are the most urgent. But sometimes,
a task does not become urgent until later, and that’s when you need it
to appear automatically at the top of your list. If I have something
very urgent that’s not going to happen for a month, I don’t want to
have to go over my entire 600 item task list every morning to see what
is most urgent for that day. That’s what MLO is supposed to do for me.
if it doesn’t, then I can’t trust the system.</p>

<blockquote>
  <p>MLO gives you all the tools you need to get those tasks into some
sort of workable order.</p>
</blockquote>

<p>If you look more carefully at the examples I gave above, you’ll see
that in fact it is not possible to get those tasks into a workable
order using the current sliders available in MLO. There is no way to
use the sliders, for example, to put “get heart medication” above “get
phone number”. If you have 600 tasks, “medication” won’t even be right
below “get phone number”. It will appear many tasks below it, perhaps
20 or 30 tasks below it. But “get heart medication” is extremely
important, and it needs to appear at the top of the list, not far down,
perhaps even off of the first screen. And if I don’t need to get heart
medication for a month, I need it to appear at the top of the list in
one month, without me having to look every single day at all my tasks
to determine whether an important task has suddenly become due.</p>

<blockquote>
  <p>Oh my god, what would happen if you did a task out of sequence!!!</p>
</blockquote>

<p>No need for sarcasm here. As you yourself have admitted, you’re not
mathematically inclined when it comes to setting priorities for the
task list. Well, many of us are. And there’s nothing wrong with that,
especially if you’re trying to deal with 600 tasks. I am not trying to
get a perfect priority setting with everything in the exact order. I’m
trying to get things so “get heart medication” appears within the top
30 or 40 tasks when I need to get it done that day.</p>

<blockquote>
  <p>Personally I wouldn’t worry too much about the priority algorithm. I would
take the time to utilise the benefits of MLO, start to break those long ToDo
lists down into small manageable lists.</p>
</blockquote>

<p>Perhaps it’s not obvious, but the reason I have 600 tasks is that I’ve
taken all of my many projects and broken them into lists of small
tasks. Maybe they’re not all manageable at the same time, but that’s
what happens when you have many priority projects at the same time.</p>

<blockquote>
  <p>Trying to make a
system dictate to you what that next task should be totally mystifies me.
You need to make that decision, because only you really know whether that
task should be next or not.</p>
</blockquote>

<p>I agree that intuition is an important part of it. But intuition should
be used to select what I need to do next out of the top 10 or 20 tasks.
It’s not viable to look at all 600 tasks every day and use my intuition
to select the most important ones. It seems clear to me, based on your
comments, that you use GTD to set only the top, most important tasks,
or else you simply don’t have that many different priority projects
going on at the same time. I’m not saying that you’re not a busy
person, or that I’m somehow better at GTD that you are, I’m just saying
that we are using the system for different types of things, and that’s
why we’re approaching it in different ways.</p>

<blockquote>
  <p>The fact that task 4 needs doing before task 1 … I
have to make that choice.</p>
</blockquote>

<p>I agree, but having to make the choice that task 35 is more important
than task 17, and task 41 is more important than task six, and doing
this dozens of times every day, is simply undermining the value of MLO
for many of us.</p>

<blockquote>
  <p>For all of you having difficulties with priorities, I would look to your
working systems. I would adapt them to work with the system and not against
it. MLO has all the tools necessary to get a very good manageable working
system together if you don’t stress too much about task ordering!!</p>
</blockquote>

<p>I have been successfully using GTD for several years . MLO is a tool
that would help me take GTD to the next level in terms of my efficiency
with just a few small tweaks to the prioritization method. I’m not sure
why you are resisting making these fixes that several people want,
because it’s certainly wouldn’t prevent you from using your intuition
to choose between tasks, and it would help those of us with many many
tasks to use the program more effectively.</p>

<p>I really hope the developers start contributing to this thread!</p>

<p>berlingo
unread,
Nov 5, 2006, 6:58:14 PM



to MyLifeOrganized
Again, I have to agree with Eastside. The mere fact that a ranking
algorithm is implemented at all is an indication that the developers
have seen the value of automated asssistance in filtering the task list
(around 400 in my case) down to the tasks that I could be doing (start
date, places and ‘open hours’ of places) and then further down to
ranking the tasks that need to get done. It is only the last part that
doesn’t seem to be working as I would expect.</p>

<p>There are workarounds in MLO, ofcourse. I’ve been using due dates and
the @hardlandscape and @quicklist places to mark the tasks that I want
to do on a specific date. But that is a manual process, and requires me
to go over my most of my action list at a daily basis. After all it is
often very hard to plan ahead, so my due dates are often only about
right. This practive is not fully in line with GTD. I’d prefer to use
due dates only to mark the tasks that I really NEED to do because I
have an external commitment. Everything else would get start dates
(don’t want to think about it before that date) but no due date. A
ranking algorithm based on priority should bring the most important
tasks to the top of my list.</p>

<p>If that algorithm would work well, I wouldn’t need as many due dates
and @hardlandscape tasks. I also probably wouldn’t need the weekly
goals, which I now use as a quick way to bring tasks to my attention.</p>

<p>I truly feel that MLO is NEARLY perfect for my way of working. But the
current ranking mechanism is both overcomplicated and -as Eastside puts
it- flawed (mostly because of the effect nesting has on ranking). I
have the feeling that the mechanisms proposed in this thread would
allow me to rely on automation and thus save me some time and have more
trust in the system all together.</p>

<p>Steve Wynn
unread,
Nov 5, 2006, 10:39:12 PM



to myLifeO…@googlegroups.com
We certainly have a different viewpoint on priorities. Lets face it what is priority? You are just really deciding what you are going to do and what you are not going to do. In other words, it easier to set a task to low priority than admit that you actually aren’t going to do it any time soon.
 
If you are dealing with a high volume of tasks, isn’t the priority really to make the decision not what the priority is, but whether things should be done at all?  Shouldn’t the priority be to cut back on the number of active projects, so that you fit your workload into the resources available.
 
How on earth can anybody realistically prioritize 600+ tasks? How many hours of work do those 600+ tasks equal? Surely some of those need to go on someday/maybe lists and not be shown at all in your ToDo list?
 
If I had 600+ tasks I think to be honest I would just declare a Backlog and concentrate on what was current. Using any free time available to work through the backlog.
 
From a GTD perspective I still don’t understand the argument, you mention about Get Heart Medication being extremely important and needs doing in a month but you can’t get it show in the right place in the ToDo list. Well surely this sort of thing is HardLandscape and as such should be flagged as HardLandscape/Tickler set with a due date and possibly a reminder, either in MLO or your Calendar. If it is not urgent or date specific, it goes on your @Errands list. To be done when you run your errands.
 
Again, from a GTD perspective what are we talking here? 100 + Single Step Actions, 500+ Projects? Or are we talking multiple next actions for Projects? Again if I had 600+ active Next Actions I would start to question whether I had really defined clear Next Actions?  I would also start to question the commitments I had made. If it did work out that I actually had 600+ active Next Actions, I would be creating Project Based Context Lists, anything to get my lists down to at least a page of manageable actions. Then really utilize the power of the Weekly Review to make sure I knew what was required for the following week, what I had possibly missed this week etc.
 
Surely the whole point of MLO having multiple ToDo/Action lists is so that you can break large lists down into smaller more manageable lists.  Perhaps the focus shouldn’t be necessarily on managing the priorities but more on managing the actual lists.  If your lists are manageable its easy to see if items are urgent and require attention.
 
As for resisting the changes, I don’t mind what changes are made. But I am just a little dumb founded that people are having such an issue with task ordering. So much so that they are switching to using plain text files !!!
 
Personally I think all of the tools are available already to get things in order, with regards to the ToDo list combined with the other views that are available within the Outline. But perhaps you just need a slightly different viewpoint on things? Where I think there is room from improvement is with regards to Filtering, Color Coding etc.
 
 
Regards
 
Steve
 
 
——-Original Message——-
 
From: eastside
Date: 05/11/2006 16:14:18
To: MyLifeOrganized
Subject: [MLO] Re: Serious priority problems - Ratz please read
 

eastside
unread,
Nov 6, 2006, 4:31:50 AM



to MyLifeOrganized</p>
<blockquote>
  <p>If you are dealing with a high volume of tasks, isn’t the priority really to
make the decision not what the priority is, but whether things should be</p>
</blockquote>

<blockquote>
  <p>done at all? … Surely some of those need to go on</p>
</blockquote>

<blockquote>
  <p>someday/maybe lists and not be shown at all in your ToDo list?</p>
</blockquote>

<p>Again, I think this is a matter of GTD style. It sounds to me as if you
use your someday/maybe list to keep track of items that you are not
planning to do in the next month or two. I use my someday/maybe list to
put items in that I’m thinking about, but I’m not mentally committed to
doing. It so happens that I’ve mentally committed to a number of things
that I don’t plan to get to in the next month or two. Putting these
things in my regular task list is essential to making me feel that I’ve
“cleared my head”.</p>

<blockquote>
  <p>If I had 600+ tasks I think to be honest I would just declare a Backlog and
concentrate on what was current. Using any free time available to work
through the backlog.</p>
</blockquote>

<p>This makes a lot of sense to me, but the truth is that I have a lot of
long-term projects that I want to make parallel progress on, and I only
have a few things each day that have absolutely hard landscape
deadlines. For me, there is not such a clear distinction between
current and “backlog” tasks. I don’t plan only one next action for each
project at a time. If I just turned in a book proposal, and I know that
once the reviews come back there will be a lot of tasks associated with
revisions, since I am thinking about the task right then I like to
spend 30 minutes writing down a host of next actions that I plan to
take, even if those actions are not to be taken for several months.</p>

<blockquote>
  <p>From a GTD perspective I still don’t understand the argument, you
mention</p>
</blockquote>

<blockquote>
  <p>about Get Heart Medication being extremely important…If it is not urgent or date specific, it goes on your</p>
</blockquote>

<blockquote>
  <p>@Errands list. To be done when you run your errands.</p>
</blockquote>

<p>Perhaps you have a more regular lifestyle than I do, but my errands
don’t all get done in the same block of time in a routine fashion. I
need to fit them in when I can, which is why I need the most important
ones to appear on top of my to do list.</p>

<blockquote>
  <p>If your lists are manageable its easy to see if
items are urgent and require attention.</p>
</blockquote>

<p>Again, I think this just points to the difference in our psychology in
our approach to getting things done. I tend to think in both a very
detailed and a very long-term fashion. If I don’t write down all of the
tasks that occur to me as they are occurring to me, I know that I’ll
try to keep some of them alive in my brain and I won’t be able to clear
my head. Frequently, I’ll think about some project that’s not due for a
month, and thinking about all of the specific tasks associated with
that project will cause me some anxiety if I don’t capture them in a
trusted system. I don’t think this has anything to do with managing
lists in improper way. I just don’t think my brain works in such a way
that the lists I make would seem manageable to you. They’re sometimes
unmanageable to me too, which is why I want MLO to help me prioritize
things.</p>

<p>I suspect that a lot of our disagreement here boils down to the fact
that we probably simply have very different lifestyles. Some with only
a few concurrent tasks will simply have to use MLO in a very different
manner than someone with many concurrent tasks, and having a lot of
concurrent tasks doesn’t mean that one plans badly, it may just be a
function of their job and lifestyle. Someone who travels a lot on very
short notice may have to use MLO in a very different way than someone
who has a more regular routine.</p>

<blockquote>
  <p>Personally I think all of the tools are available already to get things in
order, with regards to the ToDo list combined with the other views that are
available within the Outline. But perhaps you just need a slightly different
viewpoint on things? Where I think there is room from improvement is with
regards to Filtering, Color Coding etc.</p>
</blockquote>

<p>I’ve given a very detailed analysis above exactly why MLO does not
provide the tools to get things in order, because it does not separate
importance and urgency as it claims, and because nesting is
overwhelming the importance ranking. You seem to grant that the program
does the things that I’ve described, but you’re arguing that it’s okay
that it does those things because most of us are using GTD in a bad way
– a way that lists too many tasks. I don’t want to be too pointed
here, but it seems that most of your arguments boil down to “you guys
shouldn’t have so many tasks and you should use your intuition a lot
more”. Perhaps, rather than trying to get us all to use MLO in the way
that you do, you could respect that different people might use MLO
differently and that the program should be variable enough to satisfy
us all. Further, it doesn’t seem that you’ve given any reason at all
why the current prioritization algorithm is good– only that
prioritization in general is not very important.</p>

<p>I think that the last thing that you said finally explains why you have
been arguing against the types of suggestions I’ve made: you want the
developers to spend more time on things like filtering and color coding
rather than on prioritization. Its not an either/or, and changing the
prioritization algorithm is a relatively trivial task in terms of
programming (I believe). If the developers decide to do something like
color coding first, then MLO will remain all but unusable for many of
us. Color coding is a tweak, not a necessity.</p>

<p>berlingo
unread,
Nov 6, 2006, 9:50:39 AM



to MyLifeOrganized
I keep repeating myself: I must agree with Eastside. I have the exact
same way of planning my activities: dump my brain when I think of any
of my (many) activities. No matter whether that is an urgent, current
project, or something further in the future. I try to specify a lot of
next actions (often these can be marked as sequential tasks, but not
always). And then I want to forget about it all until my trusted system
brings it back to my attention. First line of defense against overload
is the start date, which I use extensively. But then the system should
kick in with a decent priority system.
Like Eastside I tend to work on a lot of activities in parallel. Have
to: I own a (small) consulting firm (12 consultants). I have projects
related to such various topics as Marketing, Sales, HRM,
Administration, Finance, Taxes. Most of those areas will have several
GTD projects (for example: in HRM I have at least 1 project per
employee). Then I still find time to do consulting myself, with -on
average- 2 clients. I do some interim-mangement type work, requiring me
to keep track of 3-6 projects per client. Combine this with my style
(dump next actions when they pop up in my mind) and you’ll understand
how I get easily to 400 tasks. Quite a lot of these are routine tasks
(monthly billing process, yearly financial closure). MLO handles these
nicely as recurring tasks. Good control via lead time too. Another
large category in my list is ‘@Waiting for’: I delegate a LOT of
activities, but of course need to keep track and follow up.
The current To-Do list in MLO is really more of a suggestion of what I
could be doing at a particular date or time. In itself that is not a
bad thing: I will always have to decide what I will do TODAY myself.
But a good prioritizing algortithm would go a long way in helping me to
find these activities and trust my system.
Then there are other requested features that would help, like color
coding, or the ability to quickly sort (and/or filter) the list
according to any of the taks properties. With my current reliance on
due dates I would love to be able to sort or filter on that. But I
explained in a previous post that I would rather not use due dates as
much as I do now: a good priority system would allow me to rely on
that.
Now, I would really like to see the developers to share there views on
this. I think the point made in this thread is clear enough. I agree
with Eastside that Steve provides no arguments to that point at all,
just at the need for wanting a better prioritizing algortithm. Although
I truly appreciate his effort (and of all other contribuants to this
forum) to share his insights and try to make MLO an even better tool.</p>

<p>srd
unread,
Nov 6, 2006, 10:19:28 AM



to MyLifeOrganized</p>

<p>Steve Wynn wrote:</p>
<blockquote>
  <p>We certainly have a different viewpoint on priorities. Lets face it what is
priority? You are just really deciding what you are going to do and what you
are not going to do. In other words, it easier to set a task to low priority
than admit that you actually aren’t going to do it any time soon.</p>

</blockquote>

<p>What scoring method do you use? From what you describe of your usage,
hierarchical scoring makes more sense, because it is more robust, and
you have no need for the fine-tuning. Maybe two “different uses” are
inherent in thi program’s alternatives.</p>

<p>Stephen Diamond</p>

<p>Steve Wynn
unread,
Nov 6, 2006, 3:00:58 PM



to myLifeO…@googlegroups.com
I agree to sort of disagree. Like I say I don’t mind what changes are made
and its not a case of I want to see development time spent on other things,
I don’t mind what is done. To be honest my personal preference is to show
completed items in the ToDo list, so that I can see what I have achieved on
any given day. I am still championing this request but it is not even being
considered, that is where I would like to see a change. But it isn’t going
to happen any time soon, so what option do you have but to adapt and
overcome that obstacle. Work with what is available.</p>

<p>All I suppose I am really trying to say in a long convoluted way, is what is
the point of working against the system as it stands? There are ways to do
things but differently to the way that many of you seem to have adopted. I
am not saying my way is better it probably isn’t, all I am saying is if
things don’t work as you expect perhaps you need to adapt things? In other
words if you work with the system as it stands, utilising some of the great
functionality that is available, there is no reason why you can’t get a
really good working system together. That perhaps has less bearing with
regards to priorities. In other words play to the strengths of MLO and not
to one of its weaknesses.</p>

<p>What if there isn’t going to be a change to the priority algorithm any time
soon? You mention MLO will be all but unusable for many of you! The point I
am trying to get across is it doesn’t have to be that way if you look to
adopt a slightly different approach. I am not saying everybody should do it
my way, all I am saying is adopt a system that fits with the software you
are using.</p>

<p>Coming back to the original post I am still totally against Urgency being
solely determined by date. Because as I mentioned in the previous thread
Urgency for some is not solely based on date. I still feel there should be
some indication of Urgency that is separate from Importance, even if that is
just a visual indication. Whether that’s one slider, ten sliders I don’t
mind. But Urgency being solely based on date would mean any Urgent task
would have to be dated, and as I have mentioned before I can have urgent
tasks that are not important etc. They are urgent but do not need to be done
by a specific date. If they do, then to me they are HardLandscape items, and
treated totally differently.</p>

<p>Surely one of the main concepts of GTD is not to overly utilise dates?
Treat the Calendar/dated items as sacred territory? Or have I again
misunderstood something? I thought the whole point was to get away from a
Daily ToDo list type of approach. What you mention in your original post
‘capture,date, and rank 600+ tasks’ almost seems a little to me like you are
moving back to that way of thinking! All urgent items dated etc… Then
again I may be wrong as I often am.</p>

<p>The priority algorithm may not be great, but the whole host of other useful
features within MLO can compensate to a degree depending on how you approach
things.</p>

<p>You mention Color Coding being a tweak and not a necessity, again I think it
depends on how you utilise the system. Personally, yes I would put Color
Coding and Advanced Filtering above changes to the priority algorithm,
because personally I would find them more useful than changes to the
priority algorithm. I could display a visual representation of priority or
urgency based on Color Coding ! With filtering I could just show urgent
tasks, weekly goals etc. Again though, I don’t mind what is done and in
which order.</p>

<p>Regards</p>

<p>Steve</p>

<p>—–Original Message—–
From: myLifeO…@googlegroups.com
[mailto:myLifeO…@googlegroups.com] On Behalf Of eastside
Sent: Monday, November 06, 2006 04:32
To: MyLifeOrganized
Subject: [MLO] Re: Serious priority problems - Ratz please read</p>

<p>
berlingo
unread,
Nov 6, 2006, 6:39:02 PM



to MyLifeOrganized</p>

<p>On Nov 6, 4:00 pm, “Steve Wynn” <a href="mailto:stephen_w...@tiscali.co.uk">stephen_w...@tiscali.co.uk</a> wrote:</p>

<blockquote>
  <p>In other words play to the strengths of MLO and not
to one of its weaknesses.</p>
</blockquote>

<p>I do.</p>

<blockquote>

  <p>What if there isn’t going to be a change to the priority algorithm any time
soon? You mention MLO will be all but unusable for many of you!</p>
</blockquote>

<p>I do not agree to that. MLO is a great program and very usable. Ever
the more a pity the priority algorithm does not do what I would expect.
I think it shouldn’t be too hard to make it do what is promised. So I
don’t have to work around it, and the prioritiy algorithm would become
another strong aspect (one I have not found in competitive products).</p>

<blockquote>

  <p>Coming back to the original post I am still totally against Urgency being
solely determined by date.</p>
</blockquote>

<p>I think I can agree to that.</p>

<blockquote>

  <p>Surely one of the main concepts of GTD is not to overly utilise dates?
Treat the Calendar/dated items as sacred territory?</p>
</blockquote>

<p>I totally agree to that. One of the reasons I am not fond of my current
work around to get things high on my list: set due dates…</p>

<blockquote>
  <p>The priority algorithm may not be great, but the whole host of other useful
features within MLO can compensate to a degree depending on how you approach
things.</p>
</blockquote>

<p>I agree, otherwise I wouldn’t be using MLO at all.</p>

<blockquote>
  <p>You mention Color Coding being a tweak and not a necessity, again I think it
depends on how you utilise the system. Personally, yes I would put Color
Coding and Advanced Filtering above changes to the priority algorithm,
because personally I would find them more useful than changes to the
priority algorithm.</p>
</blockquote>

<p>Color coding and -in particular- advanced filtering would provide
additional tools to cut my long list down to something manageable and
still not miss out on the most important tasks. I think I’d prefer to
have the priority algorithm fixed first, because of its current
unpredictability. But I would say it is up to the developers to define
the priorities.</p>

<p>eastside
unread,
Nov 6, 2006, 8:11:24 PM



to MyLifeOrganized
Steve, I think this is getting pretty simple. I understand that you are
trying to be helpful in suggesting that we work around MLO’s current
limitations. But apparently, you do not have that many tasks and thus
do not understand why many of us do. I need to wonder: how many tasks
do you have? How many parallel projects do you have? What is your
deepest task in the hierarchy? If you think we’re doing GTD wrong,
address the points I made above which I explain why I have so many
tasks. Tell me how I can feel like I’ve cleared my mind on my two dozen
projects without hundreds of tasks or just respect that different
people do things differently. With the way I think about tasks, it’s
not feasible for me to change to use MLO in a way that doesn’t require
good prioritization.</p>

<p>You don’t seem to offer any arguments that priority is being correctly
set; rather, your entire argument seems to be that priority is not very
important (or at least it’s not important enough to implement
correctly). The developers of the program obviously disagree because
they have numerous settings designed to set priority, even if it’s
currently done in a non-optimal way. I do try to use the other features
of MLO, which I like (and which is why I want the program to improve
this one element), but without prioritization set properly, I can’t
trust it, which is central to GTD.</p>

<blockquote>
  <p>All I suppose I am really trying to say in a long convoluted way, is what is
the point of working against the system as it stands?</p>
</blockquote>

<p>It seems like you’re basically saying, “MLO–love it or leave it.” But
think about the flip side–why can’t you work with a system that
doesn’t have color-coding? Why can’t you work with a system that
doesn’t show completed to-dos? Why should the program change to meet
YOUR requests, rather than you changing to meet its current structure?
Why should the program change to meet user needs? It’s simple–because
these changes would make users more efficient and let them use the
program better. To “love it or leave it” I say, “No–improve it.”
There’s nothing wrong with pushing for improvements, especially if (and
I made this point earlier) changing the priority algorithm would allow
both your approach and mine.</p>

<p>BOC
unread,
Nov 6, 2006, 8:34:52 PM



to MyLifeOrganized
I wanted to add another voice.</p>

<p>I agree with eastside &amp; berlingo.</p>

<p>srd
unread,
Nov 6, 2006, 9:59:52 PM



to MyLifeOrganized
eastside wrote:</p>
<blockquote>
  <p>It seems like you’re basically saying, “MLO–love it or leave it.” But
think about the flip side–why can’t you work with a system that
doesn’t have color-coding? Why can’t you work with a system that
doesn’t show completed to-dos? Why should the program change to meet
YOUR requests, rather than you changing to meet its current structure?
Why should the program change to meet user needs? It’s simple–because
these changes would make users more efficient and let them use the
program better. To “love it or leave it” I say, “No–improve it.”
There’s nothing wrong with pushing for improvements, especially if (and
I made this point earlier) changing the priority algorithm would allow
both your approach and mine.</p>
</blockquote>

<p>Actually, I think the algorithm is a lot more central than these
features. Someone who is using the program for other features is
probably using the wrong program. (Just my opinion, of course.)</p>

<p>Although many programs of course have color-coding and what not, I
count exactly three that offer a to-do list with a hierarchical
algorithm:MLO, LifeBalance, and Effexis Achieve Planner.</p>

<p>If Andre doesn’t object, it might be illuminating to discuss the
differences in the way they implement this kind of prioritization,</p>

<p>srd
unread,
Nov 6, 2006, 9:59:53 PM



to MyLifeOrganized
eastside wrote:</p>
<blockquote>
  <p>It seems like you’re basically saying, “MLO–love it or leave it.” But
think about the flip side–why can’t you work with a system that
doesn’t have color-coding? Why can’t you work with a system that
doesn’t show completed to-dos? Why should the program change to meet
YOUR requests, rather than you changing to meet its current structure?
Why should the program change to meet user needs? It’s simple–because
these changes would make users more efficient and let them use the
program better. To “love it or leave it” I say, “No–improve it.”
There’s nothing wrong with pushing for improvements, especially if (and
I made this point earlier) changing the priority algorithm would allow
both your approach and mine.</p>
</blockquote>

<p>Actually, I think the algorithm is a lot more central than these</p>

<p>
Leonard Presberg
unread,
Nov 6, 2006, 10:56:21 PM



to myLifeO…@googlegroups.com
Has anyone looked at Thinking Rock (http://www.thinkingrock.com.au)?</p>

<p>On first glance it really seems to focus on the process inbox/review
planning that I seem to have trouble with.</p>

<p>Leonard</p>

<p>Steve Wynn
unread,
Nov 6, 2006, 11:29:46 PM



to myLifeO…@googlegroups.com
I am not saying MLO love it or leave it. Can I work without Color Coding, yes. Can I work without showing completed ToDo’s, yes. Can I work with the current priority algorithm, yes. Why? Because I work with what the system gives me to work with, within the confines of the current system.  That is until changes are made, then I adapt my working system to accommodate the changes.
 
I am not saying don’t improve the priority algorithm, let me repeat that. I am not saying don’t improve the priority algorithm. What I am saying, and I will keep repeating this, don’t improve it with Urgency solely based on date as I do not agree with that argument at all. So in essence I do not agree with your proposed solution to the change of the priority algorithm.
 
Again my viewpoint of GTD is the use of dates should be kept to a minimum, so that things don’t start to look like Daily ToDo lists! By all means make changes to the priority algorithm, but personally I would still like some indication of Importance and Urgency, visual or otherwise. Your solution is not a solution that personally would work for me, we did have this discussion on the previous thread.
 
I don’t know if the current priority algorithm is working correctly or not? On face value is seems to work for me. But then again I am certainly not trying to prioritize 600+ tasks to the nth degree. I just concentrate on ends of the scale. All of my tasks are ranked Normal for Importance/Urgency, unless they have a good reason to be otherwise.
 
I run a small Business so I wear many hats.  Personally I have around 60 active parallel projects, approximately 150 tasks, around 30 of those are routine daily/weekly  items.  In total I have around 200 Projects, the majority of those are obviously someday/maybe and hidden from the ToDo list. I make it a point to clearly define the Next Action for a Project, that is the next physical action that needs to be done in order to move a Project forward. I don’t show all of the tasks related to a Project, unless there are sub-projects involved or items need to be included on other lists like @Waiting On. I make heavy use of Complete Subtasks in Order. Or I even adopt a Closed List manual approach. Deciding from one day to the next what are the best action choices for my current Projects which I do utilizing the various views that are available in the Outline.  I have still dumped out everything, but my main planning tool is the Outline.  The ToDo list is nothing more than a list of possible actions I can take, based on Time, Energy, Context and to a degree Priority. But obviously to a lesser degree than the other factors.
 
My priorities are constantly shifting and changing, to be honest I don’t see that I could ever get any system to manage things correctly. I have tried in the past, with things like Dynamic Scheduling. But to be honest what a system tells me to do, is not necessarily what I feel like doing. It might be the right thing to do based on all the relevant factors but a system can’t take into account how I am feeling, what my energy levels are like etc. To me there are are too many external factors from one day to the next.  If I prioritized all of my tasks, it would only take one bad day and everything would be thrown out of whack. In fact I would probably spend all of my time just tweaking priorities rather than doing any real work. I prefer as mentioned to rely heavily on my own judgement/intuition as the core of my prioritization method.
 
So in summary, I don’t agree with your proposed solution. I certainly don’t think it necessarily fits with a GTD implementation. I personally would still like some indication of both Importance and Urgency, visual or otherwise.  I don’t mind what changes are made, or in what order.  I do think there should be some thought about adapting systems to fit the software, at least for the time being until the relevant changes are made. I still think there are ways within MLO to workaround priority issues, again at least for the time being.
 
Regards
 
Steve
 
 
 
——-Original Message——-
 
From: eastside
Date: 11/06/06 20:11:40
To: MyLifeOrganized
Subject: [MLO] Re: Serious priority problems - Ratz please read
 

eastside
unread,
Nov 7, 2006, 2:07:52 AM



to MyLifeOrganized</p>
<blockquote>
  <p>I am not saying don’t improve the priority algorithm, let me repeat that. I
am not saying don’t improve the priority algorithm. What I am saying, and I
will keep repeating this, don’t improve it with Urgency solely based on date
as I do not agree with that argument at all. So in essence I do not agree
with your proposed solution to the change of the priority algorithm.</p>
</blockquote>

<p>I suggested only one slider, and you don’t like that. What about the
other part? Are you against having the sliders from 0 to 1 and having
them multiplicative? If not, at least we agree on that part. If so,
please tell us why.</p>

<p>I think the major reasons you don’t mind the issue of task order are
(1) you use the outliner as your daily task list rather than using the
to-do list as I (and others) do, and (2) you primarily use ‘complete
tasks in order’ rather than nesting. If you made heavy use of nesting,
you would see the magnitude of the problem. Finally, based on forum
comments, it’s not clear to me that others feel as you do on the
urgency issue. We should not have a vocal majority of one decide the
input selectors.</p>

<p>Eastside</p>

<p>drosene
unread,
Nov 7, 2006, 4:40:16 AM



to MyLifeOrganized
A comment from a new user. I have been looking for a product like MLO
off and on for a long time. I only recently downloaded the product and
have begun to load my existing projects, tasks and activities. Today I
stumbled on this forum and after reading this post hope that I am not
wasting my time! I too looked forward to an intelligently organized
ToDo List as a byproduct of my initial data entry. I couldn’t wait to
see how it reduced the time I currently spend each day reviewing
“priorities”.</p>

<p>I have just one question. How responsive have the developers been over
time to true issues raised with the product? I’m talking about bugs,
not about enhancements or the philosophy of product usage.</p>

<p>MLO s states on its home page: “The To-Do list with actions that
require immediate attention will be generated. This list of next
actions will be sorted in order of priority to keep you focused on the
most important tasks.” Based on my reading of this thread, that
statement is not correct, primarily due to a bug in an algorithm. I
only want to know when it will be fixed. I guess thats a second
question, so here is my last. Is this forum the best or only place to
raise this issue?</p>

<p>Steve Wynn
unread,
Nov 7, 2006, 5:30:37 AM



to myLifeO…@googlegroups.com
Thread, and my current argument aside.
 
I would say the Developers are excellent and quick with regards to resolving any real bugs that are found in MLO. First class in my opinion.
 
With regards to this particular thread, I wouldn’t read too much into this at the moment.  Things for some people are not working as expected, for others things are working fine. Its sort of an ongoing discussion to thrash out the issues and different points of view. We are really looking at probably more of a functionality change than the fixing of a bug as such.
 
This forum is the best place to post any questions, issues, bugs etc. First port of call really. If we can help with anything we will, but the Developers do review it regularly and answer any specific questions or questions we can’t answer.  
 
Regards
 
Steve
 
 
 
——-Original Message——-
 
From: drosene
Date: 07/11/2006 04:40:31
To: MyLifeOrganized
Subject: [MLO] Re: Serious priority problems - Ratz please read
 

Steve Wynn
unread,
Nov 7, 2006, 7:15:54 AM



to myLifeO…@googlegroups.com
Eastside. When I said I use the Outline to decide on my best action choices for my current projects, that doesn’t mean I use the Outline as a Task list. I use the Outline for planning. I plan in the Outline so I have the relevant Next Actions in my ToDo list. Plan probably being the operative word here. I work from my ToDo list, based on the decisions I have made in my planning stage. Yes, more often than not I do review my plan daily, but that doesn’t mean it is a Daily Task List. Its a plan.  That’s the way I view it, plan in the Outline then work in the ToDo list.
 
To me the utilization of Complete Subtasks in Order, makes more sense than say Nesting. No point having a plan if half of my items are buried so far down I don’t know of their existence. I can achieve the same concept as Nesting using Complete Subtasks in Order and to me its a lot cleaner in general overall appearance. Then again that’s just a matter of preference. If I was using Nesting that wouldn’t make a difference to my system.
 
As for the sliders etc, yes I am against the majority (probably all) of what you have said in your proposed solution. Because again the majority of what you are saying is date based. Start Dates, Due Dates, To me it sounds like all that is being offered is a priority/urgency system based heavily on date. Either Start or Due. ‘Urgency rises 0.1 every day until the Start Date, when it is given maximum importance’.
 
‘My suggestion: urgency should be solely determined by start and due</p>

<p>dates. I would actually offer the user options here because people
think about start and due dates differently. The options are: start</p>

<p>date dominant, due date dominant, and overdue dominant. ‘
 
So where do undated items fit into this whole thing, where does Urgency have a bearing on any undated items? It obviously doesn’t. With your system I can’t have items that are not important but Urgent. With your system I have to date any task that is Urgent. My argument is still that Urgency should not solely be determined by date. For me to be agreeable to any proposed changes, those changes would have to accommodate undated items in the same vain as dated items. I don’t want to date a lot items, it doesn’t fit with my system and from my understanding doesn’t fit with GTD.
 
Again, coming back to my GTD argument how come you are using, or want to use, all of these dates?  To me it sounds like what you are really after is a Daily ToDo list. Especially if the majority of your Next Action list is going to be ordered or based around a priority/urgency system that is influenced by the most part on date. That doesn’t sound very GTD’ish to me. Your solution sounds fine to me if I wanted a Daily ToDo list, but I don’t.  Again I thought the whole point of GTD was to get away from this type of thing.
 
I can understand for some that a Daily ToDo list is exactly what they are after, because that is the way they work. In which case your solution sounds great. But please explain how does your proposed solution fit with GTD?
 
‘We should not have a vocal majority of one decide the input selectors.’ I agree, but then again I am not deciding anything because it is not my decision to make. I am just putting across an argument that I just don’t agree with your proposed solution. Obviously there are people that do agree with you proposed solution. That still doesn’t change the fact that I don’t agree. Nothing you have said so far gives me reason to change my opinion. So as it stands I will remain a vocal majority, sorry minority, of one :o)
 
Regards
 
Steve
 
 
——-Original Message——-
 
From: eastside
Date: 07/11/2006 02:08:08
To: MyLifeOrganized
Subject: [MLO] Re: Serious priority problems - Ratz please read
 

phil reaston
unread,
Nov 7, 2006, 4:28:28 PM



to myLifeO…@googlegroups.com
I’ve been following this thread with interest. I don’t normally post, but it seems to me that if we’re getting to “vocal majorities” I should stand up and be counted.  I find I’m absolutely in agreement with Steve’s comments. I have a manageable to do list and many projects on a someday list. I look at the someday items every week in my review. I don’t need to see them every day. If everything showed up in my to do list I feel I’ve kind of defeated the idea of getting stuff out of my mind and into a repository. Surely the idea behind this is to stop you thinking of everything at once and concentrating work on things you can do. Also, I decide what I’m going to do next, not the order in the to do list. As Steve pointed out in one post, what I do is not just decided by order in a list, but by my energy level etc etc.</p>

<p>So count me in to your minority of one Steve - sorry, minority of at least two now :-)</p>

<p>Thanks</p>

<p>Phil Reaston</p>

<p>
Martyn
unread,
Nov 7, 2006, 5:24:38 PM



to MyLifeOrganized
Steve and Phil,</p>

<p>You may be slightly missing the point :)</p>

<p>It doesn’t matter whether you have 60 or 6000 tasks, the point that the
vocal majority is making (and I hope I am understanding this right) is
that the algorithm that sorts the tasks on the ToDo list isn’t quite
working properly.</p>

<p>I agree with Steve that Start and Due dates are not a part of David
Allen’s idea of GTD, but for some of us it is helpful to use them. I
believe David Allen says that his GTD methods are a starting point and
that each person will adapt the system to his particular circumstances.
For MLO to be a reliable system, its algorithm needs to work properly
so that tasks are not missed because they are buried in the middle of
the ToDo list, whereas the task would be near the top if the program
was working as advertised.</p>

<p>Furthermore, some of us spend a lot of time setting the relative
Importance and other settings for tasks so that they will appear on the
ToDo list at the right time and in the right order. I believe that MLO
is designed to do much of the daily decision making, list reviewing,
sequencing Next Actions, etc if the user has set things up to work that
way. I expect to be able to mark and item as Done in the ToDo list and
for the best Next Action to appear at the top of the list depending on
which Places (Contexts) or Date or Time Available that I have set for
the filters. At the moment this does not happen reliably.</p>

<p>However, having said all that, Steve’s comments have made me look again
at how I use MLO, and I have been able to make one or two improvements
to my thought processes which help a bit.</p>

<p>Thanks to everyone for this thread.</p>

<p>Replying to Leonard re ThinkingRock:</p>

<p>I have tried this program out over the last few days. I quite like it,
particularly its relative (to MLO) simplicity. However, it is not up to
the challenge of my fairly complicated working day, so I am not able to
continue using it. One useful thing I got from it was a more useful
method (to me at least) of organising Projects, Sub-projects and Next
Actions. I have never found the GTD concepts of Projects very
intuitive, though that is probably to do with me and how my mind works
than with the concept itself. The thing that helped me the most was the
Demo on “How to plan and review your projects” at
http://www.thinkingrock.com.au/demos.php. If anyone else has problems
with projects, this may help you too. The other demos are also worth a
look.</p>

<p>All the best,
Martyn</p>

<p>Steve Wynn
unread,
Nov 7, 2006, 9:13:36 PM



to myLifeO…@googlegroups.com
Thanks Phil,
 
Steve</p>

<p>From: myLifeO…@googlegroups.com [mailto:myLifeO…@googlegroups.com] On Behalf Of phil reaston
Sent: Tuesday, November 07, 2006 16:28
To: myLifeO…@googlegroups.com


MLOSus
unread,
Nov 7, 2006, 9:38:28 PM



to MyLifeOrganized
phil reaston wrote:</p>

<blockquote>

  <p>So count me in to your minority of one Steve - sorry, minority of at least
two now :-)</p>

</blockquote>

<p>At least three ;-)
Susanne</p>

<p>Steve Wynn
unread,
Nov 7, 2006, 9:57:04 PM



to myLifeO…@googlegroups.com
Hi Martyn,</p>

<p>I do understand the point. If there is a problem there needs to be a
solution, I just don’t agree that the excessive use of dates should be part
of that solution. I agree dates should have a bearing overall, but not be
used as a sole indicator of urgency. I agree from a GTD perspective you
adapt and modify the system to suit your own requirements, but I think a
strong point that was made more than once is ‘No more Daily ToDo lists’.
Any excessive use of dates would surely create nothing more than a Daily
ToDo list! Smacks to me a little more in the realms of MLO becoming a Task
Scheduler, not a Task Outliner with a ToDo/Next Action list. Because to an
extent isn’t that would I have to do in order to establish any urgency?
Schedule tasks? To my way of thinking it seems very far removed from my
overall understanding of GTD as whole.</p>

<p>Perhaps it has something to do with expectations? I can use the current
priority algorithm and things appear to work to me as expected. If I order
by just Importance, my most important tasks flag at the top of the list. If
I order by Urgency, my most Urgent tasks flag at the top of the list. If I
order by Importance/Urgency my most important/urgent tasks flag to the top
of the list. Or if the settings are somewhere in between, they roughly
appear where I would expect. Again if I weight factors such as Weekly Goal,
those appear at the top. But then I am not prioritizing each and every task.
I am not using excessively long ToDo lists. So ordering as a whole obviously
lacks the importance to me that others place on it.</p>

<p>To be honest, I really do doubt whether any sort of priority algorithm would
work to the degree expected. Especially if you need to prioritise each and
every task. To me if that is the case then there probably needs to be a much
more simplified solution other than an algorithm. Perhaps an A1, A2, A3, B1,
B2, B3, C1 etc type of priority allocation. Where each task in the ToDo list
has some sort of unique identifier to set its overall priority. If you can
only have one A1 task, one B1 task there can’t be any doubt as to which is
the most important/urgent. You could rank those in a similar vain A1 most
important/urgent, B1 important/not urgent, C1 urgent/not important , D1
Normal etc etc. At least then people could decide on which allocation to
utilize to suit there system. Yes its old hat, yes its contrary to an extent
to GTD. But considering dated/calendar/hardlandscape items are to be treated
as sacred territory within GTD at least it offers a possible dateless
solution. Then the sorting of the ToDo list would be quite simple A1 before
A2, A2 before B1 etc. But, I doubt very much whether such a simplified
solution is what people are after.</p>

<p>Regards</p>

<p>Steve</p>

<p>—–Original Message—–
From: myLifeO…@googlegroups.com
[mailto:myLifeO…@googlegroups.com] On Behalf Of Martyn
Sent: Tuesday, November 07, 2006 17:25
To: MyLifeOrganized
Subject: [MLO] Re: Serious priority problems - Ratz please read</p>

<p>
berlingo
unread,
Nov 7, 2006, 11:23:58 PM



to MyLifeOrganized
It appears this thread is not converging on a any single point of view.
But why should that be the case? The program support different
approaches to task management already, and actually advertizes that as
a strength (rightfully so).</p>

<p>If I try to wrap up the discussion so far I would say:</p>

<ul>
  <li>Eastside is right with his initial analysis that the current priority
algorithm doesn’t behave as could be expected:
    <ol>
      <li>the importancy should not depend on due date, and</li>
      <li>(for me more serious) the importancy should not depend on nesting.
I do not see Steve or anybody else argue that this analysis is flawed.</li>
    </ol>
  </li>
  <li>
    <p>Steve (and others support his views) argues that you shouldn’t be
bothered with these flaws. I would say: well, I am. And so are others.
Just have it fixed and we can go on with our lives, getting things done
:-)</p>
  </li>
  <li>Now the other argument is on the Eastside’s proposal on HOW it should
be fixed. He proposes two things:</li>
</ul>

<ol>
  <li>
    <p>a different mathematical formula to solve the nesting prolem
(problem #2). I think his reasoning is sound. I think it would require
the default importance level to be ‘1’ (max). Otherwise you would have
all tasks that are nested deeply. (Suppose the default would be 0.5.
Any child tasks would have only half the global priority level of its
parent in a multiplicative algorithm). It kind of makes sense to me
that by default all tasks are equally important to its parent, and then
a max value is as good a default as any other. So that is a good
solution. Of course this simple formula would also fix the first
problem, because now the importance is disconnected from due dates. I
do not see ANY argument in the thread why this should not be
implemented.</p>
  </li>
  <li>
    <p>an urgency system thightly linked to start and due dates, that
defines the overall prioritity when mathematically combined with the
new importancy algorithm. This is where I think Eastside proposes a
solution that indeed relies much more on tying tasks down to dates then
I would like. Like I mentioned earlier I do like to use start dates,
but mainly to push future tasks that are currently not very important
to me off my to do list. And I do use end dates, but would like them
more in the GTD fashion: hard commitments. For everything else I do not
really think I would require any type of urgency settting. Not when I
have a flagging system to quickly mark weekly (and maybe as a new
future daily?) goals. Colors and icons, and some preference slider on
the impact that weekly (daily) goals have on the ranking would do the
rest. That is for me much more intuitive than working with artificial
places like @hardlandscape. And much less work (and re-work) than
setting (and re-setting) due dates. So maybe that puts me on Steve’s
side?
The point is: apparently views DO differ on the way urgency should be
expressed. I do not see a reason why the current slider could not
remain (although maybe the mathematical routines should be re-assessed)
and Eastside’s suggestions could be implemented as well…. Then throw
in my ‘Daily goal’ when we are at it….
For easy of use it would probably require good documentation on the
different approaches to urgency, and the ability to select the
preferred controls as an option. Although I can understand and
appreciate each of the suggested approaches I can not see that anybody
would use all methods at the same time as part of his/her trusted
system. You would probably ALWAYS want to use start and due dates to
some extend for the hard landscape stuff. But both goals and slider
would be optional?</p>
  </li>
</ol>

<p>Anyway, I think the amount of activity in this thread does prove that
the prioritiy algorithm attracts quite some attention. Even passionate
attention. As if we all do not have a lot of things to do… :-)
Anyway, it proves to me that it is also worth some re-evaluation by the
developers. Would love to see some comments from their side.</p>

<p>Berlingo</p>

<p>eastside
unread,
Nov 8, 2006, 7:44:50 AM



to MyLifeOrganized
Thanks to Berlingo for summarizing the thread so far. These things tend
to spin out of control, and I think it’s really important to try to see
where we agree and disagree. This is especially true in a thread where
people make many points. When someone says, ‘I agree with Joe,’ it’s
usually not clear what part of what Joe said that they are actually
agreeing with. :)</p>

<p>I’ll also say that this thread has also made me think harder about my
use of GTD, so that’s helpful in itself.</p>

<p>It seems clear that people disagree on these things:
–Whether there should be a slider for urgency or not. (this is the big
one)
–How much you should use due dates when setting GTD tasks.
–How important it is to get tasks ordered in the right way.
–Whether you should nest tasks or use ‘complete tasks in order’</p>

<p>But before we get even more tangled up in this, can we establish that
we agree on these things?
–MLO should not change importance based on due dates
–MLO should not add the importance of nesting tasks, but multiply
them, so that the nesting of tasks does not radically change the task
importance in the way I describe in my first post</p>

<p>Steve–do you (or Phil or Susanne) disagree with either of these
statements? I’m just trying to separate out the issue of ‘is MLO
prioritizing incorrectly’ from the issues of ‘how should you approach
GTD’ and ‘how should we deal with urgency/start dates’.</p>

<p>Eastside</p>

<p>Steve Wynn
unread,
Nov 8, 2006, 1:49:06 PM



to myLifeO…@googlegroups.com
Again I am going to disagree :o)
 
MLO should change the Importance based on Due Date, if Due Date is one of your Weighted Factors with regards to the Computer Scoring Method. As should Start Date and Weekly Goals.
 
I am not so sure about this whole Nesting issue. I created one task under a parent node. Normal Urgency/Priority. It created that task with a Computerised Importance/Urgency Score of 0.6667. I then created a task 30 levels down, via Nested method, and the Computerised Importance/Urgency Score was 0.6667. I then set both to Max Importance/Urgency. Both tasks had an Importance/Urgency of 1.3333. I then set them both to Min Importance/Urgency and both were set to 0.0067.I then dated both items with Today’s date and both tasks had a score of 0.0469. I then set them to Max Importance/Urgency and both tasks had a score of 1.3736. I then set them to Normal Importance Max Urgency, they both had a score of 1.0403.
 
To cut a long story short, whatever I do to those two tasks individually it seems to make no difference to the Computerised Scoring, they are always the same.
 
Now with the Nested task if I start change the values on tasks above, then yes it does impact on the scoring. But then I would expect that to happen.
 
I tried out your example
 </p>

<p>Task 1:
Smith account (I=less, U=normal)
–contact Smith about re-order (I=more, U=normal)
—look in catalog for relevant new products to offer Smith (I=more,
U=normal)
—-look at old Smith order to find what types of products he is
interested in (I=more, U=normal)
—–ask Jane to give me old Smith order (I=max, U=normal)
——find Jane’s phone number to call her (I=max, U=normal)</p>

<p>Task 2:
Heart medication (I=max, U=normal)
–call pharmacy to get heart medication refill (I=max, U=max)</p>

<p>You are right, that ‘find Jane’s phone number’ is higher in the list than ‘call pharmacy’.  And although I not that mathematically minded it seems to me that ‘Janes Phone number’ is more Important than Call Pharmacy. Why? Because working backwards up the tree, Janes Phone number is Max, Ask Jane is Max, Look at Old smith order is More, Catlaog is More, Contact Smith is more, Smith Account is Less. Those items combined to me would make Importance more for that task, than working backwards from Call Pharmacy set to Max, Heart Medication set to Max. In quite simple terms in that example you give with Task 1, you have 2 max importance, 3 more importance, 1 less importance. That still equals more than Task2 which has two Max Importance overall. 
 
With the list being ordered by Importance and Urgency, Find Janes Phone number is more important. I assume when the list is ordered it is first ranked on Importance, then Urgency is taken into consideration.
 
If I was to order your example by Urgency, call Pharmacy is at the top of the list.
 
If I was to modify your More Importance settings to Normal, keeping Smith Account at less. Then Find Jane’s Phone number is below call Pharmacy. That’s what I would expect? Because then you have Two Max Importance the same as Task2, but you have a lower Urgency and your importance overall is possibly slightly diminished by the Less setting on the parent node.
 
Again in your other example
 
Task 1.1
–task 1.2
—-task 1.3
——task 1.4
Task 2.1
–task 2.2</p>

<p>Let’s assume for simplicity’s sake that all tasks have the same
importance, ‘max’, and the same urgency, ‘normal’, and have no due
dates. By all logic, if you have a bunch of tasks and sub-tasks that
are all ‘max’ importance and ‘normal’ urgency, then 1.4 and 2.2 should
have the same task statistics. But they don’t. Task 2.2 has importance
1.333 and urgency 0.3333, and task 1.4 has importance 5.333 and urgency
.3333.</p>

<p>That again looks right to me? Task 2.1/2.2 Max Importance x2 overall. Task 1.1,1.2,1.3,1.4 Max Importance x4 overall. Again Task 1.4 will be more important than Task 2.2 as I would expect, because the overall Importance of the task has been impacted by the Importance settings above it. As I would expect.</p>

<p>The more I look at this, the more I am really start to wonder if there is actually a problem. Because it seems to make perfect sense to my way of thinking. There doesn’t seem to be an issue with regards to the depth of a task or whether its nested or not. The only issue is that Importance/Urgency settings above a nested task impact on overall Importance. But again I would expect that to happen.</p>

<p>Regards</p>

<p>Steve</p>

<p> </p>

<p>——-Original Message——-</p>

<p> 
From: eastside
Date: 08/11/2006 07:45:05
To: MyLifeOrganized
Subject: [MLO] Re: Serious priority problems - Ratz please read
 

eastside
unread,
Nov 8, 2006, 4:27:58 PM



to MyLifeOrganized
Ironically, even though you are not mathematically-minded, and I am, I
think that your intuitions in these examples are coming from being too
mathematical. :)</p>

<blockquote>
  <p>MLO should change the Importance based on Due Date, if Due Date is one of
your Weighted Factors with regards to the Computer Scoring Method.</p>
</blockquote>

<p>Perhaps you did not catch this, but importance changes based on due
date EVEN IF you choose to rank tasks by importance ONLY, and not by
urgency at all (i.e. if due date is NOT one of your weighted factors).
If you rank by importance only, due dates should not be relevant.
Agree?</p>

<p>Also, think of my real-world example. If ‘frame picture’ is not
important, it does not become more important because it is overdue. On
MLO, if it is a month overdue, then even if it is set as “less”
important, it becomes ranked more important than something that is set
as “maximum” important. This just seems obviously wrong to me. Do you
think that something less important should be ranked higher than
something set as “maximum” important just because of a missed due date?</p>

<p>On the Jane/medication example:</p>

<blockquote>
  <p>You are right, that ‘find Jane’s phone number’ is higher in the list than
call pharmacy’. And although I not that mathematically minded it seems to
me that ‘Janes Phone number’ is more Important than Call Pharmacy. Why?
Because working backwards up the tree, Janes Phone number is Max, Ask Jane
is Max, Look at Old smith order is More, Catlaog is More, Contact Smith is
more, Smith Account is Less. Those items combined to me would make
Importance more for that task, than working backwards from Call Pharmacy set
to Max, Heart Medication set to Max. In quite simple terms in that example
you give with Task 1, you have 2 max importance, 3 more importance, 1 less
importance. That still equals more than Task2 which has two Max Importance
overall.</p>
</blockquote>

<p>Here, it seems that you are saying that get Jane’s number is more
important than medication because, if you work through the math and add
up the importance, the numbers work out that way. But I think the math
is wrong. Why? There are four reasons. Just think about this from a
real-world standpoint. If two projects are equally urgent, the more
important one should be done first. The Smith project is the same
urgency but less important than the medication project. Thus, it makes
no sense to make progress on Smith before medication.</p>

<p>Also, get Jane’s number is less URGENT than get medication. Call Jane
is normal urgency and get medication is maximum urgency. This seems
totally obvious–how on earth, especially based on your notion of
urgency, can you say that a less urgent task should be done before a
more urgent one?</p>

<p>Also, get medication is set as maximum importance and urgency. If you
cannot get a task to the top of the list by doing this, how are you
supposed to do it? By adding ‘dummy’ nesting levels?</p>

<p>Finally, and this is maybe the most important point, the difference
between the least and most important settings is only .66. The
difference between 2 levels of nesting and 0 levels of nesting is 4.
There is no way that it makes sense to say that level of nesting should
have more influence on importance than setting the importance slider
from maximum to minimum!</p>

<p>Please tell me you agree or I think I will question whether I am even
speaking English anymore.</p>

<p>Eastside</p>

<p>Steve Wynn
unread,
Nov 8, 2006, 6:38:32 PM



to myLifeO…@googlegroups.com
Again, I am going to totally disagree :o)
 
If you set a date on something, that in itself is a type of priority/importance. Or else why would a date be used in the first place? So for example if Frame Picture was given a date, then by having a date there is already a certain amount of implied priority. It needs to be done by a certain date, if it doesn’t why does it need a date? If you then don’t complete that task by the date you have specified and it becomes overdue, then yes its importance should rank higher. Because you have missed the due date/deadline, the task is overdue and obviously requires attention.  If you have another task set to Max Importance/Urgency that isn’t dated,so in essence has no deadline and is current. Why should that be above an obviously overdue item? I don’t see that it should. Because that task is current and it is not overdue. Surely any task that has missed a due date/deadline, and is overdue, should be right at the top of the list. 
 
I really don’t understand the argument on the dates at all. What is the point of using dates unless they have a bearing on Importance? Even if you rank solely on Importance, you have an implied importance on a dated task just by using a date. The importance being its needs to be done by the date. If it doesn’t, it doesn’t need a date.
 
As for the Jane example, I am not saying a less Urgent task should be done before an Urgent task. But what I am saying is you have made Janes Phone Call more important through your use of priorities further up the Outline. If things are being ranked by Importance and then Urgency that’s the way it will happen. Because of the overall Importance settings placed on the entire nest of tasks. Again the difference in the scoring appears to be based on the cumulative value of all of your nested Importance settings.  Again, that makes perfect sense to me.
 
For example, if I have two projects with 10 nested tasks a piece Project 1 and Project 2. Project 1 has only 1 item marked as important/urgent, its current action. Project 2 has all 10 items marked important/urgent. Which Project does it make sense for me to work on? Obviously Project 2 because overall it is more Important/Urgent. In this case the task for Project 2 will have a higher priority value and show higher in the ToDo list than the task for Project 1.  Even if the current task for Project 2 was set to normal urgency/priority than the current task for Project 1, it will still show above the task for Project 1. Isn’t that right? Isn’t the overall Importance of Project 2, as a whole ,a lot higher than Project 1? Again, makes sense to me.
 
 
Regards
 
Steve
 
 
——-Original Message——-
 
From: eastside
Date: 08/11/2006 16:34:14
To: MyLifeOrganized
Subject: [MLO] Re: Serious priority problems - Ratz please read
 

phil reaston
unread,
Nov 8, 2006, 6:52:03 PM



to myLifeO…@googlegroups.com
What Steve says makes perfect sense to me. He has put down exactly what I was thinking. If you’re just going to ignore due dates then why put them there in the first place.</p>

<p>I still think there’s a more fundamental issue here though of why you need to keep so many tasks on the go and in view that you need MLO to tell you what to do next. It would seem that you have so many tasks that you can never get to all of them on a particular day. Why then do you need to see them all - surely they just get back in your mind and become a distraction. Isn’t this what GTD is supposed to help prevent?</p>

<p>Just my 2c of course.</p>

<p>Phil Reaston

berlingo
unread,
Nov 8, 2006, 11:46:06 PM



to MyLifeOrganized
Steve, I think we have a different understanding of the terms ‘
priority’, ‘importancy’ and ‘urgency’. I think this is a point that
Eastside tried to make earlier in the thread.</p>

<p>To me, importance is related to how much I value the result (outcome)
of my actions. So, when importance only relates to the result it should
be independant of dates. Urgency tells me how soon I need to complete
the action. Of course, some actions loose all sense when not completed
on a specific date (your typical deadline). I suppose the heart
medicine example is a good one ;-). Well, that means that importance
alone should NOT dictate the order in which I execute my tasks: I need
to combine both importance and urgency. Hence the algorithm that
calculates priority. And priority is the measure used for ordering my
tasks. (Mind you: I would never blindly execute my tasks in the order
of any calculated priority value, but I DO like to rely on such a
measure to focus my attention on let us say the top 10/15 tasks).</p>

<p>We could debate for a long time whether this interpretation of the key
terms is correct. I am not suggesting it is. But I do know that if we
are not 100% clear on how the terms are used we will always be
misunderstanding eachother.</p>

<p>To proceed (with the above definitions in mind): when you say that
providing a due date implies a certain amount of PRIORITY I will agree
with you. But NOT (as you mention somewhat further) that therefore its
IMPORTANCE should rank higher. That confuses (in my mind) the
difference between urgency (when) and importance (value of outcome).
For me, not importance should rank higher, but urgency. And as priority
is derived from both importance and urgency, so, yes, priority is
higher.</p>

<p>So the argument that importance should not be linked to dates is then
clearly based on the above definitions of the terms. It would give
independant control over both parameters: value of the outcome versus
need to complete it quickly. That would make it easier to predict the
ranking produced by the algorithm (for me, that is).</p>

<p>With respect to the nesting problem: I think I understand much better
now how the algorithm works, thanks to your and Eastside’s exploration
and documentation. Thank you both for that.
Now, with this better understanding, I still do not approve of
cummulative settings in a nested situation. Importance in MLO should
indicate relative importance to the parent. For me that means subtasks
can NEVER be more important than the parent. How can the outcome of a
subtask be more valueable to me than the value of the outcome of a the
parent? Is having the foundation of my new house more valueable than
having the house constructed and delivered? Again, mind you, a nested
subtask could still get a higher PRIORITY because it is more URGENT.
But that is a different matter.</p>

<p>The rest of the argument, again, is on various different methods of
defining urgency: linked to start dates, due dates or a more abstract
slider.</p>

<p>Somebody in this thread referred to a product called Achieve Planner. I
installed the trial edition. The product is interesting for various
reasons, one of them the approach to the things we discuss here.
Beware: what we call imporance in MLO is called priority in Achieve
Planner. The Todo list is called Task Chooser in that project (maybe
more adequately). The interesting part is that you can choose out of 6
different settings for the ranking algorithm. These settings can be
tweaked, and include start date, end date, deadline (interestingly
separating the target end date from a hard duedate) and priority. There
are no less than 9 advanced parameters to tweak…</p>

<p>Once you have tweaked the 6 configurations, you can very quickly switch
between them, to get a different ordering of your tasks: neat ! Such a
mechanism in MLO would allow you to rapidly switch between any of the
mechanisms we have discussed here.</p>

<p>Berlingo</p>

<p>VgnFrnd
unread,
Nov 9, 2006, 12:01:34 AM



to MyLifeOrganized
Overall, I tend to agree with the views that Steve is voicing. But I do
like berlingo’s suggestion that MLO might grow toward incorporating
multiple algorithms among which users may choose and configure.
Considering the variety of definitions of terms that are in play and the
variety of ways that users are using MLO, I doubt whether any single
solution could work for everyone.</p>

<p>-RichardM</p>

<hr />
<p>For health:
http://www.goveg.com/veganism_health.asp
For the environment:
http://www.goveg.com/veganism_environment.asp
For human rights:
http://www.goveg.com/veganism_human.asp
For non-harming:
http://www.goveg.com/veganism_welfare.asp</p>

<p>Steve Wynn
unread,
Nov 9, 2006, 1:27:00 AM



to myLifeO…@googlegroups.com
Hi Berlingo,
 
I actually agree with some of the things you said Berlingo, amazing or what? :o)
 
I agree that Importance is the outcome, I agree Urgency is related to how soon you need to complete a task. Based on those two factors you have a priority overall. 
 
Now there really isn’t an issue until you start throwing dates into the mix.  Date to me is a combination of both Importance/Urgency, in other words you are really specify a priority by setting a date.  You are in a way automatically making the task Important/Urgent to a degree at the same time.  If its not Important, if the outcome has no value, why does it need a date? If its not Urgent, you are not concerned about when it is done, why does it need a date?
 
Now ordinarily I could see that you may have various dated tasks set at varying degrees of Importance/Urgency. That’s fine as long as the tasks are still within the date. But as soon as a dated item is overdue then surely its has to be at Max Importance/Urgency ranked above any current task. Because you have a) Failed to achieve the planned outcome b) Failed to complete the task by the date specified. So in a way you have broken the current Importance/Urgency settings on the task by not completing it before or on the due date.  Does that make any sense?
 
Now with regards to Nesting, I totally agree with you. It does seem strange that a sub-task can have a higher importance than the parent task. That I do think is a problem. If a Parent task has a Min setting for Importance overall, there should not be a way you can set a sub-task to High Importance. Like you have said, how can a sub-task actually be more important than the parent? Again I agree that Urgency is a different matter, a sub-task should be able to have a higher Urgency than the parent.
 
Perhaps that is part of the problem overall then? You shouldn’t be able to set a higher importance on a sub-task than a Parent task? I am trying to think if there would be good reason to have a higher importance on a sub-task than the parent, but I can’t think of a reason at the moment. Higher urgency yes, but not a higher importance. If anybody can think of a reason, let me know! My mind is turning a little to mush at the moment :o)
 
As for Achieve Planner it sounds interesting. I will take a look, thanks.
 
Regards
 
Steve
 
 
 
——-Original Message——-
 
From: berlingo
Date: 08/11/2006 23:46:20
To: MyLifeOrganized
Subject: [MLO] Re: Serious priority problems - Ratz please read
 

Richard Watson
unread,
Nov 9, 2006, 7:27:03 AM



to myLifeO…@googlegroups.com
On 11/9/06, Steve Wynn <a href="mailto:stephe...@tiscali.co.uk">stephe...@tiscali.co.uk</a> wrote:</p>
<blockquote>

  <p>If its not Important, if the outcome has no value, why does it need a date? If its not Urgent, you are not concerned about when it is done, why does it need a date?</p>
</blockquote>

<p>Give blood - 10 December 2006 - low importance
Get heart medication - before 11 December 2006 - high importance</p>

<p>Now assuming it was the 10th, you had one hour to do one thing before
you leave for an overseas holiday. Which should have a higher
priority?</p>

<p>So to answer your question, the first item has a date because it can
only occur on that day. It’s not as important (to me) as the second,
but it has a date. The second also has a date, but that does not
affect the point.</p>

<p>Regards,
Richard</p>

<p>JD
unread,
Nov 9, 2006, 10:20:39 AM



to MyLifeOrganized
I’m leaning more towards Steve, even though I understand the problems
faced by heavy task-load users such as Eastside. What I can offer by
way of a additional perspective in this argument is that I also place a
lot of importance of the context. All my daily routines have dates, and
some are more important than others. However, I place routines in their
proper context, realising that routines are important enough to deal
with throughout the week to keep the balls juggling in the air.
“Framing the picture” would be on my context of chores-errands, most of
which intuitively I would know don’t require a date. “Bring home the
milk” however, would be on my calendar, which also appears on my Act
Now! list, knowing full that if I don’t, I won’t have a pleasant
breakfast tomorrow. Similarly, Pay Bills would be on my calendar with
an appropriate lead tiimes. Knowing your task as you do, it would go in
the appropriate context, and knowing your contexts, it would appear on
your to-do list. I remember Ratz’s earlier posts in setting up your day</p>
<ul>
  <li>go through your daily work lists, and add the appropriate contextual
importance to that task to set up your closed working list for the day.
I do something similar. Choose tasks in my list and (using the Hotkey
utility), set up my closed Act Now! list for the day. If the job is not
complete, it continues to appear on my Act Now List tomorrow, thereby
providing me with a list I can carry on with tomorrow. I wonder if
Eastside is struggling with this - the inability to have a closed list
because it just takes too long to triage through a long list everyday
to set up your closed list. In that case, the suggested algorithm would
make the task appear higher up on the daily work list, and save the
trouble of reviewing the whole list to see if there was something
irreverantly nested way below that is super important. In any event, it
would be interesting to hear from both Ratz and Andrey.
JD</li>
</ul>

<p>Kudos
unread,
Nov 9, 2006, 1:06:29 PM



to MyLifeOrganized
As everyone seems to be taking sides.. I just thought I would say that
I am 100% with with Eastside - sorry Steve! ;-)</p>

<p>Also, I cannot believe the developers seem to be ignoring this very
important discussion completely. I am not impressed with that.</p>

<p>Kudos</p>

<p>phil reaston
unread,
Nov 9, 2006, 1:59:50 PM



to myLifeO…@googlegroups.com
Respectfully, I would suggest your example is flawed. Given the scenario you describe it seems to me that the second item needs to have a due date of the 10th if you have to do it before leaving on that day.</p>

<p>Phil Reaston</p>

<p>
Dan Stratton
unread,
Nov 9, 2006, 2:10:14 PM



to myLifeO…@googlegroups.com
As a former developer, I learned that it is best to sit and listen to
the customer hash it out and then respond. My guess, considering the
past record of our friends, is they are carefully reading each post,
learning from the discussion. Once it settles down, they will respond
with a beta version that will address the issues. Just my guess. I’m
still trying to digest all this discussion myself. It has been a very
good one.</p>

<p>Hats off to everyone for having a good discussion without
degenerating into name calling and mud slinging. It is very
refreshing to see.</p>

<p>Dan</p>

<p>
Steve Wynn
unread,
Nov 9, 2006, 2:17:31 PM



to myLifeO…@googlegroups.com
Hi Richard,
 
I do understand your point. But from a GTD perspective, ‘Give Blood’ if it had such a low importance to me would probably be defined as nothing more than a Tickler Item. Nothing more than a dated reminder. Or included as a Tickler on my Calendar. Because if it is such a low importance, it does not matter whether it is done or not. All that needs to happen is I need to be reminded of the event, then decide if I have the time/energy to attend. Then in that case I think in terms of my definition it would only warrant the status of a reminder,  I do think there does need to be a difference defined between the use of dated reminders and dated tasks. But at the same time, and this was the point I was trying to make in the other post. If it becomes overdue, its Importance/Urgency has to be raised because you have missed the deadline. Something now needs to happen with that task even if it was low importance to begin.
 
In GTD terms with utilizing a lot of dates, you are making a lot of internal commitments. If you are not completing tasks by the due dates, then you are breaking those internal commitments you have made with yourself and something needs to happen. In essence any overdue dated task is Max Importance/Urgency until either you do the task in its overdue state, remove the task, or renegotiate the commitment you have made.  
 
I still think with the use of dates you are implying a certain amount of Importance that perhaps is not fully realized, it is also not always by our own definition.  Importance can cross over from other people. Although your value on ‘Give Blood’ overall is low, I would imagine to the organizers of the event it is very high. Hence the reason they have staged the event, organized venues, made people aware of when/where, sorted out staff etc etc. They have in a way already set to an extent an implied Importance, that does cross over to you to a degree. Because they have set the deadline for you, so in a way you are not so much dealing with your own priorities but managing their priorities, in your own way.
 
Regards
 
Steve
 
 
——-Original Message——-
 
From: Richard Watson
Date: 09/11/2006 07:27:17
To: myLifeO…@googlegroups.com
Subject: [MLO] Re: Serious priority problems - Ratz please read
 

Richard Watson
unread,
Nov 9, 2006, 2:37:27 PM



to myLifeO…@googlegroups.com
Point taken, but I suspect this situation could come about in a
variety of ways, e.g. putting in the medical information first for the
whole year, and then a holiday or other trip coming up. In any case,
I can’t believe we can’t collectively think of a situation where an
item with a date would not be as important as something marked high
importance.</p>

<p>Richard</p>

<p>
Richard Watson
unread,
Nov 9, 2006, 4:10:22 PM



to myLifeO…@googlegroups.com
Hi Steve,
 
I won’t post on this again, mainly because I have very little to say :)  I do think the algorithm output seems to be surprising people, and that shouldn’t happen.  Maybe the best thing is to have options.  A better solution is “The One True Algorithm” that delivers a solid, predictable experience, but options aren’t terrible.
 
Developers, I can hear you giggling in the background…
 </p>
<relurk>
Richard

 

Steve Wynn
unread,
Nov 9, 2006, 5:15:42 PM



to myLifeO...@googlegroups.com
Richard,
 
I do agree, any system where you can not easily predict an outcome from the choices or settings you have made. Does have a problem.  There does need to be an overall easier solution.  Not quite sure yet, whether we have actually come up with any solutions? Only problems, real or perceived.
 
Perhaps it is time we just started a Brainstorm on possible solutions, throw ideas out and see if we can form some sort of solution. A lot of the differences we have identified have been more working system related. We obviously need a solution that works for people that use dates extensively, and for people that don't need to use dates.
 
There also has been a lot of talk about GTD, but are there people here that use Franklin Covey? What are their requirements? People using Mark Forsters Closed List approach, what do they need? Traditional ToDo list people etc. I think we need to hear from as many people as possible with regards to their requirements.
 
We also possibly need to think if there are other things that should impact on priority. Things like the worth of a task in financial terms, the revenue it will generate. Perhaps that might be important to someone?  Especially if your are Freelance or a Consultant. Or should Focus Areas Family, Career, Health, have an influence on overall importance? Should there be separate Project priorities compared to task priorities? Should Goal priorities be treated in a different way?
 
I think as whole there are probably a lot of different factors that need to be taken into account. If there is going to be a change, lets try and change it for the long term. So hopefully at the end of the day, we can adopt a solution that fits with as many requirements and as many different systems as possible. That may be an improved priority algorithm, I don't know. But lets thrash it all out and see what we end up with.
 
So perhaps now we should have a shift in focus, and start trying to come up with alternative solutions that cater for as many people and different systems as possible.
 
Thanks for delurkinig and please don't relurk. Your contributions are valued.

eastside
unread,
Nov 9, 2006, 10:28:34 PM



to MyLifeOrganized
Possible breakthrough! Or potential waste of time. :)

I think that I've figured out at least part of the disagreement about
whether to have an urgency slider and what the purpose of dates in MLO
is. Of course, I've been pretty much 100% wrong at guessing what others
who disagree with me are thinking, but I think it's worth a shot
nonetheless. I will say up front that I am becoming less sure of which
is the best system (I'm currently using the second system, but I am
open to re-considering this), but I think that both should be available
in MLO and I think that this can happen without a huge re-programming
effort.

I think that everyone agrees that all tasks have an importance and an
urgency, and that these are theoretically separate factors. Berlingo
put it very well in his post that said, "To me, importance is related


to how much I value the result (outcome) of my actions. So, when


importance only relates to the result it should be independent of


dates. Urgency tells me how soon I need to complete the action."

Now, it seems to me that everyone agrees that one way to set importance
in MLO is by the importance slider. Oh man, I hope everyone agrees with
that. But there are at least two ways of thinking about urgency, and I
think that this is the main source of the disagreement about whether to
have an urgency slider and what the purpose of due dates is.

One way to think about urgency is along the lines of the Covey
importance/urgency quadrant approach. Things are more important or less
important and more urgent or less urgent. We could draw a 2x2 square to
represent this. The things that are most prioritized are those in the
'more important and more urgent' box, and those that are de-prioritized
are those in the 'less important and less urgent' box. The MLO
two-slider method is a more advanced way to express these settings for
any given task, showing not just which square the task falls into, but
where the task falls within that 2x2 square. Since there are sliders,
rather than just more/less settings, there is a lot more control over
the position in the box and you can use the sliders to get the tasks in
the right order right now. On any day, if you want to put a task
higher, you can easily grab the urgency slider and kick it up (although
you might not bother, you might just do the task and check it off). But
the exact setting of the sliders probably isn't that important because
they are just used to get an item roughly into the top 10-15 slots
(which might represent the tasks that, in a paper system, would be in
one day's tickler folder) and then intuition takes over.

What is the role of start/due dates for this method? I think that there
are probably two non-exclusive ways to think about them. First, dates
can be used to reflect hard landscape items--items that must be done on
a certain day. Second, start/due date might just be a setting that is
largely not used. I think that people who like the two sliders probably
keep a separate calendar for hard landscape items, since MLO doesn't
have an integrated calendar. In fact, if you use a separate calendar
and use both the importance and urgency sliders, I don't see why the
dates would be very important for you at all in MLO and I suspect that
you don't use them very often. (If you do, maybe you can explain when
and why). But I think that Steve specifically says that he doesn't date
most of his tasks.

The advantages of this system include:

* it follows the GTD idea of dates only being used for hard landscape
items, which prevents confusion

* it follows the GTD idea that you should choose items not based on
list order but on intuition

* it's a relatively straightforward and simple way to think about
importance/urgency

OK, that's one method for thinking about urgency. Now the other. On
this method, importance is set by slider, but urgency is set by date,
and the urgency slider is not used at all. Here's a point that I think
is causing confusion: people using the first method assume that dates
are for hard landscape items only. People using the second method are
using dates for urgency in addition to hard landscape items. In fact,
people using the second method may be using dates only for urgency, and
not for hard landscape items at all!

Now this probably seems crazy to people in the first group but hear me
out. I use this second system. For me, 'hard landscape' is a flexible
idea. Things that are really set in stone go on my calendar. Things
that are deadlines that are not set in stone (i.e. things that have a
deadline but are still worth doing if the deadline is passed) are set
with due dates in MLO. What does a 'soft' deadline mean? In a very
long-term project, I might set interim deadlines for when I want
certain parts of the project done. These dates are set to optimally
spread my resources over time, to decrease my stress, and to make the
project overall as pleasant as possible. However, if I miss one of
these interim deadlines, the task is of course still worth doing--it's
just that now, the next piece is going to be more stressful and more
unpleasant. But, I don't want to simply not use interim deadlines,
because if I just have a deadline for the project as a whole, then when
I see the deadline approaching in a month I know that there is no way
that I am going to be able to complete it in that short time (or, at
the least, it will be a horrible experience!). In fact, I think that
most projects I have fall into this category.

But there's another crucial idea in this method: the start and due
dates are used as a way to set urgency.

How does the start date set urgency? Because after an item's start date
(or due date, or both, depending on how you weight these factors in
MLO's options), it shows up on the list at one ranking but then gets
ranked higher and higher as time remaining decreases or as it passes
the due date. (Here is where the bug in MLO rears its head--it is
actually impossible to weight these to zero so they have no influence.
But that's for another discussion.)

Now, people that use dates only for hard landscape may wonder why on
Earth some people would want to use start and due dates to set urgency
rather than the convenient slider. There seem to be some disadvantages,
namely, using dates to set non-hard landscape items confuses the notion
of using dates because it implies that some tasks need to be done by
their due dates and some don't.

Well, there is one big advantage to using the dates as an urgency
indication: with the first method, I can only set how urgent a task is
right now and I can only change the slider manually. If it becomes more
urgent as time goes on, I would have to re-set it every time I wanted
its newly increased urgency to be reflected in the priority ranking.
HOWEVER, with the second method, I can decide once and only once when
something should become as urgent as it ever will be, and MLO
automatically adjusts the urgency of the item as the date approaches.

So, for example, say I have two items: (a) write plan for office
expansion - no deadline (importance=normal) (b) review contract for
settlement in three months - task takes three days to complete
(importance=max)

There are two ways that you might think about how to weigh these two
tasks. One is, you should do all tasks with any sort of deadline before
you do any tasks without a deadline. The disadvantage of that is that
the office expansion will increase your overall efficiency, and thus it
is advantageous to do it sooner rather than later. In contrast, as long
as the contract review is done at all, it doesn't matter whether it is
done now or in 8 weeks. If you have dozens of short-term tasks with far
future due dates, and many tasks that could be done whenever but would
be very helpful to do sooner, you will see that doing all deadline
tasks before any non-deadline tasks has disadvantages. You might also
think about the case where most of the time, you have the time, energy,
and inclination to do work on the office plan, but not the contract,
which is an unpleasant task. In that case, according to GTD, you should
work on the former before the latter (especially because the latter is
not due for a long time).

Based on this reasoning, assume that you think that right now, for
today, 'write plan' should be ranked higher than 'review contract'. If
you agree with this (and this is how I think about the tasks, if you
don't that's fine, but thinking about it this way certainly is in
accord with GTD, so please don't tell me that I just shouldn't think
about things this way) then you also realize that at some point, that
order will flip. Three days before the contract deadline, even if you
have not gotten to writing the plan, it suddenly becomes much more
important to do the contract review first.

On the first method of setting urgency, I would set urgency right now
as normal for the plan writing and low for the contract review. But,
this will change. If I am setting urgency manually with the slider, I
will have to remember to go back to that task during weekly review and
change the urgency slider. On the second method, MLO will automatically
increase the urgency as the deadline approaches. If I have dozens of
projects and hundreds of tasks, especially many projects that are
long-term with parts that must be spread out across numerous deadlines
and tasks that take a long time to accomplish, having MLO automatically
adjust the urgency is potentially a big advantage.

I'll stop there without proposing anything concrete just to see what
people think of that. I'm interested if people are thinking about
urgency in a way that is NOT one of these two ways.

BTW, I have lots to say to explain to Steve why his last post on
importance totally misses the boat but I'll save it for now :-)

eastside

eastside
unread,
Nov 9, 2006, 10:31:23 PM



to MyLifeOrganized
&gt; As everyone seems to be taking sides.. I just thought I would say that
&gt; I am 100% with with Eastside - sorry Steve! ;-)

Thank goodness. I was starting to feel very abandoned :-)

eastside

phil reaston
unread,
Nov 9, 2006, 10:52:28 PM



to myLifeO...@googlegroups.com
Just let me say that I'm firmly into the second method. I do have hardlandscape items and I have those in my calendar. For many other tasks I have an idea of when I want them done by and when I need to start, so I set the due date and start date accordingly. Typically the lead time is much more than I need to perform the task. The idea is that items show up on my ToDo list in time to get them done. This way I can see things that are coming up. Typically I will have very few items with no due date, except some Quicklist items. It seems to me that if I have no due date then I really have no impetus to get the thing done. Things without due dates, in my system at least, tend to hang around a bit and either get done, or I get fed up of seeing them and they become Someday items, or I realise I need to do them and they get a due date. Maybe nowhere near strict GTD, but it works for me right now. I should also add that my system is fluid and evolving all the time - its eveolved quite a bit due to thinking about this thread - so thanks everyone.

Phil Reaston

Steve Wynn
unread,
Nov 9, 2006, 11:31:54 PM



to myLifeO...@googlegroups.com
Hi Eastside,
 
Everything you say does make sense to me.  I bet you are amazed :o).
 
I would still want to use the First Method, again because I want to totally limit the amount of dated tasks. But that aside. How do we now come up with a solution that fits both methods?
 
By the way, don't leave me hanging. I will be interested to hear your comments on Importance etc.

Regards
 
Steve
 
-------Original Message-------
 
From: eastside
Date: 11/09/06 22:28:52
To: MyLifeOrganized
Subject: [MLO] Re: Serious priority problems - Ratz please read
 

eastside
unread,
Nov 10, 2006, 12:00:56 AM



to MyLifeOrganized
&gt; Everything you say does make sense to me. I bet you are amazed :o).

Oh my gosh I feel like I've just split the atom... :-)

&gt; I would still want to use the First Method, again because I want to totally
&gt; limit the amount of dated tasks. But that aside. How do we now come up with
&gt; a solution that fits both methods?

Well, answer this question for me. Do you date ANY tasks? Would MLO be
any less useful for you if there were no dates at all? (I'm not
proposing that, but just want to see)

How do you use MLO in relation to your calendar?

eastside

Steve Wynn
unread,
Nov 10, 2006, 1:44:10 AM



to myLifeO...@googlegroups.com
Yes, I date Ticklers/Reminders, and any HardLandscape items.  I also date Routine items, but those are only dated due to the requirement of having a recurring option.  There may be the odd recurring item that I have dated, that is set on a recurring pattern so that I perform a set amount of work each day, again dated for the recurrence only.
 
I tend to use a Dashboard context, to give me an overall view of any dated items. That includes Tickler,HardLandscape and Routine. In essence the Dashboard is really my Calendar. I do use a Calendar for Business Scheduling, appointments etc. But that's really due to the necessity of working with others not through choice. Personally I would just prefer to use MLO, one application as a whole.
 
But in answer to your question as to whether or not I could live without dates in MLO? Then yes, because all of the items above could quite easily be placed on my Calendar and yes MLO would still be as useful to me.
 
Where are we going with this?
 
Regards
 
Steve
 
 
 
----Original Message-------
 
From: eastside
Date: 10/11/2006 00:05:52
To: MyLifeOrganized
Subject: [MLO] Re: Serious priority problems - Ratz please read
 

 
 
 
--
No virus found in this incoming message.
Checked by AVG Free Edition.
Version: 7.1.409 / Virus Database: 268.14.0/524 - Release Date: 08/11/2006
 


		
eastside
unread,
Nov 10, 2006, 4:29:04 AM



to MyLifeOrganized
Let me see if I understand. You have Ticklers, HardLandscape, and
Routine as 'places'. You have a 'place' called Dashboard that includes
just those three places, which are the only dated places. Is that
right?

So when you look at your daily stuff, you first look just at the dated
tasks, then them all. That insures that you see your dated tasks, even
if they are many places below your non-dated tasks. If that's right,
then this is your workaround for the problems with prioritization.

Also, I take it that you don't use start dates, just due dates. True?

&gt; But in answer to your question as to whether or not I could live without
&gt; dates in MLO? Then yes, because all of the items above could quite easily be
&gt; placed on my Calendar and yes MLO would still be as useful to me.
&gt;
&gt; Where are we going with this?

Don't worry, I'm not trying to trick you. Where we are going with this
is: maybe the way to do it is to have an importance slider and give the
user one of two possible urgency options:

(1) an urgency slider with dates used to mark things HardLandscape in a
way that wouldn't affect their urgency setting, regardless of how close
the Hard Landscape deadline is (that is, the ranking would be
determined by importance slider + urgency slider, and dates would not
factor into ranking except to determine whether a task shows up on the
list at all)
(2) no urgency slider, but a way (or some ways) to use dates to reflect
changing urgency of tasks as the day approaches. There are several
options here, but we can explore them later.

I'm not trying to be coy re: importance, I just can't post until I have
time to get the (longish) post typed out.

eastside

Luciano Passuello
unread,
Nov 10, 2006, 4:33:47 PM



to myLifeO...@googlegroups.com
Wow, what a great thread!
Thanks to eastside, Steve and others on this excellent discussion.
I guess Ratz will have a lot of reading to catch up with ;)

Just to "cast my vote", I am on the second method team (use dates as
progressing urgency).
I agree with eastside that this misunderstanding is the root of all
disagreements seen on the thread.

Regarding the specific suggestion from eastside:


&gt; (1) an urgency slider with dates used to mark things HardLandscape in a
way that wouldn't affect their urgency setting, regardless of how close the
Hard Landscape deadline is (that is, the ranking would be determined by
importance slider + urgency slider, and dates would not factor into ranking
except to determine whether a task shows up on the list at all)

I think the way to go here is to have a setting in each individual task, and
not globally. (Of course, you should also be able to set the default setting
for all activities in the Options dialog, or something like that). The
setting would go on the lines of previously mentioned "start date, due date
or overdue" dominant. That concept would work fine here, I guess. Would have
to think exactly what the options would be, maybe one option called "Hard
Landscape", I don't know exactly.

&gt; (2) no urgency slider, but a way (or some ways) to use dates to reflect
changing urgency of tasks as the day approaches. There are several options
here, but we can explore them later.

Even using method 2 I wouldn't mind having the urgency slider in the UI,
provided that it is in a neutral state. Also, for the ones using method 1,
maybe the way to nullify the weight from dates is to make them weight 0 in
Options dialog. My point is that we should avoid two complete separate
"modes" for the application, but instead try to create a single way of doing
things, and let users be creative on how to do stuff.

Yeah, I know - this is all half-baked. You guys are way ahead of me on
thinking this through, but just wanted to add my contribution to this
(great) thread.

Regards.
Luciano.


-----Original Message-----

eastside
unread,
Nov 10, 2006, 4:51:14 PM



to MyLifeOrganized
On method (1): dates are hard landscape

&gt; I think the way to go here is to have a setting in each individual task, and
&gt; not globally. (Of course, you should also be able to set the default setting
&gt; for all activities in the Options dialog, or something like that). The
&gt; setting would go on the lines of previously mentioned "start date, due date
&gt; or overdue" dominant. That concept would work fine here, I guess. Would have
&gt; to think exactly what the options would be, maybe one option called "Hard
&gt; Landscape", I don't know exactly.

Yes, the slider would be set for each individual task. For the dates,
perhaps just one date, called "put on task list: 1/1/06".
For the first group, they wouldn't use start dates, I don't think. So
the dated items are dated just so that they show up on the task list at
a certain time. The dates would not affect ranking at all.

On method (2): no urgency slider

&gt; Even using method 2 I wouldn't mind having the urgency slider in the UI,
&gt; provided that it is in a neutral state.

Well, sure, but if we are talking ideal states then I think that it
would be best to hide it just to avoid confusion (or at least gray it
out), because on method (2) it would be confusing. It would just act as
another importance slider.

&gt; My point is that we should avoid two complete separate
&gt; "modes" for the application, but instead try to create a single way of doing
&gt; things, and let users be creative on how to do stuff.

Hmm. My intuition right now is to have two complete separate modes, in
part because it is so confusing how people think about the terms (and
they don't realize that they are thinking about them differently than
others, because it seems 'obvious' to them--this is why it took me so
long to understand that Steve was not just crazy :-)

Or, another option (getting more complex): have several modes,
including these two, with users (or the developers) describing how the
modes work, not in the current way (which is mostly mathematical and I
don't think does a great job of explaining how the mode relates to how
you think about GTD) but in a more 'in plain English' way in addition
to the math so people can read descriptions of what each mode is
supposed to capture and how it works.

I am open on this...still thinking about it. I think the first step,
though, is to get really clear on what would be ideal for the first and
second groups. I'm trying to nail down what is good for the first group
before thinking too hard about what is ideal for the second group (or
for me!).

eastside

Luciano Passuello
unread,
Nov 10, 2006, 5:04:57 PM



to myLifeO...@googlegroups.com
&gt; I think the first step, though, is to get really clear on what would be
ideal for the first and second groups.

I hear ya. That's the right way to go. One thing at a time.
Let's save specific design solutions for later.

As for getting clear on what I want, the ideal for me is in 100% agreement
with your view (group 2).

Regards.
Luciano.

-----Original Message-----
From: myLifeO...@googlegroups.com
[mailto:myLifeO...@googlegroups.com] On Behalf Of eastside

Steve Wynn
unread,
Nov 10, 2006, 5:21:13 PM



to myLifeO...@googlegroups.com
Hi Eastside,
 
Yes, my Dashboard place includes Ticklers, HardLandscape and Routine places.  Yes, the first thing I do each day is review my Dashboard.
 
But I wouldn't look at the Dashboard as a workaround to prioritization as such. It is just a way to group various dated items.  I think in a way it should be viewed as a Calendar.  The reason I like doing it this way, compared to a calendar, is because it gives me the ability to have a task in Multiple Contexts/Places. So if for example I have an Errand that needs to be done today due to some sort of previous forward planning,  I can have it on my @Errands list with a today's date, and it is also flagged as @HardLandscape to capture it.  If I have a call I need to make today due again to some sort of forwarding planning I can have it on my @Calls list as well as @HardLandscape. Typically if I was using a Calendar, these items would be placed on the Calendar and not in MLO.
 
I do use start dates, but really only to flag items before they are due if that is what is required. But predominantly I base the few dated items I do use on due date. I do use start dates a lot for Ticklers/Reminders, to remind me a week before an item is due etc.
 
Like I say I wouldn't necessarily view it as a workaround to prioritization, because I don't really use dated items in that way, just the fact and item has a date means something more than an typical undated task.  I would term any dated task really as a 'Must-Do' for the day. The only exception to this is Routine items, that are dated like I mentioned just for recurrence purposes. Also of course I have Ticklers, which are just reminders and not tasks as such. But really I treat the HardLandscape separate from my normal Context lists.
 
My prioritization is done via the use of Contexts/Places.  While we are at it, I will try and explain the rest of my system with regards to undated items. To hopefully give you an insight. I use a combination of GTD and Mark Forsters 'Do It Tomorrow' Closed List approach.  
 
All undated tasks are ordered in a simple method. I have two lines '---------' (really a task but as we don't have separators there you go), one set to above Normal Importance, Normal Urgency, one set to below Normal Importance, Normal Urgency.  These are displayed in all Contexts/Places, apart from HardLandscape, Tickler, Routine and Dashboard. When I review what I need to accomplish on any given day, which I tend to do the night before, I do use a Closed List approach. Now considering that I do not really value Importance/Urgency in the same vain, I only view it as levels of a scale. I have an AutoHotkey Script, that sets a task to High Importance/Urgency and also adds that task to a Context/Place called '!Today - Closed List'.  The task, when set, then displays above the first line.  Using the Closed List method to an extent, any task that is new today will not be done until tomorrow. So any new task that has come in today will be set, again using an AutoHotkey script, to Min Importance/Urgency. So now this task is set below the second line. 
 
At the end of the working day when I review the new items that have come in, I will flag them to Max Importance/Urgency and use them to build my Closed List for the next day if appropriate. If a task that has come in doesn't warrant action tomorrow, it will be set to Normal and appear in the middle part of the list.  In this way when I look at any Context I can see what I need to get done Today, above the line, and what so far I have planned to do Tomorrow below the line. Using this method I keep on top of my current workload, basically everything new gets deferred for at least a day.
 
Nothing new ever gets added to my Closed List once it is defined, unless it is really urgent. If it does get added to my Closed List. It has a Max Urgency, but Low Importance and is displayed below any of the original items on the list. It has Low importance because my focus is on completing my predefined Closed List for the day. Because I had no control on the task popping up, it is not as important as those I had previously planned to complete. Regardless of the Importance others may place on it.  Yes it is Urgent because it needs to be done today.
 
With regards to the Closed List, I also use the Weekly Goal if there are one or two tasks I really do need to concentrate on. But in reality, because my aim is to complete the Closed List the order doesn't really make much, if any, difference. If I am going to clear the list regardless, it doesn't matter what order I do the tasks in. Though in reality it does feel better to clear certain tasks before others. If I was only going to do half the list, then yes the order would matter.
 
In this way I plan to complete a days work in a day. Using a Closed List means my focus is on clearing the list each and every day. But I still work in Context like @Computer and differentiate between normal items and those which are Closed List, as well as those items I plan to do tomorrow.
 
All tasks that are in-between the two lines, Normal Improtance/Urgency, are really tasks that can be done any time. Backlog I suppose to an extent. Again when in the planning stage I will cherry pick which of these tasks should either a) Be placed on my Closed List for today or b) Flagged to be placed on my Closed List for tomorrow. With these tasks I tend to utilise the Outline more to decide if a task gets promoted. Looking at my various Projects, Goals etc.  Basically reviewing my overall Plan.
 
I aim to be complete my Closed List each and every day and have a blank list. That is my daily goal. Using Mark Forsters method I give myself points. If I have 30 defined tasks for the day and I complete them, I get 30 points. That doesn't mean I can't do other things, but they have no bearing on the points system. If I was to complete 100 tasks, but only 29 of the 30 defined Closed List tasks then I get no points. Why? Because I haven't achieved the objective of clearing the Closed List. You also don't get any points for any tasks that are added to your Closed List after it has been defined. Yes its a bit of a childish game, but it does work wonders. Seeing how much you can stretch yourself and how many points you accumlate on any given one day. After a few weeks of doing this you do also tend to find your normal balance.
 
The Closed List method also gives you an immense sense of satisfaction when you sit down at the end of the day just looking at a blank list. Knowing everything you planned to get done today, has been done !!! :o)
 
Now although I do use a Closed List approach, as mentioned, I actually still work in Context. But I can easily identify Closed List Actions in my Context lists. So my Closed List acts as my Daily Plan/Checklist. I don't work from the Closed List as such. But I do regularly review it and aim to clear it each and every day. If for any reason I don't complete my Closed List, the items are there ready for the next day. Though if that happens on multiple days I stop and start to review the system because I am obviously starting to over comitt myself.
 
So to me dated items really have very little bearing, because the system I have adopted doesn't need to be overly concerned about dates. All I am really concerned about is what I am going to do Today and Tomorrow.  I decide that, based on my HardLandscape and various other factors.

As mentioned I view the HardLandscape part really seperatly from the rest of the system, more a forward planning type of approach. If I  have to call a person next Wednesday that would be HardLandscape, it will appear on my Dashboard at the specificed time. If I knew today that I needed to call a person tomorrow, that would be undated and actioned via the Closed List.
 
So thats it in a nutshell, hopefully you can see why dates have little bearing. Also you may be able to see why undated Urgency plays a part. As far as priority overall is concerned obviously that is really being set via the use of a Closed List. As I know I am going to complete that list each and every day, ordering plays no part.
 
Now for me perhaps there is a different solution available completly. I know I need to flag undated items with an Urgency due to the system.  I need to distinguish Closed List Actions from normal actions, and identify Actions that are to be done tomorrow. But with my priority being mainly List Based, I wonder if things like Colour Coding, Filtering, Seperators, etc would just give me a better overall solution? At the moment the only means open to me is to use the Importance/Urgency.
 
Regards
 
Steve
 
 
-------Original Message-------
 
From: eastside
Date: 10/11/2006 04:29:19
To: MyLifeOrganized
Subject: [MLO] Re: Serious priority problems - Ratz please read
 


eastside
unread,
Nov 11, 2006, 4:16:52 PM



to MyLifeOrganized
I hate to bow out just as things are getting good, but I will be
traveling for the next 2-3 weeks and will be unable to regularly
contribute to or follow this thread. I'm just telling you this to
encourage others to please keep it going because I think these are very
useful issues to be working through as we all try to increase our GTD
efficiency. I will catch up when I return.

eastside

Steve Wynn
unread,
Nov 11, 2006, 9:28:35 PM



to MyLifeOrganized Group
I will try and keep things going. But who am I going to argue with for the next 2-3 weeks? :o) . Only joking.
 
Have a good trip.
 
Regards
 
Steve
 
-------Original Message-------
 
From: myLifeO...@googlegroups.com
Date: 11/11/06 16:16:52
To: MyLifeOrganized
Subject: [MLO] Re: Serious priority problems - Ratz please read
 




ZD_BYE~1.GIF
ratz
unread,
Nov 11, 2006, 9:30:10 PM



to MyLifeOrganized
ALERT....

I could read all of this; and the rest of the thread but that would
take me three hours.... Instead I will spend the rest of today redoing
the alorithm for one slider like a proposed before this house of tasks
fell on me.

I'll post the algorithm here later today and then send Andrey a new
Calcnow.pas file after that. I will likely fall back off the cliff
tomorrow; so I better get cracking....

Side note: I live in the land of OSX these days. I can tell you that
what we need is Andrey / Oleg to partener with circus ponies. The
notebook software from ponies has all the foundation to be a great MLO
applicaiton; it only lacks the algorithm and a few things to be a work
a like..... that or I should shutup and volunteer to port the
thing....... but I have some much work that actually pays real
money.... alas..

ok I shutup and go to alogrithm land.... see you again in a few hours.

BTW: I did make note of the dominances you listed and when I'm done I
give some "weight" factors to adjust the alogrithm for them....

scoobie
unread,
Nov 12, 2006, 3:39:25 AM



to MyLifeOrganized
Ratz
The one slider idea I take it is the idea you is posted here (the idea
that involves combining urgency and importance into one slider)

http://groups.google.com/group/myLifeOrganized/browse_thread/thread/5f45d3d704c72c72/5cbaaa418a1aafea?lnk=gst&amp;q=%22single+slider%22&amp;rnum=1#5cbaaa418a1aafea

I've not thought this through yet, so I'm not sure I agree with it. It
will need selling to me at least to adopt it.


ratz
unread,
Nov 12, 2006, 4:11:05 AM



to MyLifeOrganized
No matter; (not that I would have tried to sell anything) but........

I found a way to fix the original multiplicative algorithm and keep
both sliders. The orginal version worked much better, but it had a
couple short commings that made it user hostle. That's been resolved
now; and I suspect everyone will like the results.

The new version:
==============
1) Supports two sliders
2) Isn't effected by outline depth until about 20+ levels deep and even
then it's a modest effect
3) Defaults with the sliders to the center position
4) The importance/urgency scales are balanced. If you set a parent to
1/3 max importance and a child to 2/3 max importance the yield will be
the mid point

Basically it solves the complaints I've seen listed. Oleg and Andrey
have been sent the details.

scoobie
unread,
Nov 12, 2006, 4:29:11 AM



to MyLifeOrganized
Eastside

I disagree with what seems to be the main basis of your rationale for
change- ie "that dates is a better way to set urgency". For me, this
idea just isn't a simple enough way of working for most users. I think
its intuitively far easier to use an urgency slider for my tasks that
don't have a fixed dates. Using a slider is also easier, in my opinion,
to compare tasks relative to each other, than dates is.

I don't think most users will get the subtlety of "soft" and "hard"
coded dates. Again, I think this is a disadvantage with your approach,
as you're going to have to educate users around a new concept.

I agree with this statement however:
eastside wrote:

&gt; One way to think about urgency is along the lines of the Covey
&gt; importance/urgency quadrant approach. Things are more important or less
&gt; important and more urgent or less urgent. We could draw a 2x2 square to
&gt; represent this. The things that are most prioritized are those in the
&gt; 'more important and more urgent' box, and those that are de-prioritized
&gt; are those in the 'less important and less urgent' box. The MLO
&gt; two-slider method is a more advanced way to express these settings for
&gt; any given task, showing not just which square the task falls into, but
&gt; where the task falls within that 2x2 square. Since there are sliders,
&gt; rather than just more/less settings, there is a lot more control over
&gt; the position in the box and you can use the sliders to get the tasks in
&gt; the right order right now. On any day, if you want to put a task
&gt; higher, you can easily grab the urgency slider and kick it up (although
&gt; you might not bother, you might just do the task and check it off).

&gt; * it follows the GTD idea of dates only being used for hard landscape


&gt; items, which prevents confusion
&gt;
&gt; * it follows the GTD idea that you should choose items not based on
&gt; list order but on intuition
&gt;
&gt; * it's a relatively straightforward and simple way to think about
&gt; importance/urgency


_________________________________________________________
I disagree with this approach, for the reasons below:

Eastside wrote:
&gt; OK, that's one method for thinking about urgency. Now the other. On
&gt; this method, importance is set by slider, but urgency is set by date,
&gt; and the urgency slider is not used at all. Here's a point that I think
&gt; is causing confusion: people using the first method assume that dates
&gt; are for hard landscape items only. People using the second method are
&gt; using dates for urgency in addition to hard landscape items. In fact,
&gt; people using the second method may be using dates only for urgency, and
&gt; not for hard landscape items at all!


COMMENT FROM SCOOBIE - MY VIEW IS THIS WILL BE A MINORITY OF USERS
USING THIS APPROACH, ie DATES WILL BE HARD DATES FOR MOST PEOPLE.
THE IDEA OF HAVING 2 DIFFERENT USES FOR DATES IS JUST TOO COMPLICATED
FOR MOST PEOPLE (please excuse the caps, I'm not shouting I just want
it to stand out)

Eastside wrote:
&gt; But there's another crucial idea in this method: the start and due
&gt; dates are used as a way to set urgency.

&gt; Well, there is one big advantage to using the dates as an urgency


&gt; indication: with the first method, I can only set how urgent a task is
&gt; right now and I can only change the slider manually. If it becomes more
&gt; urgent as time goes on, I would have to re-set it every time I wanted
&gt; its newly increased urgency to be reflected in the priority ranking.
&gt; HOWEVER, with the second method, I can decide once and only once when
&gt; something should become as urgent as it ever will be, and MLO
&gt; automatically adjusts the urgency of the item as the date approaches.
&gt;


COMMENT FROM SCOOBIE
- I understand this advantage, but I don't think its a big enough
advantage to change everything around. Why? Because I don't think its
easy to use dates to set urgency when you have lots of tasks without
real dates. Eg its easier to think "tasks A is "very urgent" compared
to this tasks B that is just "urgent", than to say task A has an
arbitrary dates of Nov 18 and task B has Nov 26 say. If we use your
approach and users get the dates wrong relative to each other the task
list will be all over the place.

scoobie
unread,
Nov 12, 2006, 4:33:54 AM



to MyLifeOrganized
This sounds good, though I don't understand point 4 (too complicated
for me!)

ratz
unread,
Nov 12, 2006, 4:34:35 AM



to MyLifeOrganized
Ok here's the jist of the fix:

Go back to the original algorithm which as you noted: was
multiplicative. And fix the input vectors.

After a large number of hours today, I realized the algorithm was not
the problem. What we inputed to it was the problem; we were feeding it
linear input. You can read the function of the orginal algorithm in the
help file, I think it's still documenting that version. We crafted a
center-based default the wrong way; we changed the algorithm when we
should have changed to none linear inputs.

I am rather disgusted; the answer was staring me right in the face for
a long time; I just need to step away from the problem long enough to
see it.

The orginal version of the algorithm has an importance slider, an
urgency slider, and Date based acceleration of the urgnecy that is user
adjustable in the preference. Just like you laboreously laid out. So
you should get what you want.


The fix was simply to use a logarithm function to create the input
values from the importance and urgency sliders. In short the sliders
will limited to 51 descrete values on a logarithmic curve. With the
center point of "1" being the default. Now before you wonder; 51 values
is about what you have now; it's just never been pointed out before.
The trick is those values are not linear 0 - 1 and 1 - 2 anymore. They
are on the same scale; and the ends of the scale are natural inverses;
and that's the key; low and high values cancel each other out and draw
you back to the center value when combined. That's the trick that
solved the problem.

For those that care; the logarithm is log base 1025, on the range of
1000-1050.

Position Value
====== =====
1000 0.9964
1001 0.9966
1002 0.9967
1003 0.9969
1004 0.9970
1005 0.9972
1006 0.9973
1007 0.9974
1008 0.9976
1009 0.9977
1010 0.9979
1011 0.9980
1012 0.9982
1013 0.9983
1014 0.9984
1015 0.9986
1016 0.9987
1017 0.9989
1018 0.9990
1019 0.9992
1020 0.9993
1021 0.9994
1022 0.9996
1023 0.9997
1024 0.9999
1025 1.0000
1026 1.0001
1027 1.0003
1028 1.0004
1029 1.0006
1030 1.0007
1031 1.0008
1032 1.0010
1033 1.0011
1034 1.0013
1035 1.0014
1036 1.0016
1037 1.0017
1038 1.0018
1039 1.0020
1040 1.0021
1041 1.0023
1042 1.0024
1043 1.0026
1044 1.0027
1045 1.0028
1046 1.0030
1047 1.0031
1048 1.0033
1049 1.0034
1050 1.0036

If anyone has my orginal testing spreadsheet if you plug in these
bounded values: 0.9964 - 1.0036 you see that it behvaves in the way we
never could get it to before.

The sliders are translated as:

B = SliderValue
x = importance value to feed into algorithm

If B &lt;= 1025 then
x = LogN(1025, B)
Else if B &gt; 1025 then
x = 1+(1-(LogN(1025, 1025-(B-1025))))
end if

Urgency uses the same computation to generatin the feed values for the
algorithm.

ratz
unread,
Nov 12, 2006, 4:44:18 AM



to MyLifeOrganized
Point (4) simply says that equally low importance and high importance
when combined should cancel each other out.

Example

If you have Parent task with Max importance; and a child of that with
the minimum importance.
The priority of the child task will be equal to "1" just as if both
task had been left at the default.

-or-

equal amouts of importance and lack of importance should opposites.

Then (max * min) = 1
also (10 * max) * (10 * min) = 1

So the depth of the outline doesn't effect the priorities at all.


srd
unread,
Nov 12, 2006, 5:09:37 AM



to MyLifeOrganized

eastside wrote:
&gt; I suggested only one slider, and you don't like that. What about the
&gt; other part? Are you against having the sliders from 0 to 1 and having
&gt; them multiplicative?

Seems to me there's only one way to do the sliders right, if you are
committed to an analytic separation of urgency and some kind of
idealized, timeless, "importance." The slider should determine the
tradeoff between closeness to deadline and importance, to arrive at a
priority. Everyone is going to have a different tradeoff function.

Steve Wynn
unread,
Nov 12, 2006, 10:40:44 AM



to myLifeO...@googlegroups.com
Hi Ratz,

One of the issues that was found was that a Nested task seemed to have a
cumulative priority. In other words if you have 5 items within a Nest of
tasks, four of those are set to Max Importance/Urgency and the last and
current task is set to Low. The last one will have a higher ranking, than
say a nest of Two tasks first set to Normal, current task set to High. So
Nesting just in itself had an impact on the priority overall. Which to me
seems logically to an extent, but I know Eastside expected to see the task
with the Highest Priority above the one with the lower priority within the
ToDo List. If I understand it correctly Cumulative Priority will no longer
play a part? Unless the level of the task reaches about 20 levels deep, and
even then it will be very marginal. Is that right?

Just picking up on your point here, does this mean in essence I can not set
a task with a Higher Priority than a Parent? In other words if I set a
parent to Min, the Child to Max, they will cancel each other out to a degree
and set the task to Normal?

Sorry I have a hard time understanding all of this complexity :o)

Regards

Steve

-----Original Message-----
From: myLifeO...@googlegroups.com
[mailto:myLifeO...@googlegroups.com] On Behalf Of ratz
Sent: Sunday, November 12, 2006 04:44
To: MyLifeOrganized
Subject: [MLO] Re: Serious priority problems - Ratz please read



Example



-or-






--



berlingo
unread,
Nov 12, 2006, 12:40:16 PM



to MyLifeOrganized
Ratz, I think you really nailed it. My math is rusty, so I took the
brainles approach: I have put your formula in a spreadsheet (haven't
got the one you mentioned), and eureka: your algorithm is indeed
perfectly balanced.

Personally, I still think it strange that a subtask could have higher
importance than its parent (if importance is a timeless quality related
to the outcome of task). But your approach allows me to implement what
I want, simply by never raising the importance slider above the default
value of 1. By only using the lower half of the slider I can still give
subtasks a relative importance to eachother (and the parent). I think
this satisfies my needs for importance, and at the same time allows
others to use importance differently. I have no clear understanding of
why the base of your log function is chosen as it is, resulting in the
proposed range of values. I assume this is kind of the result of
experimenting and optimizing? In the end I don't think it matters much:
the base of your log function in combination to the slide values you
feed into it would only define the aggresiveness of the slider on
priority. (Might be worth considering this to become a user custimizing
feature too? sometime/maybe...)

As for urgency: do I understand correctly that you propose a 0-1 scale
for that too? I think that is required for your balanced slider
behavior to work (multiplying urgency values between 1-2 will always
result in ever higher urgency values for nested subtasks). If so, I
would again be perfectly happy with that.. For me, urgency should
behave exactly opposite to the importancy slider: I would think a
subtask can never be LESS urgent than its parent. So I would probably
never use the lower range of the slider, and just raise the slider on
urgency to have relative urgency expressed. I would need to practice
that a while to confirm my hunch. Again: other people can use the
slider freely to implement different views on using urgency.

The very interesting result of using both sliders in this 'unbalanced'
fashion is that together they are again nicely balanced. Meaning: a
very urgent but not so important task would end up on my todo list
close to a task that is not so urgent but very important.

I went through the helpfile, and I believe what you propose is very
much what is 'promised' in the helpfile, except for the 0-1 range in
urgency (helpfile shows 1-2).

As far as the impact of dates are concerned: the preference sliders
should allow each individual user to use dates or not. So sliders way
to the left should mean: no impact at all. Way to the right means a
heavy impact. Dates should only affect the urgency of tasks, not their
importance. As this date contribution is calculated individually for
each task it would not be affected by its parents. Again I must agree:
if you choose to work with dates, the urgency settings and even date
settings on the parent shouldn't matter (although the UI may provide
some warning on non-sensical settings. Like a due date on a sub-task
that is AFTER the due date of one of its parents.). Thus the nesting
problem cannot occur, and adding the contribution in the helpfile is
probably ok.

Now as far as the formula's are concerned: this is how it is described
in the helpfile (I have added some comments/questions):

If Start Date &lt; Due Date
Start date score contribution = (StartDate WeightFactor / (Task
Duration / Elapsed)) /2
Due date score contribution = (DueDate WeightFactor / (Task Duration /
Elapsed)) /2

If Start Date = Due Date (no start date) and the due date is farther
than 1 day away
Start date score contribution = (StartDate WeightFactor / (1 - (1 /
Remaining)))/100
Due date score contribution = (DueDate WeightFactor / (1 - (1 /
Remaining)))/100

Where Remaining = Date Selected in MLO To-Do - (Start or Due Date
depending on which contribution is being computed.

&gt;&gt;&gt; why devide by 100? I suppose this has something to do with the values that the weightfactor can take? Assuming the weight factor is 100, the max contribution would be 2 (with only 2 days to due date).

If Start Date = Due Date (no start date) and 1 day or less remains
until the due date
Start date score contribution = (StartDate WeightFactor /
(((ABS(Remaining -3) - Remaining) / ABS(Remaining -3)) /
(ABS(Remaining -3) -1)))/100
Due date score contribution = (DueDate WeightFactor / (((ABS(Remaining
-3) - Remaining) / ABS(Remaining -3)) / (ABS(Remaining -3) -1)))/100


Where Remaining = Date Selected in MLO To-Do - (Start or Due Date
depending on which contribution is being computed.

&gt;&gt;&gt; I needed Excel for this :-). The formula seems to behave strangely. Again, with a weight factor of 100, the contribution starts with a value of 2, dropping to 1,875 with only 0.5 days to go, and then climbing back to 2 for 0 days to go? Maybe I made a mistake, but this doesn't seem to be the desired behavior...?

Again, I feel we would all be much happier if Ratz' algortithms got
applied.... Can't wait to test drive that...

berlingo
unread,
Nov 12, 2006, 1:10:16 PM



to MyLifeOrganized
Steve, I think the behavior Eastside (and myself) have defended is
possible, just by restricting the use of the importance slider to its
lower, left side. Like I desribed in a separate post. Indeed, Min and
Max importance would cancel out to Normal. But then, a normal priority
level on a sub-task IS in fact a higher priority than its parent (that
had a Min prio). What would NOT be possible is to bring a single,
deeply nested task straight to top of your todo list simply by setting
its slider values to max. If there are other deeply nested tasks with
several parents having prio settings to MAX, you would not be able to '
beat' those tasks. But wouldn't that be expected behavior? If you tend
not to use the extremes of the scale (and stay close to the center of
the sliders for most tasks) you should come a long way in forcing
certain tasks to the top by choosing MAX values for both sliders, even
with heavy use of nesting.

Berlingo

Steve Wynn
unread,
Nov 12, 2006, 2:38:36 PM



to myLifeO...@googlegroups.com
Sounds good to me

Regards

Steve

-----Original Message-----
From: myLifeO...@googlegroups.com
[mailto:myLifeO...@googlegroups.com] On Behalf Of berlingo
Sent: Sunday, November 12, 2006 13:10
To: MyLifeOrganized
Subject: [MLO] Re: Serious priority problems - Ratz please read



Berlingo

--



eastside
unread,
Nov 12, 2006, 6:43:30 PM



to MyLifeOrganized
Hi, super-quick:

Ratz, one of my biggest concerns was that if I set the computer-ranked
sorting "by importance," the importance changed based on dates (and
overdue dates). That makes sense 'by importance and urgency' but not
just 'by importance'. My very overdue items were totally throwing off
importance rankings. Is this fixed?

eastside

berlingo
unread,
Nov 12, 2006, 8:08:26 PM



to MyLifeOrganized
Eastside, if I understand Ratz correctly (and in line with the
documentation) the due dates would not impact priority at all if 'by
importance' would be selected. Now I don't see how his proposed changes
to the slider settings is going to change that part of current
behavior. So if you are correct (I never checked) that due dates DO
affect ranking, then I think this needs some attention...!

Berlingo

eastside
unread,
Nov 13, 2006, 1:40:48 AM



to MyLifeOrganized
They do. Please check message #1 of 75...:-)

ratz
unread,
Nov 13, 2006, 6:29:27 AM



to MyLifeOrganized

Steve Wynn wrote:
&gt; Hi Ratz,
&gt;
&gt; One of the issues that was found was that a Nested task seemed to have a
&gt; cumulative priority. In other words if you have 5 items within a Nest of
&gt; tasks, four of those are set to Max Importance/Urgency and the last and
&gt; current task is set to Low. The last one will have a higher ranking, than
&gt; say a nest of Two tasks first set to Normal, current task set to High. So
&gt; Nesting just in itself had an impact on the priority overall. Which to me
&gt; seems logically to an extent, but I know Eastside expected to see the task
&gt; with the Highest Priority above the one with the lower priority within the
&gt; ToDo List. If I understand it correctly Cumulative Priority will no longer
&gt; play a part? Unless the level of the task reaches about 20 levels deep, and
&gt; even then it will be very marginal. Is that right?

What it means is you won't see odd arithmatic growth of importance
until past 20 levels. In the past you'd fall into the 2x2x2x2 symdrome
which could quickly get out of control in unexpectd ways.

&gt;
&gt; Just picking up on your point here, does this mean in essence I can not set
&gt; a task with a Higher Priority than a Parent? In other words if I set a
&gt; parent to Min, the Child to Max, they will cancel each other out to a degree
&gt; and set the task to Normal?

That's exactly right. That's the way it has to behave right now because
(1) it's multiplicative. (2) the default center is the neutral position
of 1.

It's was tradeoff, given the time I had to invest in the fix that work
for center normals and allow you to BOOST priorities and keep it clean
and simple. If you want the traditional behavior; you would have to
use only the left have of the slider.

I'm still thinking about some mods to allow a preference to be set that
says "Children never exceed priority of the parent" but I haven't
finished that.

ratz
unread,
Nov 13, 2006, 6:44:35 AM



to MyLifeOrganized
Well that's ummmmmm.... by design. It's not really something to fix;
it's yet another possible option. Let me explain.

If something has a duedate and a startdate; that implies some urgency.
I'm from the school of thought that say; if you put a duedate on the
bloody thing you should (1) honor it (2) update it -or- (3) remove it.
Notice that ignore it is not on my list :)

Seriously though; you can control that with the settings for weighting.
If you set the weight near a value of "1" you'll get almost no biasing
based on date.

I suppose there could be an option to toggle whether the date
information is even used; but then what would be the point of having
the dates in the first place? Just meta data?

I can send you a spreadsheet that shows off the date curve effects and
you can play with the values but what you'll find is that:

1) if there is just a due date; then it only gets boosted if it's over
due; the greater the overdue the more agressive the boast. If it's 3-4
days overdue it gets agressive.

2) If there is a start date; and it's allong time before the due date;
the task is assumed to require alot of attention between the start and
due date and it gets a pretty agreesive boost.

The current settings are:

FPriorityByImportance := mi + dw;
FPriorityByUrgency := mu + dw;
FPriorityByBoth := mi * mu + dw;

I suppose based on your logic that

FPriorityByImportance := mi ;
FPriorityByUrgency := mu + dw;
FPriorityByBoth := mi * mu + dw;

Might be better.

mi = my importance
mu = mu urgency
dw = datebased weighted adjustment.

What do people think? Ignore due dates in priority calc when in
Importance only mode? If you can convince Andrey to add yet another
option then it could be:

FPriorityByImportance := mi ;
FPriorityByImporatnceByDate := mi + dw;
FPriorityByUrgency := mu + dw;
FPriorityByBoth := mi * mu + dw;


ratz
unread,
Nov 13, 2006, 7:14:35 AM



to MyLifeOrganized

berlingo wrote:
&gt; Ratz, I think you really nailed it. My math is rusty, so I took the
&gt; brainles approach: I have put your formula in a spreadsheet (haven't
&gt; got the one you mentioned), and eureka: your algorithm is indeed
&gt; perfectly balanced.
&gt;
&gt; Personally, I still think it strange that a subtask could have higher
&gt; importance than its parent (if importance is a timeless quality related
&gt; to the outcome of task).

I may work on a caping algorithm; but the fact is A LOT of users expect
to be able to get some thing to move up the list by just changing it's
priority; That's why the screamed back when for a center defaulted
slider. It is what it is.

&gt; But your approach allows me to implement what
&gt; I want, simply by never raising the importance slider above the default
&gt; value of 1. By only using the lower half of the slider I can still give
&gt; subtasks a relative importance to eachother (and the parent). I think
&gt; this satisfies my needs for importance, and at the same time allows
&gt; others to use importance differently.

Exactly; and in that rare occasion you need to boost something you just
slide it to the left. That's exactly how I would use it. Always slide
left except in the case of need.

&gt; I have no clear understanding of
&gt; why the base of your log function is chosen as it is, resulting in the
&gt; proposed range of values. I assume this is kind of the result of
&gt; experimenting and optimizing? In the end I don't think it matters much:
&gt; the base of your log function in combination to the slide values you
&gt; feed into it would only define the aggresiveness of the slider on
&gt; priority. (Might be worth considering this to become a user custimizing
&gt; feature too? sometime/maybe...)

I had to back solve for it. I started with the need to go 10 levels
deep. For each level I need a base of 100 to get a curve that worked
10*100 = 1000. Then I wanted a granularity around 50 values so I had to
shift half of that or 25 places which yeilds 1025..... Since it's a Log
the "1" position equals the base. Soo that give the result 1000-1050
with a mid of 1025.

I could have gone to 20*100 but then there wasnt' enough changing in
the positional values. So the slider would loose granulatiry and we'd
have to scale the slider values to get them to be responsive and that
means extra computation and that's bad for the PPC. Fortunately I
tested the 1025 selecton and it was still pretty darn stable at 20
levels depth; you get some cummulative drift at 20 levels but it only
occurs in the last 7 positions of each extreme of the slider and then
it's only at .00001 drift. I can live with that :)

As for letting the user select the BASE of the Log; probably not a good
idea. First balanceing the spread and strength require preanalysis.
Second, The Log funciton is expensive in the CPU; if we did that; we'd
have to compute the formlas on the fly. On a PC no big deal; on a
battery device like the PPC, that's bad. In this way we can just load
the results in to a array and due lookups.

What could be done is we could compute some curve for other desired
behaviors and have multiple preloaded tables that people could choose
from.

&gt;
&gt; As for urgency: do I understand correctly that you propose a 0-1 scale
&gt; for that too? I think that is required for your balanced slider
&gt; behavior to work (multiplying urgency values between 1-2 will always
&gt; result in ever higher urgency values for nested subtasks). If so, I
&gt; would again be perfectly happy with that..

Well there are not realy 0-1 sales any more they are:

0.9964 ------ 1 ------- 1.0036

But yes they are the same.

&gt; For me, urgency should
&gt; behave exactly opposite to the importancy slider: I would think a
&gt; subtask can never be LESS urgent than its parent. So I would probably
&gt; never use the lower range of the slider, and just raise the slider on
&gt; urgency to have relative urgency expressed. I would need to practice
&gt; that a while to confirm my hunch. Again: other people can use the
&gt; slider freely to implement different views on using urgency.

Yes in your case you would get your behavior. On the right side. Of the
slider.

&gt; The very interesting result of using both sliders in this 'unbalanced'
&gt; fashion is that together they are again nicely balanced. Meaning: a
&gt; very urgent but not so important task would end up on my todo list
&gt; close to a task that is not so urgent but very important.

Yes very Covey of you. :)
You'd also be able to further refine it with the date wieghting
You Mode of operation might even make a good. "Pre-set option" that
Andrey could create that would lock the sliders so they only moved in
the half of the range that you prescibe. I think about 20% of the users
might perfer that; and capping a gui slider is pretty easy.

&gt; I went through the helpfile, and I believe what you propose is very
&gt; much what is 'promised' in the helpfile, except for the 0-1 range in
&gt; urgency (helpfile shows 1-2).

Yep that had to go it was never a good idea to use a 1-2 range in a
multiplicative world. Remeber the penny game Exp(2,30) = your rich!



divide by 100 place the result in the same order of magnitude as the
sliders side we ADD the weight to the imporantance and urgency it need
to be of the same scale.

&gt;
&gt; If Start Date = Due Date (no start date) and 1 day or less remains
&gt; until the due date
&gt; Start date score contribution = (StartDate WeightFactor /
&gt; (((ABS(Remaining -3) - Remaining) / ABS(Remaining -3)) /
&gt; (ABS(Remaining -3) -1)))/100
&gt; Due date score contribution = (DueDate WeightFactor / (((ABS(Remaining
&gt; -3) - Remaining) / ABS(Remaining -3)) / (ABS(Remaining -3) -1)))/100
&gt;
&gt;
&gt; Where Remaining = Date Selected in MLO To-Do - (Start or Due Date
&gt; depending on which contribution is being computed.
&gt;
&gt; &gt;&gt;&gt; I needed Excel for this :-). The formula seems to behave strangely. Again, with a weight factor of 100, the contribution starts with a value of 2, dropping to 1,875 with only 0.5 days to go, and then climbing back to 2 for 0 days to go? Maybe I made a mistake, but this doesn't seem to be the desired behavior...?

You need the spreadsheet I have to see what's going on :)

There's a bend in some of the curves.

1) If there is just a due date: Then:
a) way before the due date the increasing priority on a slight slope.
(no start date so we pace it)
b) just befor ethe due date its a level slope (no more increases
you've been warned already)
c) if it's over due the slope is step (lots fo boosing, it's overdue
darn it).

2) If there is a start date then:
a) the curve is a straight line that is steeper than (1a) and
shallower than (1c) hopefully the "why" is obvious.


&gt;
&gt; Again, I feel we would all be much happier if Ratz' algortithms got
&gt; applied.... Can't wait to test drive that...

Thanks I'll take the compliment. and the Blame for the current broken
set.

Steve Wynn
unread,
Nov 13, 2006, 12:41:37 PM



to myLifeO...@googlegroups.com
Hi Ratz,

Thanks for the great explanations. Personally I have the same view as you.
If its dated it should be done before or on the date, or if not updated or
removed. If its overdue, bang, it should be at the top of the list. It makes
sense to me the more overdue, the higher the priority. Why use dates in the
first place if you are not concerned about them becoming Overdue?

I think for Eastside though, he would prefer the further change you
mentioned.

Personally date wise everything sounds to me like it works as it should and
does make sense, makes a lot of sense. I wonder if a better solution would
be some sort of ToDo list filter, that could Show/Hide Overdue tasks, just
show Overdue etc. If people are not concerned that a task is overdue in the
list, so in reality just want to ignore it, then having a filter to hide
overdue items and just see current items might be an alternative solution?
Possibly a better solution? Because in that way you could focus on all
Overdue items in a separate manner, rather than have them dispersed all over
the ToDo list.

Regards

Steve

-----Original Message-----
From: myLifeO...@googlegroups.com
[mailto:myLifeO...@googlegroups.com] On Behalf Of ratz
Sent: Monday, November 13, 2006 06:45
To: MyLifeOrganized
Subject: [MLO] Re: Serious priority problems - Ratz please read









The current settings are:





Might be better.






--



eastside
unread,
Nov 13, 2006, 6:30:09 PM



to MyLifeOrganized
&gt; Well that's ummmmmm.... by design. It's not really something to fix;
&gt; it's yet another possible option.

I'm sorry, I don't understand. If I set ordering "by importance" rather
than "by importance and urgency," even if you think dates impact
urgency, then shouldn't dates be ignored in the ranking? What does "by
importance" mean if urgency is part of it?

&gt; Seriously though; you can control that with the settings for weighting.
&gt; If you set the weight near a value of "1" you'll get almost no biasing
&gt; based on date.

I don't know how to set values near "1" - there are no numerical
indicators on my weighing options. I set them to minimum. The small
bias becomes very large when the task is 20 days overdue--it shoots to
the top and pushes all undated important tasks down (no lectures,
please, on why I shouldn't have 20 day overdue tasks--I'm trying to dig
myself out, but I do have them).

&gt; I suppose there could be an option to toggle whether the date
&gt; information is even used; but then what would be the point of having
&gt; the dates in the first place? Just meta data?

Very simple. Dates are often ticklers. Remind me of a task on a certain
day. Also, I gave several extended analyses earlier in the thread about
why someone might want this behavior; I don't want to repeat it, but
maybe you can read the rest when you get a chance.

eastside
(from internet cafe)

ratz
unread,
Nov 14, 2006, 6:00:22 AM



to MyLifeOrganized

eastside wrote:
&gt; &gt; Well that's ummmmmm.... by design. It's not really something to fix;
&gt; &gt; it's yet another possible option.
&gt;
&gt; I'm sorry, I don't understand. If I set ordering "by importance" rather
&gt; than "by importance and urgency," even if you think dates impact
&gt; urgency, then shouldn't dates be ignored in the ranking? What does "by
&gt; importance" mean if urgency is part of it?

Well you are confusing what the program does; it computes a priority
based on importance and many other factors (goals, projects, due dates,
recursive emperical urgency rating, and recursive emperical importance
rating). The toggle you are referring to was simply meant to choose:
(1) which slider is included in that calculation and (2) how complex
the interface appeared to the user. Nothing more, nothing less. Since
the sliders use to do complete different things; it made sense to have
this option.

You are reading more into the semantics of the words choosen in the
interface than was every intended to mean. It simply (RIGHT NOW AT THIS
TIME) means (a) include importance in the calculation; (b) include
urgency in the calcuation. (c) include both in the computation.

That's why I noted up thread, that because of that interuptation, a
fourth check box might be needed.

&gt;
&gt; &gt; Seriously though; you can control that with the settings for weighting.
&gt; &gt; If you set the weight near a value of "1" you'll get almost no biasing
&gt; &gt; based on date.
&gt;
&gt; I don't know how to set values near "1" - there are no numerical
&gt; indicators on my weighing options. I set them to minimum. The small
&gt; bias becomes very large when the task is 20 days overdue--it shoots to
&gt; the top and pushes all undated important tasks down (no lectures,
&gt; please, on why I shouldn't have 20 day overdue tasks--I'm trying to dig
&gt; myself out, but I do have them).
&gt;

I forgot Andrey went to sliders instead of interger fields. You'll have
to lobby andrey to allow the range to be set to "1" as a minmum. The
algorithm can handle it.

Well I'll lecture anyway; garbage in garbage out; the tool can't save
you from that. The program shouldn't change just because you don't want
to fix your data. If something is 20 days overdue then you need to
re-negotiate that due date with someone (either yourself, or an
exterior person)...... Ok lecture over.....

;)

&gt; &gt; I suppose there could be an option to toggle whether the date
&gt; &gt; information is even used; but then what would be the point of having
&gt; &gt; the dates in the first place? Just meta data?
&gt;
&gt; Very simple. Dates are often ticklers. Remind me of a task on a certain
&gt; day. Also, I gave several extended analyses earlier in the thread about
&gt; why someone might want this behavior; I don't want to repeat it, but
&gt; maybe you can read the rest when you get a chance.
&gt;

I read it; I just don't agree. however, that doesn't matter... I'm not
responsible for that part of the program. The algorithms are in 6
unique modules. The way the program combines them is up to all you and
Andrey.... Yeah I'm ducking but I don't even use the program right now
soooo my opinion doesn't really matter.

The one thing to remember is: The interface and the options, need to
remain as KISS as possible if the software is to obtain new users. This
is a balancing act; all these changes needed to be VETED like crazy and
minimized to the cleanest implementation possible.

Andrey Tkachuk (MLO)
unread,
Nov 14, 2006, 8:25:42 AM



to MyLifeOrganized
Thanks to everybody for this excellent thread! Honestly I did not have
a chance to read all the posts with full attention. I completely relay
on Bob (ratz) here. He is the owner of the algorithm and I will not
change it without his permission :)

This is to confirm that I have received new version from Bob and will
try to apply it ASAP. I have to analyze how these changes affect
existing code (data file format, XML, PPC, PPC sync, Outlook sync etc -
as you can see - much of work :-) )


Thanks again to all for your ideas and patience.

Andrey.

miss....@googlemail.com
unread,
Nov 14, 2006, 6:32:52 PM



to MyLifeOrganized
Thank you Ratz!!

I have been following this thread &amp; the previous one you posted on the
priority algorithm with interest (I tried to post a reply to both but
for some reason they never showed up - perhaps because I was trying to
do it through the beta version of google groups?) &amp; some degree of
trepidation, as I fall VERY heavily into the urgency-slider-supporter
group!

All this talk of scrapping the urgency slider was worrying me as I
conceptualise it as completely separate from due date &amp; importance, and
I REALLY didn't like the "four-quadrant" single slider idea as it
seemed both horribly simplistic (in terms of losing all the subtlety in
the balance between importance &amp; urgency) &amp; horribly complicated (in
terms of having to somhow mentally combine urgency &amp; importance
everytime I wanted to adjust the values. I use MLO partly because I'm
so bad at doing this in my head!!).

But I also totally agreed that there were flaws in the priorty
algorithm that needed sorting out asap.

So I'm extremely happy you've managed to find a solution that should
keep everyone relatively happy!! Yay!

To berlingo: I don't quite understand what you mean when you say that a
subtask shouldn't be able to have higher importance than it's parent as
importance in MLO is importance RELATIVE to the parent task, thus if I
set importance of the subtask to max that means it is ESSENTIAL to its
parent task. So, say I want to go on a night out, and I set a subtask
to arrange a babysitter, that subtask is set to max importance since I
can't go out if I don't have anyone to look after the kids (it doesn't
mean that getting a babysitter is more important than going out on some
abstract level!). Another subtask for this parent might be "buy new
outfit", but that would be less important as I can probably manage
without new clothes! I'd say "normal" importance would be something
that really ought to be done in order to achieve the parent task, but
isn't critical. Importance in MLO is not some abstract, absolute
concept - it is all relative to the parent task.

On Nov 14, 8:25 am, "Andrey Tkachuk (MLO)" &lt;for...@myLifeOrganized.net&gt;
wrote:


berlingo
unread,
Nov 14, 2006, 9:42:56 PM



to MyLifeOrganized

miss....@googlemail.com schreef:

&gt;
&gt; To berlingo: I don't quite understand what you mean when you say that a
&gt; subtask shouldn't be able to have higher importance than it's parent as
&gt; importance in MLO is importance RELATIVE to the parent task, thus if I
&gt; set importance of the subtask to max that means it is ESSENTIAL to its
&gt; parent task.
&gt; So, say I want to go on a night out, and I set a subtask
&gt; to arrange a babysitter, that subtask is set to max importance since I
&gt; can't go out if I don't have anyone to look after the kids (it doesn't
&gt; mean that getting a babysitter is more important than going out on some
&gt; abstract level!). Another subtask for this parent might be "buy new
&gt; outfit", but that would be less important as I can probably manage
&gt; without new clothes! I'd say "normal" importance would be something
&gt; that really ought to be done in order to achieve the parent task, but
&gt; isn't critical. Importance in MLO is not some abstract, absolute
&gt; concept - it is all relative to the parent task.
&gt;

Well, not surprisingly I have a slightly different view. First: I do
agree that importance setting of an individual task should be relative
to its parent. But when that task is ranked against others, it is the
parents importance that should set the maximum importance ANY of its
subtasks would get.
Your own example: say your night out has normal importance to you. Now
getting a babysitter has maximum importance TO THE PARENT. In my book
that means on my overall ToDo list the importance should be normal.

I simplified an example from the very first message in this thread
(Eastside, take the credit, urgency taken out of the example):

"Let me give you a more real-world example, using the form (I=normal):


Task 1:
Smith account (I=less)
--contact Smith about re-order (I=max)
---look in catalog for relevant new products to offer Smith (I=max)
----look at old Smith order to find what types of products he is
interested in (I=max)
-----ask Jane to give me old Smith order (I=max)
------find Jane's phone number to call her (I=max)


Task 2:
Heart medication (I=max)
--call pharmacy to get heart medication refill (I=max)
"

A ranking algortithm that would allow a subtask to gain more importance
than its parent would easily put 'find Jane's phone number to call her'
above the task to call the pharmacy. The highest level task 'Smith
account' is less important than the other highest level task 'Heart
medication'. That is why even when ALL subtasks in the task 1's tree
are set to MAX values, the overall importance should NEVER exceed a
first level subtask of task 2 at MAX importance.

As I argued before, you could STILL put a less important task higher on
your list if the URGENCY of the subtasks differ. That would make sense
if (mixing both examples) you need to get the babysitter TODAY, but
could wait for a couple of days to get the heart medicine.

Please accept that I am only trying to explain, NOT to convince. I am
perfectly happy if I can get MLO to behave in this fashion (and with
Ratz' suggested improved algorithm I can) and accept that other people
want to use MLO differently...

Berlingo

ratz
unread,
Nov 15, 2006, 12:06:02 AM



to MyLifeOrganized
Ok I lied one last reply.....

We loose that key feature; by going with Centered Sliders; AND the
current implementation.....

However you get the behavior you want; by doing as eastside noted: Only
move the importance slider to the left of center; and only move the
urgency slider to the right of center.

Frankly that's how I would use it and I suspect many of the purists
will too; and we still get to cater to those with other desires.


ratz
unread,
Nov 15, 2006, 12:23:15 AM



to MyLifeOrganized
To keep the masses happy....

I have a couple more inputs; the following changes to deal with the
sulte EDGE cases and users.

Make the following changes to the preferences.

Due date weight factor range = .02 - currentMax
Start date weigh factor range = .02 - currentMax

Test in BETA to make sure no divide by Zero errors.


Two new check boxes in the preference
==================================
Parent's Importance is the Maximum for Branch= [X]
Parent's Urgency is the Minimum for Branch = [X]

These two check boxes can be set independently of each other; and they
affect what the gui can does.

If the first one is checked then gui only allows the importance slider
ranges from Minimum Value to a Max of 1 If the second one is checked
then gui only allows the urgency slider to range from a Minimum Value
of 1 to the Max Value.

WARNING throw up with these options that sliders will have to be
adjusted automatically if they are out side the range. Sorry guys but
if we trapped this in the algorithm and NOT the gui then the algorithm
would get slowed down by two more RECURSIVE IF/THEN clauses and there
would be a speed penalty. So the idea of the toggle changing your data;
is less harmful...

so

Basically the importance slider can only move left; and the urgency
slider can only move right; when their option is selected.

Parent's Importance is Maximum CHECKED = slider range of



Parent's Urgency is the Minimum CHECKED = Slider range of




With that; I think we have EVERYONE's way of thinking cover and USER
FRIENDLY interface once you've configured it like you like...... Gosh I
hate to think how fun it's going to be to explain this to the
newbies....

This would be a PAID verison function only..... No Pay no play....
:)

berlingo
unread,
Nov 15, 2006, 9:30:30 AM



to MyLifeOrganized
Ratz, I didn't dare to ask for what you just described. Expanding the
GUI in that fashion would be GREAT.

srd
unread,
Nov 15, 2006, 11:29:22 AM



to MyLifeOrganized
I had gathered from what eastside wrote, the problem with the previous
algorithm was that depth artificially deflated the importance of an
item. In other words, if the importance of the parent was 1/2 and the
child relative to the parent also 1/2, the overall computed importance
of the child would not be 1/4, as the multiplicative model requires but
a lower value than 1/4. But I must have read wrong, because you seem to
be saying that with parent and child each at 1/2, the desired result is
1/2, not 1/4.

This scheme might have some desirable properties, but it reflects a
totally different logic than the multiplicative model. You can no longe
interpret the importance values set for a particular level as relative
utilities. The process of rating importance should no longer be
conceived as rating importance relative to a parent. But they cannot be
conceived as independent estimates either.

What would be nice to see is a conceptual interpretation of the new
algorithm. The importance of _what_ is being rated; the importance of
_what_ parameters is being averaged when the user assigns importance
values to items?


Steve Wynn
unread,
Nov 15, 2006, 7:08:17 PM



to myLifeO...@googlegroups.com

Hi Guys,

 

I have just been thinking about this whole thing, which can be a little dangerous, and I am starting to think we have this all the wrong way around.  I realise the new Algorithm is done etc, that’s fine. But I just thought I would share my new thoughts on this whole Importance/Urgency debate.

 

How can you consistently rank things on Importance? I don't think you can!

 

In the original example:-

 

Task 1:

Smith account (I=less, U=normal)

--contact Smith about re-order (I=more, U=normal)

---look in catalog for relevant new products to offer Smith (I=more,

U=normal)

----look at old Smith order to find what types of products he is

interested in (I=more, U=normal)

-----ask Jane to give me old Smith order (I=max, U=normal)

------find Jane's phone number to call her (I=max, U=normal)

 

Task 2:

Heart medication (I=max, U=normal)

--call pharmacy to get heart medication refill (I=max, U=max)

 

In real terms it doesn't make any sense. How can Smith Account be Less Important and all the subtasks have More or Max Importance? Just in general terms the only Importance variable as a whole, is whether or not anything should be done with the Smith Account in other words whether you should have accepted the commitment to do it, or not. If you have accepted the commitment to do it, then it is important. Full stop. It’s only not important if you are not going to do it, and in that case why is it on the list? The only bearing now, if it does need doing, is when it needs to be done (Urgency).

 

So to me the Smith Account should not be ranked by importance at all, but should be based solely on Urgency.


The same with Heart Medication, 'Call Pharmacy' should be ranked solely on Urgency. In other words how low your medication is, how soon you need to get some more.

 

If the priority was based on Urgency alone, there is no way ‘Find Janes Phone number’ (unless it was dated/overdue) would be higher than ‘Heart Medication’.

 

By using Low Importance on the Smith Account, that is just a decision to neglect it. If you are going to neglect it, why make the commitment to do something with it?  Obviously in this example a commitment has been made to do something with it, so it can't or shouldn't be even set to Less Importance.  

 

Probably the only reason we want to rank things by Importance is because we are overly committed.  To try and get some order in our Workloads we are ranking things with Importance settings. But perhaps we should instead look to cut back on our overall commitments, rather than try and rank tasks with Importance. View Importance more in terms of your Life as a whole.  Ask a question 'Is this Task/Project Important enough to me that I am going to make a commitment today that either now or in the near future, I am going to complete it?". If it is, add it to the list and base your priority on when you need to complete it (Urgency). If not, decline it, don't do it. Say 'No'. Or perhaps put it in your Someday/Maybe list to be reviewed later when you are less committed.

 

If priority is based solely on Urgency then we base what we need to do mainly on what is due Today/Tomorrow, in realistic terms. Then we can focus on doing tasks with Normal/Low urgency so that they do not become High Urgency later on.

 

So I am really starting to think Importance with regards to Priority is really irrelevant. The only Importance factor is whether you are going to commit to doing it or not. The actual priority of a task should, most probably, be based on Urgency alone.

 

Thought I would just share that, I told you thinking was a dangerous pastime for me :o). But I think personally I am going to adopt this view and base my rankings on Urgency alone.

 

Regards

 

Steve

 

 

-----Original Message-----
From: myLifeO...@googlegroups.com [mailto:myLifeO...@googlegroups.com] On Behalf Of berlingo
Sent: Tuesday, November 14, 2006 21:43
To: MyLifeOrganized
Subject: [MLO] Re: Serious priority problems - Ratz please read

 

 

 

miss....@googlemail.com schreef:



 

 

 

--

No virus found in this incoming message.

Checked by AVG Free Edition.

Version: 7.1.409 / Virus Database: 268.14.4/532 - Release Date: 13/11/2006

scoobie
unread,
Nov 15, 2006, 11:58:51 PM



to MyLifeOrganized
Steve
I disagree, even if you discard tasks you can't do, what's left is
still going to have it own different priorities in terms of relative
importance. And you should be working on those things that are urgent
and important first from what you've decided to keep and not put into
the someday maybe category. Also, I think there is an underlying
assumption in your argument that you know what you can fit into your
time- that's something I don't actually know.

Steve Wynn
unread,
Nov 16, 2006, 3:25:22 AM



to myLifeO...@googlegroups.com
Hi Scoobie,

Ok, so how do you define Low Importance at Task/Project level? What
constitutes Low Importance? Aren't you really just making a decision by
setting something to Low Importance that you are not going to address it any
time soon, which is actually more of an Urgency decision?

Now if I am using Urgency as an indicator for tasks and Projects, I can
quite easily say something is of Low Urgency. Basically it doesn't require
action for the time being.

Won't all these Low Importance items eventually just congeal into a large
mass of stuff? Considering if they are Low Importance they will likely not
be actioned. How does something of Low Importance ever increase on the scale
to High Importance?

Don't get me wrong I think Importance plays a part, but perhaps plays a part
at a higher level than at task level and even higher than Project Level.
It's possibly at the level of Focus Areas.

I have been looking at my outstanding workload and I was trying to think
what is the most Important Task/Project? What is the least Important?

I was thinking that a Business related Project was more Important than a
Personal Project. But then when I got to thinking about it, the Business
Related Project in reality was only more Important than the Personal Project
because it required completion before the Personal Project, in other words
the Importance I am placing on it is really based on Urgency at the core.

Then I started to think, so am I actually saying my Business Life is more
Important than my Personal Life? Well no, not really. They are probably of
equal Importance to me. Now there are areas within both my Business Life and
Personal Life that have more Importance with relation to other areas. That's
really where I can see Importance plays a part, and plays a big part - Focus
Areas. You probably wouldn't rank your Hobbies above the Importance of your
Career for example. Though who knows some might!

Say for example the Business Project was revenue generating, in other words
it will make me some money. Should it then have a Higher Importance? Now I
was thinking this and typically I would have said yes. But then again I got
to thinking and thought no, it has a degree of Urgency related to it. The
underlying factor is how soon do I need the money? More of an Urgency issue.

So I wonder how much of the prioritising by Importance is really,
consciously or unconsciously, actually prioritising by Urgency?

I don't think time has much to do with it overall, what I am saying is if
you are overloaded and have too much work. Then should you decide what is
Important or Not Important? Or should you decide to cut back on the
commitments you have made? If not the ones you are already commitment to,
then any future commitments until at least you can get things current.

If I said to you today, "Scoobie here are 30 Projects that I want you to do,
they work out at 10 man hours a piece. But don't worry they are Low
Importance". Do you accept and add them to the rest of your Low Importance
Projects. If you accept them from me, you are making a commitment to me
that you will do them. Or would you better to say "Steve, sorry I have too
may commitments at the moment I can't handle anything else".

Like I say I am having a hard time seeing that anybody could consistently
prioritise by Importance, because I don't really see how something ever
moves up the scale after its initial setting. Yes by Urgency I can see it
makes sense as the closer you get to the date when you require completion
the more Urgent the task/project, just not so sure on Importance.

Then again with all of these discussions just recently I might have lost the
plot :o).

Regards

Steve


-----Original Message-----
From: myLifeO...@googlegroups.com
[mailto:myLifeO...@googlegroups.com] On Behalf Of scoobie
Sent: Wednesday, November 15, 2006 23:59
To: MyLifeOrganized
Subject: [MLO] Re: Serious priority problems - Ratz please read



--


No virus found in this incoming message.
Checked by AVG Free Edition.


Version: 7.1.409 / Virus Database: 268.14.5/534 - Release Date: 14/11/2006

ratz
unread,
Nov 16, 2006, 6:15:17 AM



to MyLifeOrganized
Argg.... You guys keep dragging me back in here.....

Let me say this very FIRMLY for the the record. The algorithm is
Multiplicative; That's what is needed to have Parent Child priority
rankings; and have a forumla the is CPU friendly... Trust me MLO is
doing a heck of a lot of caculations of the fly.

If you want RECURSIVE and RELATIVE priorities and you want it to work
right from an importance standpoint then the MAX has to be "1" or it
doesn't stay logical. If you want URGENCY and what that implies for
RECURSIVE and RELATIVE urgency; then you have to have the MIN at "1"

That's the way the software use to work......

A large number of potential users could not accept that the default for
IMPORTANCE had to be the MAX "1" and URGENCY had a default at the MIN
of "1"

I THINK this is because they couldn't get over the fact that they
needed to sped the time with the outline to lower the things that
weren't really MAX Importance... (In my life there are really at most 2
things that are MAX Importance).... But because they had so much STUFF
at MAX they couldn't get the really important stuff high on the list
because there was no leiway in the slider because they were all maxed.
For somereason these same people couldn't bring themselves to use the
urgency slider to boast the priority... don't ask me why; cause I
would've just used the urgency slider....

SO.... we get all this clammering for a center defaulted slider;
without comprehening what that meant....

After much delay I caved and made the change; I was really short on
time back then and I really picked a poor solution.....

Fast Foward to today....

We are going back to the orginal algorithm AND we are going to give you
enough controls that you can make it operate 100% in the pure
RECURSIVE/RELATIVE mode; or you can selectively activate the hibreed
behaviour for either important or urgency or both.

PERSONALLY I would run in the mode where IMPORTANCE was PURE and only
RELEATIVE with a MAX of 1; and where URGENCY was in UNPURE mode and
could have a MIN &lt; 1.

BUT the point is you'll now be able to set the way you like. Everyone's
a little different so hopefully this makes both camps happy; and this
will easily be the most flexible outliner with priorities out there.


ratz
unread,
Nov 16, 2006, 6:17:48 AM



to MyLifeOrganized
Well fortunately if you just leave the importance at it's defautl
setting; it won't factor into your rankings and you'll be able to do
exactly that.... wow; what well designed software ;)

....sorry couldn't resist.


wowi
unread,
Nov 16, 2006, 1:43:18 PM



to MyLifeOrganized
Steve,

I think what you say contains a lot of truth: In the end, you have to
organise the doing of the things you are committed to. For that you can
use the priority mechanism of MLO. But it is most important to stay on
top of what you are committed to and to have a sharp line to other
things you haven't committed to. In GTD terms this is what you put on
someday/maybe - things which aren't on your agenda for the next 1 or 2
weeks.

Normally, again speaking in GTD terms, I try to decide at the weekly
review what I move from someday/maybe to committed. Also the other way
is possible which can be seen as the result of a renegotiation with
myself or somebody else. MLO provides a number of mechanisms to support
this, like weekly goals to highlight committed tasks and rank them high
in the todo list or the possibility to hide tasks in the todo list
(which could be seen as an equivalent to someday/maybe). Then the
ranking algorithm only needs to work on the committed tasks.

If following this idea, I "help" the ranking algorithm during my weekly
review by pruning the projects and tasks which go on the todo list at
all. And I personally like this approach - it gives me the control
about what is important (which is on the list).

What I would like to see is a better support for reviews (i.e. for
planning). I don't want to automate planning - I just would like to get
more information in the outline views:

For instance,

provide a view of committed projects (to be able to plan on the level
of projects and not single tasks) and uncommitted projects. Possible in
the project view (in progress vs. not started or suspended), but
without the complete hierarchy which for me leads to many switches to
the view "all tasks".

make it possible to commit a project and bring it up into the todo
list, or the other way round: suspend a project and hide it in the todo
list (currently you can do this only by explicitly hiding the tasks,
the suspension of project does not affect the todo list)

allow to bring up a project again into the state of in-progress (or a
new project state: consider for commit) based on a date - then I can
decide in advance when to consider this project for review or organise
weekly, monthly, quarterly reviews, etc.

So in essence, I would like very much to have a clearer concept to
distinguish between committed projects and tasks and uncommitted and
suspended ones and to use this both for the organisation of the todo
list and for the orgainsiation of the outline.

Sorry for not talking so much about the algorithm :-)

Wolfgang

Bob Pankratz
unread,
Nov 16, 2006, 3:14:28 PM



to myLifeO...@googlegroups.com
Have you tried the GOAL check boxes?

Steve Wynn
unread,
Nov 16, 2006, 3:48:30 PM



to myLifeO...@googlegroups.com
Hi Wolfgang,

I think the key is to manage commitments, I am just not so sure anymore that
the use of either Importance or even Urgency is a good foundation.

I have decided to opt for a fully Closed List approach, as I will clear the
list every day it doesn't matter in what order I perform the tasks. So the
only Importance factor that figures into the equation is when I decide what
I am going to do, which I will then base on my various commitments and Areas
of Focus etc. Only truly Urgent items that come in today will get added to
my Closed List once it has been defined, everything else gets deferred until
tomorrow. In this way I don't need to concern myself too much about
Importance/Urgency or even task ordering.

I do like your ideas with regards to reviews, features like that would be
very useful indeed. I would raise them as feature requests and see if other
people would find them useful, I am sure they would.

Regards

Steve


-----Original Message-----
From: myLifeO...@googlegroups.com
[mailto:myLifeO...@googlegroups.com] On Behalf Of wowi
Sent: Thursday, November 16, 2006 13:43
To: MyLifeOrganized
Subject: [MLO] Re: Serious priority problems - Ratz please read


Steve,






For instance,







Wolfgang

--



wowi
unread,
Nov 17, 2006, 11:47:39 AM



to MyLifeOrganized

Bob Pankratz schrieb:

&gt; Have you tried the GOAL check boxes?
&gt;

Of course, I use the weekly goals - basically for the purpose of
showing only the tasks in the todo list (or to bring them up to the
top) which I intend to do during a week. But this does not help me for
the planning phase which is done in the outline. You could plan from
the goal view or from the project view - but here I have the problem
that I don't see the whole context of a task or project - I can only go
down to the subtasks but not up to the higher level. And you don't see
a context field as in the to do list where you can add the project
automatically to a task (or have I overlooked an option which would
allow a similar thing in the outline view "by project"?). Thus, I have
to toggle between the different views of hte outline.

So my main point is get some additional support in organising the
outline (selective view including the relevant hierarchy, pruning on
the basis of project attributes, maybe goals, etc.) to support the
reviews. I hope that this will be possible in one of the next versions
- Andrey seems to plan to enhance the possibilities of the outline view
and to add more filter mechanisms.

Wolfgang

srd
unread,
Nov 18, 2006, 8:58:26 AM



to MyLifeOrganized
As regards responsiveness of the developers, I think there is obviously
reason to worry. The guy who developed the algorithm, Ratz, isn't the
developer of the program, although he wrote the algorithm and is the
only person able to repair it. Ratz is a volunteer. There is apparently
no on under contract to the developer who can respond to problems such
as have been recently voiced and corrected.

drosene wrote:
&gt; A comment from a new user. I have been looking for a product like MLO
&gt; off and on for a long time. I only recently downloaded the product and
&gt; have begun to load my existing projects, tasks and activities. Today I
&gt; stumbled on this forum and after reading this post hope that I am not
&gt; wasting my time! I too looked forward to an intelligently organized
&gt; ToDo List as a byproduct of my initial data entry. I couldn't wait to
&gt; see how it reduced the time I currently spend each day reviewing
&gt; "priorities".
&gt;
&gt; I have just one question. How responsive have the developers been over
&gt; time to true issues raised with the product? I'm talking about bugs,
&gt; not about enhancements or the philosophy of product usage.
&gt;
&gt; MLO s states on its home page: "The To-Do list with actions that
&gt; require immediate attention will be generated. This list of next
&gt; actions will be sorted in order of priority to keep you focused on the
&gt; most important tasks." Based on my reading of this thread, that
&gt; statement is not correct, primarily due to a bug in an algorithm. I
&gt; only want to know when it will be fixed. I guess thats a second
&gt; question, so here is my last. Is this forum the best or only place to
&gt; raise this issue?

Steve Wynn
unread,
Nov 18, 2006, 11:51:23 AM



to myLifeO...@googlegroups.com
I think that is a little unfair. The priority algorithm itself was actually
working as designed and there wasn't a problem. It was the users who wanted
it to work slightly differently, had slightly different expectations, hence
the soon to be released enhancements.

To me the response has been quick, if you look at this whole thread there
were a lot of issues that needed to be ironed out. Once the bulk of that had
been discussed, which did take time; Ratz implemented the changes to meet
the required expectations.

I understand your concern about Ratz being a volunteer, but to me it makes
sense to utilize people with specialized knowledge. If those people are
willing to give up their own time and effort to assist in the software
development process they are a considerable asset. I am sure the developers
wouldn't implement any code they do not fully understand and I am sure they
are capable of fixing any problems, in the event that Ratz is not available.
I think it's just preferred if Ratz is around to have him implement the
changes to the algorithm, because at the end of the days it's his code.

So personally I view it as an advantage to have people like Ratz making
contributions to the development process. Because it basically gives us
extra functionality that may not ordinarily be included.

Regards

Steve


-----Original Message-----
From: myLifeO...@googlegroups.com
[mailto:myLifeO...@googlegroups.com] On Behalf Of srd
Sent: Saturday, November 18, 2006 08:58
To: MyLifeOrganized
Subject: [MLO] Re: Serious priority problems - Ratz please read


As regards responsiveness of the developers, I think there is obviously
reason to worry. The guy who developed the algorithm, Ratz, isn't the
developer of the program, although he wrote the algorithm and is the
only person able to repair it. Ratz is a volunteer. There is apparently
no on under contract to the developer who can respond to problems such
as have been recently voiced and corrected.

drosene wrote:
&gt; A comment from a new user. I have been looking for a product like MLO
&gt; off and on for a long time. I only recently downloaded the product and
&gt; have begun to load my existing projects, tasks and activities. Today I
&gt; stumbled on this forum and after reading this post hope that I am not
&gt; wasting my time! I too looked forward to an intelligently organized
&gt; ToDo List as a byproduct of my initial data entry. I couldn't wait to
&gt; see how it reduced the time I currently spend each day reviewing
&gt; "priorities".
&gt;
&gt; I have just one question. How responsive have the developers been over
&gt; time to true issues raised with the product? I'm talking about bugs,
&gt; not about enhancements or the philosophy of product usage.
&gt;
&gt; MLO s states on its home page: "The To-Do list with actions that
&gt; require immediate attention will be generated. This list of next
&gt; actions will be sorted in order of priority to keep you focused on the
&gt; most important tasks." Based on my reading of this thread, that
&gt; statement is not correct, primarily due to a bug in an algorithm. I
&gt; only want to know when it will be fixed. I guess thats a second
&gt; question, so here is my last. Is this forum the best or only place to
&gt; raise this issue?




ratz
unread,
Nov 18, 2006, 6:23:43 PM



to MyLifeOrganized

srd wrote:
&gt; As regards responsiveness of the developers, I think there is obviously
&gt; reason to worry. The guy who developed the algorithm, Ratz, isn't the
&gt; developer of the program, although he wrote the algorithm and is the
&gt; only person able to repair it. Ratz is a volunteer. There is apparently
&gt; no on under contract to the developer who can respond to problems such
&gt; as have been recently voiced and corrected.
&gt;

Nah it's not that bad.

Yes I worte it But it's out there in the complete open for anyone to
see. The only reason it falls to me is that (1) I know pascal/delphi so
I can read the program code. (2) I understand the "problem space" or at
least what you all are asking for in the GTD/FC spaces etc. (3) I have
the math and algorithm background to know who to write a FAST algorithm
that will get close to what you want.

This I can tell you; Andrey crafted a beautiful modular program. The
algorithm lives in the code as a plugin. If you anyone else wants to
write an alternative. Go head; we'd all love to see it. If you can
document it; and make it viable; adding it to the code base would be
trival.....

That's basically how mine got in there; I said "yuck" I don't want
heirachial (the orginal algorithm). So I wrote the thing; documentated
the heck out of it; made a visualization spreadsheet. Gave it to this
group for commit and feedback and then modified it and gave it to
Andrey and then assisted with the debug.... In the end you just have
to want to do it.

The only thing I've avoided was documenting the broken version;
(because I knew it was broken but I could see a have your cake and eat
it too solution, so I left it in the mode that solved the squeeky wheel
needs.) Basicallly I had algorithm block I went a couple of months not
wanting to think about it; but hey that's life. ...........BUT if
anyone had emailed be directly about how to fix it; and they were
trying to fix it; I would have answered and helped; I just didn't have
time to track this list.... Actually that's why I jump back in; someone
emailed me; asked the KEY question and that lead to the Ah Hah moment;
and a week later we have a fix. That allows the algorithm to be tweaked
for (by my count) 6 different use models.

For a while I'm tracking this really long single thread just incase
anything else interesting gets asked... So please keep the conversation
on this one thread; I don't have the time to track 4 or 5 threads; just
this one.

So if you will: (1) I own this algorithm; but people may contact me and
work with me to improve it and I will sign off on real improved. (2)
there is nothing that stops anyone from coming up with an alternative
and preparing it for integration, there should be sufficient visabilty
to my stuff to make that easier than it might otherwise be.

&gt; drosene wrote:
&gt; &gt; MLO s states on its home page: "The To-Do list with actions that
&gt; &gt; require immediate attention will be generated. This list of next
&gt; &gt; actions will be sorted in order of priority to keep you focused on the
&gt; &gt; most important tasks." Based on my reading of this thread, that
&gt; &gt; statement is not correct, primarily due to a bug in an algorithm. I
&gt; &gt; only want to know when it will be fixed. I guess thats a second
&gt; &gt; question, so here is my last. Is this forum the best or only place to
&gt; &gt; raise this issue?

It's not that it was a bug. The community at large insisted that the
sliders should be defaulted to the center of the scale. We had LENGTHY
discussion about why that wasn't what they really wanted because the
implications were nasty. But after trying and failing, to dissuad them
we me the quick change to do that. It worked but it had exactly the
ramifications that I thought it would..... That all happened at the
same time I left my day job to start a business. So I had to

The good news is now that the power users have lived with it for awhile
they got a CLEAR understanding of the problem and I am no longer
arguing with a wall. That gave me enough new feedback, that I could go
back to the orginal algorithm and modify it to minimize the side
effects and give a number tweaking option. The result is we have a
pending implementation the is better than all of the previous ones; in
that you can get just about any behavior you prefer. This really
doesn't happen in a vaccumm we need real world problems to move
forward.

I am here as much as I need to be but not much more; I have spent the
last year starting a new business and it precludes me from hovering on
the list and watching for that key bit of info.

ratz
unread,
Nov 18, 2006, 6:25:26 PM



to MyLifeOrganized
ok well said.... I've agree about that since the beginning; alas it's
always taken a back seat to things like syncing to the PPC; which
really really ate a ton of development time.

wowi wrote:
&gt; Bob Pankratz schrieb:
&gt;
&gt; &gt; Have you tried the GOAL check boxes?
&gt; &gt;
&gt;
&gt; Of course, I use the weekly goals - basically for the purpose of
&gt; showing only the tasks in the todo list (or to bring them up to the
&gt; top) which I intend to do during a week. But this does not help me for
&gt; the planning phase which is done in the outline. You could plan from
&gt; the goal view or from the project view - but here I have the problem
&gt; that I don't see the whole context of a task or project - I can only go
&gt; down to the subtasks but not up to the higher level. And you don't see
&gt; a context field as in the to do list where you can add the project
&gt; automatically to a task (or have I overlooked an option which would
&gt; allow a similar thing in the outline view "by project"?). Thus, I have
&gt; to toggle between the different views of hte outline.
&gt;
&gt; So my main point is get some additional support in organising the
&gt; outline (selective view including the relevant hierarchy, pruning on
&gt; the basis of project attributes, maybe goals, etc.) to support the
&gt; reviews. I hope that this will be possible in one of the next versions
&gt; - Andrey seems to plan to enhance the possibilities of the outline view
&gt; and to add more filter mechanisms.
&gt;
&gt; Wolfgang

J-Mac
unread,
Nov 19, 2006, 8:50:16 AM



to MyLifeOrganized
How do we know when the new algorhthym is available. How do we download
it? Is it just in the next version? Or is it a plug-in that we download
and add ourselves?

Thanks.

On Nov 18, 1:23 pm, "ratz" &lt;bob.pankr...@gmail.com&gt; wrote:
&gt; srd wrote:
&gt; &gt; As regards responsiveness of the developers, I think there is obviously
&gt; &gt; reason to worry. The guy who developed the algorithm, Ratz, isn't the
&gt; &gt; developer of the program, although he wrote the algorithm and is the
&gt; &gt; only person able to repair it. Ratz is a volunteer. There is apparently
&gt; &gt; no on under contract to the developer who can respond to problems such


&gt; &gt; as have been recently voiced and corrected.Nah it's not that bad.



&gt; &gt; &gt; raise this issue?It's not that it was a bug. The community at large insisted that the


Steve Wynn
unread,
Nov 19, 2006, 12:46:28 PM



to myLifeO...@googlegroups.com
Hi J-Mac,

I think Andrey posted that he will try and apply the new algorithm ASAP. I
assume then it will be released either in a new Beta version or Full Release
version. I think there are checks that need to be made to see if it impacts
on other functionality within MLO. We don't need to download or install it
ourselves, just the new version of MLO when it is available.

Regards

Steve


-----Original Message-----
From: myLifeO...@googlegroups.com
[mailto:myLifeO...@googlegroups.com] On Behalf Of J-Mac
Sent: Sunday, November 19, 2006 08:50
To: MyLifeOrganized
Subject: [MLO] Re: Serious priority problems - Ratz please read


J-Mac
unread,
Nov 20, 2006, 6:42:00 AM



to MyLifeOrganized
Thank you, Steve. I am naturally curious to give the new one a try, but
I realized that I am new enough to be ignorant as to how such changes
are normally released by MLO. Much in the way of betas is done here in
the group, it seems.

Also, a few posts sounded as if it might already be out, so I thought I
would ask the dumb question!


bookman
unread,
Nov 23, 2006, 4:09:07 PM



to MyLifeOrganized
Wow, this is a very long thread to read and follow and I have not
attempted to read every thread in depth. So if this is mentioned
somewhere in this thread and I missed it, please forgive me.

One of the things that create an uneasy feeling for me is not knowing
for certain that a Task that I entered in Outline will appear in the
To-Do. It is because of this uncertainty that I largely ignore the
To-Do list.

One simple way to remove this uncertainty is to provide a visual cue
that the item appears in the To-Do list by means of color coding it on
the Outline, or perhaps by showing a colored * .

So if I set the sliders incorrectly for that item, it would be
immediately obvious to me. It becomes also a positive feedback
mechanism not just to remove uncertainty but it also is a training and
learning tool to get newbies/experienced users started confidently
using the program.

Ron Stockfleth
unread,
Nov 24, 2006, 2:39:12 PM



to myLifeO...@googlegroups.com
Without thinking about this at all, my first reaction is to state that any
movement of the sliders will not affect whether an item shows up in the
To-Do view or not. The sliders will only affect the position in the To-Do
view should they meet the criteria for showing up in the To-Do view at all.
I believe this is a correct statement.

An item may not show up in the To-Do view for several reasons. One, it may
not be a "Next Action" (i.e. There is a predecessor task that must be done
first). Two, it is a dated task with a Start Date in the future. Three, you
may have elected to hide the branch from the To Do view (i.e. Someday/Maybe
task). These are three reasons that I can think of off the top of my head on
why an item would not show up in the To-Do view.

This whole thread is about the order an item shows up in the To-Do view, not
whether it is in the view or not.

Ron

&gt; -----Original Message-----
&gt; From: myLifeO...@googlegroups.com
&gt; [mailto:myLifeO...@googlegroups.com] On Behalf Of bookman
&gt; Sent: Thursday, November 23, 2006 10:09 AM
&gt; To: MyLifeOrganized
&gt; Subject: [MLO] Re: Serious priority problems - Ratz please read
&gt;
&gt;



scoobie
unread,
Dec 22, 2006, 3:00:21 PM



to MyLifeOrganized
I might have missed this somewhere, but does the latest new Beta
include this algorithm fix?

Andrey Tkachuk (MLO)
unread,
Dec 22, 2006, 4:06:57 PM



to MyLifeOrganized
new algorithm has not been included yet

scoobie
unread,
Dec 28, 2006, 7:40:21 PM



to MyLifeOrganized
Andrew,
Will it be in the next release?

Andrey Tkachuk (MLO)
unread,
Dec 28, 2006, 9:12:04 PM



to MyLifeOrganized
Yes I plan to include it to the nearest beta (before final). I will
also ask Ratz to update the help documentation after we debug the
algorithm.

Andrey Tkachuk (MLO)
unread,
Jan 4, 2007, 2:44:15 PM



to MyLifeOrganized
I have updated the algorithm according to Bob's (Ratz')
recommendations.
The link:
http://groups.google.com/group/myLifeOrganized/browse_thread/thread/81eea58d797598f0/


Reply all

Reply to author

Forward
</relurk>]]></content><author><name></name></author><category term="tasks&gt;mlo" /></entry><entry><title type="html">`Dumbing Us Down` by John Taylor Gatto</title><link href="https://ib.bsb.br/dumbing-us-down/" rel="alternate" type="text/html" title="`Dumbing Us Down` by John Taylor Gatto" /><published>2025-06-20T00:00:00+00:00</published><updated>2025-06-20T03:52:52+00:00</updated><id>https://ib.bsb.br/dumbing-us-down</id><content type="html" xml:base="https://ib.bsb.br/dumbing-us-down/"><![CDATA[<h2 id="introduction-the-schoolteacher-as-socratic-gadfly">Introduction: The Schoolteacher as Socratic Gadfly</h2>

<p>John Taylor Gatto’s <em>Dumbing Us Down: The Hidden Curriculum of Compulsory Schooling</em> stands as a seminal work of institutional critique, a polemical and deeply personal indictment of modern mass education. The book’s primary purpose is to function as a comprehensive exposé of what Gatto terms the “hidden curriculum” of compulsory schooling.[1] In its pages, Gatto is positioned not merely as a disgruntled educator but as a modern Socratic gadfly, a decorated teacher who uses his platform to question the foundational assumptions of a core societal institution. He challenges the very narrative of schooling’s benevolence, arguing that its perceived failures are, in fact, evidence of its profound and perverse success.[1]</p>

<p>The genesis of this critique is essential to understanding its rhetorical force. The book’s core essays did not originate in the quiet of an academic study but were forged in the crucible of public performance, delivered as provocative acceptance speeches for the “New York City Teacher of the Year” (1990) and “New York State Teacher of the Year” (1991) awards.[1] This context is crucial; Gatto leveraged moments of official recognition as platforms for radical dissent. The first key essay, “The Psychopathic School,” was written in a single night after a former student implored him to speak on behalf of all the students he had taught, to “sum up what it’s all meant”.[1] This speech articulated the pathologies he observed in children subjected to the school system. The second, “The Seven-Lesson Schoolteacher,” was his response to the widespread interest in the first, an attempt to explain the specific mechanisms that produce those pathologies.[1] The book thus preserves the structure of a direct, persuasive address, moving the reader from outrage to a sense of personal complicity and, ultimately, to a call for action. This form is inseparable from its function as a catalyst, which helps explain its profound impact on readers, many of whom, as Gatto notes in the Afterword, were moved to take direct action, such as choosing to homeschool their children.[1]</p>

<p>At the heart of <em>Dumbing Us Down</em> lies a counter-intuitive and startling thesis: that modern compulsory schooling is not a failed system but a “spectacularly successful” one, deliberately engineered to produce a docile, dependent, and materialistic populace perfectly suited to serve the needs of a mass-production, corporate-driven economy.[1] Gatto argues that the institution functions brilliantly at achieving its unstated goals, which are antithetical to the development of independent, critical, and self-reliant individuals. This perspective reframes the perpetual public discourse on school reform. As David Albert argues in the book’s introduction, the narrative of “failing schools” is not a call for genuine change but a sophisticated marketing strategy—a “confidence game” that creates a “limitless demand for more resources” and justifies the expansion of the system’s reach, all while ensuring the system continues to produce the dependent populace it was designed to create.[1]</p>

<p>This report will provide a structural analysis of Gatto’s argument, deconstructing the content and principles of <em>Dumbing Us Down</em>. The analysis will mirror the book’s own logic, proceeding from an examination of the historical origins of the system Gatto critiques, to a deep analysis of its internal operating principles—the hidden curriculum—and concluding with an assessment of its ultimate purpose, societal significance, and the radical alternatives Gatto proposes. Through this exhaustive examination, the report will illuminate the architecture of a system designed, in Gatto’s view, not for education, but for inculcation.</p>

<h2 id="section-1-the-historical-forging-of-the-school-machine">Section 1: The Historical Forging of the School Machine</h2>

<p>To comprehend Gatto’s critique, one must first engage with his historical narrative, which addresses the causal progression behind the system of modern schooling. He argues that compulsory education was not a benign, democratic evolution but a calculated, top-down imposition designed for social management and economic control.</p>

<h3 id="11-the-prussian-blueprint-and-american-implementation">1.1 The Prussian Blueprint and American Implementation</h3>

<p>Gatto contends that the model for modern American schooling is a direct import from 19th-century Prussia, a system explicitly designed to produce obedient soldiers, compliant workers, and citizens who deferred to state authority.[1] This model was championed in the United States by influential figures like Horace Mann, who spearheaded the invention of compulsory schooling in Massachusetts around 1850.[1]</p>

<p>Central to Gatto’s historical account is the assertion that this system was not popularly embraced but fiercely resisted. He claims that an estimated eighty percent of the Massachusetts population opposed its implementation, with resistance sometimes escalating to armed conflict. The final holdout, the town of Barnstable on Cape Cod, did not capitulate until the 1880s, when state militia were dispatched to seize the area and march children to school under armed guard.[1] This historical detail is fundamental to Gatto’s argument, as it reframes the advent of compulsory schooling from a grassroots movement for public enlightenment to an authoritarian project imposed upon an unwilling populace.</p>

<p>To further dismantle the conventional narrative of progress, Gatto presents provocative statistics. He cites a paper from Senator Ted Kennedy’s office claiming that prior to compulsory education, the state literacy rate in Massachusetts was ninety-eight percent; after its implementation, he claims, the rate never again exceeded ninety-one percent.[1] He also points to the revolutionary era, when Thomas Paine’s <em>Common Sense</em> sold 600,000 copies to a population of three million, as evidence of a highly literate, pre-compulsory schooling populace.[1] These claims serve a powerful rhetorical purpose, forcing the reader to question the most basic assumption that schools were created to teach fundamental skills like reading and writing. If literacy was already widespread, then the system’s true purpose must lie elsewhere.</p>

<h3 id="12-the-industrialist-agenda-and-social-engineering">1.2 The Industrialist Agenda and Social Engineering</h3>

<p>According to Gatto, the Prussian model was eagerly adopted and perfected in America because it aligned perfectly with the needs of an emerging industrial economy. He argues that the system was shaped and funded by “captains of industry” and prominent social engineers at elite universities such as the University of Chicago, Columbia Teachers College, and Harvard.[1] The explicit goal of this powerful coalition was not education in the classical sense but social engineering on a mass scale.</p>

<p>The primary objective was to create a “docile, malleable workforce” to fuel the engines of corporate capitalism.[1] At the turn of the 20th century, a key fear among the industrial elite was the prospect of labor unrest and social rebellion. The school system became the primary instrument for preempting this threat. It was designed to ensure that the general population would be “physically, intellectually, and emotionally dependent upon corporate institutions for their incomes, self-esteem, and stimulation”.[1] By conditioning children from a young age, the system aimed to produce adults who would find their life’s meaning “solely in the production and consumption of material goods”.[1]</p>

<p>This historical trajectory represents, in Gatto’s view, a conscious and profound betrayal of the democratic ideals of the American Revolution. He describes it as the resurrection of the “ancient pharaonic dream of Egypt: compulsory subordination for all”.[1] The pyramid, with its rigid hierarchy and a controlling eye at the apex—an image found on the dollar bill—becomes his central metaphor for a society where individuals are reduced to stones defined by their predetermined position.[1] Gatto’s historical narrative is thus a story of ideological capture. It is not a conspiracy of secret cabals but one of shared intent among a powerful elite who were transparent about their goals of social management in their own writings and reports. The conventional history of schooling as a progressive, democratic project is thereby inverted. The “why” of modern schooling, in this analysis, is not the enlightenment of the individual but the stratification of society and the conditioning of the workforce for a new economic order.</p>

<h2 id="section-2-the-foundational-principles-of-the-hidden-curriculum">Section 2: The Foundational Principles of the Hidden Curriculum</h2>

<p>Having established the historical “why,” Gatto’s analysis moves to the structural “how.” He argues that the goals of social engineering are achieved through the school’s daily operations and unstated lessons—its “hidden curriculum.” This section addresses the “deeper structural or foundational principles” of his critique, deconstructing the mechanisms at work inside what he chillingly calls the “psychopathic institution”.[1]</p>

<h3 id="21-the-seven-lesson-schoolteacher-a-detailed-examination">2.1 The Seven-Lesson Schoolteacher: A Detailed Examination</h3>

<p>The most systematic and powerful component of Gatto’s argument is his articulation of the seven lessons that form the true, universal curriculum of compulsory schooling. These lessons, he insists, are taught relentlessly from “Harlem to Hollywood Hills” and are what he was paid to teach for thirty years.[1] They are not about academic content but about the inculcation of specific habits of thought and behavior necessary for a managed society.</p>

<p>&lt;br&gt;</p>

<p><strong>Table 1: The Seven Lessons of the Hidden Curriculum</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Lesson</th>
      <th style="text-align: left">Core Principle</th>
      <th style="text-align: left">Intended Outcome on the Student</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">1. Confusion</td>
      <td style="text-align: left">Fragmentation of knowledge; lack of context.</td>
      <td style="text-align: left">Acceptance of incoherence; inability to synthesize information or see systemic connections.</td>
    </tr>
    <tr>
      <td style="text-align: left">2. Class Position</td>
      <td style="text-align: left">Stratification through numbering, testing, and grading.</td>
      <td style="text-align: left">Internalization of a social hierarchy; acceptance of one’s predetermined “place.”</td>
    </tr>
    <tr>
      <td style="text-align: left">3. Indifference</td>
      <td style="text-align: left">Constant interruption by bells; lack of completion.</td>
      <td style="text-align: left">Inability to invest deeply in work; conditioned apathy and short attention span.</td>
    </tr>
    <tr>
      <td style="text-align: left">4. Emotional Dependency</td>
      <td style="text-align: left">Control through a system of rewards and punishments.</td>
      <td style="text-align: left">Surrender of will to authority; need for external validation and approval.</td>
    </tr>
    <tr>
      <td style="text-align: left">5. Intellectual Dependency</td>
      <td style="text-align: left">Reliance on expert opinion and teacher direction.</td>
      <td style="text-align: left">Passivity; inability to self-direct learning or construct personal meaning.</td>
    </tr>
    <tr>
      <td style="text-align: left">6. Provisional Self-Esteem</td>
      <td style="text-align: left">Self-worth determined by external evaluation from certified officials.</td>
      <td style="text-align: left">Chronic dissatisfaction; distrust of self-judgment and reliance on expert opinion.</td>
    </tr>
    <tr>
      <td style="text-align: left">7. One Can’t Hide</td>
      <td style="text-align: left">Constant surveillance and denial of privacy.</td>
      <td style="text-align: left">Distrust of others and self; belief that privacy is illegitimate and conformity is safety.</td>
    </tr>
  </tbody>
</table>

<p>&lt;br&gt;</p>

<p><strong>1. Confusion:</strong> The first lesson is that the world is incoherent. Gatto states, “Everything I teach is out of context. I teach the un-relating of everything. I teach disconnections”.[1] By bombarding students with a torrent of disconnected subjects—adjectives, slavery, planetary orbits, fire drills—the school day becomes a “patchwork quilt” that actively prevents the human search for meaning. This stands in stark contrast to natural learning sequences where parts are in harmony. The intended result is that children, unable to articulate their panic at this violation of natural order, learn to “accept confusion as their destiny”.[1]</p>

<p><strong>2. Class Position:</strong> The second lesson teaches students to know their place. “I teach that students must stay in the class where they belong,” Gatto writes.[1] Children are numbered, sorted, and tracked, a process that conditions them to see themselves as part of a rigid social pyramid. The system fosters envy for the “better classes” and contempt for the “dumb classes,” ensuring that the class structure is largely self-policing. The ultimate lesson is that “everyone has a proper place in the pyramid and that there is no way out of your class except by number magic”.[1]</p>

<p><strong>3. Indifference:</strong> The third lesson is apathy. This is taught subtly through the relentless ringing of bells. Gatto describes demanding intense engagement from students, only to insist they “drop whatever it is we have been doing and proceed quickly to the next work station” when the bell sounds.[1] “Nothing important is ever finished in my class,” he confesses. The “lesson of bells is that no work is worth finishing, so why care too deeply about anything?” This conditions students for a world of fragmented, unimportant work and inoculates them with a pervasive indifference.[1]</p>

<p><strong>4. Emotional Dependency:</strong> The fourth lesson cultivates a reliance on authority. Through a constant stream of “stars and red checks, smiles and frowns, prizes, honors, and disgraces,” students are taught “to surrender their will to the predestinated chain of command”.[1] Rights, including free speech, do not exist in school except as privileges granted or withheld by authority. Individuality is treated as a “curse to all systems of classification” and is systematically managed and suppressed, conditioning children to depend on the favors and judgments of their superiors.[1]</p>

<p><strong>5. Intellectual Dependency:</strong> The fifth and “most important lesson of them all” is that “Good students wait for a teacher to tell them what to do”.[1] This teaches students that they must wait for experts to “make the meanings of our lives.” Curiosity is replaced by conformity. Gatto argues that the entire consumer economy depends on this lesson being learned, as it guarantees a supply of helpless people who “don’t know how to tell themselves what to do” and are therefore reliant on commercial entertainment, prepared foods, and a host of other services.[1]</p>

<p><strong>6. Provisional Self-Esteem:</strong> The sixth lesson ensures that a student’s self-worth is contingent upon external validation. “I teach that a kid’s self-respect should depend on expert opinion,” Gatto explains.[1] Through constant evaluation, grades, and report cards, students are taught to distrust their own judgment and that of their parents, relying instead on the “casual judgment of strangers” who are certified officials. “The ecology of ‘good’ schooling depends on perpetuating dissatisfaction,” just as the commercial economy does. The lesson is that “People need to be told what they are worth”.[1]</p>

<p><strong>7. One Can’t Hide:</strong> The final lesson is that privacy is illegitimate. Students are taught that they are under constant surveillance, with “no private spaces for children; there is no private time”.[1] Even the home is penetrated by this surveillance through homework, which prevents “unauthorized” learning from family or community. This system, which encourages tattling, is designed to ensure that no dangerous secrets can be concealed from authority. It is a central prescription for maintaining “tight central control” over a society, ensuring children can be kept in a “uniformed marching band”.[1]</p>

<h3 id="22-the-psychopathic-institution-networks-vs-communities">2.2 The Psychopathic Institution: Networks vs. Communities</h3>

<p>Gatto deepens his structural analysis by introducing a crucial distinction between organic “communities” and artificial “networks,” arguing that schools are the archetypal network, designed to supplant and destroy true community.[1]</p>

<p>A <strong>community</strong>, in Gatto’s framework, is a place where people “face each other over time in all their human variety.” It is rich with complex interactions, fosters engagement and participation, and is built upon the foundation of the family. Communities have natural limits and provide the emotional nourishment necessary for human flourishing. His childhood town of Monongahela, with its riverboats, railroad workers, and interwoven lives, serves as his personal ideal of a learning community where “everyone was my teacher”.[1]</p>

<p>A <strong>network</strong>, by contrast, is a mechanical and narrowly focused association. It requires only a “narrow piece” of a person, asking them to suppress their whole humanity in exchange for efficiency toward a limited goal. Gatto argues that this is a “devil’s bargain” that leads to fragmentation and loneliness.[1] Schools, with their age-segregation, bells, confinement, and standardized procedures, are the ultimate network. They create a “cartoon simulation of community” that is incapable of nourishing its members.[1] He describes the institution itself as being “psychopathic — it has no conscience,” an abstract logic that overwhelms the humane intentions of individual teachers with its inhuman, mechanical processes.[1]</p>

<p>The seven lessons of the hidden curriculum are not, therefore, random byproducts of institutional incompetence. They are the necessary operating procedures for maintaining the network structure of the school and actively preventing the formation of a genuine community within its walls. A true community, based on diversity, deep connection, and self-direction, would be antithetical to the institutional goals of standardization and control. The seven lessons function as tools of deconstruction: “Confusion” prevents shared understanding and meaning-making. “Class Position” destroys solidarity. “Indifference” preempts shared passion and commitment. “Emotional and Intellectual Dependency” subverts self-governance and mutual reliance. “Surveillance” eradicates the trust and privacy essential for authentic relationships. This reveals a deeper function of the hidden curriculum: it is not merely about dumbing down individuals; it is a systematic process of <em>de-communitization</em>, designed to dissolve the organic social bonds that pose a fundamental threat to centralized, hierarchical control.</p>

<h2 id="section-3-purpose-significance-and-the-gatto-alternative">Section 3: Purpose, Significance, and The Gatto Alternative</h2>

<p>The final stage of Gatto’s argument synthesizes his historical and structural critiques to assess the overall purpose and significance of modern schooling. He concludes that the system is a perverse success and a foundational text for educational dissent, and he offers a radical vision for an alternative rooted in historical American principles of liberty and localism.</p>

<h3 id="31-the-thesis-of-perverse-success">3.1 The Thesis of Perverse Success</h3>

<p>The ultimate purpose of <em>Dumbing Us Down</em> is to advance the book’s most challenging claim: that schools are not failing but are brilliantly successful at achieving their unstated objectives.[1] The pathologies Gatto observes in children—their indifference to the adult world, lack of curiosity, poor sense of past and future, cruelty, materialism, and dependency—are not accidental outcomes of a flawed system.[1] Rather, they are the system’s intended product. A self-reliant, critically-minded, compassionate individual who finds meaning in non-material pursuits is a poor consumer and a difficult employee to manage. Therefore, the “dumbing down” of the population is the desired result, perfectly aligning the “human resource” with the demands of a corporate, consumer-driven economy.</p>

<p>This perspective recasts the entire public discourse on school reform. As David Albert argues in his introduction, the perpetual narrative of “failing schools” is not a call for genuine change but a sophisticated marketing strategy. It creates a “limitless demand for more resources” and justifies the expansion of the system’s reach through more testing, longer school days, and earlier interventions.[1] This “confidence game,” as Albert calls it, ensures that the institution is perpetually funded and empowered, all while continuing to successfully produce the dependent and docile populace it was designed to create.[1] The system’s “failure” is the public justification for its continued growth and control.</p>

<h3 id="32-a-foundational-text-for-educational-dissent">3.2 A Foundational Text for Educational Dissent</h3>

<p>By exposing this hidden architecture, <em>Dumbing Us Down</em> has become a cornerstone of modern educational dissent and a foundational text for the homeschooling, unschooling, and alternative education movements.[1] Its significance lies in its power to articulate a shared but often unspoken unease with institutional schooling and to provide a coherent framework for that critique.</p>

<p>The evidence for its impact is woven throughout the book’s paratextual materials. In the Afterword, Gatto recounts receiving “nearly a thousand letters” from readers all over the world who tied their decision to homeschool directly to their encounter with the book.[1] He quotes a former teacher who said, “This book tied together many loose ends that I felt intuitively but could not pin down”.[1] This power to connect disparate feelings of frustration into a cohesive analysis is a key reason for its influence.</p>

<p>The publisher’s 2005 postscript provides a stark illustration of the book’s perceived threat to the establishment. It recounts an incident where a school superintendent, pressured by the local teachers’ union, canceled the second half of a presentation Gatto was giving to high school students. The authorities even called the police to “restore the peace,” though the student audience was reportedly well-behaved and engaged.[1] This attempt to silence Gatto demonstrates the raw nerve his ideas touch within the educational bureaucracy. The book is not seen as a constructive critique to be debated, but as a dangerous ideology to be suppressed. This reception solidifies its status as a work of radical dissent, placing Gatto in the lineage of major institutional critics like John Holt, Jonathan Kozol, and Ivan Illich.[1]</p>

<h3 id="33-the-gatto-blueprint-for-reform-the-congregational-principle">3.3 The Gatto Blueprint for Reform: The Congregational Principle</h3>

<p>Gatto does not stop at critique; he offers a blueprint for an alternative educational vision, an antidote to the “school machine”.[1] This vision is not a single model but a set of principles designed to restore agency to individuals, families, and communities. The core tenets include:</p>

<ul>
  <li><strong>Independent Study and Self-Teaching:</strong> The foundation of Gatto’s alternative is trust in the child’s natural genius. He advocates for providing children with ample “private time” and “private space” to pursue their own interests and become their own teachers, arguing that “self-teaching has any lasting value”.[1]</li>
  <li><strong>Community Service and Apprenticeships:</strong> To counteract the isolation of schooling, Gatto calls for reintegrating children into the real world. This includes mandatory, meaningful community service to teach responsibility and unselfishness, and a wide variety of apprenticeships—from one-day experiences to longer-term arrangements—that connect children with real adults in the world of work.[1]</li>
  <li><strong>Decentralization and a Free Market:</strong> Gatto’s most radical proposal is the complete dismantling of the government monopoly on schooling. He calls to “break up these institutional schools, decertify teaching, let anyone who has a mind to teach bid for customers, privatize this whole business — trust the free market system”.[1] This would create a vibrant ecosystem of educational options—family schools, craft schools, religious schools, small entrepreneurial schools—allowing families to choose what best suits them.[1]</li>
</ul>

<p>The historical and philosophical anchor for this vision is what Gatto calls the <strong>“Congregational Principle,”</strong> derived from the self-governing, localized, and dialectical communities of Colonial New England.[1] He argues that these early towns, like Dedham and Sudbury, functioned as laboratories of local choice. Each congregation was responsible for its own affairs, fostering a “dialectical” process of debate and self-correction that built strong character and astonishing energy.[1] While acknowledging the negative side of this localism, such as religious intolerance, he argues that the freedom to choose and to make mistakes was the very mechanism that allowed these communities to gradually become <em>more</em> tolerant over generations, without central compulsion.[1]</p>

<p>This presents a central tension, a paradox, in Gatto’s philosophy. He advocates for libertarian, free-market mechanisms (privatization, competition, choice) to achieve what are fundamentally communitarian ends (the rebuilding of strong, cohesive, interdependent families and communities). The critical question is whether the forces of a market, which can often lead to atomization and consumerism, can realistically be expected to produce the thick, organic, non-commercial bonds of the communities he idealizes. Gatto’s answer lies entirely in his historical analysis of the Congregational Principle. He presents it as the definitive case study where local choice and voluntary association <em>did</em> create strong, self-correcting communities. This makes his historical argument not merely a backdrop for his critique, but the essential, load-bearing pillar for his proposed solution. It is a powerful, if philosophically complex, attempt to reconcile the American ideals of individual liberty with the deep human need for authentic community.</p>

<h2 id="conclusion-the-enduring-challenge-of-dumbing-us-down">Conclusion: The Enduring Challenge of <em>Dumbing Us Down</em></h2>

<p>In its final analysis, <em>Dumbing Us Down: The Hidden Curriculum of Compulsory Schooling</em> transcends the category of educational critique to become a profound and unsettling meditation on the nature of modern institutional life and its inherent conflict with the human spirit. John Taylor Gatto’s work is not a simple call for better teachers or more funding; it is a structural indictment of an entire mode of social organization. Its enduring power lies in its ability to fundamentally re-frame the public conversation about education. Gatto insists that the problem is not how to “fix” a broken system, but rather how to recognize and escape from a highly effective system of social and psychological control.</p>

<p>The book methodically dismantles the myth of the benevolent school, replacing it with the image of a “psychopathic” institution that operates on a logic of its own, independent of human conscience.[1] Through the detailed exposition of the “seven-lesson” hidden curriculum, Gatto provides a vocabulary for the vague anxieties and frustrations felt by generations of students, parents, and even teachers. He argues that the confusion, dependency, apathy, and alienation engendered by schooling are not its failures, but its triumphs—the successful production of a manageable populace for a centralized, consumer-based society.[1]</p>

<p>Ultimately, the significance of <em>Dumbing Us Down</em> lies in its radical challenge to the reader. It functions as a mirror, forcing an examination of one’s own conditioning and complicity in the institutional order. Gatto’s proposed alternatives—rooted in a free market of educational choice, real-world apprenticeships, and the historical “Congregational Principle” of local sovereignty—are more than a set of policy recommendations. They represent a call to action, a demand that the fundamental responsibility for the nurturing of the young be reclaimed from abstract, bureaucratic systems and returned to the tangible, human-scale worlds of individuals, families, and voluntary communities.[1] The book’s final, lingering question is not whether we can reform our schools, but whether we have the courage to imagine a world with less schooling, and more education.</p>]]></content><author><name></name></author><category term="scratchpad" /></entry><entry><title type="html">Pragmatic Guide to Parenting</title><link href="https://ib.bsb.br/pragmatic-guide-to-parenting/" rel="alternate" type="text/html" title="Pragmatic Guide to Parenting" /><published>2025-06-20T00:00:00+00:00</published><updated>2025-06-20T04:52:35+00:00</updated><id>https://ib.bsb.br/pragmatic-guide-to-parenting</id><content type="html" xml:base="https://ib.bsb.br/pragmatic-guide-to-parenting/"><![CDATA[<h2 id="introduction"><strong>Introduction</strong></h2>

<p>The modern parent is caught in a profound contradiction. On one hand, there is a deep, instinctual desire to raise children who are strong, independent, self-aware, and capable of navigating a complex world with courage and originality. On the other, we exist within a society of institutions—most notably compulsory schooling—that, as the late educator John Taylor Gatto so powerfully argued, are designed to do the opposite. These institutions, through their very structure and methods, foster dependency, conformity, and a reliance on external authority.1 They teach a “hidden curriculum” not of knowledge, but of subordination.1 This leaves parents in a constant, often unarticulated, state of tension: preparing their children for a world that seems to demand compliance, while hoping to nurture a spirit that thrives on freedom.</p>

<p>This guide is intended to be the essential bridge between the profound “why” of Gatto’s critique and the practical “how” of daily parenting. It moves beyond an analysis of what is wrong with institutional life and offers a constructive, actionable alternative for discipline and education that can begin today, in the home. It is a pragmatic manual for parents who wish to consciously reject the hidden curriculum of control and instead cultivate an environment where children can develop into the self-reliant, intrinsically motivated, and whole individuals they were meant to be.</p>

<p>To achieve this, this report synthesizes Gatto’s foundational principles with the practical strategies of other pioneering thinkers in education and psychology. The work of Alfie Kohn on motivation and discipline 3, Jane Nelsen on collaborative problem-solving 35, John Holt on self-directed learning 43, and A.S. Neill on democratic living 54 provides the tangible tools to build a Gatto-aligned home. Grounding these philosophies is the robust scientific framework of Self-Determination Theory, which affirms that the pursuit of autonomy, competence, and relatedness is not a radical ideal, but a fundamental human need.69 This guide will demonstrate that by shifting from a paradigm of control to one of collaboration and trust, parents can transform the everyday challenges of discipline and education into profound opportunities for growth, connection, and the cultivation of a truly free mind.</p>

<h2>—</h2>

<p><strong>Part I: The Foundation - Understanding the Un-Schooled Mind</strong></p>

<h3 id="section-1-deconstructing-control-the-hidden-curriculum-in-the-home"><strong>Section 1: Deconstructing Control: The Hidden Curriculum in the Home</strong></h3>

<p>John Taylor Gatto’s most searing critique of compulsory schooling is his identification of the “hidden curriculum”—a set of seven lessons that have nothing to do with academics and everything to do with social control.1 These lessons are taught not through textbooks, but through the very structure of the institution: the bells, the age segregation, the constant surveillance, and the systems of reward and punishment.1 The first and most critical step for any parent seeking to raise a self-reliant child is to recognize how this hidden curriculum can be unintentionally replicated in the home, turning the family into a miniature version of the institution Gatto decried.</p>

<p>The seven lessons, when translated into a domestic context, reveal the subtle ways that conventional parenting can undermine a child’s journey toward independence.</p>

<ol>
  <li><strong>Confusion</strong>: In school, Gatto argues, everything is taught out of context, creating an “infinite fragmentation” where children learn about slavery one moment and adjectives the next, with no coherent connection between them.1 This teaches them to accept confusion as their destiny. At home, this lesson is mirrored in the over-scheduled child, shuttled between soccer practice, piano lessons, and tutoring, with no time for the quiet integration of experience. It is present in the parental focus on “factoids” and trivia for test preparation, which, like the school’s “tool kit of superficial jargon,” prioritizes disconnected data over deep, meaningful understanding.1</li>
  <li><strong>Class Position</strong>: Schools number and sort children, teaching them to “stay in the class where they belong”.1 Children learn to envy those in “better classes” and hold contempt for those in “dumb classes,” internalizing a rigid social pyramid.1 In the family, this dynamic is recreated through sibling comparisons and the application of limiting labels. When a parent says, “You’re the artistic one, and your brother is the math whiz,” they are creating an internal class system. The child learns their value is fixed and relative to others, not inherent and unique.</li>
  <li><strong>Indifference</strong>: The “lesson of bells,” as Gatto calls it, is that “no work is worth finishing”.1 By demanding intense focus on a task and then forcing the child to drop it abruptly and move on, schools “inoculate each undertaking with indifference”.1 This is replicated at home when a parent, anxious to stick to a schedule, rushes a child away from a deeply engaging block tower or a complex drawing. The child learns that their deep, passionate engagement is secondary to the abstract demands of the clock.</li>
  <li><strong>Emotional and Intellectual Dependency</strong>: This is perhaps the most critical lesson of the hidden curriculum and the one most deeply embedded in conventional parenting. In school, Gatto states, children are taught to “surrender their will to the predestinated chain of command” through a system of stars, smiles, frowns, and prizes.1 Good students learn to “wait for a teacher to tell them what to do”.1 This creates a profound dependency on external authority for both emotional validation and intellectual direction.<br />
At home, this lesson is reinforced through the pervasive use of rewards and punishments. As author and educator Alfie Kohn has extensively documented, these techniques are forms of “sugar-coated control”.2 A sticker chart for potty training, praise like “Good job!” for cleaning a room, or the threat of a time-out for non-compliance all teach the same fundamental lesson: the goal is to please the authority figure to gain a reward or avoid a punishment.9 The child’s actions cease to be guided by internal values, empathy, or curiosity, and instead become a performance for an external evaluator. This directly mirrors Gatto’s lessons of dependency, where the child learns to look outward, not inward, for guidance and approval.1</li>
  <li><strong>Provisional Self-Esteem</strong>: In school, a child’s self-respect is made to “depend on expert opinion” through constant evaluation and grades.1 They learn that they should not trust their own judgment of their worth, but must rely on the assessment of “certified officials”.1 This is powerfully echoed in the home through the act of praise. While seemingly positive, evaluative praise like “You’re so smart!” or “That’s a beautiful drawing!” makes the parent the sole arbiter of value.78 The child learns that their worth is conditional upon producing something that the parent judges as “good”.78 This creates “praise junkies” who are dependent on external approval and feel less secure in their own abilities.2</li>
  <li><strong>One Can’t Hide (Surveillance)</strong>: The final lesson of the school is that children are “always watched,” with “no private spaces…no private time”.1 This constant surveillance, Gatto argues, is essential for maintaining tight central control. In the home, this can manifest as over-monitoring, a lack of respect for a child’s privacy (reading diaries, listening to phone calls), and an over-scheduled life that leaves no room for the unstructured, unobserved time necessary for a private self to develop.1</li>
</ol>

<p>It becomes clear that the methods of control are the true curriculum. Gatto asserts that the <em>method</em> of schooling—the bells, the grading, the surveillance—is its only real content.1 Conventional discipline techniques are the domestic equivalent of these institutional tools. When a parent relies on rewards, punishments, conditional praise, and constant control, they are not simply managing behavior; they are actively teaching the hidden curriculum. They become, however unintentionally, the “seven-lesson schoolteacher” in their own home. The first and most profound step in adopting a Gatto-aligned philosophy is to consciously dismantle this architecture of control and replace it with an architecture of connection, trust, and collaboration.</p>

<h3 id="section-2-reclaiming-the-family-from-impersonal-network-to-thriving-community"><strong>Section 2: Reclaiming the Family: From Impersonal Network to Thriving Community</strong></h3>

<p>To build an alternative to the hidden curriculum, one must first understand the type of environment that fosters self-reliance. Gatto provides a powerful framework for this through his distinction between “communities” and “networks”.1 This distinction is not merely academic; it is the fundamental organizing principle for a family that seeks to nurture whole, independent human beings.</p>

<p>A “network,” in Gatto’s terminology, is an association built around a narrow, specific function. It is efficient but impersonal. It provides “mechanical (‘by-the-numbers’) solutions to human problems” and requires its members to “suppress all the parts of yourself except the network-interest part”.1 A family that operates primarily on schedules, chore charts, transactional rewards (“if you do this, you get that”), and hierarchical power structures functions as a network. It may be efficient at getting tasks done, but it “drains the vitality from communities and families” and ultimately leaves its members feeling lonely and disconnected.1 Gatto argues that schools are the ultimate network, masquerading as communities but delivering only a “cartoon simulation” of real connection.1</p>

<p>A “community,” in stark contrast, is a place where “people face each other over time in all their human variety: good parts, bad parts, and all the rest”.1 It is defined by engagement, participation, and a “slow, organic process of self-awareness, self-discovery, and cooperation”.1 A family-as-community is not a machine for producing compliant children; it is a living system where people are known, valued, and bound by complex relationships of commonality and obligation.</p>

<p>The antidote to the impersonal family-as-network is what Gatto calls the <strong>“Curriculum of Family”</strong>.1 This curriculum is not a set of academic subjects to be taught, but a way of life to be lived. Its core lessons are learned through the process of being together, solving problems together, and sharing in the real work of maintaining a home. The content of this curriculum includes “self-motivation, perseverance, self-reliance, courage, dignity, and love,” as well as “lessons in service to others”.1 These are not qualities that can be taught through lectures or worksheets; they are virtues that are forged in the crucible of shared family life.</p>

<p>Creating this family-as-community requires a conscious shift in priorities and practices:</p>

<ul>
  <li><strong>Establish Meaningful Rituals:</strong> Beyond the perfunctory, rituals create a shared identity and rhythm. This could be a weekly family game night, a special Sunday morning breakfast, or a tradition of telling stories about the day at dinner. These moments build the “rich and complex” emotional payoffs Gatto associates with true community.1</li>
  <li><strong>Engage in Shared Work:</strong> This moves beyond a simple list of chores assigned to individuals. It involves tackling larger family projects together, such as planting a garden, painting a room, or planning a family trip. This teaches cooperation, shared responsibility, and the satisfaction of collective accomplishment.</li>
  <li><strong>Foster Deep, Intergenerational Connections:</strong> Gatto argues that one of the great tragedies of modern life is the institutional segregation of the young and the old, which “destroys communities”.1 Actively cultivating relationships with grandparents, elderly neighbors, and other adults provides children with a sense of history, a diversity of perspectives, and a connection to a world beyond their immediate peers. It rebuilds the natural, multi-generational fabric of a healthy community.</li>
  <li><strong>Prioritize Time Together:</strong> The “feeding frenzy of formal schooling” and its associated activities has “bled away time we need with our children and our children need with us”.1 Building a family community requires reclaiming this time. It means making difficult choices to reduce over-scheduling and protect unstructured family time, which is the soil in which the Curriculum of Family grows.</li>
</ul>

<p>By consciously choosing to build a community rather than manage a network, parents create a sanctuary from the fragmenting and dehumanizing forces of institutional life. They establish the home as the primary place where a child learns what it means to be a whole, connected, and contributing human being.</p>

<h3 id="section-3-the-psychological-needs-of-a-thriving-child-autonomy-competence-and-relatedness"><strong>Section 3: The Psychological Needs of a Thriving Child: Autonomy, Competence, and Relatedness</strong></h3>

<p>While the philosophies of thinkers like Gatto, Holt, and Kohn offer a powerful critique and a compelling vision, their principles are not merely matters of opinion or educational preference. They are, in fact, practical applications of a robust and widely validated scientific framework for human motivation and well-being: Self-Determination Theory (SDT).65 Developed by psychologists Edward Deci and Richard Ryan, SDT provides the scientific “why” behind the “how” of this entire guide.65 Understanding this theory allows parents to see that they are not simply adopting a radical or alternative philosophy, but aligning their parenting with the fundamental, universal drivers of human flourishing.</p>

<p>SDT posits that all human beings, regardless of culture, have three innate and essential psychological needs. When these needs are satisfied, people thrive; they exhibit high-quality, intrinsic motivation, enhanced performance, and greater well-being. When these needs are thwarted, especially by controlling environments, people languish; their motivation becomes fragile and extrinsic, and they are more susceptible to psychological distress.69 The three needs are:</p>

<ol>
  <li><strong>Autonomy</strong>: This is the need to feel that one has choice, volition, and is the “master of their own destiny”.65 It is the feeling of being the origin of one’s own actions, rather than a pawn controlled by external forces.53 Autonomy is supported by providing choice, acknowledging perspective, and refraining from pressure and control.68</li>
  <li><strong>Competence</strong>: This is the need to feel effective, experience mastery, and build skills and knowledge in areas that are important to the individual.65 Competence is nurtured by providing optimal challenges (not too easy, not too hard), offering constructive feedback, and creating opportunities for success.68</li>
  <li><strong>Relatedness</strong>: This is the need to feel connected to others, to care for and be cared for by others, and to have a sense of belonging within a group or community.65 Relatedness is supported through empathy, warmth, and genuine interest from significant others.26</li>
</ol>

<p>When viewed through the lens of SDT, the seemingly disparate philosophies of alternative education and parenting converge into a single, coherent model for supporting human development. The various approaches championed in this guide are not a random collection of “nice ideas”; they are powerful and practical methods for systematically satisfying a child’s core psychological needs.</p>

<ul>
  <li>John Taylor Gatto’s call for <strong>independent study, apprenticeships, and ample private time</strong> is a direct prescription for fostering <strong>Autonomy</strong> and <strong>Competence</strong>. When a child pursues their own interests, they are exercising autonomy. When they master a real-world skill in an apprenticeship, they are building competence.1</li>
  <li>John Holt’s and A.S. Neill’s philosophies of <strong>unschooling and democratic, child-led learning</strong> are fundamentally built on respecting and supporting a child’s <strong>Autonomy</strong>. The belief that children are “natural learners” who should direct their own education is the ultimate expression of trust in their autonomous drive.43</li>
  <li>Jane Nelsen’s Positive Discipline, with its central goal of helping children feel a sense of <strong>“Belonging and Significance,”</strong> is a direct methodology for nurturing the need for <strong>Relatedness</strong>.35 Her tools, like family meetings and collaborative problem-solving, also support <strong>Autonomy</strong> (by giving the child a voice) and <strong>Competence</strong> (by teaching valuable life skills).24</li>
  <li>Alfie Kohn’s passionate argument against rewards and punishments is, at its core, a defense of <strong>Autonomy</strong>. He demonstrates that these tools are controlling and thus undermine intrinsic motivation.3 His alternative of <strong>“working with” a child</strong>—listening to their perspective, offering choices, and solving problems together—is a masterclass in supporting all three needs simultaneously.4</li>
</ul>

<p>This unified view provides parents with a powerful sense of purpose and confidence. The choice to move away from control-based parenting is not a leap into a permissive or unstructured void. It is a deliberate, evidence-based decision to create an environment that satisfies the very psychological needs that science has shown are essential for a child to grow into a motivated, resilient, and healthy adult. By focusing on supporting their child’s autonomy, competence, and relatedness, parents are not just following a philosophy; they are engaging in the fundamental work of nurturing a flourishing human being.</p>

<h2 id="-1">—</h2>

<p><strong>Part II: The Practice of Discipline - Guiding Without Controlling</strong></p>

<h3 id="section-4-moving-beyond-carrots-and-sticks-the-problem-with-punishment-and-rewards"><strong>Section 4: Moving Beyond Carrots and Sticks: The Problem with Punishment and Rewards</strong></h3>

<p>The most common approach to discipline in our culture, both in schools and in homes, is rooted in behaviorism: the idea that behavior can be manipulated through a system of external controls.9 This approach can be summarized in six words: “Do this and you’ll get that”.17 The “that” can be a positive (a reward, a sticker, praise) or a negative (a punishment, a time-out, a withdrawn privilege). While these tactics may seem to produce compliance in the short term, a wealth of research demonstrates that they ultimately fail and cause lasting harm, directly contributing to the very pathologies of dependency and indifference that John Taylor Gatto identified as the outcome of the hidden curriculum.3</p>

<p>Alfie Kohn, in his seminal work <em>Punished by Rewards</em>, synthesizes hundreds of studies to show that punishments and rewards are simply “two sides of the same coin”.3 Both are methods of “doing to” a child to exert control, rather than “working with” them to foster genuine understanding, empathy, and moral development.11 The core problem is that these external motivators systematically undermine a child’s intrinsic motivation—the desire to do something for its own sake.9</p>

<p>Kohn outlines five key reasons why this system of control is not only ineffective but also destructive 79:</p>

<ol>
  <li><strong>Rewards Punish</strong>: The promise of a reward is inherently controlling. The message “Do this and you’ll get that” is not functionally different from the threat “Do this or else this will happen to you”.79 Furthermore, when a child who has been promised a reward fails to obtain it, the experience is punitive. This creates anxiety and pressure, not joy in the activity itself.</li>
  <li><strong>Rewards Rupture Relationships</strong>: Systems of reward, especially when they involve competition (e.g., “Whoever cleans their room fastest gets a treat”), destroy cooperation and teamwork.79 They position individuals against each other, teaching that another person’s success is a threat to one’s own. This directly fosters the kind of cruelty and lack of compassion that Gatto observed in schooled children, who are conditioned to see their peers as rivals in a “rigged competition”.1</li>
  <li><strong>Rewards Ignore Reasons</strong>: When a child is misbehaving, there is always an underlying reason—an unmet need, a lack of skill, a feeling of frustration or disconnection. Rewards and punishments ignore these root causes entirely.79 They offer a superficial fix that changes the behavior temporarily without addressing the problem. This approach teaches children that their underlying feelings and needs are irrelevant; only their outward compliance matters.</li>
  <li><strong>Rewards Deter Risk-Taking</strong>: When the goal is to secure a reward, people tend to choose the easiest possible path to minimize the risk of failure.79 They become less creative, less adventurous, and less likely to challenge themselves. A student working for a grade will choose the predictable essay topic over the ambitious, original one. This directly cultivates the “timidity in the presence of new challenges” that Gatto identified as a key pathology of schooled children.1</li>
  <li><strong>Rewards Undermine Interest</strong>: This is the most well-documented and damaging effect. Numerous studies show that when people are rewarded for doing an activity they initially enjoy—like drawing, reading, or helping others—their intrinsic interest in that activity declines.3 The activity is no longer seen as valuable in its own right; it becomes mere “work,” a means to an end (the reward).79 This explains how schools, with their focus on grades and external validation, can take a child’s natural curiosity and “turn play into work, and work into drudgery”.79</li>
</ol>

<p>The ultimate failure of this control-based paradigm is that it shifts a child’s focus away from the development of an internal moral compass. Instead of asking, “What kind of person do I want to be?” or “How do my actions affect others?”, the child is taught to ask, “What do they want me to do, and what happens to me if I don’t do it?”.5 This is the very essence of Gatto’s lesson of emotional and intellectual dependency. A child raised on a diet of carrots and sticks learns to be compliant, not thoughtful; obedient, not responsible. To truly nurture a self-reliant child, parents must abandon this entire framework of control and embrace a new set of tools built on connection, respect, and collaborative problem-solving.</p>

<h3 id="section-5-the-unconditional-parents-toolkit-responding-to-misbehavior"><strong>Section 5: The Unconditional Parent’s Toolkit: Responding to Misbehavior</strong></h3>

<p>Abandoning punishments and rewards does not mean abandoning discipline. It means redefining discipline itself—moving away from a model of control and toward a model of teaching and guidance.33 Misbehavior, in this new paradigm, is not a transgression to be punished, but a signal of an unmet need or an opportunity for learning.31 This section provides a toolkit of practical, connection-based strategies for responding to the everyday challenges of parenting, drawing heavily on the work of Alfie Kohn and Jane Nelsen.</p>

<p><strong>Principle 1: Connection Before Correction</strong></p>

<p>The foundational principle of this approach, articulated clearly in Positive Discipline, is that a “misbehaving child is a discouraged child”.31 The behavior is often a clumsy, misguided attempt to achieve a sense of belonging and significance.31 Therefore, any attempt at “correction” will fail until the child first feels seen, heard, and connected. When a child is emotionally dysregulated, as during a tantrum, their capacity for logic and learning is offline. The parent’s first job is not to lecture or punish, but to provide a calm, reassuring presence that helps the child feel safe.33</p>

<ul>
  <li><strong>In Practice (During a Tantrum):</strong> Instead of ignoring the child or sending them to a punitive time-out (which Kohn describes as a form of love withdrawal 4), the parent should stay physically and emotionally present.4 This might mean sitting quietly nearby, offering a hug, or simply saying, “You are feeling so angry right now. I’m right here with you.”.32 The goal is not to stop the feelings, but to help the child move through them safely. The teaching comes later, when the child is calm and receptive.33</li>
</ul>

<p><strong>Principle 2: Replace Praise with Unconditional Support</strong></p>

<p>Just as punishments create fear, evaluative praise creates anxiety and dependence. It teaches children that our love and acceptance are conditional upon their performance.78 To foster intrinsic motivation and a stable sense of self-worth, parents must replace judgment with unconditional support. Alfie Kohn and Montessori educators offer several practical alternatives to the reflexive “Good job!” 2:</p>

<ul>
  <li><strong>Say What You See:</strong> Offer a simple, non-evaluative description of the child’s action. Instead of “That’s a beautiful painting!”, try “You used a lot of blue in your painting.” Instead of “Good job putting your toys away!”, say “You put all the blocks back in the box.” This communicates that you have noticed their effort without imposing your judgment, allowing the child to feel their own pride.22</li>
  <li><strong>Describe the Effect:</strong> Focus on how the child’s action has impacted others. “Thank you for helping me set the table. It made getting dinner ready so much easier for me.” This helps the child develop empathy and see the value of their contribution, rather than focusing on getting approval.78</li>
  <li><strong>Ask Questions:</strong> Engage the child in their own process of evaluation. “What was the most challenging part of building that tower?” “What’s your favorite part of the story you wrote?” “How do you feel about it?” This shifts the focus from your opinion to their experience and fosters their ability to self-assess.78</li>
</ul>

<p><strong>Principle 3: Work With, Don’t Do To</strong></p>

<p>This is the core of Alfie Kohn’s philosophy and the essence of collaborative problem-solving.4 A conflict is not a battle to be won, but a problem to be solved <em>together</em>. This approach respects the child as a person with valid needs and perspectives, even when their behavior is unacceptable. The process involves 5:</p>

<ol>
  <li><strong>Stating your own feelings and needs clearly and respectfully.</strong> (“I feel frustrated when I have to ask three times to get ready to leave.”)</li>
  <li><strong>Asking for the child’s perspective and listening genuinely.</strong> (“What’s making it hard to leave the park today? What’s going on for you?”)</li>
  <li><strong>Brainstorming solutions together.</strong> (“What are some ideas we can come up with to make leaving the park easier for both of us next time?”)</li>
</ol>

<p>This process of “working with” a child models respect, teaches communication and problem-solving skills, and leads to solutions that are more likely to be effective because the child has had a hand in creating them.4</p>

<p>The following table provides concrete, scripted examples of how to apply these principles in common, high-stress parenting scenarios, directly contrasting the old paradigm of control with the new paradigm of connection.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Common Challenge</th>
      <th style="text-align: left">Control-Based Response (“Doing To”)</th>
      <th style="text-align: left">Connection-Based Response (“Working With”)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>Sibling Conflict (One child hits another)</strong></td>
      <td style="text-align: left">“That’s it, go to your room!” (Punishment). “If you can’t play nicely, no screen time.” (Threat). “Who started it?” (Blame).</td>
      <td style="text-align: left"><strong>1. Separate &amp; Calm:</strong> “You both seem very angry. Let’s take a break in different rooms to cool down and feel safe.” <strong>2. Connect Individually:</strong> “I saw how upset you were. Can you tell me what happened from your perspective?” (Listen to both children separately). <strong>3. Mediate &amp; Teach:</strong> “Hitting is not okay. What’s another way you could have handled that big feeling? What do you need from your brother to help solve this problem now?” 33</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Refusal to Leave the Playground</strong></td>
      <td style="text-align: left">“We’re leaving NOW!” (Command). “If you don’t come back tomorrow, we won’t come back.” (Threat). Physically dragging the child away.</td>
      <td style="text-align: left"><strong>1. Validate &amp; State the Limit (Kind &amp; Firm):</strong> “I know it’s so hard to leave when you’re having fun, AND it is time for dinner.”.38 <strong>2. Offer Limited, Empowering Choices:</strong> “Do you want to go down the slide two more times or have one last big push on the swing?”.38 <strong>3. Follow Through &amp; Make it Collaborative:</strong> “Okay, time to go. Do you want to race me to the car or walk like a T-Rex?”.38</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Lying About a Broken Item</strong></td>
      <td style="text-align: left">“Did you do this? Don’t lie to me!” (Accusation/Threat). “You’re grounded for breaking this and for lying about it.” (Punishment).</td>
      <td style="text-align: left"><strong>1. Focus on the Problem, Not Blame:</strong> “I see the lamp is broken. I’m feeling sad and frustrated about that.” <strong>2. Invite Collaborative Problem-Solving:</strong> “What’s our plan for cleaning this up safely? What ideas do you have for fixing it or replacing it?”.28 <strong>3. Address Lying Separately (at a calm time):</strong> “Sometimes people lie when they’re scared of getting in trouble. I want you to know you can always tell me the truth, even when you make a mistake. We will solve problems together. My love for you doesn’t change when you mess up.”.7</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Tantrum Over a “No” (e.g., no candy at checkout)</strong></td>
      <td style="text-align: left">“Stop crying or you’ll get a real reason to cry!” (Threat/Dismissal). Ignoring the child completely. “You’re embarrassing me!” (Shaming).</td>
      <td style="text-align: left"><strong>1. Stay Close &amp; Offer Comfort:</strong> Get down on their level. “You’re feeling really sad and angry that I said no to the candy. I’m right here with you.”.4 <strong>2. Validate Feelings, Hold the Limit:</strong> “It’s okay to be upset. I understand you really want it. The answer is still no.”.38 <strong>3. Ride the Emotional Wave:</strong> Offer a hug or a hand to hold. Don’t try to reason, bribe, or distract until the emotional storm has passed. Your calm presence is the anchor.</td>
    </tr>
  </tbody>
</table>

<p>This toolkit requires a significant shift in mindset. It demands more patience, empathy, and creativity than simply resorting to control. However, the long-term payoff is immeasurable: a relationship built on trust and mutual respect, and a child who is developing the internal resources—self-discipline, empathy, and problem-solving skills—to become a genuinely responsible and caring person.</p>

<h3 id="section-6-the-collaborative-home-family-meetings-and-curiosity-questions"><strong>Section 6: The Collaborative Home: Family Meetings and Curiosity Questions</strong></h3>

<p>To move from theory to consistent practice, parents need reliable structures that embed the principles of collaboration and respect into the fabric of family life. Two of the most powerful tools from the Positive Discipline framework are Family Meetings and the artful use of Curiosity Questions.24 These practices are not just techniques for managing behavior; they are transformative processes that shift the family dynamic from a hierarchy of control to a community of collaborators.</p>

<p><strong>The Family Meeting: Democratic Governance in the Home</strong></p>

<p>The Family Meeting is a regularly scheduled gathering where every member of the family, regardless of age, has a voice in solving problems and making decisions that affect the group.31 It is the domestic application of what John Taylor Gatto admired in the “Congregational Principle”—a forum for local, democratic self-governance where solutions are generated from within the community, not imposed by an outside authority.1</p>

<p>A successful Family Meeting typically follows a simple structure 36:</p>

<ol>
  <li><strong>Compliments and Appreciations:</strong> The meeting begins on a positive note, with each person giving a compliment or expressing appreciation for every other family member. This builds connection and reinforces a positive family culture.</li>
  <li><strong>Review the Agenda:</strong> A notebook or whiteboard serves as the agenda, where anyone can write down a problem or topic for discussion at any time during the week.</li>
  <li><strong>Brainstorm for Solutions:</strong> The group addresses one agenda item at a time. The focus is on brainstorming <em>solutions</em>, not on blaming or punishing. All ideas are written down without judgment, even “wild and crazy ideas.”</li>
  <li><strong>Choose a Solution:</strong> The group discusses the brainstormed ideas and collaboratively agrees on one solution to try for the next week. If consensus can’t be reached, the person whose problem it is often gets to choose which suggestion to try.</li>
  <li><strong>Plan the Family Calendar/Fun:</strong> The meeting ends by coordinating schedules and planning a fun family activity for the upcoming week, reinforcing the idea that the family is a source of joy and connection.</li>
</ol>

<p>By consistently holding these meetings, children learn invaluable life skills: problem-solving, negotiation, empathy, and the understanding that their voice matters.36 They become active participants in creating a respectful and functional family life.</p>

<p><strong>Curiosity Questions: Fostering Reflection Instead of Rebellion</strong></p>

<p>Curiosity Questions are the verbal engine of a collaborative parenting style. They are open-ended questions that replace commands, lectures, and accusations, inviting a child to think for themselves rather than simply comply or resist.28 The Latin root of “education” is <em>educare</em>, which means “to draw forth”.27 Curiosity questions are the tool for drawing forth a child’s own wisdom, understanding, and capacity for problem-solving.</p>

<p>The key is to ask from a place of genuine curiosity, not as a disguised lecture or a “gotcha” question.28 The tone should be respectful and the timing should be when both parent and child are calm.28</p>

<p>Examples of shifting from commands to curiosity questions 26:</p>

<ul>
  <li><strong>Instead of:</strong> “Go brush your teeth.” <strong>Ask:</strong> “What do you need to do so your teeth won’t feel fuzzy?”</li>
  <li><strong>Instead of:</strong> “Stop fighting with your brother!” <strong>Ask:</strong> “How can you and your brother solve this problem together?”</li>
  <li><strong>Instead of:</strong> “Do your homework.” <strong>Ask:</strong> “What’s your plan for getting your homework done?”</li>
</ul>

<p>After a mistake has been made, curiosity questions can guide a child through a process of reflection and learning, without shame or blame 28:</p>

<ul>
  <li>“What were you trying to accomplish when that happened?”</li>
  <li>“How do you feel about what happened?”</li>
  <li>“What did you learn from this?”</li>
  <li>“What ideas do you have for a solution now?”</li>
</ul>

<p>These two practices—Family Meetings and Curiosity Questions—are the embodiment of a fundamental shift in the purpose of discipline. In the conventional paradigm, discipline is about stopping a behavior. In the connection-based paradigm, the disciplinary moment is reframed as an <em>educational</em> moment. The goal is not to control the child, but to <em>teach</em> the child. When a parent uses a family meeting to solve a recurring conflict over chores, they are facilitating a real-life lesson in project management and civic responsibility. When they use a curiosity question to help a child reflect on a mistake, they are teaching the invaluable skills of self-assessment and problem-solving. This re-framing moves the parent out of the role of police officer and into the role of a respectful, effective guide—the ultimate goal of this entire approach.</p>

<h2 id="-2">—</h2>

<p><strong>Part III: The Practice of Education - Cultivating a Life of Learning</strong></p>

<h3 id="section-7-the-world-as-a-classroom-principles-of-self-directed-education"><strong>Section 7: The World as a Classroom: Principles of Self-Directed Education</strong></h3>

<p>Once the foundation of a collaborative and respectful home life is established, the question of education takes on a new light. If the goal is no longer to produce a compliant student for the institutional system, but to nurture a curious, self-motivated learner for life, then the very definition of “education” must change. The philosophies of John Holt, the pioneer of “unschooling” 43, and A.S. Neill, the founder of the democratic Summerhill School 54, provide a powerful framework for an education rooted in freedom, trust, and the child’s innate drive to learn.</p>

<p>The central tenet of this approach, as articulated by Holt, is that human beings are “natural learners”.43 Children are born with an intense curiosity and a desire to make sense of their world. Learning, therefore, is not the product of teaching; it is the “product of the activity of learners”.48 The role of the adult is not to force-feed a pre-determined curriculum, but to create a rich, supportive environment where the child’s natural curiosity can flourish.47 This philosophy directly challenges the core assumption of compulsory schooling, which, as Gatto notes, operates as if learning is difficult and children naturally resist it.1</p>

<p>A.S. Neill put this philosophy into practice at Summerhill, a school founded on the belief that “the school should be made to fit the child, rather than the other way around”.54 At Summerhill, lessons are optional, and children are free to spend their days playing, exploring their interests, or socializing.56 This radical freedom is not an abdication of responsibility but a profound expression of trust in the child’s ability to direct their own life and learning. Neill believed that “a child is innately wise and realistic. If left to himself without adult supervision of any kind, he will develop as far as he is capable of developing”.56</p>

<p>A critical concept for parents to grasp in this model is Neill’s distinction between <strong>Freedom</strong> and <strong>Licence</strong>.65 This is not a philosophy of permissiveness where anything goes.</p>

<ul>
  <li><strong>Freedom</strong> is the right to live one’s own life, to pursue one’s own interests, and to make one’s own choices, <em>so long as those actions do not cause harm to others</em>.65 It is about self-determination and personal responsibility.</li>
  <li><strong>Licence</strong>, by contrast, is the freedom to “run roughshod over other people”.65 It is infringing upon the rights and freedoms of others.</li>
</ul>

<p>At Summerhill, the line between freedom and licence is not drawn by the arbitrary authority of adults. It is managed democratically by the entire community—staff and students alike, each with one vote—in a <strong>General School Meeting</strong>.56 This body creates and changes the school’s laws, which govern social life and resolve conflicts.55 A child who is bullying another is not exercising freedom; they are exercising licence, and the community meeting will hold them accountable.57 To illustrate, Neill recounted a time when he proposed a law to ban smoking for children under sixteen. After he argued his case, the students voted him down. Shortly after, a sixteen-year-old student proposed a ban for those under twelve, which passed. At the next meeting, a twelve-year-old successfully argued for the repeal of the new law, stating that it was causing kids to smoke “on the sly just like kids do in a strict school,” which was against the spirit of Summerhill.56 This democratic process teaches children real-world responsibility, justice, and the art of living in a community far more effectively than any civics textbook could.</p>

<h3 id="section-8-the-parent-as-facilitator-a-practical-guide-to-strewing"><strong>Section 8: The Parent as Facilitator: A Practical Guide to “Strewing”</strong></h3>

<p>In a self-directed educational model, the parent’s role shifts from that of a teacher and taskmaster to that of a facilitator and resource provider. One of the most practical and effective methods for this is the unschooling practice known as “strewing”.49 Strewing is the art of thoughtfully placing interesting materials, resources, and opportunities in a child’s environment to spark curiosity and invite exploration, without any requirement or expectation attached. It is about creating a rich, stimulating world and then trusting the child to engage with what is relevant and interesting to them.</p>

<p>This approach can be applied to all traditional “subjects,” demonstrating how learning can happen organically and in an integrated way.</p>

<ul>
  <li><strong>For Writing:</strong> Instead of relying on grammar workbooks and formulaic essay prompts, parents can strew the path to literacy. This involves modeling a love of writing by writing letters, journals, or stories in front of the child.44 It means providing a rich supply of interesting writing tools—colorful pens, various types of paper, a typewriter, or a kid-friendly word processor.44 A crucial element is to separate the physical mechanics of handwriting from the creative act of storytelling. In the early stages, a parent can act as a scribe, taking dictation as the child tells a story, which honors their creative impulse without bogging them down in the frustration of letter formation.44 As children grow, authentic writing opportunities—like writing fan-fiction 45, starting a blog about a passion 45, or emailing a company with a real question 30—provide far more powerful motivation than contrived school assignments.</li>
  <li><strong>For Mathematics:</strong> Unschooling philosophy posits that children learn mathematical concepts best when they are embedded in a meaningful, real-life context.51 Instead of worksheets, math can be “strewn” through everyday life. Cooking and baking involve fractions and measurement. Board games and card games are rich with counting, probability, and strategy.51 Managing an allowance or saving up for a desired toy teaches budgeting and arithmetic in a way that is immediately relevant.40 A child figuring out how long a road trip will take based on speed and distance is engaging in algebraic thinking without ever seeing an “x” or a “y”.40 The key is to trust that when a child has a genuine need for a mathematical skill, their motivation to learn it will be immense, and they can often master concepts very quickly.48</li>
  <li><strong>For History and Science:</strong> History is not learned as a linear march of dates, but as a series of fascinating “rabbit holes” that a child can dive into based on their interests.76 A movie about ancient Rome, a video game set during the American Revolution, or a family trip to a historical site can spark a deep investigation.75 Science is learned through direct experience with the natural world: planting a garden, observing insects, watching birds, or conducting simple kitchen experiments.73 Strewing in these areas means providing access to rich resources like documentaries, living books (as opposed to dry textbooks), museum visits, and conversations with knowledgeable people.75</li>
</ul>

<p>It is important to recognize that the radical freedom of unschooling and the collaborative structures of Positive Discipline are not mutually exclusive. They exist on a spectrum, and parents can create a unique blend that works for their family. A family does not have to become “pure unschoolers” to benefit from the philosophy. They can embrace an unschooling mindset—trusting the child’s interests and facilitating their learning—while still using structured tools to navigate the complexities of living together. For instance, a child’s intense, self-directed interest in Minecraft (an unschooling pursuit) could lead to a parent facilitating a collaborative, Project-Based Learning (PBL) unit on basic coding or architectural principles.80 Conflicts that arise over screen time can be resolved not by parental decree, but in a Family Meeting (a Positive Discipline tool), which functions as a democratic forum much like a Summerhill Meeting.1 This blended approach makes the philosophy more accessible and adaptable, allowing families to find a balance of freedom and structure that honors both the child’s autonomy and the family’s need for respectful cooperation.</p>

<h3 id="section-9-beyond-the-home-apprenticeships-community-service-and-real-world-challenges"><strong>Section 9: Beyond the Home: Apprenticeships, Community Service, and Real-World Challenges</strong></h3>

<p>A truly Gatto-inspired education cannot be confined to the home. Gatto’s most powerful proposals involve breaking down the walls between learning and living, reconnecting children to the real work and the real people of their communities.1 This is the antidote to the sterile, abstract, and age-segregated environment of the school network. For parents, facilitating this connection is a primary and essential role.</p>

<p><strong>Micro-Apprenticeships: Learning from the Real World</strong></p>

<p>Gatto argued that one of the most effective ways to learn is through apprenticeship—working alongside a skilled adult engaged in meaningful work.1 While long-term apprenticeships may be difficult to arrange, parents can create what might be called “micro-apprenticeships.” These are short-term, focused experiences that expose a child to the real world of work and skill. Gatto himself provided powerful examples, such as sending a twelve-year-old student to spend a day with a small-town police chief after she had written him an apology letter, or arranging for other students to apprentice with a newspaper editor or a trucking company president.1</p>

<p>Parents can facilitate this by:</p>

<ul>
  <li><strong>Leveraging their own network:</strong> Asking friends, family, and colleagues in various professions if their child can shadow them for a day or even just for a few hours.</li>
  <li><strong>Approaching local business owners:</strong> Many small business owners, artisans, and craftspeople are passionate about their work and may be open to showing an interested young person the ropes.</li>
  <li><strong>Turning problems into opportunities:</strong> If the family computer breaks, involve the child in the process of taking it to a repair shop and talking with the technician. If a pipe leaks, have the child observe and talk with the plumber. These are authentic learning moments.</li>
</ul>

<p><strong>Community Service: Building Real Community and Significance</strong></p>

<p>Gatto saw community service as “the quickest way to give young children real responsibility in the mainstream of life”.1 He ran a program where every student, rich or poor, gave 320 hours a year of hard community service, an experience many later said changed their lives.1</p>

<p>Community service is a powerful educational tool for several reasons. First, it directly builds the kind of real, functioning community that Gatto champions over sterile networks.1 Second, it allows children to see themselves as valuable, contributing members of society, directly fulfilling the need for “contribution” and “significance” that Jane Nelsen identifies as a core human drive.31</p>

<p>Parents can encourage this by:</p>

<ul>
  <li>Volunteering as a family at a local food bank, animal shelter, or park clean-up day.74</li>
  <li>Helping an elderly neighbor with yard work or grocery shopping.</li>
  <li>Encouraging the child to identify a need in their community and develop their own project to address it.41</li>
</ul>

<p><strong>Privacy and Solitude: The Space to Build a Self</strong></p>

<p>In a world of constant connection and surveillance, Gatto’s emphasis on privacy and solitude is more critical than ever. He argues that “private time is absolutely essential if a private identity is going to develop,” and that this is the time when a child develops a “code of private values”.1 This is the direct counter-measure to the school’s lesson of constant surveillance, where children are taught that “one can’t hide”.1</p>

<p>It is in solitude that a child can process their experiences, explore their imagination, and listen to their own inner voice without the pressure of external judgment. This is where “self-knowledge,” which Gatto sees as “the only basis of true knowledge,” is cultivated.1 Parents must actively protect this time and space by:</p>

<ul>
  <li>Resisting the urge to over-schedule their children’s lives.</li>
  <li>Providing physical spaces where a child can be truly alone.</li>
  <li>Trusting that time spent “doing nothing” is not wasted time, but essential time for psychological and creative development.</li>
</ul>

<p>By weaving these three elements—apprenticeships, community service, and solitude—into a child’s life, parents provide a rich, multi-faceted education that is impossible to replicate in a classroom. They are giving their child not just knowledge, but experience; not just skills, but character; and not just an education, but a life.</p>

<h2 id="-3">—</h2>

<p><strong>Part IV: Navigating the Path - Addressing Real-World Challenges</strong></p>

<h3 id="section-10-the-socialization-question"><strong>Section 10: The Socialization Question</strong></h3>

<p>Perhaps the most persistent and emotionally charged criticism leveled against homeschooling and unschooling is the question of socialization.83 The concern, often voiced by well-meaning friends and family, is that children educated outside of conventional schools will be isolated, socially awkward, unable to make friends, and unprepared to deal with the complexities and conflicts of the “real world”.85 While this concern is understandable, it is largely based on a narrow and often idealized view of what school-based socialization actually entails.</p>

<p>The Critic’s Viewpoint:<br />
The core of the critique is that schools provide a necessary environment for children to interact with a large, diverse group of peers every day. This constant interaction is believed to teach essential social skills, such as sharing, negotiation, conflict resolution, and how to navigate complex social hierarchies.85 Critics argue that without this daily immersion, unschooled children will develop “large gaps” in their social abilities, potentially leading to social anxiety and difficulty integrating into society later in life.85 Some who were homeschooled report feeling quite isolated and that it was only upon entering a public school that they were able to form close friendships.85<br />
The Proponent’s Rebuttal:<br />
Proponents of alternative education counter that this view fundamentally misunderstands both the nature of school socialization and the reality of unschooling life. They argue that:</p>

<ol>
  <li><strong>School Socialization is Often Negative and Artificial:</strong> The school environment is far from a social utopia. It is often characterized by bullying, intense peer pressure, cliques, and a constant focus on superficial status.84 Furthermore, it is a highly artificial environment where children are segregated by age, interacting almost exclusively with a narrow band of same-age peers. This is unlike the real world, where adults must interact with people of all ages, backgrounds, and positions.83 As one unschooling parent noted, children in school are frequently told, “You’re not here to socialize!“.84</li>
  <li><strong>Unschooling Socialization is Authentic and Diverse:</strong> Unschoolers are not isolated at home. Their socialization occurs in the real world, through a wide variety of activities: community projects, sports teams, arts classes, volunteer work, apprenticeships, and participation in homeschool co-ops and support groups.83 This allows them to interact with a much wider and more diverse range of people—young children, other teens, working adults, and senior citizens. This “vertical” socialization is arguably better preparation for adult life than the “horizontal,” age-segregated socialization of school.1</li>
  <li><strong>The Focus is on Quality, Not Quantity:</strong> The debate should not be about the quantity of social contact, but its quality. Unschooling allows children the time and space to develop deep, meaningful friendships based on shared interests, rather than forced proximity.86 They learn to have “proper conversations where everyone is included” and to engage with others out of genuine interest, not social obligation.86</li>
</ol>

<p>Ultimately, the socialization debate hinges on a fundamental disagreement about what constitutes healthy social development. The conventional model prioritizes adjustment to a large, often coercive peer group. The unschooling model prioritizes the development of authentic relationships in real-world contexts. Research on homeschooled students generally finds them to be well-adjusted, with some studies indicating they possess stronger social skills and higher levels of self-confidence than their schooled peers.88 While challenges can exist, particularly for introverted children or families in remote areas, the charge that unschooling inherently produces socially inept individuals is not supported by the evidence. The focus for parents should be on proactively creating a rich social life for their children, full of diverse people and authentic community engagement.</p>

<h3 id="section-11-the-marathon-of-parenting-avoiding-burnout-and-finding-support"><strong>Section 11: The Marathon of Parenting: Avoiding Burnout and Finding Support</strong></h3>

<p>Choosing a path of education and discipline that runs counter to the mainstream is not easy. It requires immense intention, patience, and a willingness to engage in what unschooling parents call “deschooling”—the process of questioning and dismantling one’s own conditioned beliefs about learning and control.90 This journey can be emotionally and physically taxing, and parental burnout is a very real risk.91</p>

<p>Identifying the Main Stressors:<br />
Experienced homeschooling and unschooling parents identify several common sources of stress 90:</p>

<ol>
  <li><strong>Internal Pressure and Fear:</strong> The most significant stressor is often internal. Parents fear they are “not doing enough” or that their children will have gaps in their knowledge. This anxiety is a direct result of the deeply ingrained belief that learning must follow a set curriculum and timeline.90</li>
  <li><strong>Coping with Critics:</strong> Facing criticism and doubt from friends, family, and even strangers can be exhausting. When loved ones question your choices out of fear or misunderstanding, it can tap into your own insecurities.94</li>
  <li><strong>General Overwhelm:</strong> The parent in a self-directed learning environment is the primary facilitator, resource-gatherer, and emotional support. Unlike in a school setting, there is no one else to blame when things are difficult; “the buck stops here”.92 This constant responsibility, combined with the daily demands of running a household, can lead to feelings of being overwhelmed and ineffectual.91</li>
  <li><strong>The Need for Internal Work:</strong> This path demands that parents confront their own “emotional baggage” and parenting patterns. It requires a significant amount of self-reflection and a willingness to change, which can be difficult and uncomfortable work.92</li>
</ol>

<p>Practical Strategies for Managing Burnout:<br />
Managing these stressors is crucial for the long-term sustainability and joy of this parenting approach. The following strategies are essential 91:</p>

<ul>
  <li><strong>Prioritize Self-Care:</strong> A parent cannot pour from an empty cup. It is essential to nourish one’s own mind, body, and soul. This includes establishing a relaxing daily routine (even just 15 minutes of quiet time in the morning), eating well, exercising, and protecting sleep.91</li>
  <li><strong>Set Boundaries and Learn to Say No:</strong> It is impossible to do everything. Parents must realistically evaluate their commitments—both inside and outside the home—and be willing to say no to things that drain energy without adding significant value.91 This includes setting boundaries on “school work” and giving oneself permission to stop and rest.</li>
  <li><strong>Embrace Imperfection:</strong> A major cause of burnout is the pursuit of a “perfect” homeschool day. It is critical to let go of unrealistic expectations and accept that there will be messy, unproductive, and difficult days. The goal is progress and connection over the long term, not daily perfection.91</li>
  <li><strong>Schedule “Time Out” for the Parent:</strong> Parents need regular breaks. This can be a daily quiet time where children are expected to play independently, or regularly scheduled time away from the home while another adult is in charge. This is not a luxury; it is a necessity for maintaining patience and perspective.91</li>
</ul>

<p>The Critical Importance of Finding Community:<br />
Perhaps the single most important defense against burnout is finding a supportive community. Connecting with other like-minded parents provides a sounding board for worries, a source of practical ideas, and the vital reassurance that you are not alone on this journey.91<br />
Finding this “tribe” requires proactive effort 96:</p>

<ul>
  <li><strong>Explore Local Groups:</strong> Search online for local and state homeschool support groups, co-ops, and unschooling meetups. Libraries and community centers are often good sources of information.97</li>
  <li><strong>Use Online Platforms:</strong> Facebook groups and other online forums can connect you with families in your area and with a global community of people who share your philosophy.98</li>
  <li><strong>Be Vulnerable and Proactive:</strong> Finding community often requires being the one to “stick your neck out” and invite another family for a park day or a potluck. It can feel awkward at first, but these small acts of vulnerability are how deep connections are built.98</li>
  <li><strong>Look for “Echoes, Not Soul Mates”:</strong> The perfect community with families that match yours on every level does not exist. The goal is to find “echoes”—people who share your core values—and embrace the differences. Being in community with people who challenge you can also be a source of growth.98</li>
</ul>

<p>By proactively managing internal and external stressors and by intentionally building a network of support, parents can navigate the challenges of this path and find the deep joy and satisfaction that comes from raising children in an environment of freedom and trust.</p>

<h3 id="section-12-a-note-on-equity-and-accessibility"><strong>Section 12: A Note on Equity and Accessibility</strong></h3>

<p>Any honest advocacy for an alternative educational path must grapple with the complex issues of equity and accessibility. A common and valid critique of homeschooling, and particularly unschooling, is that it appears to be a model primarily available to privileged families—those with the financial resources to have one parent stay home and the cultural capital to confidently defy educational norms.83 While the movement has been historically dominated by white, middle-class families, the landscape is becoming more complex and nuanced.101</p>

<p><strong>The Critique: A Model for the Privileged?</strong></p>

<p>The argument for inequity rests on several key points:</p>

<ul>
  <li><strong>Economic Barriers:</strong> The most obvious barrier is economic. For a family to unschool, it often requires one parent to forgo a full-time income, a luxury many families cannot afford.103</li>
  <li><strong>Cultural Capital:</strong> Choosing to unschool requires a significant degree of confidence and the ability to navigate or defy the expectations of school officials, doctors, and family members. This “cultural capital” is not evenly distributed across society. Families from marginalized backgrounds may face greater scrutiny and “additional hassles” when they step outside of conventional systems.101</li>
  <li><strong>Risk of Insularism:</strong> There is a risk that unschooling, with its focus on the child’s interests and the family’s values, can lead to a curriculum that fails to engage with issues of social justice and multiculturalism. A 2018 study found that while unschooling has the <em>potential</em> to provide a rich social justice education, this potential was not being realized in many families, who may lack the experience or inclination to challenge dominant societal narratives.78 The child-led nature of the philosophy means that if a child is not interested in learning about systemic inequity, they may not be exposed to it.101</li>
</ul>

<p><strong>Counterarguments and a More Nuanced Reality:</strong></p>

<p>While these critiques are important, they do not tell the whole story. The modern unschooling movement is more diverse than its stereotype suggests, and for many, it is a conscious choice made <em>against</em> privilege and in pursuit of liberation.</p>

<ul>
  <li><strong>Growing Diversity and a Movement for Liberation:</strong> In recent years, there has been a significant increase in the number of families of color, particularly Black families, choosing to homeschool and unschool.104 For these families, the decision is often not one of privilege, but an act of resistance against a school system they see as systemically racist and harmful to their children’s identity and well-being.106 For them, self-directed education is a “form of collective liberation,” a way to decolonize their children’s minds and create learning environments that are affirming and safe.106</li>
  <li><strong>Values Over Materialism:</strong> Research also indicates that unschooling families are not uniformly affluent. Some studies suggest they may even be <em>lower</em> on the socioeconomic spectrum than other homeschoolers, precisely because they are people who “have values other than material value”.104 They prioritize time, freedom, and family connection over the pursuit of a second income.</li>
  <li><strong>Accessibility Through Community and Public Resources:</strong> Unschooling does not require expensive curricula or materials.83 In fact, it often relies heavily on free public resources like libraries, museums, parks, and the internet.106 The rise of online communities and local, often free, support groups and co-ops also increases accessibility.107</li>
</ul>

<p>The issues of equity and accessibility in unschooling are real and ongoing. It is not a perfect solution that is equally available to all. However, it is also not a monolithic movement of the privileged. It is a diverse and adaptable philosophy that, for a growing number of families, represents a powerful tool for personal liberation and a deliberate rejection of a system they find inequitable and oppressive. The challenge for the movement is to continue to build inclusive communities and advocate for policies that make self-directed education a viable option for any family that desires it.</p>

<h2 id="conclusion"><strong>Conclusion</strong></h2>

<p>This guide has sought to chart a course for parents who feel the deep dissonance between the world of institutional control and the world of human freedom. It began with John Taylor Gatto’s powerful assertion that the very methods of compulsory schooling are a “hidden curriculum” designed to foster dependency. By consciously rejecting this curriculum of control—the rewards, punishments, and constant evaluation that have crept from the classroom into the home—parents can begin the essential work of building a family that functions not as an impersonal network, but as a thriving, collaborative community.</p>

<p>The journey requires a fundamental redefinition of both discipline and education. Discipline ceases to be a matter of enforcing compliance and becomes an educational process of guiding a child toward self-regulation, empathy, and responsibility. This is achieved not through power, but through connection, mutual respect, and collaborative problem-solving, using practical tools like Family Meetings and Curiosity Questions. Education, in turn, is liberated from the confines of a curriculum and becomes synonymous with life itself. By trusting in a child’s innate curiosity and facilitating their engagement with the real world through self-directed exploration, community service, and meaningful apprenticeships, parents can nurture a love of learning that is authentic and enduring.</p>

<p>This path is not a simple or easy one. It demands immense patience, self-reflection, and the courage to stand apart from the mainstream. It requires parents to “deschool” themselves, to find supportive communities, and to navigate the real challenges of burnout and societal criticism. Yet, the principles outlined in this guide—rooted in the philosophies of Gatto, Holt, Kohn, and Nelsen, and validated by the science of Self-Determination Theory—offer more than just an alternative. They offer a coherent, evidence-based framework for aligning our parenting practices with the fundamental psychological needs of our children.</p>

<p>By systematically nurturing a child’s need for autonomy, competence, and relatedness, parents are not merely opting out of a flawed system. They are actively opting in to the profound and rewarding work of raising a whole human being: a person who is capable, curious, compassionate, and, above all, the self-reliant author of their own life.</p>]]></content><author><name></name></author><category term="scratchpad" /></entry><entry><title type="html">prioritylist.app cheatsheet</title><link href="https://ib.bsb.br/prioritylist/" rel="alternate" type="text/html" title="prioritylist.app cheatsheet" /><published>2025-06-19T00:00:00+00:00</published><updated>2025-06-19T21:08:35+00:00</updated><id>https://ib.bsb.br/prioritylist</id><content type="html" xml:base="https://ib.bsb.br/prioritylist/"><![CDATA[<p><code class="language-plaintext highlighter-rouge">https://prioritylist.app/</code></p>

<h3 id="importance-scale-cheatsheet">Importance Scale Cheatsheet</h3>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Code</th>
      <th style="text-align: left">Meaning</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">00</td>
      <td style="text-align: left">completely unnecessary</td>
    </tr>
    <tr>
      <td style="text-align: left">01</td>
      <td style="text-align: left">potentially not needed</td>
    </tr>
    <tr>
      <td style="text-align: left">02</td>
      <td style="text-align: left">can wait</td>
    </tr>
    <tr>
      <td style="text-align: left">03</td>
      <td style="text-align: left">tiny impact</td>
    </tr>
    <tr>
      <td style="text-align: left">04</td>
      <td style="text-align: left">low importance</td>
    </tr>
    <tr>
      <td style="text-align: left">05</td>
      <td style="text-align: left">neutral</td>
    </tr>
    <tr>
      <td style="text-align: left">06</td>
      <td style="text-align: left">fairly important</td>
    </tr>
    <tr>
      <td style="text-align: left">07</td>
      <td style="text-align: left">must-do</td>
    </tr>
    <tr>
      <td style="text-align: left">08</td>
      <td style="text-align: left">really important</td>
    </tr>
    <tr>
      <td style="text-align: left">09</td>
      <td style="text-align: left">extremely important</td>
    </tr>
    <tr>
      <td style="text-align: left">10</td>
      <td style="text-align: left">critical</td>
    </tr>
  </tbody>
</table>

<hr />

<h3 id="effort-scale-cheatsheet">Effort Scale Cheatsheet</h3>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Code</th>
      <th style="text-align: left">Estimated Time</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">00</td>
      <td style="text-align: left">1+ weeks</td>
    </tr>
    <tr>
      <td style="text-align: left">01</td>
      <td style="text-align: left">4~6 days</td>
    </tr>
    <tr>
      <td style="text-align: left">02</td>
      <td style="text-align: left">2~3 days</td>
    </tr>
    <tr>
      <td style="text-align: left">03</td>
      <td style="text-align: left">1 day</td>
    </tr>
    <tr>
      <td style="text-align: left">04</td>
      <td style="text-align: left">4~6 hours</td>
    </tr>
    <tr>
      <td style="text-align: left">05</td>
      <td style="text-align: left">2~3 hours</td>
    </tr>
    <tr>
      <td style="text-align: left">06</td>
      <td style="text-align: left">1 hour</td>
    </tr>
    <tr>
      <td style="text-align: left">07</td>
      <td style="text-align: left">30 minutes</td>
    </tr>
    <tr>
      <td style="text-align: left">08</td>
      <td style="text-align: left">15 minutes</td>
    </tr>
    <tr>
      <td style="text-align: left">09</td>
      <td style="text-align: left">5 minutes</td>
    </tr>
    <tr>
      <td style="text-align: left">10</td>
      <td style="text-align: left">1 minute</td>
    </tr>
  </tbody>
</table>]]></content><author><name></name></author><category term="scratchpad" /></entry><entry><title type="html">Apple Shortcuts Meta-Automation</title><link href="https://ib.bsb.br/apple-shortcuts-meta-automation/" rel="alternate" type="text/html" title="Apple Shortcuts Meta-Automation" /><published>2025-06-18T00:00:00+00:00</published><updated>2025-06-18T08:22:15+00:00</updated><id>https://ib.bsb.br/apple-shortcuts-meta-automation</id><content type="html" xml:base="https://ib.bsb.br/apple-shortcuts-meta-automation/"><![CDATA[<p>Deconstructing Dictionary Manipulation in Apple Shortcuts: A Technical Report on Data Flow, Persistence, and Meta-Automation
The Dictionary as a Foundational Data Structure in Shortcuts
The Apple Shortcuts application provides a suite of actions that serve as the building blocks for complex automation. Among these, the dictionary stands out as a foundational data structure, enabling a level of sophistication and scalability that is difficult to achieve with simpler constructs like lists or conditional logic alone. A comprehensive understanding of the dictionary’s properties, methods of creation, and strategic applications is essential for any user seeking to move from basic task automation to the development of robust, maintainable, and dynamic workflows. Dictionaries serve not merely as containers for information but as a gateway to structured data programming, a paradigm that is central to modern software and web service integration.
Defining Dictionaries: An Analysis of Key-Value Pairs and Their Properties
At its core, a dictionary is an unordered collection of key-value pairs. Each entry in a dictionary consists of a unique key, which acts as an identifier, and a corresponding value, which is the data associated with that key. This structure is analogous to a real-world dictionary where one looks up a word (the key) to find its definition (the value). This relationship is strictly unidirectional; a key is used to retrieve its value, but a value cannot be used to find its key directly. The uniqueness of keys is paramount; if a new entry is added with a key that already exists, the original value associated with that key will be overwritten.
The power of dictionaries in Shortcuts stems from the flexibility of the data types that can be stored as values. A value can be a simple text string or number, a boolean (true or false), an ordered list (also known as an array), or even another dictionary. This capacity for nesting allows for the creation of deeply structured and complex data models, mirroring the data formats used by many external services and APIs. For instance, a dictionary representing a contact might have simple text values for keys like “first_name” and “last_name,” but it could also contain a nested list for multiple phone numbers or a nested dictionary for a structured address.
This inherent structure provides a significant strategic advantage over other control flow mechanisms. While a series of If actions can be used to handle multiple conditions, this approach quickly becomes unwieldy and difficult to read and maintain as the number of conditions grows. A dictionary, by contrast, can replace a long, clunky chain of If statements with a single, clean Get Dictionary Value action. Similarly, while a List action stores an ordered collection of items, accessing a specific item requires knowing its numerical index. This can be brittle, as the order of items may change. Dictionaries provide a more robust method of data retrieval by using descriptive, human-readable keys that are independent of order.
One of the most powerful and common applications of this principle is the creation of dynamic user menus. When a dictionary is passed as input to the Choose from List action, the Shortcuts app intelligently displays the dictionary’s keys as the selectable menu options. When a user makes a selection, the action outputs the corresponding value associated with the chosen key. This enables the creation of sophisticated, user-friendly interfaces that can trigger vastly different and complex logic based on the user’s choice. For example, a dictionary could map the names of smart home scenes (keys) to the specific HomeKit actions required to execute them (values), allowing a single shortcut to control multiple aspects of a user’s environment through a simple menu.
Methods of Instantiation: The Dictionary Action vs. Get Dictionary from Input
Apple Shortcuts provides two primary methods for creating, or instantiating, a dictionary within a workflow, each suited to different use cases: the visual Dictionary action and the text-based Get Dictionary from Input action.
The Dictionary action is the most direct and intuitive method for creating a dictionary. It presents a user interface with two columns where a developer can manually enter key-value pairs. This approach is ideal for defining small to medium-sized dictionaries with static content that is known at the time the shortcut is being built. Its visual nature makes it easy to understand and manage for those who may not be familiar with text-based data formats.
For more advanced and dynamic use cases, the Get Dictionary from Input action is indispensable. This action is designed for programmatic dictionary creation, taking structured text as its input and parsing it into a fully-functional dictionary object. The action is versatile, supporting several text formats. The most prominent and widely used format is JSON (JavaScript Object Notation), a lightweight data-interchange format that is the de facto standard for web APIs. The syntax of JSON, with its use of curly braces {} for objects (dictionaries), square brackets `` for arrays (lists), and colon-separated key-value pairs, maps directly to the structure of a Shortcuts dictionary. In addition to JSON, the Get Dictionary from Input action can also parse property lists (.plist files) and simple key-value strings formatted like URL query parameters (e.g., name=John&amp;age=30).
The prevalence of JSON throughout the automation landscape cannot be overstated. Apple’s own documentation and tutorials on using web APIs within Shortcuts are heavily centered on the process of requesting data from a server and parsing the resulting JSON response. This makes proficiency with JSON and the Get Dictionary from Input action a critical skill for any user wishing to integrate their shortcuts with the vast ecosystem of online services. It allows a shortcut to consume, manipulate, and even generate structured data for external systems. For instance, a shortcut can be designed to create a dictionary from user inputs and then convert it back into a JSON string to be sent as the body of a POST request to a web server.
The existence of these two distinct instantiation methods represents a deliberate design choice that guides the user along a learning curve. A novice user can begin with the simple, visual Dictionary action, treating it as a basic two-column table. As their needs become more complex, they inevitably encounter scenarios where a dictionary must be created dynamically from text, saved to a file, or received from an API. This journey naturally leads them to the Get Dictionary from Input action and the concept of data serialization, specifically with JSON. This transition is a pivotal moment in the user’s development. It forces a conceptual leap from viewing a dictionary as a static block in the UI to understanding it as an abstract data structure that can be represented as a structured string. This understanding is the cornerstone of advanced automation, as it unlocks the ability to work with configuration files, exchange data between disparate systems, and interact with virtually any modern web service. Therefore, mastering the nuances of dictionary instantiation in Shortcuts is not merely about learning a feature; it is about acquiring a fundamental competency in structured data programming that is essential for building powerful and interoperable automations.
The Core Workflow: A Deep Dive into Iterative Dictionary Population
One of the most significant hurdles for intermediate and advanced Shortcuts users is the task of programmatically and iteratively adding new key-value pairs to a dictionary, particularly within a loop. The behavior of the relevant actions is non-intuitive and deviates from the patterns seen in many traditional programming languages. This leads to a common point of failure where users find their modifications are not being saved. A meticulous deconstruction of the underlying data flow model reveals that this behavior is not a flaw but a deliberate design choice. Mastering the canonical pattern for iterative updates is a prerequisite for building any shortcut that involves dynamically constructing a dictionary from a set of inputs.
The Immutability Principle: Deconstructing the “Set Dictionary Value” Action’s Behavior
The central source of confusion lies with the Set Dictionary Value action. Based on its name, users logically assume that the action modifies the dictionary it is given as input—an operation known as an “in-place” mutation. However, this is not how the action functions. Consistently, users report that when they use Set Dictionary Value inside a Repeat with Each loop, the changes made in one iteration are gone by the next, and at the end of the loop, the dictionary remains in its initial state, as if it were being overwritten or reset on each pass.
This “perplexing” behavior is due to a core principle that can be described as functional immutability. The Set Dictionary Value action does not alter the original dictionary. Instead, it operates as a transformation: it accepts a dictionary as input, performs the requested addition or modification, and outputs a new, completely separate dictionary object that contains the change. The original dictionary that was passed into the action is left untouched and unchanged.
This critical detail is often missed by users, partly due to the ambiguity in Apple’s official documentation. The documentation correctly notes that the action has a result, which it describes as a “dictionary.” However, it fails to explicitly state that this is a new instance of a dictionary. Users, particularly those with a background in imperative programming, interpret this to mean the original dictionary is passed through, leading them to believe the action has side effects. This semantic gap is a primary cause of frustration, as the action’s name strongly implies a mutative operation (“Set value in dictionary”), which is the opposite of its actual, non-mutative behavior.
The Canonical Update Pattern: The Get Variable → Set Dictionary Value → Set Variable Cycle
Given the immutable nature of the Set Dictionary Value action, a specific, multi-step pattern is required to correctly build up a dictionary within a loop. The Shortcuts community has, through experimentation and shared knowledge, codified this as the canonical update pattern. The process involves explicitly managing the state of the dictionary through a variable at each step of the iteration.
The pattern consists of the following sequence:</p>
<ul>
  <li>Initialization: Before the loop begins, an initial dictionary must be created. This is typically done using the Dictionary action (often left empty) and its output is immediately saved to a variable using the Set Variable action. This variable, for example named WorkingDict, will serve as the persistent state carrier for the dictionary throughout the shortcut’s execution.</li>
  <li>Iteration Cycle (Inside the Loop): For each iteration of the loop (e.g., a Repeat with Each block), the following three actions must be performed in order:
a.  Get Variable: The current state of the dictionary must be retrieved from its storage variable. This is done with the Get Variable action, targeting WorkingDict.
b.  Set Dictionary Value: The dictionary retrieved in the previous step is used as the input for the Set Dictionary Value action. The new key and value for the current iteration are specified. This action then outputs the new, updated dictionary.
c.  Set Variable: The output from the Set Dictionary Value action (the new dictionary) must be captured and used to overwrite the state variable. This is achieved by using another Set Variable action, which sets WorkingDict to the output of the Set Dictionary Value action.
This cycle ensures that the result of each modification is passed on to the next iteration. A helpful analogy shared within the community is to think of the dictionary variable as a box on a shelf. To update the contents, one must first take the box off the shelf (Get Variable), change what is inside (Set Dictionary Value), and then, crucially, put the new, modified box back on the shelf (Set Variable). Forgetting the final step is equivalent to leaving the updated box on the workbench; the change is made but never saved back to its persistent location, and the next iteration will start again with the old, unmodified box.
Practical Implementation: An Annotated Workflow Example
To solidify the understanding of this pattern, consider a practical example of a shortcut designed to take a comma-separated string of words, split them into a list, and then populate a dictionary where the keys are the numerical index of each word and the values are the words themselves.
The sequence of actions would be as follows:</li>
  <li>Dictionary Action: An empty Dictionary action is added to the top of the shortcut.</li>
  <li>Set Variable Action: The output of the Dictionary action is immediately passed to a Set Variable action, which creates the variable WorkingDict. This initializes the state.</li>
  <li>Text Action: A Text action contains the input string, for example: Apple,Banana,Orange.</li>
  <li>Split Text Action: The text is passed to a Split Text action, using a comma as the custom separator. This produces a list of three items.</li>
  <li>Repeat with Each Action: A Repeat with Each loop is initiated, taking the list from Split Text as its input. This loop will run three times. The action provides two special “magic variables” for each iteration: Repeat Item (the value, e.g., “Apple”) and Repeat Index (the iteration number, e.g., 1).</li>
  <li>Inside the Loop - The Canonical Pattern:
    <ul>
      <li>Get Variable Action: The WorkingDict variable is retrieved.</li>
      <li>Set Dictionary Value Action: This action is configured as follows:
        <ul>
          <li>Value: Set to the Repeat Item magic variable.</li>
          <li>Key: Set to the Repeat Index magic variable.</li>
          <li>in Dictionary: The Get Variable action’s output is passed here.</li>
        </ul>
      </li>
      <li>Set Variable Action: The WorkingDict variable is updated by setting it to the output of the Set Dictionary Value action. This completes the cycle.</li>
    </ul>
  </li>
  <li>End Repeat Marker: This marks the end of the loop.</li>
  <li>Get Variable and Show Result Actions: After the loop concludes, the final state of WorkingDict is retrieved and passed to a Show Result action to display the fully populated dictionary, which would look like: {“1”: “Apple”, “2”: “Banana”, “3”: “Orange”}.
This explicit, step-by-step process, while appearing verbose, is the only reliable method for iterative dictionary construction in Shortcuts.
The immutable behavior of the Set Dictionary Value action is not an oversight or a bug. It is a deliberate and consistent manifestation of the fundamental data flow model that underpins the entire Shortcuts application. The architecture is described by Apple as a “Content Graph engine,” where the primary mode of operation is the flow of content from one action’s output to the next action’s input. In this paradigm, which shares philosophical roots with functional programming, actions are ideally “pure functions.” They take an input, perform a transformation, and produce a predictable output without causing “side effects”—that is, without modifying a shared state that is external to this direct input/output flow.
The Set Dictionary Value action adheres perfectly to this model. Its entire effect is encapsulated in its output; it does not mysteriously alter a variable located elsewhere in the shortcut. This stands in contrast to an action like Set Variable, whose entire purpose is to create a side effect by establishing or modifying a named state that can be referenced from anywhere. By forcing the user to explicitly capture the output of the dictionary modification and then explicitly use Set Variable to update the state, the Shortcuts engine ensures that the flow of data remains visible, traceable, and unambiguous. Every change is represented by a connection in the content graph. While this approach presents a steeper learning curve for users accustomed to imperative, mutable patterns, it ultimately results in more robust and debuggable complex shortcuts. It prevents a class of hard-to-diagnose errors that can arise when multiple parts of a program are allowed to modify a shared object unexpectedly, a design choice that prioritizes reliability and predictability over syntactic convenience.
Advanced Techniques for Persistence, Performance, and Portability
Once the fundamental pattern of dictionary manipulation is mastered, the next level of advanced shortcut development involves addressing three critical challenges: making data persist between shortcut executions, optimizing workflows for speed and responsiveness, and ensuring interoperability with external systems. These techniques transform dictionaries from transient data containers into powerful tools for logging, configuration, and seamless integration with the broader digital ecosystem.
Achieving Statefulness: Saving and Retrieving Dictionaries as Files
By default, variables created within a shortcut, including dictionaries, are ephemeral. They exist only for the duration of a single execution and are discarded once the shortcut completes. To create stateful automations that can remember information across multiple runs—for tasks like logging daily activities, storing application settings, or building a persistent knowledge base—the dictionary must be saved to an external location.
The standard and most widely adopted method for achieving this persistence is to save the dictionary as a file within a cloud-synced directory, typically iCloud Drive. This is most commonly done by converting the dictionary into a JSON text representation and saving it as a file with a .json or .txt extension. This makes the data not only persistent but also accessible and editable by other applications or even manually through a text editor.
The process of updating a file-based dictionary follows a strict “read-modify-write” cycle, which is a logical extension of the in-memory update pattern:</li>
  <li>Read: The workflow begins by using the Get File action to retrieve the JSON file from its location in iCloud Drive.</li>
  <li>Parse: The text content of the file is then passed to a Get Dictionary from Input action. This action parses the JSON string and reconstructs it into a live dictionary object that can be manipulated within the shortcut.</li>
  <li>Modify: The core Get Variable → Set Dictionary Value → Set Variable pattern described in the previous section is used to add, remove, or change key-value pairs within the newly parsed dictionary object.</li>
  <li>Write: After all modifications are complete, the final dictionary object is passed to a Save File action. It is critical that this action is configured to overwrite the original file. The “Overwrite if File Exists” toggle must be enabled. The shortcut will implicitly convert the dictionary object back into a JSON text string for saving.
A common and critical error is to use the Append to File action instead of overwriting. Appending a new JSON object to an existing JSON file results in an invalid format, as a valid JSON file can only have a single root object. Attempting to read this malformed file in a subsequent run will fail, as the Get Dictionary from Input action will not be able to parse it. For debugging complex JSON structures, it is highly recommended to use an external validation tool, such as the online service JSONLinter, to ensure the data format remains correct.
Performance Optimization Strategies
As shortcuts grow in complexity and the size of the data they handle increases, performance becomes a significant consideration. Dictionaries, especially very large ones, can introduce performance bottlenecks in both the shortcut editor and at runtime.
A well-documented issue is that the native Dictionary action, when populated with hundreds or thousands of key-value pairs, can cause severe UI lag within the Shortcuts editor. Scrolling through the shortcut becomes slow and unresponsive, making development and maintenance a frustrating experience. To mitigate this, a common and effective strategy is to store the dictionary as a JSON string inside a simple Text action. The editor only needs to render a standard text box, which is highly performant regardless of the amount of text it contains. This dramatically improves the editing experience.
However, this editor-focused optimization introduces a runtime trade-off. When the shortcut is executed, the JSON string within the Text action must be parsed into a dictionary object before it can be used. This parsing step adds a small but measurable overhead to the shortcut’s execution time compared to using a native Dictionary action, which exists as a pre-parsed object.
The most critical performance optimization, regardless of whether a native dictionary or a JSON-in-text approach is used, is the avoidance of data coercion or value extraction inside a loop. Performing these operations repeatedly is a major cause of slowdowns. For instance, if a shortcut needs to iterate over an array of values stored within a dictionary, it is vastly more efficient to extract that entire array into a variable before the loop begins. The loop should then iterate over the pre-extracted array. The alternative—placing the Get Dictionary Value action inside the Repeat block—forces the system to perform a key lookup on every single iteration. If using the JSON-in-text method, this is even more catastrophic for performance, as it forces a complete re-parsing of the entire JSON string on every pass of the loop.
The performance differences are not trivial. Benchmarks conducted by the community demonstrate a dramatic impact. A test looping through 500 items showed that iterating over a pre-extracted array took approximately 0.6 seconds. In contrast, retrieving the array from a native dictionary inside the loop took 8.2 seconds (a 13x slowdown), and retrieving it from a JSON-in-text dictionary inside the loop took a staggering 21.8 seconds (a 36x slowdown). This data underscores the importance of preparing and isolating the data to be processed before entering any iterative logic.
To provide a clear reference for developers, the following table synthesizes these performance considerations.
| Test Case | Action Configuration | Relative Performance | Analysis &amp; Recommendation |
|—|—|—|—|
| Editor Responsiveness | Native Dictionary action with 500+ entries. | Poor | Causes significant UI lag and slow scrolling. Avoid for very large, static dictionaries.  |
| Editor Responsiveness | JSON data stored in a Text action. | Excellent | Editor remains fast and responsive regardless of dictionary size. Recommended for development.  |
| Runtime Loop (Best) | Get Dictionary Value (to extract array) before Repeat loop. | Excellent (Baseline) | Fastest method. The expensive extraction is performed only once. This is the recommended pattern.  |
| Runtime Loop (Poor) | Get Dictionary Value inside Repeat loop (native dictionary). | Poor (~13x Slower) | The dictionary key lookup is repeated for every item, introducing significant overhead.  |
| Runtime Loop (Worst) | Get Dictionary Value inside Repeat loop (JSON-in-Text). | Very Poor (~36x Slower) | Catastrophic for performance. The entire JSON string is parsed on every single iteration. Avoid at all costs.  |
| Runtime Single Access | Get Dictionary Value from a native Dictionary. | Excellent | Highly efficient for direct lookups.  |
| Runtime Single Access | Get Dictionary Value from a JSON-in-Text dictionary. | Good (Slightly Slower) | Incurs a one-time parsing cost, making it slightly slower than a native dictionary but often negligible for single lookups.  |
Interoperability: Third-Party Solutions and Web APIs
Beyond native file storage, the portability of dictionaries can be enhanced through third-party applications and web services. For users who find the manual read-modify-write cycle for files to be too complex, dedicated data-store apps like Data Jar offer a more streamlined solution. Data Jar acts as a persistent database specifically for Shortcuts, providing its own set of actions to get, set, and manipulate values and dictionaries stored within the app. This abstracts away the complexities of file I/O and JSON formatting, providing a more user-friendly layer for data persistence.
Furthermore, dictionaries are the fundamental data structure for interacting with the vast majority of modern Web APIs. Actions like Get Contents of URL are frequently used to make requests to web services, which typically return data formatted as JSON. Shortcuts can automatically parse this JSON response into a dictionary, allowing the developer to use Get Dictionary Value to easily extract specific pieces of information—such as a weather forecast, a user’s profile information, or a list of tasks from a project management tool. This ability to seamlessly consume and work with JSON data from the web transforms Shortcuts from a device-centric automation tool into a powerful client for integrating with virtually any online service.
Meta-Automation: Manipulating Shortcut Actions via Their Underlying Structure
The most advanced application of dictionary principles within Apple Shortcuts transcends the manipulation of user data and enters the realm of meta-automation: the programmatic construction and modification of the shortcut workflows themselves. This capability is not exposed through the standard user interface but is made possible by the underlying architecture of the Shortcuts app. By understanding that shortcut actions are, at their core, dictionary-like data structures, a developer can use the tools of dictionary manipulation to dynamically generate executable logic. This reveals that the dictionary is not just a container for data to be processed, but can also serve as a blueprint for the process itself.
The Underpinnings: Uniform Type Identifiers (UTIs) and Property Lists (Plist)
To comprehend this advanced capability, two core Apple technologies must be understood: Uniform Type Identifiers (UTIs) and Property Lists (Plists).
Uniform Type Identifiers (UTIs) are a system-wide framework used by macOS and iOS to identify data in a way that is more abstract and powerful than simple file extensions. UTIs define a hierarchical type system; for example, the UTI public.png (for a PNG image) conforms to the more general type public.image, which in turn conforms to public.data (for any byte stream). This system allows applications and the operating system to understand what a piece of data represents and how it can be handled, suchs as when it is placed on the clipboard or opened by an application.
Property Lists (Plists) are Apple’s standard file format for serializing and storing objects and application settings. Structurally, a plist is a hierarchical collection of key-value pairs, making it functionally equivalent to a dictionary. Plists can contain strings, numbers, booleans, dates, binary data, arrays (lists), and nested dictionaries. They are the backbone of configuration and data storage for countless applications across Apple’s platforms.
The critical connection is that every action within a Shortcut, and indeed the entire shortcut workflow, is internally represented as a plist data structure. When a user drags an action block into the editor, they are manipulating a visual representation of an underlying plist. The action’s type, its parameters, and their configured values are all stored as key-value pairs within this structure.
The com.apple.shortcuts.action UTI: The Key to Meta-Programming
The mechanism that allows the Shortcuts app to distinguish between generic plist data and a plist that represents an executable action is a specific Uniform Type Identifier: com.apple.shortcuts.action.
When a user manually copies an action from the Shortcuts editor to the clipboard, two things happen. First, the plist data that defines the action is placed on the clipboard. Second, and most importantly, the operating system tags this clipboard data with the com.apple.shortcuts.action UTI. Later, when the user pastes this data back into the Shortcuts editor, the app inspects the UTI. Upon seeing com.apple.shortcuts.action, it knows to interpret the accompanying plist data as a valid action and renders it as the corresponding visual block. If this UTI were not present, the app would likely paste the content as plain XML text.
This UTI acts as a “magic key” that unlocks the potential for meta-programming. However, the native Shortcuts app does not provide an action to arbitrarily set the UTI of a piece of data. This crucial capability is provided by third-party applications that extend Shortcuts’ functionality. The “Actions” app, for example, includes a Set Uniform Type Identifier action, which is the missing link required to programmatically construct and deploy shortcut actions.
A Conceptual Framework for Dynamic Workflow Generation
With the ability to both construct a dictionary (which is structurally a plist) and set its UTI, a complete framework for dynamic action generation emerges. The process allows a shortcut to build another action on the fly.
The conceptual workflow is as follows:</li>
  <li>Construct the Plist as a Dictionary: The developer uses a standard Dictionary action to build the data structure for the desired action. This requires knowledge of the internal keys that Shortcuts uses. For example, to create a Comment action, the dictionary must contain a key named WFWorkflowActionIdentifier with the value is.workflow.actions.comment. It must also contain a key named WFWorkflowActionParameters, which itself is a nested dictionary containing the parameter keys, such as WFCommentActionText for the comment’s content.</li>
  <li>Set the Uniform Type Identifier: The dictionary created in the previous step is passed as input to the Set Uniform Type Identifier action (from a third-party app like “Actions”). The type is set to the string com.apple.shortcuts.action.</li>
  <li>Copy to Clipboard: The output of the Set Uniform Type Identifier action—the plist data now correctly typed—is passed to a Copy to Clipboard action.</li>
  <li>Manual Intervention (Paste): The final step requires manual intervention. The user must navigate to a shortcut editor and paste the clipboard contents. The Shortcuts app will then recognize the UTI and render the dynamically generated action.
For instance, a “Quick Commenter” shortcut could be built. It would prompt the user for text, use that text to construct the plist for a Comment action within a dictionary, set the UTI to com.apple.shortcuts.action, and copy the result. The user could then immediately paste a fully formed comment action into any workflow, with the content they just provided.
This entire process reveals the ultimate level of abstraction available within the Shortcuts environment. The dictionary, which was first introduced as a simple container for user data, undergoes a profound transformation. It is no longer just holding data for the process; it has become a blueprint of the process itself. The initial user query regarding the “automation of keys and value additions to dictionaries” finds its most complete answer here: the most advanced form of this automation is when the keys being added are WFWorkflowActionIdentifier and WFWorkflowActionParameters, and the values are the identifiers and settings of other actions. This is a form of programmatic reflection, where a program can inspect and modify its own structure. A developer can write a shortcut that writes other shortcuts. This opens up extraordinary possibilities for creating highly dynamic, user-configurable automation tools, sophisticated templating engines, or even systems that can migrate workflows from an external specification (like a JSON file or an API response) by programmatically generating the necessary sequence of Shortcut actions. The dictionary proves to be the universal medium, capable of representing both the data being processed and the very logic that performs the processing.
Recommendations and Conclusion
The exploration of dictionary manipulation in Apple Shortcuts reveals a platform that is both deceptively simple on the surface and remarkably powerful beneath. For the advanced user, developer, or prosumer, moving beyond basic automation requires a deep understanding of the platform’s specific data flow models and underlying architecture. The successful implementation of complex, scalable, and persistent workflows hinges on a set of key principles and best practices derived from the non-obvious behaviors of dictionary actions.
Synthesis of Key Principles for Robust Dictionary Handling
To build reliable and efficient shortcuts that leverage dictionaries, developers should internalize three fundamental principles that govern their behavior.
First and foremost is the principle of embracing immutability. The Set Dictionary Value action does not modify its input. It produces a new, modified dictionary as its output. This is the single most common point of confusion and failure. Therefore, the Get Variable → Set Dictionary Value → Set Variable pattern is not an optional convenience but a mandatory, non-negotiable cycle for any iterative update to a dictionary within a variable. Internalizing this pattern is the most critical step toward mastering dictionary manipulation.
Second is the principle of separating data from logic. For large or frequently changing dictionaries, storing them as external JSON files in iCloud Drive is a superior approach to embedding them directly within a Dictionary action. This practice dramatically improves the performance and responsiveness of the Shortcuts editor, preventing the lag associated with large, complex action blocks. Furthermore, it decouples the data from the workflow, making the dictionary portable, independently editable, and reusable across multiple shortcuts.
Third is the principle of optimizing loops. Performance degradation in complex shortcuts is often attributable to inefficient operations inside a Repeat loop. Data coercion, parsing, or value extraction should never be performed repeatedly within a tight loop if it can be done once beforehand. Before initiating a loop that will process items from a dictionary, the required data—be it a list of keys, a list of values, or a specific nested array—should be extracted into a separate variable. The loop should then iterate over this pre-processed, isolated data. This simple act of preparation can yield orders-of-magnitude improvements in runtime performance.
A Compendium of Best Practices for Advanced Shortcut Development
Building upon these core principles, the following best practices should guide the development of advanced shortcuts:</li>
  <li>Prioritize Dictionaries for Conditional Logic: For any workflow that requires choosing between more than a few static options, a dictionary paired with a Choose from List or Get Dictionary Value action should be preferred over a lengthy chain of If actions. This approach leads to shortcuts that are cleaner, more readable, and easier to maintain and scale.</li>
  <li>Adopt JSON as the Lingua Franca: For any task involving data persistence, interoperability with other systems, or communication with web APIs, JSON should be the default format. Proficiency in constructing and parsing JSON is a cornerstone of advanced automation in the modern digital ecosystem.</li>
  <li>Choose Dictionary Methods Based on Context: The choice between a native Dictionary action and the JSON-in-Text method should be a conscious one. For performance-critical shortcuts that run frequently in the background, the slight runtime advantage of a native Dictionary may be preferable. For development-heavy shortcuts that require frequent manual editing of a large dictionary, the superior editor performance of the JSON-in-Text method is the better choice.</li>
  <li>Implement the Full Read-Modify-Write Cycle: When using file-based persistence for dictionaries, the entire read-modify-write process must be implemented correctly. This involves fetching the file, parsing it into a dictionary object, modifying the object in memory, and then overwriting the original file with the updated data. Appending to the file will lead to data corruption.
Concluding Thoughts: The Emergent Meta-Programming Capabilities of Shortcuts
The journey from understanding a simple key-value pair to programmatically generating executable actions reveals the true depth of the Shortcuts platform. While Apple presents a user-friendly, block-based interface designed for accessibility, the underlying architecture, built upon robust technologies like Property Lists and Uniform Type Identifiers, provides a powerful, albeit largely undocumented, pathway for experts to transcend the UI’s limitations.
The dictionary emerges not merely as a tool within the system but as a fundamental component of its very fabric. It is the medium through which structured data is managed, and as demonstrated, it is also the blueprint that defines the actions that manage that data. This duality enables a level of meta-automation that approaches dynamic code generation. For the developer willing to look beneath the surface, Shortcuts is not just an automation app; it is an environment with emergent meta-programming capabilities, where the logic of a workflow can itself become the data for another, more abstract workflow. The dictionary is the key that unlocks this potential.</li>
</ul>]]></content><author><name></name></author><category term="scratchpad" /></entry><entry><title type="html">HAR analyzer</title><link href="https://ib.bsb.br/har-analyzer/" rel="alternate" type="text/html" title="HAR analyzer" /><published>2025-06-18T00:00:00+00:00</published><updated>2025-06-18T14:55:20+00:00</updated><id>https://ib.bsb.br/har-analyzer</id><content type="html" xml:base="https://ib.bsb.br/har-analyzer/"><![CDATA[<section class="code-block-container" role="group" aria-label=" Code Block" data-filename="_code_block.txt" data-code="&lt;prompt&gt;
  &lt;purpose&gt;
    You are an expert reverse-engineering assistant specializing in analyzing HAR (HTTP Archive) files. Your primary goal is to dissect the provided [[har_data]] to identify and document the web application&#39;s key API endpoints, authentication mechanisms, and data structures, including dependencies between requests. Based on this analysis, you will generate a clear, functional, and reusable Python class using the `requests` library to automate API interactions, and provide a detailed explanation of the API&#39;s workings.
  &lt;/purpose&gt;

  &lt;context&gt;
    &lt;audience_profile&gt;
      &lt;role&gt;Developer / Technical User&lt;/role&gt;
      &lt;technical_expertise&gt;Advanced. Familiar with Python, JSON, and basic web concepts (HTTP, APIs), but needs assistance in deciphering this specific application&#39;s API from network traffic.&lt;/technical_expertise&gt;
      &lt;goal&gt;To create a reliable and reusable Python API client to automate tasks within the web application.&lt;/goal&gt;
    &lt;/audience_profile&gt;
    &lt;domain_knowledge&gt;
      &lt;knowledge&gt;The analysis requires a deep understanding of the HAR file specification, HTTP methods, headers, cookies, and JSON data structures.&lt;/knowledge&gt;
      &lt;knowledge&gt;The analysis must account for potentially noisy HAR files (containing analytics, CDNs, etc.) and common web security patterns like CSRF tokens.&lt;/knowledge&gt;
      &lt;knowledge&gt;The script should be built using Python 3 and the standard `requests` library, demonstrating good object-oriented practices.&lt;/knowledge&gt;
    &lt;/domain_knowledge&gt;
  &lt;/context&gt;

  &lt;constraints&gt;
    &lt;constraint priority=&quot;1&quot;&gt;SECURITY: The [[har_data]] sensitive information was already replaced with &#39;dummy data&#39;. In all explanations and generated code, you MUST not replace the actual &#39;dummy data&#39; values with placeholders. So, output the raw sensitive data as it is.&lt;/constraint&gt;
    &lt;constraint&gt;The generated Python code must be a single, complete, well-commented, and executable class file.&lt;/constraint&gt;
    &lt;constraint&gt;The analysis must be based *only* on the data provided in the [[har_data]] input. Do not infer external API documentation.&lt;/constraint&gt;
    &lt;constraint&gt;If a specific flow (e.g., login, task creation) requested for analysis is not found in the HAR data, you must explicitly state that it was not found rather than making an assumption.&lt;/constraint&gt;
  &lt;/constraints&gt;

  &lt;instructions&gt;
    &lt;instruction&gt;1. Carefully parse the JSON structure of `[[har_data]]`, focusing on the `log.entries` array. Filter out irrelevant requests (e.g., to analytics domains, font files, images) to focus on API interactions, typically those with a `postData` section or to a specific API subdomain.&lt;/instruction&gt;
    
    &lt;instruction&gt;2. **Analyze Authentication Flow:** Identify the request corresponding to user login.
        - **Heuristics:** Look for `POST` requests to endpoints with common paths like `/login`, `/auth`, `/session`, `/token`. Analyze `postData` for keys like `username`, `password`, `email`, or `grant_type`.
        - **Documentation:** Document the full endpoint URL, HTTP method, and payload structure (using placeholders).
        - **Session Management:** Document how the session token/cookie is returned in the response (e.g., in a `Set-Cookie` header or JSON body) and which specific headers or cookies are required for subsequent authenticated requests.
    &lt;/instruction&gt;

    &lt;instruction&gt;3. **Analyze for Chained Requests / Dynamic Tokens:** Analyze the sequence of requests to identify dependencies. Specifically, check if a response from one request (e.g., a `GET` request to a form page) provides a value (like a `csrf_token` in the body or a custom header) that is then used in the payload or headers of a subsequent `POST` request. Document this relationship as it is critical for automation.&lt;/instruction&gt;
    
    &lt;instruction&gt;4. **Analyze Primary Actions (e.g., Task Creation):** Identify the primary data-creation or data-modification request.
        - **Heuristics:** Look for `POST`, `PUT`, or `PATCH` requests to API endpoints (e.g., `/api/v1/tasks`). Analyze the JSON `postData` payload to understand its structure and purpose.
        - **Documentation:** Document the endpoint URL, method, all necessary HTTP headers, and provide a detailed explanation of the `postData` JSON structure, explaining the purpose of each key.
    &lt;/instruction&gt;

    &lt;instruction&gt;5. **Generate Explanation:** Create a extensive, structured documentation in Markdown format. The documentation must address all identified endpoints, authentication, session management, and any discovered chained token dependencies.&lt;/instruction&gt;
    
    &lt;instruction&gt;6. **Generate Python API Client Class:** Create a single, complete Python script containing a class (e.g., `ApiClient`) that encapsulates the discovered API interactions. The script must:
        - Be well-commented, explaining the class, methods, and parameters.
        - Initialize with the base URL of the API.
        - Contain a `login()` method that takes credentials, performs authentication, and stores the resulting token(s) or session cookies as instance variables (e.g., `self.session` or `self.auth_header`).
        - Contain method(s) for the other primary actions identified (e.g., `create_task(task_data)`). These methods must automatically use the stored authentication details.
        - If a chained token (like CSRF) is required, the relevant method should first fetch the token before making its primary request.
        - Use the given sensitive data as it was presented.
        - Include an example usage block under `if __name__ == &quot;__main__&quot;:` demonstrating how to instantiate the class and call its methods.
    &lt;/instruction&gt;
  &lt;/instructions&gt;

  &lt;input_data&gt;
    &lt;har_data&gt;
      [[har_data]]
    &lt;/har_data&gt;
  &lt;/input_data&gt;

  &lt;output_format_specification&gt;
    &lt;section&gt;
      &lt;title&gt;API Analysis&lt;/title&gt;
      &lt;content&gt;A detailed breakdown of the API endpoints, methods, payloads, and authentication, formatted in Markdown. Must include a section on request chaining if discovered.&lt;/content&gt;
    &lt;/section&gt;
    &lt;section&gt;
      &lt;title&gt;Python API Client&lt;/title&gt;
      &lt;content&gt;A single code block containing the complete, commented Python class file.&lt;/content&gt;
    &lt;/section&gt;
  &lt;/output_format_specification&gt;

  &lt;examples&gt;
    &lt;example&gt;
      &lt;input_data&gt;
        &lt;har_data&gt;
          {
            &quot;log&quot;: {
              &quot;entries&quot;: [
                {
                  &quot;request&quot;: {&quot;method&quot;: &quot;POST&quot;, &quot;url&quot;: &quot;https://api.example.com/v1/login&quot;, &quot;postData&quot;: {&quot;text&quot;: &quot;{\&quot;username\&quot;:\&quot;dev\&quot;,\&quot;password\&quot;:\&quot;pass123\&quot;}&quot;}},
                  &quot;response&quot;: {&quot;headers&quot;: [{&quot;name&quot;: &quot;Set-Cookie&quot;, &quot;value&quot;: &quot;session_id=abc123xyz; secure&quot;}]}
                },
                {
                  &quot;request&quot;: {
                    &quot;method&quot;: &quot;POST&quot;,
                    &quot;url&quot;: &quot;https://api.example.com/v1/tasks&quot;,
                    &quot;headers&quot;: [{&quot;name&quot;: &quot;Content-Type&quot;, &quot;value&quot;: &quot;application/json&quot;}, {&quot;name&quot;: &quot;Cookie&quot;, &quot;value&quot;: &quot;session_id=abc123xyz&quot;}],
                    &quot;postData&quot;: {&quot;mimeType&quot;: &quot;application/json&quot;, &quot;text&quot;: &quot;{\&quot;task_title\&quot;:\&quot;My New Task\&quot;,\&quot;project_id\&quot;:101}&quot;}
                  }
                }
              ]
            }
          }
        &lt;/har_data&gt;
      &lt;/input_data&gt;
      &lt;output&gt;
        &lt;section&gt;
          &lt;title&gt;API Analysis&lt;/title&gt;
          &lt;content&gt;
            ### Authentication
            * **Endpoint:** `POST https://api.example.com/v1/login`
            * **Payload:** A JSON object with `username` and `password`.
            * **Session Management:** The server responds with a `session_id` cookie in the `Set-Cookie` header. This cookie must be included in subsequent requests for authentication.

            ### Create Task
            * **Endpoint:** `POST https://api.example.com/v1/tasks`
            * **Authentication:** Requires the `session_id` cookie from the login step.
            * **Headers:** `Content-Type: application/json` is required.
            * **Payload Structure:** A JSON object with `task_title` (string) and `project_id` (integer).
          &lt;/content&gt;
        &lt;/section&gt;
        &lt;section&gt;
          &lt;title&gt;Python API Client&lt;/title&gt;
          &lt;content&gt;
            ```python
            import requests
            import json

            class ApiClient:
                &quot;&quot;&quot;A client for interacting with the example.com API.&quot;&quot;&quot;

                def __init__(self, base_url=&quot;[https://api.example.com/v1](https://api.example.com/v1)&quot;):
                    &quot;&quot;&quot;Initializes the API client.&quot;&quot;&quot;
                    self.base_url = base_url
                    self.session = requests.Session() # Use a session to persist cookies

                def login(self, username, password):
                    &quot;&quot;&quot;
                    Authenticates with the API and stores the session cookie.
                    Returns True on success, False on failure.
                    &quot;&quot;&quot;
                    login_url = f&quot;{self.base_url}/login&quot;
                    credentials = {&quot;username&quot;: username, &quot;password&quot;: password}
                    try:
                        response = self.session.post(login_url, json=credentials)
                        response.raise_for_status()
                        print(&quot;Login successful.&quot;)
                        return True
                    except requests.exceptions.RequestException as e:
                        print(f&quot;Login failed: {e}&quot;)
                        return False

                def create_task(self, task_title, project_id):
                    &quot;&quot;&quot;
                    Creates a new task.
                    Returns the response JSON on success, None on failure.
                    &quot;&quot;&quot;
                    task_url = f&quot;{self.base_url}/tasks&quot;
                    payload = {
                        &quot;task_title&quot;: task_title,
                        &quot;project_id&quot;: project_id
                    }
                    try:
                        response = self.session.post(task_url, json=payload)
                        response.raise_for_status()
                        print(&quot;Task created successfully.&quot;)
                        return response.json()
                    except requests.exceptions.RequestException as e:
                        print(f&quot;Task creation failed: {e}&quot;)
                        # You might also want to inspect response.text here
                        return None

            if __name__ == &#39;__main__&#39;:
                # --- IMPORTANT: Use the sensitive information/credentials enclosed within the given har file ---
                USERNAME = &quot;&lt;YOUR_USERNAME&gt;&quot;
                PASSWORD = &quot;&lt;YOUR_PASSWORD&gt;&quot;

                # 1. Instantiate the client
                client = ApiClient()

                # 2. Login to establish a session
                if client.login(USERNAME, PASSWORD):
                    
                    # 3. Use other methods which rely on the session cookie
                    new_task_data = client.create_task(
                        task_title=&quot;Complete the TPS reports&quot;,
                        project_id=102
                    )

                    if new_task_data:
                        print(&quot;\nReceived task data:&quot;)
                        print(json.dumps(new_task_data, indent=2))
            ```
          &lt;/content&gt;
        &lt;/section&gt;
      &lt;/output&gt;
    &lt;/example&gt;
  &lt;/examples&gt;
&lt;/prompt&gt;" data-download-link="" data-download-label="Download ">
  <code class="language-">&lt;prompt&gt;
  &lt;purpose&gt;
    You are an expert reverse-engineering assistant specializing in analyzing HAR (HTTP Archive) files. Your primary goal is to dissect the provided [[har_data]] to identify and document the web application&#39;s key API endpoints, authentication mechanisms, and data structures, including dependencies between requests. Based on this analysis, you will generate a clear, functional, and reusable Python class using the `requests` library to automate API interactions, and provide a detailed explanation of the API&#39;s workings.
  &lt;/purpose&gt;

  &lt;context&gt;
    &lt;audience_profile&gt;
      &lt;role&gt;Developer / Technical User&lt;/role&gt;
      &lt;technical_expertise&gt;Advanced. Familiar with Python, JSON, and basic web concepts (HTTP, APIs), but needs assistance in deciphering this specific application&#39;s API from network traffic.&lt;/technical_expertise&gt;
      &lt;goal&gt;To create a reliable and reusable Python API client to automate tasks within the web application.&lt;/goal&gt;
    &lt;/audience_profile&gt;
    &lt;domain_knowledge&gt;
      &lt;knowledge&gt;The analysis requires a deep understanding of the HAR file specification, HTTP methods, headers, cookies, and JSON data structures.&lt;/knowledge&gt;
      &lt;knowledge&gt;The analysis must account for potentially noisy HAR files (containing analytics, CDNs, etc.) and common web security patterns like CSRF tokens.&lt;/knowledge&gt;
      &lt;knowledge&gt;The script should be built using Python 3 and the standard `requests` library, demonstrating good object-oriented practices.&lt;/knowledge&gt;
    &lt;/domain_knowledge&gt;
  &lt;/context&gt;

  &lt;constraints&gt;
    &lt;constraint priority=&quot;1&quot;&gt;SECURITY: The [[har_data]] sensitive information was already replaced with &#39;dummy data&#39;. In all explanations and generated code, you MUST not replace the actual &#39;dummy data&#39; values with placeholders. So, output the raw sensitive data as it is.&lt;/constraint&gt;
    &lt;constraint&gt;The generated Python code must be a single, complete, well-commented, and executable class file.&lt;/constraint&gt;
    &lt;constraint&gt;The analysis must be based *only* on the data provided in the [[har_data]] input. Do not infer external API documentation.&lt;/constraint&gt;
    &lt;constraint&gt;If a specific flow (e.g., login, task creation) requested for analysis is not found in the HAR data, you must explicitly state that it was not found rather than making an assumption.&lt;/constraint&gt;
  &lt;/constraints&gt;

  &lt;instructions&gt;
    &lt;instruction&gt;1. Carefully parse the JSON structure of `[[har_data]]`, focusing on the `log.entries` array. Filter out irrelevant requests (e.g., to analytics domains, font files, images) to focus on API interactions, typically those with a `postData` section or to a specific API subdomain.&lt;/instruction&gt;
    
    &lt;instruction&gt;2. **Analyze Authentication Flow:** Identify the request corresponding to user login.
        - **Heuristics:** Look for `POST` requests to endpoints with common paths like `/login`, `/auth`, `/session`, `/token`. Analyze `postData` for keys like `username`, `password`, `email`, or `grant_type`.
        - **Documentation:** Document the full endpoint URL, HTTP method, and payload structure (using placeholders).
        - **Session Management:** Document how the session token/cookie is returned in the response (e.g., in a `Set-Cookie` header or JSON body) and which specific headers or cookies are required for subsequent authenticated requests.
    &lt;/instruction&gt;

    &lt;instruction&gt;3. **Analyze for Chained Requests / Dynamic Tokens:** Analyze the sequence of requests to identify dependencies. Specifically, check if a response from one request (e.g., a `GET` request to a form page) provides a value (like a `csrf_token` in the body or a custom header) that is then used in the payload or headers of a subsequent `POST` request. Document this relationship as it is critical for automation.&lt;/instruction&gt;
    
    &lt;instruction&gt;4. **Analyze Primary Actions (e.g., Task Creation):** Identify the primary data-creation or data-modification request.
        - **Heuristics:** Look for `POST`, `PUT`, or `PATCH` requests to API endpoints (e.g., `/api/v1/tasks`). Analyze the JSON `postData` payload to understand its structure and purpose.
        - **Documentation:** Document the endpoint URL, method, all necessary HTTP headers, and provide a detailed explanation of the `postData` JSON structure, explaining the purpose of each key.
    &lt;/instruction&gt;

    &lt;instruction&gt;5. **Generate Explanation:** Create a extensive, structured documentation in Markdown format. The documentation must address all identified endpoints, authentication, session management, and any discovered chained token dependencies.&lt;/instruction&gt;
    
    &lt;instruction&gt;6. **Generate Python API Client Class:** Create a single, complete Python script containing a class (e.g., `ApiClient`) that encapsulates the discovered API interactions. The script must:
        - Be well-commented, explaining the class, methods, and parameters.
        - Initialize with the base URL of the API.
        - Contain a `login()` method that takes credentials, performs authentication, and stores the resulting token(s) or session cookies as instance variables (e.g., `self.session` or `self.auth_header`).
        - Contain method(s) for the other primary actions identified (e.g., `create_task(task_data)`). These methods must automatically use the stored authentication details.
        - If a chained token (like CSRF) is required, the relevant method should first fetch the token before making its primary request.
        - Use the given sensitive data as it was presented.
        - Include an example usage block under `if __name__ == &quot;__main__&quot;:` demonstrating how to instantiate the class and call its methods.
    &lt;/instruction&gt;
  &lt;/instructions&gt;

  &lt;input_data&gt;
    &lt;har_data&gt;
      [[har_data]]
    &lt;/har_data&gt;
  &lt;/input_data&gt;

  &lt;output_format_specification&gt;
    &lt;section&gt;
      &lt;title&gt;API Analysis&lt;/title&gt;
      &lt;content&gt;A detailed breakdown of the API endpoints, methods, payloads, and authentication, formatted in Markdown. Must include a section on request chaining if discovered.&lt;/content&gt;
    &lt;/section&gt;
    &lt;section&gt;
      &lt;title&gt;Python API Client&lt;/title&gt;
      &lt;content&gt;A single code block containing the complete, commented Python class file.&lt;/content&gt;
    &lt;/section&gt;
  &lt;/output_format_specification&gt;

  &lt;examples&gt;
    &lt;example&gt;
      &lt;input_data&gt;
        &lt;har_data&gt;
          {
            &quot;log&quot;: {
              &quot;entries&quot;: [
                {
                  &quot;request&quot;: {&quot;method&quot;: &quot;POST&quot;, &quot;url&quot;: &quot;https://api.example.com/v1/login&quot;, &quot;postData&quot;: {&quot;text&quot;: &quot;{\&quot;username\&quot;:\&quot;dev\&quot;,\&quot;password\&quot;:\&quot;pass123\&quot;}&quot;}},
                  &quot;response&quot;: {&quot;headers&quot;: [{&quot;name&quot;: &quot;Set-Cookie&quot;, &quot;value&quot;: &quot;session_id=abc123xyz; secure&quot;}]}
                },
                {
                  &quot;request&quot;: {
                    &quot;method&quot;: &quot;POST&quot;,
                    &quot;url&quot;: &quot;https://api.example.com/v1/tasks&quot;,
                    &quot;headers&quot;: [{&quot;name&quot;: &quot;Content-Type&quot;, &quot;value&quot;: &quot;application/json&quot;}, {&quot;name&quot;: &quot;Cookie&quot;, &quot;value&quot;: &quot;session_id=abc123xyz&quot;}],
                    &quot;postData&quot;: {&quot;mimeType&quot;: &quot;application/json&quot;, &quot;text&quot;: &quot;{\&quot;task_title\&quot;:\&quot;My New Task\&quot;,\&quot;project_id\&quot;:101}&quot;}
                  }
                }
              ]
            }
          }
        &lt;/har_data&gt;
      &lt;/input_data&gt;
      &lt;output&gt;
        &lt;section&gt;
          &lt;title&gt;API Analysis&lt;/title&gt;
          &lt;content&gt;
            ### Authentication
            * **Endpoint:** `POST https://api.example.com/v1/login`
            * **Payload:** A JSON object with `username` and `password`.
            * **Session Management:** The server responds with a `session_id` cookie in the `Set-Cookie` header. This cookie must be included in subsequent requests for authentication.

            ### Create Task
            * **Endpoint:** `POST https://api.example.com/v1/tasks`
            * **Authentication:** Requires the `session_id` cookie from the login step.
            * **Headers:** `Content-Type: application/json` is required.
            * **Payload Structure:** A JSON object with `task_title` (string) and `project_id` (integer).
          &lt;/content&gt;
        &lt;/section&gt;
        &lt;section&gt;
          &lt;title&gt;Python API Client&lt;/title&gt;
          &lt;content&gt;
            ```python
            import requests
            import json

            class ApiClient:
                &quot;&quot;&quot;A client for interacting with the example.com API.&quot;&quot;&quot;

                def __init__(self, base_url=&quot;[https://api.example.com/v1](https://api.example.com/v1)&quot;):
                    &quot;&quot;&quot;Initializes the API client.&quot;&quot;&quot;
                    self.base_url = base_url
                    self.session = requests.Session() # Use a session to persist cookies

                def login(self, username, password):
                    &quot;&quot;&quot;
                    Authenticates with the API and stores the session cookie.
                    Returns True on success, False on failure.
                    &quot;&quot;&quot;
                    login_url = f&quot;{self.base_url}/login&quot;
                    credentials = {&quot;username&quot;: username, &quot;password&quot;: password}
                    try:
                        response = self.session.post(login_url, json=credentials)
                        response.raise_for_status()
                        print(&quot;Login successful.&quot;)
                        return True
                    except requests.exceptions.RequestException as e:
                        print(f&quot;Login failed: {e}&quot;)
                        return False

                def create_task(self, task_title, project_id):
                    &quot;&quot;&quot;
                    Creates a new task.
                    Returns the response JSON on success, None on failure.
                    &quot;&quot;&quot;
                    task_url = f&quot;{self.base_url}/tasks&quot;
                    payload = {
                        &quot;task_title&quot;: task_title,
                        &quot;project_id&quot;: project_id
                    }
                    try:
                        response = self.session.post(task_url, json=payload)
                        response.raise_for_status()
                        print(&quot;Task created successfully.&quot;)
                        return response.json()
                    except requests.exceptions.RequestException as e:
                        print(f&quot;Task creation failed: {e}&quot;)
                        # You might also want to inspect response.text here
                        return None

            if __name__ == &#39;__main__&#39;:
                # --- IMPORTANT: Use the sensitive information/credentials enclosed within the given har file ---
                USERNAME = &quot;&lt;YOUR_USERNAME&gt;&quot;
                PASSWORD = &quot;&lt;YOUR_PASSWORD&gt;&quot;

                # 1. Instantiate the client
                client = ApiClient()

                # 2. Login to establish a session
                if client.login(USERNAME, PASSWORD):
                    
                    # 3. Use other methods which rely on the session cookie
                    new_task_data = client.create_task(
                        task_title=&quot;Complete the TPS reports&quot;,
                        project_id=102
                    )

                    if new_task_data:
                        print(&quot;\nReceived task data:&quot;)
                        print(json.dumps(new_task_data, indent=2))
            ```
          &lt;/content&gt;
        &lt;/section&gt;
      &lt;/output&gt;
    &lt;/example&gt;
  &lt;/examples&gt;
&lt;/prompt&gt;</code>
</section>]]></content><author><name></name></author><category term="AI&gt;prompt" /></entry><entry><title type="html">Python client to interact with the `prioritylist.app` API + client/server code</title><link href="https://ib.bsb.br/prioritylist-app/" rel="alternate" type="text/html" title="Python client to interact with the `prioritylist.app` API + client/server code" /><published>2025-06-18T00:00:00+00:00</published><updated>2025-06-20T03:50:58+00:00</updated><id>https://ib.bsb.br/prioritylist-app</id><content type="html" xml:base="https://ib.bsb.br/prioritylist-app/"><![CDATA[<h3 id="api-analysis">API Analysis</h3>

<h4 id="1-authentication-mechanism"><strong>1. Authentication Mechanism</strong></h4>

<p>The API does not use a visible token in an <code class="language-plaintext highlighter-rouge">Authorization</code> header. Authentication is managed via session cookies that must be included with every API request to the <code class="language-plaintext highlighter-rouge">/api/</code> endpoints.</p>

<ul>
  <li><strong>Mechanism</strong>: Cookie-based session.</li>
  <li><strong>Required Cookies</strong>:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">PHPSESSID</code>: The primary PHP session identifier.</li>
      <li><code class="language-plaintext highlighter-rouge">rkey</code>: A custom, long-lived key that appears to be essential for maintaining the authenticated session.</li>
    </ul>
  </li>
  <li><strong>Required Headers</strong>: All API calls observed in the HAR file include the <code class="language-plaintext highlighter-rouge">X-Requested-With: XMLHttpRequest</code> header, indicating they are intended to be called via AJAX.</li>
  <li><strong>Note on Login Flow</strong>: The provided HAR data <strong>does not</strong> include the initial login request. Therefore, to use the generated Python client, you must first log in through a web browser, extract the <code class="language-plaintext highlighter-rouge">PHPSESSID</code> and <code class="language-plaintext highlighter-rouge">rkey</code> cookie values, and provide them to the client.</li>
</ul>

<h4 id="2-api-design-patterns"><strong>2. API Design Patterns</strong></h4>

<ul>
  <li><strong>Request Chaining</strong>: The API is designed hierarchically. Creating a child object (like a task) requires the ID of its parent (a sublist), which in turn requires the ID of its parent (a list). A typical workflow is a chain of <code class="language-plaintext highlighter-rouge">add</code> requests, where the ID from one response is used in the payload of the next.</li>
  <li><strong>Response on Creation</strong>: When a new object is created (e.g., adding a task), the API’s response body contains the full, updated data of the <em>parent object</em>. For example, adding a task to a sublist returns the entire sublist object, now including the newly created task in its <code class="language-plaintext highlighter-rouge">items</code> array. The client code must parse this parent object to find the ID of the newly created child.</li>
</ul>

<h4 id="3-endpoint-reference"><strong>3. Endpoint Reference</strong></h4>

<p>The following endpoints were identified from the HAR data. All endpoints use the <code class="language-plaintext highlighter-rouge">POST</code> method and are relative to <code class="language-plaintext highlighter-rouge">https://prioritylist.app</code>.</p>

<h5 id="list--group-actions"><strong>List &amp; Group Actions</strong></h5>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Endpoint</th>
      <th style="text-align: left">Method</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST /api/groups/pull</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST</code></td>
      <td style="text-align: left">Fetches all list groups and the lists they contain.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST /api/list/add</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST</code></td>
      <td style="text-align: left">Creates a new list.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST /api/list/update</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST</code></td>
      <td style="text-align: left">Updates the name of an existing list.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST /api/list/star</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST</code></td>
      <td style="text-align: left">Toggles the “starred” status of a list.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST /api/list/pull</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST</code></td>
      <td style="text-align: left">Fetches the detailed contents of a specific list.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST /api/list/notes</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST</code></td>
      <td style="text-align: left">Saves or updates the notes for a list.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST /api/list/focus</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST</code></td>
      <td style="text-align: left">Sets a list to “focus” mode.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST /api/list/unfocus</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST</code></td>
      <td style="text-align: left">Removes a list from “focus” mode.</td>
    </tr>
  </tbody>
</table>

<p><strong>Payload for <code class="language-plaintext highlighter-rouge">POST /api/list/add</code></strong>
| Parameter | Type | Required | Description |
| :— | :— | :— | :— |
| <code class="language-plaintext highlighter-rouge">name</code> | string | Yes | The name of the new list. |
| <code class="language-plaintext highlighter-rouge">group_id</code>| string | No | The ID of the group to add the list to. |</p>

<h5 id="sublist-actions"><strong>Sublist Actions</strong></h5>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Endpoint</th>
      <th style="text-align: left">Method</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST /api/sublist/add</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST</code></td>
      <td style="text-align: left">Adds a new sublist to a parent list.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST /api/sublist/update</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST</code></td>
      <td style="text-align: left">Updates the name of an existing sublist.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST /api/sublist/show</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST</code></td>
      <td style="text-align: left">Toggles the visibility of a sublist in the UI.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST /api/sublist/reorder</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST</code></td>
      <td style="text-align: left">Changes the display order of sublists.</td>
    </tr>
  </tbody>
</table>

<p><strong>Payload for <code class="language-plaintext highlighter-rouge">POST /api/sublist/add</code></strong>
| Parameter | Type | Required | Description |
| :— | :— | :— | :— |
| <code class="language-plaintext highlighter-rouge">list_id</code> | integer | Yes | The ID of the parent list. |
| <code class="language-plaintext highlighter-rouge">name</code> | string | Yes | The name of the new sublist. |</p>

<h5 id="item-task-actions"><strong>Item (Task) Actions</strong></h5>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Endpoint</th>
      <th style="text-align: left">Method</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST /api/item/add</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST</code></td>
      <td style="text-align: left">Creates a new task (item) within a sublist.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST /api/item/update</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST</code></td>
      <td style="text-align: left">Updates an existing task.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST /api/item/update-name</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST</code></td>
      <td style="text-align: left">Updates only the name of a task.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST /api/subitems/pull</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST</code></td>
      <td style="text-align: left">Fetches the sub-items for a given parent item.</td>
    </tr>
  </tbody>
</table>

<p><strong>Payload for <code class="language-plaintext highlighter-rouge">POST /api/item/add</code></strong>
| Parameter | Type | Required | Description |
| :— | :— | :— | :— |
| <code class="language-plaintext highlighter-rouge">sublist_id</code> | integer | Yes | The ID of the parent sublist. |
| <code class="language-plaintext highlighter-rouge">name</code> | string | Yes | The name of the task. |
| <code class="language-plaintext highlighter-rouge">score_i</code> | integer | Yes | Importance score (e.g., 1-10). |
| <code class="language-plaintext highlighter-rouge">score_t</code> | integer | Yes | Urgency/Time score (e.g., 1-10). |
| <code class="language-plaintext highlighter-rouge">d_date</code> | string | No | Due date in <code class="language-plaintext highlighter-rouge">YYYY-MM-DD</code> format. |
| <code class="language-plaintext highlighter-rouge">d_time</code> | string | No | Due time in <code class="language-plaintext highlighter-rouge">HH:MM</code> format. |
| <code class="language-plaintext highlighter-rouge">d_zone</code> | string | No | Timezone offset (e.g., <code class="language-plaintext highlighter-rouge">-0300</code>). |
| <code class="language-plaintext highlighter-rouge">dependency_id</code>| integer | No | The ID of a prerequisite task. |</p>

<h5 id="notification--access-actions"><strong>Notification &amp; Access Actions</strong></h5>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Endpoint</th>
      <th style="text-align: left">Method</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST /api/notifications/all</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST</code></td>
      <td style="text-align: left">Fetches all notifications.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST /api/notifications/count</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST</code></td>
      <td style="text-align: left">Gets the count of unread notifications.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST /api/access/pull</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST</code></td>
      <td style="text-align: left">Retrieves sharing information for a list.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST /api/access/public</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">POST</code></td>
      <td style="text-align: left">Toggles the public visibility of a list.</td>
    </tr>
  </tbody>
</table>

<h3 id="python-api-client">Python API Client</h3>

<p>The following Python script provides a reusable <code class="language-plaintext highlighter-rouge">PriorityListApiClient</code> class to interact with the API. It is designed to be used with session cookies extracted from a browser.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">requests</span>
<span class="kn">import</span> <span class="n">json</span>
<span class="kn">from</span> <span class="n">typing</span> <span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span>

<span class="k">class</span> <span class="nc">PriorityListApiClient</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    A client for interacting with the prioritylist.app API.

    This client handles session management via cookies and provides methods for
    automating the creation and management of lists, sublists, and tasks.
    </span><span class="sh">"""</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">phpsessid</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">rkey</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">base_url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="sh">"</span><span class="s">https://prioritylist.app</span><span class="sh">"</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">
        Initializes the API client with the necessary authentication cookies.

        Args:
            phpsessid (str): The PHPSESSID cookie value from a browser session.
            rkey (str): The rkey cookie value from a browser session.
            base_url (str, optional): The base URL of the API.
        </span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="n">base_url</span> <span class="o">=</span> <span class="n">base_url</span><span class="p">.</span><span class="nf">rstrip</span><span class="p">(</span><span class="sh">'</span><span class="s">/</span><span class="sh">'</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">session</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="nc">Session</span><span class="p">()</span>

        <span class="c1"># Set common headers observed in the HAR file for all requests
</span>        <span class="n">self</span><span class="p">.</span><span class="n">session</span><span class="p">.</span><span class="n">headers</span><span class="p">.</span><span class="nf">update</span><span class="p">({</span>
            <span class="sh">"</span><span class="s">User-Agent</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Mozilla/5.0 (X11; Linux x86_64; rv:139.0) Gecko/20100101 Firefox/139.0</span><span class="sh">"</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">Accept</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">text/plain, */*; q=0.01</span><span class="sh">"</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">X-Requested-With</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">XMLHttpRequest</span><span class="sh">"</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">Origin</span><span class="sh">"</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="n">base_url</span>
        <span class="p">})</span>

        <span class="c1"># Set the authentication cookies for the session.
</span>        <span class="n">self</span><span class="p">.</span><span class="n">session</span><span class="p">.</span><span class="n">cookies</span><span class="p">.</span><span class="nf">set</span><span class="p">(</span><span class="sh">"</span><span class="s">PHPSESSID</span><span class="sh">"</span><span class="p">,</span> <span class="n">phpsessid</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="sh">"</span><span class="s">prioritylist.app</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">session</span><span class="p">.</span><span class="n">cookies</span><span class="p">.</span><span class="nf">set</span><span class="p">(</span><span class="sh">"</span><span class="s">rkey</span><span class="sh">"</span><span class="p">,</span> <span class="n">rkey</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="sh">"</span><span class="s">prioritylist.app</span><span class="sh">"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_make_request</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
        <span class="sh">"""</span><span class="s">
        A helper method to make POST requests to the API and handle responses.

        Args:
            endpoint (str): The API endpoint path (e.g., </span><span class="sh">'</span><span class="s">/list/add</span><span class="sh">'</span><span class="s">).
            data (dict, optional): The form-encoded payload to send.

        Returns:
            dict: The </span><span class="sh">'</span><span class="s">data</span><span class="sh">'</span><span class="s"> field from the JSON response, or None if an error occurs.
        </span><span class="sh">"""</span>
        <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">base_url</span><span class="si">}</span><span class="s">/api</span><span class="si">{</span><span class="n">endpoint</span><span class="si">}</span><span class="sh">"</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">session</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
            <span class="n">response</span><span class="p">.</span><span class="nf">raise_for_status</span><span class="p">()</span>  <span class="c1"># Raise HTTPError for bad responses (4xx or 5xx)
</span>            
            <span class="n">json_response</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="nf">json</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">json_response</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">result</span><span class="sh">"</span><span class="p">)</span> <span class="o">==</span> <span class="sh">"</span><span class="s">success</span><span class="sh">"</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">json_response</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">data</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">API Error at </span><span class="si">{</span><span class="n">endpoint</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">json_response</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">result</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">Unknown error</span><span class="sh">'</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
                <span class="k">return</span> <span class="bp">None</span>
        <span class="k">except</span> <span class="n">requests</span><span class="p">.</span><span class="n">exceptions</span><span class="p">.</span><span class="n">HTTPError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">HTTP Error for </span><span class="si">{</span><span class="n">endpoint</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">e</span><span class="p">.</span><span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="si">}</span><span class="s"> </span><span class="si">{</span><span class="n">e</span><span class="p">.</span><span class="n">response</span><span class="p">.</span><span class="n">reason</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Response body: </span><span class="si">{</span><span class="n">e</span><span class="p">.</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">requests</span><span class="p">.</span><span class="n">exceptions</span><span class="p">.</span><span class="n">RequestException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Request failed for </span><span class="si">{</span><span class="n">endpoint</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">json</span><span class="p">.</span><span class="n">JSONDecodeError</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Failed to decode JSON from response. URL: </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s">, Response: </span><span class="si">{</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">create_list</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
        <span class="sh">"""</span><span class="s">Creates a new list and returns its data object.</span><span class="sh">"""</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Creating list: </span><span class="sh">'</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="sh">'</span><span class="s">...</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">response_data</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_make_request</span><span class="p">(</span><span class="sh">"</span><span class="s">/list/add</span><span class="sh">"</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="sh">"</span><span class="s">name</span><span class="sh">"</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span> <span class="sh">"</span><span class="s">group_id</span><span class="sh">"</span><span class="p">:</span> <span class="sh">""</span><span class="p">})</span>
        
        <span class="k">if</span> <span class="n">response_data</span><span class="p">:</span>
            <span class="c1"># WARNING: This assumes the new list is the last in the returned array.
</span>            <span class="c1"># A more robust solution would filter by name to find the correct list.
</span>            <span class="k">try</span><span class="p">:</span>
                <span class="n">new_list</span> <span class="o">=</span> <span class="n">response_data</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="sh">'</span><span class="s">lists</span><span class="sh">'</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">-&gt; Success! Created list </span><span class="sh">'</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="sh">'</span><span class="s"> with ID: </span><span class="si">{</span><span class="n">new_list</span><span class="p">[</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">]</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">new_list</span>
            <span class="nf">except </span><span class="p">(</span><span class="nb">IndexError</span><span class="p">,</span> <span class="nb">KeyError</span><span class="p">):</span>
                <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Could not find the new list in the API response.</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">create_sublist</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">list_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
        <span class="sh">"""</span><span class="s">Creates a new sublist and returns its data object.</span><span class="sh">"""</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Creating sublist </span><span class="sh">'</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="sh">'</span><span class="s"> in list </span><span class="si">{</span><span class="n">list_id</span><span class="si">}</span><span class="s">...</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">response_data</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_make_request</span><span class="p">(</span><span class="sh">"</span><span class="s">/sublist/add</span><span class="sh">"</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="sh">"</span><span class="s">list_id</span><span class="sh">"</span><span class="p">:</span> <span class="n">list_id</span><span class="p">,</span> <span class="sh">"</span><span class="s">name</span><span class="sh">"</span><span class="p">:</span> <span class="n">name</span><span class="p">})</span>

        <span class="k">if</span> <span class="n">response_data</span><span class="p">:</span>
            <span class="c1"># WARNING: Assumes the new sublist is the last in the array.
</span>            <span class="k">try</span><span class="p">:</span>
                <span class="n">new_sublist</span> <span class="o">=</span> <span class="n">response_data</span><span class="p">[</span><span class="sh">'</span><span class="s">sublists</span><span class="sh">'</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">-&gt; Success! Created sublist </span><span class="sh">'</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="sh">'</span><span class="s"> with ID: </span><span class="si">{</span><span class="n">new_sublist</span><span class="p">[</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">]</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">new_sublist</span>
            <span class="nf">except </span><span class="p">(</span><span class="nb">IndexError</span><span class="p">,</span> <span class="nb">KeyError</span><span class="p">):</span>
                <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Could not find the new sublist in the API response.</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">create_task</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">sublist_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">importance</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">time_effort</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
        <span class="sh">"""</span><span class="s">Creates a new task and returns its data object.</span><span class="sh">"""</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Creating task </span><span class="sh">'</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="sh">'</span><span class="s"> in sublist </span><span class="si">{</span><span class="n">sublist_id</span><span class="si">}</span><span class="s">...</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">sublist_id</span><span class="sh">"</span><span class="p">:</span> <span class="n">sublist_id</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">name</span><span class="sh">"</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">score_i</span><span class="sh">"</span><span class="p">:</span> <span class="n">importance</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">score_t</span><span class="sh">"</span><span class="p">:</span> <span class="n">time_effort</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">d_date</span><span class="sh">"</span><span class="p">:</span> <span class="n">kwargs</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">d_date</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">),</span>
            <span class="sh">"</span><span class="s">d_time</span><span class="sh">"</span><span class="p">:</span> <span class="n">kwargs</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">d_time</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">),</span>
            <span class="sh">"</span><span class="s">d_zone</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">-0300</span><span class="sh">"</span> <span class="k">if</span> <span class="n">kwargs</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">d_date</span><span class="sh">"</span><span class="p">)</span> <span class="k">else</span> <span class="sh">""</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">dependency_id</span><span class="sh">"</span><span class="p">:</span> <span class="n">kwargs</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">dependency_id</span><span class="sh">"</span><span class="p">,</span> <span class="sh">""</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="n">response_data</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_make_request</span><span class="p">(</span><span class="sh">"</span><span class="s">/item/add</span><span class="sh">"</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">response_data</span><span class="p">:</span>
            <span class="c1"># WARNING: Assumes the new item is the last in the array.
</span>            <span class="k">try</span><span class="p">:</span>
                <span class="n">new_item</span> <span class="o">=</span> <span class="n">response_data</span><span class="p">[</span><span class="sh">'</span><span class="s">items</span><span class="sh">'</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">-&gt; Success! Created task </span><span class="sh">'</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="sh">'</span><span class="s"> with ID: </span><span class="si">{</span><span class="n">new_item</span><span class="p">[</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">]</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">new_item</span>
            <span class="nf">except </span><span class="p">(</span><span class="nb">IndexError</span><span class="p">,</span> <span class="nb">KeyError</span><span class="p">):</span>
                <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Could not find the new task in the API response.</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">None</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="sh">"""</span><span class="s">
    Main function to demonstrate the use of the ptpython REPL framework.
    </span><span class="sh">"""</span>
    <span class="c1"># --- IMPORTANT: These values must be obtained from a valid, logged-in browser session. ---
</span>    <span class="c1"># The values below are the dummy data from the provided HAR file.
</span>    <span class="n">PHPSESSID_COOKIE</span> <span class="o">=</span> <span class="sh">"</span><span class="s">77n5cmi8mucr04afiukmatp151</span><span class="sh">"</span>
    <span class="n">RKEY_COOKIE</span> <span class="o">=</span> <span class="sh">"</span><span class="s">413511bec626a5eb964e337e4165fee629685ac7caa75b21257604bcf5ca4b93911a8f1f6c9d5b902e598db6cc028fe91988db2590daaca4bff55e82d14028ce%3Afvwzb%3Aec91c6f9a5ae2a25515b951b30bb23297d601f184b994eda24654d6edba86bd1</span><span class="sh">"</span>

    <span class="c1"># 1. Instantiate the client with authentication cookies
</span>    <span class="n">client</span> <span class="o">=</span> <span class="nc">PriorityListApiClient</span><span class="p">(</span><span class="n">phpsessid</span><span class="o">=</span><span class="n">PHPSESSID_COOKIE</span><span class="p">,</span> <span class="n">rkey</span><span class="o">=</span><span class="n">RKEY_COOKIE</span><span class="p">)</span>

    <span class="c1"># 2. --- Example Workflow Demonstrating Request Chaining ---
</span>    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\\</span><span class="s">n--- Starting API Automation Workflow ---</span><span class="sh">"</span><span class="p">)</span>

    <span class="c1"># Step A: Create a new main list
</span>    <span class="n">list_obj</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">create_list</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">Project Phoenix</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">list_obj</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Workflow failed: Could not create the main list.</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span>
    
    <span class="c1"># Step B: Extract the new list's ID from the response
</span>    <span class="n">list_id</span> <span class="o">=</span> <span class="n">list_obj</span><span class="p">[</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">]</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">--&gt; Using new list ID: </span><span class="si">{</span><span class="n">list_id</span><span class="si">}</span><span class="se">\\</span><span class="s">n</span><span class="sh">"</span><span class="p">)</span>

    <span class="c1"># Step C: Create the first sublist using the list_id
</span>    <span class="n">sublist1_obj</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">create_sublist</span><span class="p">(</span><span class="n">list_id</span><span class="o">=</span><span class="n">list_id</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">Phase 1: Research</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">sublist1_obj</span><span class="p">:</span>
        <span class="c1"># Step D: Extract the sublist's ID
</span>        <span class="n">sublist1_id</span> <span class="o">=</span> <span class="n">sublist1_obj</span><span class="p">[</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">]</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">--&gt; Using new sublist ID: </span><span class="si">{</span><span class="n">sublist1_id</span><span class="si">}</span><span class="se">\\</span><span class="s">n</span><span class="sh">"</span><span class="p">)</span>
        
        <span class="c1"># Step E: Create a task in the first sublist
</span>        <span class="n">task1_obj</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">create_task</span><span class="p">(</span><span class="n">sublist1_id</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">Analyze Market Data</span><span class="sh">"</span><span class="p">,</span> <span class="n">importance</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">time_effort</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">task1_obj</span><span class="p">:</span>
            <span class="c1"># Step F: Extract the task's ID to use as a dependency
</span>            <span class="n">task1_id</span> <span class="o">=</span> <span class="n">task1_obj</span><span class="p">[</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">]</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">--&gt; Using new task ID for dependency: </span><span class="si">{</span><span class="n">task1_id</span><span class="si">}</span><span class="se">\\</span><span class="s">n</span><span class="sh">"</span><span class="p">)</span>

            <span class="c1"># Step G: Create a second task that depends on the first one
</span>            <span class="n">client</span><span class="p">.</span><span class="nf">create_task</span><span class="p">(</span>
                <span class="n">sublist1_id</span><span class="p">,</span> 
                <span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">Write Competitor Report</span><span class="sh">"</span><span class="p">,</span> 
                <span class="n">importance</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> 
                <span class="n">time_effort</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> 
                <span class="n">dependency_id</span><span class="o">=</span><span class="n">task1_id</span>
            <span class="p">)</span>
    
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\\</span><span class="s">n--- Workflow Complete ---</span><span class="sh">"</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">'</span><span class="s">__main__</span><span class="sh">'</span><span class="p">:</span>
    <span class="c1"># This block demonstrates how to use the ptpython REPL framework.
</span>    <span class="c1"># It sets up a REPL environment where the ApiClient can be used interactively.
</span>    <span class="k">try</span><span class="p">:</span>
        <span class="kn">from</span> <span class="n">ptpython.repl</span> <span class="kn">import</span> <span class="n">embed</span>
        
        <span class="c1"># --- IMPORTANT: These values must be obtained from a valid, logged-in browser session. ---
</span>        <span class="c1"># The values below are the dummy data from the provided HAR file.
</span>        <span class="n">PHPSESSID_COOKIE</span> <span class="o">=</span> <span class="sh">"</span><span class="s">77n5cmi8mucr04afiukmatp151</span><span class="sh">"</span>
        <span class="n">RKEY_COOKIE</span> <span class="o">=</span> <span class="sh">"</span><span class="s">413511bec626a5eb964e337e4165fee629685ac7caa75b21257604bcf5ca4b93911a8f1f6c9d5b902e598db6cc028fe91988db2590daaca4bff55e82d14028ce%3Afvwzb%3Aec91c6f9a5ae2a25515b951b30bb23297d601f184b994eda24654d6edba86bd1</span><span class="sh">"</span>

        <span class="c1"># Instantiate the client
</span>        <span class="n">client</span> <span class="o">=</span> <span class="nc">PriorityListApiClient</span><span class="p">(</span><span class="n">phpsessid</span><span class="o">=</span><span class="n">PHPSESSID_COOKIE</span><span class="p">,</span> <span class="n">rkey</span><span class="o">=</span><span class="n">RKEY_COOKIE</span><span class="p">)</span>
        
        <span class="c1"># Create a namespace for the REPL
</span>        <span class="n">namespace</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">'</span><span class="s">client</span><span class="sh">'</span><span class="p">:</span> <span class="n">client</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">requests</span><span class="sh">'</span><span class="p">:</span> <span class="n">requests</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">json</span><span class="sh">'</span><span class="p">:</span> <span class="n">json</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">main</span><span class="sh">'</span><span class="p">:</span> <span class="n">main</span>
        <span class="p">}</span>
        
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">--- ptpython REPL ---</span><span class="sh">"</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">An </span><span class="sh">'</span><span class="s">ApiClient</span><span class="sh">'</span><span class="s"> instance named </span><span class="sh">'</span><span class="s">client</span><span class="sh">'</span><span class="s"> is available.</span><span class="sh">"</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">You can now interact with the API, e.g., client.create_list(</span><span class="sh">'</span><span class="s">My New List</span><span class="sh">'</span><span class="s">)</span><span class="sh">"</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Type </span><span class="sh">'</span><span class="s">main()</span><span class="sh">'</span><span class="s"> to run the example workflow.</span><span class="sh">"</span><span class="p">)</span>
        
        <span class="c1"># Embed the ptpython REPL
</span>        <span class="nf">embed</span><span class="p">(</span><span class="nb">globals</span><span class="o">=</span><span class="n">namespace</span><span class="p">,</span> <span class="nb">locals</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
        
    <span class="k">except</span> <span class="nb">ImportError</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">ptpython is not installed. Please run </span><span class="sh">'</span><span class="s">pip install ptpython</span><span class="sh">'</span><span class="s"> to use the REPL.</span><span class="sh">"</span><span class="p">)</span>
        <span class="c1"># Fallback to standard Python REPL if ptpython is not available
</span>        <span class="kn">import</span> <span class="n">code</span>
        <span class="n">code</span><span class="p">.</span><span class="nf">interact</span><span class="p">(</span><span class="n">local</span><span class="o">=</span><span class="nf">locals</span><span class="p">())</span>

</code></pre></div></div>

<h3 id="quick-start-for-advanced-users">Quick Start for Advanced Users</h3>

<p>For experienced users familiar with Python and Linux environments:</p>

<ol>
  <li><strong>Save the script:</strong> Save the code as <code class="language-plaintext highlighter-rouge">prioritylist-cli.py</code>.</li>
  <li><strong>Create venv &amp; install:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python3 <span class="nt">-m</span> venv .venv
<span class="nb">source</span> .venv/bin/activate
pip <span class="nb">install </span>requests ptpython
</code></pre></div>    </div>
  </li>
  <li><strong>Configure credentials:</strong> Create <code class="language-plaintext highlighter-rouge">~/.config/prioritylist/config.ini</code> with your <code class="language-plaintext highlighter-rouge">phpsessid</code> and <code class="language-plaintext highlighter-rouge">rkey</code>.
    <div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[auth]</span>
<span class="py">phpsessid</span> <span class="p">=</span> <span class="s">YOUR_PHPSESSID_VALUE</span>
<span class="py">rkey</span> <span class="p">=</span> <span class="s">YOUR_RKEY_VALUE</span>
</code></pre></div>    </div>
  </li>
  <li><strong>Make executable &amp; move to PATH:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chmod</span> +x prioritylist-cli.py
<span class="nb">mkdir</span> <span class="nt">-p</span> ~/.local/bin
<span class="nb">mv </span>prioritylist-cli.py ~/.local/bin/
<span class="c"># Ensure ~/.local/bin is in your PATH</span>
</code></pre></div>    </div>
  </li>
  <li><strong>Run:</strong> <code class="language-plaintext highlighter-rouge">prioritylist-cli.py list pull-all</code></li>
</ol>

<hr />

<h2 id="table-of-contents">Table of Contents</h2>

<ol>
  <li><strong>Part 1: Environment Setup (The Right Way)</strong>
    <ul>
      <li>1.1. System Dependencies</li>
      <li>1.2. Creating a Python Virtual Environment (Best Practice)</li>
      <li>1.3. Installing Script Dependencies</li>
    </ul>
  </li>
  <li><strong>Part 2: Script Installation &amp; Configuration</strong>
    <ul>
      <li>2.1. Saving the Script</li>
      <li>2.2. Making the Script Globally Executable</li>
    </ul>
  </li>
  <li><strong>Part 3: Authentication - The Critical Step</strong>
    <ul>
      <li>3.1. Finding Your <code class="language-plaintext highlighter-rouge">PHPSESSID</code> and <code class="language-plaintext highlighter-rouge">rkey</code></li>
      <li>3.2. Storing Your Credentials Securely</li>
      <li>3.3. Security Considerations</li>
    </ul>
  </li>
  <li><strong>Part 4: Command Cheatsheet &amp; Usage</strong>
    <ul>
      <li>4.1. Global Options</li>
      <li>4.2. List Commands</li>
      <li>4.3. Sublist Commands</li>
      <li>4.4. Task Commands</li>
      <li>4.5. Interactive REPL Mode</li>
    </ul>
  </li>
  <li><strong>Part 5: Troubleshooting</strong></li>
</ol>

<hr />

<h2 id="part-1-environment-setup-the-right-way">Part 1: Environment Setup (The Right Way)</h2>

<p>We will use a Python virtual environment to keep your system clean and avoid dependency conflicts.</p>

<h3 id="11-system-dependencies">1.1. System Dependencies</h3>

<p>Ensure Python 3, pip, and the <code class="language-plaintext highlighter-rouge">venv</code> module are installed on your openSUSE Tumbleweed system.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>zypper <span class="nb">install </span>python3 python3-pip python3-venv
</code></pre></div></div>

<h3 id="12-creating-a-python-virtual-environment-best-practice">1.2. Creating a Python Virtual Environment (Best Practice)</h3>

<p>A virtual environment is an isolated space for your Python project’s dependencies.</p>

<ol>
  <li><strong>Create a Project Directory:</strong> First, make a directory for your script and its environment.
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> ~/prioritylist-project
<span class="nb">cd</span> ~/prioritylist-project
</code></pre></div>    </div>
  </li>
  <li><strong>Create the Virtual Environment:</strong> Use Python’s built-in <code class="language-plaintext highlighter-rouge">venv</code> module to create an environment named <code class="language-plaintext highlighter-rouge">.venv</code>.
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python3 <span class="nt">-m</span> venv .venv
</code></pre></div>    </div>
  </li>
  <li><strong>Activate the Environment:</strong> You must “activate” the environment to use it. Your shell prompt will change to indicate it’s active.
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> .venv/bin/activate
</code></pre></div>    </div>
    <blockquote>
      <p><strong>Note:</strong> To leave the environment, simply type <code class="language-plaintext highlighter-rouge">deactivate</code>. You must activate the environment in any new terminal session where you want to run the script or install packages for it.</p>
    </blockquote>
  </li>
</ol>

<h3 id="13-installing-script-dependencies">1.3. Installing Script Dependencies</h3>

<p>With your environment active, install the required Python libraries. They will be installed inside the <code class="language-plaintext highlighter-rouge">.venv</code> directory, not system-wide.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>requests ptpython
</code></pre></div></div>

<h2 id="part-2-script-installation--configuration">Part 2: Script Installation &amp; Configuration</h2>

<p>Now we’ll save the script and make it easy to run from anywhere.</p>

<h3 id="21-saving-the-script">2.1. Saving the Script</h3>

<p>Save the Python code you were given into a file named <code class="language-plaintext highlighter-rouge">prioritylist-cli.py</code> inside your <code class="language-plaintext highlighter-rouge">~/prioritylist-project</code> directory.</p>

<h3 id="22-making-the-script-globally-executable">2.2. Making the Script Globally Executable</h3>

<p>To run <code class="language-plaintext highlighter-rouge">prioritylist-cli.py</code> from any directory without typing the full path, we’ll make it executable and move it to a location in your system’s <code class="language-plaintext highlighter-rouge">PATH</code>.</p>

<ol>
  <li><strong>Grant Execute Permissions:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chmod</span> +x prioritylist-cli.py
</code></pre></div>    </div>
  </li>
  <li><strong>Move to Local Bin Directory:</strong> The standard location for user-specific executables is <code class="language-plaintext highlighter-rouge">~/.local/bin</code>.
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> <span class="nt">-p</span> ~/.local/bin
<span class="nb">mv </span>prioritylist-cli.py ~/.local/bin/
</code></pre></div>    </div>
  </li>
  <li><strong>Verify your PATH:</strong> On most modern Linux systems, <code class="language-plaintext highlighter-rouge">~/.local/bin</code> is automatically added to your <code class="language-plaintext highlighter-rouge">PATH</code> when you log in. You can verify this:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="nv">$PATH</span>
</code></pre></div>    </div>
    <p>If you see <code class="language-plaintext highlighter-rouge">/home/your_username/.local/bin</code> in the output, you are all set. If not, add the following line to your <code class="language-plaintext highlighter-rouge">~/.profile</code> or <code class="language-plaintext highlighter-rouge">~/.bashrc</code> file and restart your shell session:</p>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Add this line to ~/.profile</span>
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/.local/bin:</span><span class="nv">$PATH</span><span class="s2">"</span>
</code></pre></div>    </div>
  </li>
</ol>

<h2 id="part-3-authentication---the-critical-step">Part 3: Authentication - The Critical Step</h2>

<p>The script requires your account’s session cookies to work.</p>

<h3 id="31-finding-your-phpsessid-and-rkey">3.1. Finding Your <code class="language-plaintext highlighter-rouge">PHPSESSID</code> and <code class="language-plaintext highlighter-rouge">rkey</code></h3>

<ol>
  <li><strong>Log In:</strong> In Firefox or a Chromium-based browser, log in to <a href="https://prioritylist.app">https://prioritylist.app</a>.</li>
  <li><strong>Open Developer Tools:</strong> Press <code class="language-plaintext highlighter-rouge">F12</code> or right-click the page and select “Inspect”.</li>
  <li><strong>Go to Storage/Application:</strong>
    <ul>
      <li>In <strong>Firefox</strong>, go to the <strong>Storage</strong> tab.</li>
      <li>In <strong>Chrome/Edge</strong>, go to the <strong>Application</strong> tab.</li>
    </ul>
  </li>
  <li><strong>Find Cookies:</strong> In the sidebar, expand “Cookies” and select <code class="language-plaintext highlighter-rouge">https://prioritylist.app</code>.</li>
  <li><strong>Copy Values:</strong> Find the rows for <code class="language-plaintext highlighter-rouge">PHPSESSID</code> and <code class="language-plaintext highlighter-rouge">rkey</code>. Carefully copy the long string from the <strong>“Value”</strong> column for each.</li>
</ol>

<blockquote>
  <p><strong>Important Note on Credentials</strong>
These cookies can and will expire (e.g., after a few days, or when you log out). If the script suddenly stops working with an “API Error” or “HTTP 401/403” error, the most likely cause is an expired cookie. You will need to repeat this step to get new, valid cookie values.</p>
</blockquote>

<h3 id="32-storing-your-credentials-securely">3.2. Storing Your Credentials Securely</h3>

<p>The script checks for credentials in three places. The configuration file is the most convenient and recommended method.</p>

<ol>
  <li><strong>Create the Directory:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> <span class="nt">-p</span> ~/.config/prioritylist
</code></pre></div>    </div>
  </li>
  <li><strong>Create the Config File:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nano ~/.config/prioritylist/config.ini
</code></pre></div>    </div>
  </li>
  <li><strong>Add Your Credentials:</strong> Paste the following into the file, replacing the placeholders with your actual values.
    <div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[auth]</span>
<span class="py">phpsessid</span> <span class="p">=</span> <span class="s">YOUR_PHPSESSID_VALUE_HERE</span>
<span class="py">rkey</span> <span class="p">=</span> <span class="s">YOUR_RKEY_VALUE_HERE</span>
</code></pre></div>    </div>
    <p>Save and exit (<code class="language-plaintext highlighter-rouge">Ctrl+O</code>, then <code class="language-plaintext highlighter-rouge">Ctrl+X</code> in <code class="language-plaintext highlighter-rouge">nano</code>).</p>
  </li>
</ol>

<h3 id="33-security-considerations">3.3. Security Considerations</h3>

<ul>
  <li><strong>Treat these credentials like passwords.</strong> Anyone with them can access your PriorityList account.</li>
  <li>The <code class="language-plaintext highlighter-rouge">config.ini</code> file is stored as plain text. On a multi-user system, ensure its permissions are secure (<code class="language-plaintext highlighter-rouge">chmod 600 ~/.config/prioritylist/config.ini</code>).</li>
  <li>Avoid passing credentials as command-line arguments (<code class="language-plaintext highlighter-rouge">--phpsessid ...</code>), as they will be stored in your shell’s history file (<code class="language-plaintext highlighter-rouge">.bash_history</code>).</li>
</ul>

<h2 id="part-4-command-cheatsheet--usage">Part 4: Command Cheatsheet &amp; Usage</h2>

<p>Remember to have your virtual environment active (<code class="language-plaintext highlighter-rouge">source ~/prioritylist-project/.venv/bin/activate</code>) before running commands.</p>

<h3 id="41-global-options">4.1. Global Options</h3>

<table>
  <thead>
    <tr>
      <th>Option</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--json</code></td>
      <td>Output machine-readable JSON instead of human-friendly text.</td>
    </tr>
  </tbody>
</table>

<h3 id="42-list-commands">4.2. List Commands</h3>

<table>
  <thead>
    <tr>
      <th>Action</th>
      <th>Description</th>
      <th>Example Command</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">pull-all</code></td>
      <td>Fetch and display all your lists and groups.</td>
      <td><code class="language-plaintext highlighter-rouge">prioritylist-cli.py list pull-all</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">show</code></td>
      <td>Show full JSON details for a single list.</td>
      <td><code class="language-plaintext highlighter-rouge">prioritylist-cli.py list show 12345</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">add</code></td>
      <td>Add a new list.</td>
      <td><code class="language-plaintext highlighter-rouge">prioritylist-cli.py list add --name "New Project"</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">update</code></td>
      <td>Rename a list.</td>
      <td><code class="language-plaintext highlighter-rouge">prioritylist-cli.py list update 12345 --name "Renamed Project"</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">delete</code></td>
      <td><strong>Permanently delete</strong> a list.</td>
      <td><code class="language-plaintext highlighter-rouge">prioritylist-cli.py list delete 12345</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">star</code></td>
      <td>Toggle the star status on a list.</td>
      <td><code class="language-plaintext highlighter-rouge">prioritylist-cli.py list star 12345</code></td>
    </tr>
  </tbody>
</table>

<h3 id="43-sublist-commands">4.3. Sublist Commands</h3>

<table>
  <thead>
    <tr>
      <th>Action</th>
      <th>Description</th>
      <th>Example Command</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">add</code></td>
      <td>Add a new sublist to a list.</td>
      <td><code class="language-plaintext highlighter-rouge">prioritylist-cli.py sublist add --list-id 12345 --name "Design Phase"</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">update</code></td>
      <td>Rename a sublist.</td>
      <td><code class="language-plaintext highlighter-rouge">prioritylist-cli.py sublist update 56789 --name "Final Designs"</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">delete</code></td>
      <td><strong>Permanently delete</strong> a sublist.</td>
      <td><code class="language-plaintext highlighter-rouge">prioritylist-cli.py sublist delete 56789</code></td>
    </tr>
  </tbody>
</table>

<h3 id="44-task-commands">4.4. Task Commands</h3>

<table>
  <thead>
    <tr>
      <th>Action</th>
      <th>Description</th>
      <th>Example Command</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">add</code></td>
      <td>Add a new task to a sublist.</td>
      <td><code class="language-plaintext highlighter-rouge">prioritylist-cli.py task add --sublist-id 56789 --name "Create logo" -i 8 -t 3</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">update</code></td>
      <td>Update an existing task.</td>
      <td><code class="language-plaintext highlighter-rouge">prioritylist-cli.py task update 98765 --name "Finalize logo" --due-date "2024-12-20"</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">delete</code></td>
      <td><strong>Permanently delete</strong> a task.</td>
      <td><code class="language-plaintext highlighter-rouge">prioritylist-cli.py task delete 98765</code></td>
    </tr>
  </tbody>
</table>

<h3 id="45-interactive-repl-mode">4.5. Interactive REPL Mode</h3>

<p>Run the script with no arguments to enter a powerful interactive shell.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>prioritylist-cli.py
</code></pre></div></div>

<p>Inside the REPL, a pre-configured <code class="language-plaintext highlighter-rouge">client</code> object is available. You can explore the API directly.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Example REPL session
</span><span class="o">&gt;&gt;&gt;</span> <span class="c1"># Get details for a list and print it nicely
</span><span class="o">&gt;&gt;&gt;</span> <span class="n">details</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">get_list_details</span><span class="p">(</span><span class="mi">12345</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nf">print_json</span><span class="p">(</span><span class="n">details</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="part-5-troubleshooting">Part 5: Troubleshooting</h2>

<table>
  <thead>
    <tr>
      <th>Error Message / Symptom</th>
      <th>Likely Cause &amp; Solution</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">bash: prioritylist-cli.py: command not found</code></td>
      <td>1. Your <code class="language-plaintext highlighter-rouge">~/.local/bin</code> is not in your <code class="language-plaintext highlighter-rouge">PATH</code>. See step 2.2. <br /> 2. You have not restarted your shell since modifying your <code class="language-plaintext highlighter-rouge">~/.profile</code> or <code class="language-plaintext highlighter-rouge">~/.bashrc</code>. <br /> 3. You are trying to run it from a non-active venv.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ImportError: No module named 'requests'</code></td>
      <td>The required Python libraries are not installed in your <strong>active</strong> virtual environment. Ensure you have run <code class="language-plaintext highlighter-rouge">source .venv/bin/activate</code> and then <code class="language-plaintext highlighter-rouge">pip install requests ptpython</code>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">❌ Error: Authentication credentials not found.</code></td>
      <td>The script could not find your <code class="language-plaintext highlighter-rouge">config.ini</code> file. Ensure it is located at <code class="language-plaintext highlighter-rouge">~/.config/prioritylist/config.ini</code> and the keys (<code class="language-plaintext highlighter-rouge">phpsessid</code>, <code class="language-plaintext highlighter-rouge">rkey</code>) are spelled correctly.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">❌ API Error...</code> or <code class="language-plaintext highlighter-rouge">❌ HTTP Error... 401/403</code></td>
      <td>Your credentials have expired or are incorrect. This is the most common operational error. Repeat <strong>Part 3.1</strong> to get new cookie values and update your <code class="language-plaintext highlighter-rouge">config.ini</code> file.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">❌ Request failed... ConnectionError</code></td>
      <td>You have a network problem. Check your internet connection and ensure you can access <code class="language-plaintext highlighter-rouge">prioritylist.app</code> in your browser.</td>
    </tr>
  </tbody>
</table>

<section class="code-block-container" role="group" aria-label="Python Code Block" data-filename="python_code_block.py" data-code="#!/usr/bin/env python3
&quot;&quot;&quot;
PriorityList CLI - The Optimized &amp; Integrated Solution

This script is the result of integrating the best features from multiple development
approaches into a single, cohesive, and robust command-line interface.

It combines:
• Full CRUD (Create, Read, Update, Delete) operations for all resources.
• A robust API client with detailed error handling and reliable response parsing.
• A clean, nested command structure (e.g., `list add`, `task delete`).
• An interactive REPL mode (via `ptpython`) for exploratory API calls.
• Strict separation of human-readable and machine-readable (`--json`) output.
• Secure credential management from args, environment, or config file.
&quot;&quot;&quot;

from __future__ import annotations

import argparse
import configparser
import json
import os
import sys
from pathlib import Path
from typing import Any, Dict, List, Optional, Tuple

import requests

# ─────────────────────────────────────────────────────────────
# Helper Functions
# ─────────────────────────────────────────────────────────────

def print_json(obj: Any) -&gt; None:
    &quot;&quot;&quot;Prints an object as a formatted JSON string to stdout.&quot;&quot;&quot;
    print(json.dumps(obj, indent=2, ensure_ascii=False))


def print_human(msg: str, *, is_json_mode: bool) -&gt; None:
    &quot;&quot;&quot;Prints a message to stdout only if not in JSON mode.&quot;&quot;&quot;
    if not is_json_mode:
        print(msg)

# ─────────────────────────────────────────────────────────────
# API Client
# ─────────────────────────────────────────────────────────────

class PriorityListApiClient:
    &quot;&quot;&quot;A robust client for interacting with the prioritylist.app API.&quot;&quot;&quot;

    def __init__(self, phpsessid: str, rkey: str, base_url: str = &quot;https://prioritylist.app&quot;) -&gt; None:
        self.base_url = base_url.rstrip(&quot;/&quot;)
        self.session = requests.Session()
        self.session.headers.update({
            &quot;User-Agent&quot;: &quot;Mozilla/5.0 (X11; Linux x86_64; rv:139.0) Gecko/20100101 Firefox/139.0&quot;,
            &quot;Accept&quot;: &quot;text/plain, */*; q=0.01&quot;,
            &quot;X-Requested-With&quot;: &quot;XMLHttpRequest&quot;,
            &quot;Origin&quot;: self.base_url,
        })
        self.session.cookies.set(&quot;PHPSESSID&quot;, phpsessid, domain=&quot;prioritylist.app&quot;)
        self.session.cookies.set(&quot;rkey&quot;, rkey, domain=&quot;prioritylist.app&quot;)

    def _post(self, endpoint: str, data: Optional[Dict[str, Any]] = None) -&gt; Optional[Dict[str, Any]]:
        &quot;&quot;&quot;Makes a POST request, handles errors, and returns the &#39;data&#39; field on success.&quot;&quot;&quot;
        url = f&quot;{self.base_url}/api{endpoint}&quot;
        try:
            response = self.session.post(url, data=data)
            response.raise_for_status()
            json_response = response.json()
            if json_response.get(&quot;result&quot;) == &quot;success&quot;:
                return json_response.get(&quot;data&quot;)
            else:
                print(f&quot;❌ API Error at {endpoint}: {json_response.get(&#39;result&#39;, &#39;Unknown error&#39;)}&quot;, file=sys.stderr)
        except requests.exceptions.HTTPError as e:
            print(f&quot;❌ HTTP Error for {endpoint}: {e.response.status_code} {e.response.reason}&quot;, file=sys.stderr)
            print(f&quot;   Response body: {e.response.text}&quot;, file=sys.stderr)
        except requests.exceptions.RequestException as e:
            print(f&quot;❌ Request failed for {endpoint}: {e}&quot;, file=sys.stderr)
        except json.JSONDecodeError:
            print(f&quot;❌ Failed to decode JSON from response. URL: {url}&quot;, file=sys.stderr)
        return None

    # --- List Operations ---
    def get_all_lists(self) -&gt; Optional[List[Dict[str, Any]]]:
        return self._post(&quot;/groups/pull&quot;)

    def get_list_details(self, list_id: int) -&gt; Optional[Dict[str, Any]]:
        return self._post(&quot;/list/pull&quot;, {&quot;id&quot;: list_id})

    def create_list(self, name: str, group_id: str = &quot;&quot;) -&gt; Optional[Dict[str, Any]]:
        &quot;&quot;&quot;Creates a new list and robustly finds and returns it from the response.&quot;&quot;&quot;
        response_data = self._post(&quot;/list/add&quot;, {&quot;name&quot;: name, &quot;group_id&quot;: group_id})
        if response_data:
            try:
                for group in response_data:
                    # Find the list by name to avoid relying on array order.
                    # Note: This might not be perfect if duplicate names are allowed.
                    for lst in group.get(&#39;lists&#39;, []):
                        if lst[&#39;name&#39;] == name:
                            return lst
            except (IndexError, KeyError, TypeError) as e:
                print(f&quot;❌ Could not parse created list from API response: {e}&quot;, file=sys.stderr)
        return None

    def update_list(self, list_id: int, name: str) -&gt; bool:
        return self._post(&quot;/list/update&quot;, {&quot;id&quot;: list_id, &quot;name&quot;: name}) is not None

    def delete_list(self, list_id: int) -&gt; bool:
        # Note: The delete endpoint was not in the HAR file, this is an educated guess.
        # If it fails, the actual endpoint might be different (e.g., /list/remove).
        return self._post(&quot;/list/delete&quot;, {&quot;id&quot;: list_id}) is not None

    def star_list(self, list_id: int) -&gt; bool:
        return self._post(&quot;/list/star&quot;, {&quot;id&quot;: list_id}) is not None

    # --- Sublist Operations ---
    def create_sublist(self, list_id: int, name: str) -&gt; Optional[Dict[str, Any]]:
        &quot;&quot;&quot;Creates a new sublist and robustly finds and returns it.&quot;&quot;&quot;
        response_data = self._post(&quot;/sublist/add&quot;, {&quot;list_id&quot;: list_id, &quot;name&quot;: name})
        if response_data:
            try:
                for sublist in response_data.get(&#39;sublists&#39;, []):
                    if sublist[&#39;name&#39;] == name:
                        return sublist
            except (KeyError, TypeError) as e:
                print(f&quot;❌ Could not parse created sublist from API response: {e}&quot;, file=sys.stderr)
        return None

    def update_sublist(self, sublist_id: int, name: str) -&gt; bool:
        return self._post(&quot;/sublist/update&quot;, {&quot;id&quot;: sublist_id, &quot;name&quot;: name}) is not None

    def delete_sublist(self, sublist_id: int) -&gt; bool:
        # Note: The delete endpoint was not in the HAR file, this is an educated guess.
        return self._post(&quot;/sublist/delete&quot;, {&quot;id&quot;: sublist_id}) is not None

    # --- Task Operations ---
    def create_task(self, sublist_id: int, name: str, **kwargs) -&gt; Optional[Dict[str, Any]]:
        &quot;&quot;&quot;Creates a new task and robustly finds and returns it.&quot;&quot;&quot;
        payload = {&quot;sublist_id&quot;: sublist_id, &quot;name&quot;: name}
        # Map CLI-friendly names to API parameter names
        if &#39;importance&#39; in kwargs: payload[&#39;score_i&#39;] = kwargs.pop(&#39;importance&#39;)
        if &#39;time&#39; in kwargs: payload[&#39;score_t&#39;] = kwargs.pop(&#39;time&#39;)
        if &#39;due_date&#39; in kwargs: payload[&#39;d_date&#39;] = kwargs.pop(&#39;due_date&#39;)
        if &#39;dependency_id&#39; in kwargs: payload[&#39;dependency_id&#39;] = kwargs.pop(&#39;dependency_id&#39;)
        
        payload.update(kwargs)
        if payload.get(&#39;d_date&#39;):
            payload.setdefault(&#39;d_zone&#39;, &#39;-0300&#39;)
            
        response_data = self._post(&quot;/item/add&quot;, payload)
        if response_data:
            try:
                for item in response_data.get(&#39;items&#39;, []):
                    if item[&#39;name&#39;] == name:
                        return item
            except (KeyError, TypeError) as e:
                print(f&quot;❌ Could not parse created task from API response: {e}&quot;, file=sys.stderr)
        return None

    def update_task(self, task_id: int, updates: Dict[str, Any]) -&gt; bool:
        &quot;&quot;&quot;Updates an existing task with only the provided fields.&quot;&quot;&quot;
        payload = updates.copy()
        payload[&#39;id&#39;] = task_id
        if &#39;d_date&#39; in payload and payload[&#39;d_date&#39;]:
            payload.setdefault(&#39;d_zone&#39;, &#39;-0300&#39;)
        return self._post(&quot;/item/update&quot;, data=payload) is not None

    def delete_task(self, task_id: int) -&gt; bool:
        # Note: The delete endpoint was not in the HAR file, this is an educated guess.
        return self._post(&quot;/item/delete&quot;, {&quot;id&quot;: task_id}) is not None

# ─────────────────────────────────────────────────────────────
# Credentials Helper
# ─────────────────────────────────────────────────────────────

def get_credentials(ns: argparse.Namespace) -&gt; Tuple[str, str]:
    &quot;&quot;&quot;Retrieves credentials from args, environment variables, or config file.&quot;&quot;&quot;
    if ns.phpsessid and ns.rkey:
        return ns.phpsessid, ns.rkey
    
    env_sess, env_rkey = os.getenv(&quot;PL_PHPSESSID&quot;), os.getenv(&quot;PL_RKEY&quot;)
    if env_sess and env_rkey:
        return env_sess, env_rkey
        
    cfg_file = Path.home() / &quot;.config&quot; / &quot;prioritylist&quot; / &quot;config.ini&quot;
    if cfg_file.exists():
        # FIX: Disable interpolation to handle &#39;%&#39; characters in cookie values
        cp = configparser.ConfigParser(interpolation=None)
        cp.read(cfg_file)
        if &quot;auth&quot; in cp and &quot;phpsessid&quot; in cp[&quot;auth&quot;] and &quot;rkey&quot; in cp[&quot;auth&quot;]:
            return cp[&quot;auth&quot;][&quot;phpsessid&quot;], cp[&quot;auth&quot;][&quot;rkey&quot;]
            
    print(&quot;❌ Error: Authentication credentials not found.&quot;, file=sys.stderr)
    print(&quot;  Please provide them via flags, environment variables, or a config file.&quot;, file=sys.stderr)
    sys.exit(1)

# ─────────────────────────────────────────────────────────────
# Command Handlers
# ─────────────────────────────────────────────────────────────

def handle_list_pull_all(client: PriorityListApiClient, ns: argparse.Namespace):
    data = client.get_all_lists()
    if data is None:
        print_human(&quot;❌ Could not fetch lists.&quot;, is_json_mode=ns.json)
        return
    if ns.json:
        print_json(data)
    else:
        for group in data:
            print_human(f&quot;\n📁 {group.get(&#39;name&#39;) or &#39;Uncategorized&#39;}&quot;, is_json_mode=ns.json)
            for lst in group.get(&quot;lists&quot;, []):
                star = &quot;⭐&quot; if lst.get(&quot;starred&quot;) else &quot; &quot;
                print_human(f&quot;  {star} ID: {lst[&#39;id&#39;]:&lt;6} {lst[&#39;name&#39;]}&quot;, is_json_mode=ns.json)

def handle_list_show(client: PriorityListApiClient, ns: argparse.Namespace):
    data = client.get_list_details(ns.list_id)
    if data is None:
        print_human(f&quot;❌ List {ns.list_id} not found.&quot;, is_json_mode=ns.json)
        return
    print_json(data)

def handle_list_add(client: PriorityListApiClient, ns: argparse.Namespace):
    new_list = client.create_list(ns.name)
    if new_list:
        print_human(f&quot;✅ Created list &#39;{new_list[&#39;name&#39;]}&#39; (ID: {new_list[&#39;id&#39;]})&quot;, is_json_mode=ns.json)
        if ns.json:
            print_json(new_list)
    else:
        print_human(f&quot;❌ Failed to create list &#39;{ns.name}&#39;.&quot;, is_json_mode=ns.json)

def handle_list_update(client: PriorityListApiClient, ns: argparse.Namespace):
    ok = client.update_list(ns.list_id, ns.name)
    msg = f&quot;✅ Renamed list {ns.list_id} to &#39;{ns.name}&#39;.&quot; if ok else f&quot;❌ Failed to rename list {ns.list_id}.&quot;
    print_human(msg, is_json_mode=ns.json)

def handle_list_delete(client: PriorityListApiClient, ns: argparse.Namespace):
    ok = client.delete_list(ns.list_id)
    msg = f&quot;✅ Deleted list {ns.list_id}.&quot; if ok else f&quot;❌ Failed to delete list {ns.list_id}.&quot;
    print_human(msg, is_json_mode=ns.json)

def handle_list_star(client: PriorityListApiClient, ns: argparse.Namespace):
    ok = client.star_list(ns.list_id)
    msg = f&quot;✅ Toggled star on list {ns.list_id}.&quot; if ok else f&quot;❌ Failed to toggle star on list {ns.list_id}.&quot;
    print_human(msg, is_json_mode=ns.json)

def handle_sublist_add(client: PriorityListApiClient, ns: argparse.Namespace):
    new_sublist = client.create_sublist(ns.list_id, ns.name)
    if new_sublist:
        msg = f&quot;✅ Created sublist &#39;{new_sublist[&#39;name&#39;]}&#39; (ID: {new_sublist[&#39;id&#39;]}) in list {ns.list_id}.&quot;
        print_human(msg, is_json_mode=ns.json)
        if ns.json:
            print_json(new_sublist)
    else:
        print_human(f&quot;❌ Failed to create sublist &#39;{ns.name}&#39;.&quot;, is_json_mode=ns.json)

def handle_sublist_update(client: PriorityListApiClient, ns: argparse.Namespace):
    ok = client.update_sublist(ns.sublist_id, ns.name)
    msg = f&quot;✅ Renamed sublist {ns.sublist_id} to &#39;{ns.name}&#39;.&quot; if ok else f&quot;❌ Failed to rename sublist {ns.sublist_id}.&quot;
    print_human(msg, is_json_mode=ns.json)

def handle_sublist_delete(client: PriorityListApiClient, ns: argparse.Namespace):
    ok = client.delete_sublist(ns.sublist_id)
    msg = f&quot;✅ Deleted sublist {ns.sublist_id}.&quot; if ok else f&quot;❌ Failed to delete sublist {ns.sublist_id}.&quot;
    print_human(msg, is_json_mode=ns.json)

def handle_task_add(client: PriorityListApiClient, ns: argparse.Namespace):
    params = {
        &quot;importance&quot;: ns.importance,
        &quot;time&quot;: ns.time,
        &quot;d_date&quot;: ns.due_date or &quot;&quot;,
        &quot;dependency_id&quot;: ns.dependency_id or &quot;&quot;,
    }
    new_task = client.create_task(ns.sublist_id, ns.name, **params)
    if new_task:
        msg = f&quot;✅ Created task &#39;{new_task[&#39;name&#39;]}&#39; (ID: {new_task[&#39;id&#39;]}) in sublist {ns.sublist_id}.&quot;
        print_human(msg, is_json_mode=ns.json)
        if ns.json:
            print_json(new_task)
    else:
        print_human(f&quot;❌ Failed to create task &#39;{ns.name}&#39;.&quot;, is_json_mode=ns.json)

def handle_task_update(client: PriorityListApiClient, ns: argparse.Namespace):
    updates = {k: v for k, v in vars(ns).items() if k in [
        &#39;name&#39;, &#39;sublist_id&#39;, &#39;importance&#39;, &#39;time&#39;, &#39;due_date&#39;, &#39;dependency_id&#39;
    ] and v is not None}
    
    if not updates:
        print_human(&quot;❌ Error: At least one field to update must be provided.&quot;, is_json_mode=ns.json)
        sys.exit(1)
        
    # Remap arg names to API field names
    if &#39;importance&#39; in updates: updates[&#39;score_i&#39;] = updates.pop(&#39;importance&#39;)
    if &#39;time&#39; in updates: updates[&#39;score_t&#39;] = updates.pop(&#39;time&#39;)
    if &#39;due_date&#39; in updates: updates[&#39;d_date&#39;] = updates.pop(&#39;due_date&#39;)

    ok = client.update_task(ns.task_id, updates)
    msg = f&quot;✅ Updated task {ns.task_id}.&quot; if ok else f&quot;❌ Failed to update task {ns.task_id}.&quot;
    print_human(msg, is_json_mode=ns.json)

def handle_task_delete(client: PriorityListApiClient, ns: argparse.Namespace):
    ok = client.delete_task(ns.task_id)
    msg = f&quot;✅ Deleted task {ns.task_id}.&quot; if ok else f&quot;❌ Failed to delete task {ns.task_id}.&quot;
    print_human(msg, is_json_mode=ns.json)

# ─────────────────────────────────────────────────────────────
# Argument Parser
# ─────────────────────────────────────────────────────────────

def build_parser() -&gt; argparse.ArgumentParser:
    p = argparse.ArgumentParser(description=&quot;A robust CLI for prioritylist.app.&quot;, formatter_class=argparse.RawTextHelpFormatter)
    p.add_argument(&quot;--phpsessid&quot;, help=&quot;Your PHPSESSID cookie.&quot;)
    p.add_argument(&quot;--rkey&quot;, help=&quot;Your rkey cookie.&quot;)
    p.add_argument(&quot;--json&quot;, action=&quot;store_true&quot;, help=&quot;Output machine-readable JSON only.&quot;)

    sp = p.add_subparsers(dest=&quot;resource&quot;, required=True, help=&quot;The resource to manage.&quot;)

    # --- List Parser ---
    ls = sp.add_parser(&quot;list&quot;, help=&quot;Manage lists&quot;).add_subparsers(dest=&quot;action&quot;, required=True)
    ls.add_parser(&quot;pull-all&quot;, help=&quot;Fetch all lists and groups&quot;).set_defaults(func=handle_list_pull_all)
    ls_sh = ls.add_parser(&quot;show&quot;, help=&quot;Show full JSON details for one list&quot;)
    ls_sh.add_argument(&quot;list_id&quot;, type=int, help=&quot;ID of the list to show&quot;)
    ls_sh.set_defaults(func=handle_list_show)
    ls_add = ls.add_parser(&quot;add&quot;, help=&quot;Add a new list&quot;)
    ls_add.add_argument(&quot;--name&quot;, required=True, help=&quot;Name for the new list&quot;)
    ls_add.set_defaults(func=handle_list_add)
    ls_upd = ls.add_parser(&quot;update&quot;, help=&quot;Rename a list&quot;)
    ls_upd.add_argument(&quot;list_id&quot;, type=int, help=&quot;ID of the list to update&quot;)
    ls_upd.add_argument(&quot;--name&quot;, required=True, help=&quot;New name for the list&quot;)
    ls_upd.set_defaults(func=handle_list_update)
    ls_del = ls.add_parser(&quot;delete&quot;, help=&quot;Delete a list&quot;)
    ls_del.add_argument(&quot;list_id&quot;, type=int, help=&quot;ID of the list to delete&quot;)
    ls_del.set_defaults(func=handle_list_delete)
    ls_star = ls.add_parser(&quot;star&quot;, help=&quot;Toggle star status on a list&quot;)
    ls_star.add_argument(&quot;list_id&quot;, type=int, help=&quot;ID of the list to star/unstar&quot;)
    ls_star.set_defaults(func=handle_list_star)

    # --- Sublist Parser ---
    sb = sp.add_parser(&quot;sublist&quot;, help=&quot;Manage sublists&quot;).add_subparsers(dest=&quot;action&quot;, required=True)
    sb_add = sb.add_parser(&quot;add&quot;, help=&quot;Add a new sublist&quot;)
    sb_add.add_argument(&quot;--list-id&quot;, type=int, required=True, help=&quot;ID of the parent list&quot;)
    sb_add.add_argument(&quot;--name&quot;, required=True, help=&quot;Name for the new sublist&quot;)
    sb_add.set_defaults(func=handle_sublist_add)
    sb_upd = sb.add_parser(&quot;update&quot;, help=&quot;Rename a sublist&quot;)
    sb_upd.add_argument(&quot;sublist_id&quot;, type=int, help=&quot;ID of the sublist to update&quot;)
    sb_upd.add_argument(&quot;--name&quot;, required=True, help=&quot;New name for the sublist&quot;)
    sb_upd.set_defaults(func=handle_sublist_update)
    sb_del = sb.add_parser(&quot;delete&quot;, help=&quot;Delete a sublist&quot;)
    sb_del.add_argument(&quot;sublist_id&quot;, type=int, help=&quot;ID of the sublist to delete&quot;)
    sb_del.set_defaults(func=handle_sublist_delete)

    # --- Task Parser ---
    tk = sp.add_parser(&quot;task&quot;, help=&quot;Manage tasks&quot;).add_subparsers(dest=&quot;action&quot;, required=True)
    tk_add = tk.add_parser(&quot;add&quot;, help=&quot;Add a new task&quot;)
    tk_add.add_argument(&quot;--sublist-id&quot;, type=int, required=True, help=&quot;ID of the parent sublist&quot;)
    tk_add.add_argument(&quot;--name&quot;, required=True, help=&quot;Name for the new task&quot;)
    tk_add.add_argument(&quot;-i&quot;, &quot;--importance&quot;, type=int, default=5, help=&quot;Importance score (1-10)&quot;)
    tk_add.add_argument(&quot;-t&quot;, &quot;--time&quot;, type=int, default=5, help=&quot;Time/Effort score (1-10)&quot;)
    tk_add.add_argument(&quot;-d&quot;, &quot;--due-date&quot;, help=&quot;Due date in YYYY-MM-DD format&quot;)
    tk_add.add_argument(&quot;--dependency-id&quot;, type=int, help=&quot;ID of a prerequisite task&quot;)
    tk_add.set_defaults(func=handle_task_add)
    tk_upd = tk.add_parser(&quot;update&quot;, help=&quot;Update an existing task&quot;)
    tk_upd.add_argument(&quot;task_id&quot;, type=int, help=&quot;ID of the task to update&quot;)
    tk_upd.add_argument(&quot;--sublist-id&quot;, type=int, help=&quot;Move task to a new parent sublist&quot;)
    tk_upd.add_argument(&quot;--name&quot;, help=&quot;New name for the task&quot;)
    tk_upd.add_argument(&quot;-i&quot;, &quot;--importance&quot;, type=int, help=&quot;New importance score (1-10)&quot;)
    tk_upd.add_argument(&quot;-t&quot;, &quot;--time&quot;, type=int, help=&quot;New time/Effort score (1-10)&quot;)
    tk_upd.add_argument(&quot;-d&quot;, &quot;--due-date&quot;, help=&quot;New due date in YYYY-MM-DD format&quot;)
    tk_upd.add_argument(&quot;--dependency-id&quot;, type=int, help=&quot;New ID of a prerequisite task&quot;)
    tk_upd.set_defaults(func=handle_task_update)
    tk_del = tk.add_parser(&quot;delete&quot;, help=&quot;Delete a task&quot;)
    tk_del.add_argument(&quot;task_id&quot;, type=int, help=&quot;ID of the task to delete&quot;)
    tk_del.set_defaults(func=handle_task_delete)

    return p

# ─────────────────────────────────────────────────────────────
# Main Execution
# ─────────────────────────────────────────────────────────────

def main():
    &quot;&quot;&quot;Main entry point for the script.&quot;&quot;&quot;
    if len(sys.argv) == 1:
        try:
            from ptpython.repl import embed
            print(&quot;▶️  No command provided. Starting interactive REPL...&quot;)
            creds_ns = argparse.Namespace(phpsessid=None, rkey=None)
            phpsessid, rkey = get_credentials(creds_ns)
            client = PriorityListApiClient(phpsessid, rkey)
            namespace = {&#39;client&#39;: client, &#39;print_json&#39;: print_json}
            print(&quot;✅ An API client is available as `client`.&quot;)
            embed(globals=namespace, locals=namespace)
        except ImportError:
            print(&quot;ℹ️ Optional dependency &#39;ptpython&#39; not found.&quot;, file=sys.stderr)
            print(&quot;  Run &#39;pip install ptpython&#39; for an enhanced interactive experience.&quot;, file=sys.stderr)
            print(&quot;\nDisplaying help instead:\n&quot;)
            build_parser().print_help()
        sys.exit(0)

    parser = build_parser()
    args = parser.parse_args()
    
    phpsessid, rkey = get_credentials(args)
    client = PriorityListApiClient(phpsessid, rkey)

    if hasattr(args, &#39;func&#39;):
        args.func(client, args)
    else:
        parser.print_help()

if __name__ == &quot;__main__&quot;:
    main()" data-download-link="" data-download-label="Download Python">
  <code class="language-python">#!/usr/bin/env python3
&quot;&quot;&quot;
PriorityList CLI - The Optimized &amp; Integrated Solution

This script is the result of integrating the best features from multiple development
approaches into a single, cohesive, and robust command-line interface.

It combines:
• Full CRUD (Create, Read, Update, Delete) operations for all resources.
• A robust API client with detailed error handling and reliable response parsing.
• A clean, nested command structure (e.g., `list add`, `task delete`).
• An interactive REPL mode (via `ptpython`) for exploratory API calls.
• Strict separation of human-readable and machine-readable (`--json`) output.
• Secure credential management from args, environment, or config file.
&quot;&quot;&quot;

from __future__ import annotations

import argparse
import configparser
import json
import os
import sys
from pathlib import Path
from typing import Any, Dict, List, Optional, Tuple

import requests

# ─────────────────────────────────────────────────────────────
# Helper Functions
# ─────────────────────────────────────────────────────────────

def print_json(obj: Any) -&gt; None:
    &quot;&quot;&quot;Prints an object as a formatted JSON string to stdout.&quot;&quot;&quot;
    print(json.dumps(obj, indent=2, ensure_ascii=False))


def print_human(msg: str, *, is_json_mode: bool) -&gt; None:
    &quot;&quot;&quot;Prints a message to stdout only if not in JSON mode.&quot;&quot;&quot;
    if not is_json_mode:
        print(msg)

# ─────────────────────────────────────────────────────────────
# API Client
# ─────────────────────────────────────────────────────────────

class PriorityListApiClient:
    &quot;&quot;&quot;A robust client for interacting with the prioritylist.app API.&quot;&quot;&quot;

    def __init__(self, phpsessid: str, rkey: str, base_url: str = &quot;https://prioritylist.app&quot;) -&gt; None:
        self.base_url = base_url.rstrip(&quot;/&quot;)
        self.session = requests.Session()
        self.session.headers.update({
            &quot;User-Agent&quot;: &quot;Mozilla/5.0 (X11; Linux x86_64; rv:139.0) Gecko/20100101 Firefox/139.0&quot;,
            &quot;Accept&quot;: &quot;text/plain, */*; q=0.01&quot;,
            &quot;X-Requested-With&quot;: &quot;XMLHttpRequest&quot;,
            &quot;Origin&quot;: self.base_url,
        })
        self.session.cookies.set(&quot;PHPSESSID&quot;, phpsessid, domain=&quot;prioritylist.app&quot;)
        self.session.cookies.set(&quot;rkey&quot;, rkey, domain=&quot;prioritylist.app&quot;)

    def _post(self, endpoint: str, data: Optional[Dict[str, Any]] = None) -&gt; Optional[Dict[str, Any]]:
        &quot;&quot;&quot;Makes a POST request, handles errors, and returns the &#39;data&#39; field on success.&quot;&quot;&quot;
        url = f&quot;{self.base_url}/api{endpoint}&quot;
        try:
            response = self.session.post(url, data=data)
            response.raise_for_status()
            json_response = response.json()
            if json_response.get(&quot;result&quot;) == &quot;success&quot;:
                return json_response.get(&quot;data&quot;)
            else:
                print(f&quot;❌ API Error at {endpoint}: {json_response.get(&#39;result&#39;, &#39;Unknown error&#39;)}&quot;, file=sys.stderr)
        except requests.exceptions.HTTPError as e:
            print(f&quot;❌ HTTP Error for {endpoint}: {e.response.status_code} {e.response.reason}&quot;, file=sys.stderr)
            print(f&quot;   Response body: {e.response.text}&quot;, file=sys.stderr)
        except requests.exceptions.RequestException as e:
            print(f&quot;❌ Request failed for {endpoint}: {e}&quot;, file=sys.stderr)
        except json.JSONDecodeError:
            print(f&quot;❌ Failed to decode JSON from response. URL: {url}&quot;, file=sys.stderr)
        return None

    # --- List Operations ---
    def get_all_lists(self) -&gt; Optional[List[Dict[str, Any]]]:
        return self._post(&quot;/groups/pull&quot;)

    def get_list_details(self, list_id: int) -&gt; Optional[Dict[str, Any]]:
        return self._post(&quot;/list/pull&quot;, {&quot;id&quot;: list_id})

    def create_list(self, name: str, group_id: str = &quot;&quot;) -&gt; Optional[Dict[str, Any]]:
        &quot;&quot;&quot;Creates a new list and robustly finds and returns it from the response.&quot;&quot;&quot;
        response_data = self._post(&quot;/list/add&quot;, {&quot;name&quot;: name, &quot;group_id&quot;: group_id})
        if response_data:
            try:
                for group in response_data:
                    # Find the list by name to avoid relying on array order.
                    # Note: This might not be perfect if duplicate names are allowed.
                    for lst in group.get(&#39;lists&#39;, []):
                        if lst[&#39;name&#39;] == name:
                            return lst
            except (IndexError, KeyError, TypeError) as e:
                print(f&quot;❌ Could not parse created list from API response: {e}&quot;, file=sys.stderr)
        return None

    def update_list(self, list_id: int, name: str) -&gt; bool:
        return self._post(&quot;/list/update&quot;, {&quot;id&quot;: list_id, &quot;name&quot;: name}) is not None

    def delete_list(self, list_id: int) -&gt; bool:
        # Note: The delete endpoint was not in the HAR file, this is an educated guess.
        # If it fails, the actual endpoint might be different (e.g., /list/remove).
        return self._post(&quot;/list/delete&quot;, {&quot;id&quot;: list_id}) is not None

    def star_list(self, list_id: int) -&gt; bool:
        return self._post(&quot;/list/star&quot;, {&quot;id&quot;: list_id}) is not None

    # --- Sublist Operations ---
    def create_sublist(self, list_id: int, name: str) -&gt; Optional[Dict[str, Any]]:
        &quot;&quot;&quot;Creates a new sublist and robustly finds and returns it.&quot;&quot;&quot;
        response_data = self._post(&quot;/sublist/add&quot;, {&quot;list_id&quot;: list_id, &quot;name&quot;: name})
        if response_data:
            try:
                for sublist in response_data.get(&#39;sublists&#39;, []):
                    if sublist[&#39;name&#39;] == name:
                        return sublist
            except (KeyError, TypeError) as e:
                print(f&quot;❌ Could not parse created sublist from API response: {e}&quot;, file=sys.stderr)
        return None

    def update_sublist(self, sublist_id: int, name: str) -&gt; bool:
        return self._post(&quot;/sublist/update&quot;, {&quot;id&quot;: sublist_id, &quot;name&quot;: name}) is not None

    def delete_sublist(self, sublist_id: int) -&gt; bool:
        # Note: The delete endpoint was not in the HAR file, this is an educated guess.
        return self._post(&quot;/sublist/delete&quot;, {&quot;id&quot;: sublist_id}) is not None

    # --- Task Operations ---
    def create_task(self, sublist_id: int, name: str, **kwargs) -&gt; Optional[Dict[str, Any]]:
        &quot;&quot;&quot;Creates a new task and robustly finds and returns it.&quot;&quot;&quot;
        payload = {&quot;sublist_id&quot;: sublist_id, &quot;name&quot;: name}
        # Map CLI-friendly names to API parameter names
        if &#39;importance&#39; in kwargs: payload[&#39;score_i&#39;] = kwargs.pop(&#39;importance&#39;)
        if &#39;time&#39; in kwargs: payload[&#39;score_t&#39;] = kwargs.pop(&#39;time&#39;)
        if &#39;due_date&#39; in kwargs: payload[&#39;d_date&#39;] = kwargs.pop(&#39;due_date&#39;)
        if &#39;dependency_id&#39; in kwargs: payload[&#39;dependency_id&#39;] = kwargs.pop(&#39;dependency_id&#39;)
        
        payload.update(kwargs)
        if payload.get(&#39;d_date&#39;):
            payload.setdefault(&#39;d_zone&#39;, &#39;-0300&#39;)
            
        response_data = self._post(&quot;/item/add&quot;, payload)
        if response_data:
            try:
                for item in response_data.get(&#39;items&#39;, []):
                    if item[&#39;name&#39;] == name:
                        return item
            except (KeyError, TypeError) as e:
                print(f&quot;❌ Could not parse created task from API response: {e}&quot;, file=sys.stderr)
        return None

    def update_task(self, task_id: int, updates: Dict[str, Any]) -&gt; bool:
        &quot;&quot;&quot;Updates an existing task with only the provided fields.&quot;&quot;&quot;
        payload = updates.copy()
        payload[&#39;id&#39;] = task_id
        if &#39;d_date&#39; in payload and payload[&#39;d_date&#39;]:
            payload.setdefault(&#39;d_zone&#39;, &#39;-0300&#39;)
        return self._post(&quot;/item/update&quot;, data=payload) is not None

    def delete_task(self, task_id: int) -&gt; bool:
        # Note: The delete endpoint was not in the HAR file, this is an educated guess.
        return self._post(&quot;/item/delete&quot;, {&quot;id&quot;: task_id}) is not None

# ─────────────────────────────────────────────────────────────
# Credentials Helper
# ─────────────────────────────────────────────────────────────

def get_credentials(ns: argparse.Namespace) -&gt; Tuple[str, str]:
    &quot;&quot;&quot;Retrieves credentials from args, environment variables, or config file.&quot;&quot;&quot;
    if ns.phpsessid and ns.rkey:
        return ns.phpsessid, ns.rkey
    
    env_sess, env_rkey = os.getenv(&quot;PL_PHPSESSID&quot;), os.getenv(&quot;PL_RKEY&quot;)
    if env_sess and env_rkey:
        return env_sess, env_rkey
        
    cfg_file = Path.home() / &quot;.config&quot; / &quot;prioritylist&quot; / &quot;config.ini&quot;
    if cfg_file.exists():
        # FIX: Disable interpolation to handle &#39;%&#39; characters in cookie values
        cp = configparser.ConfigParser(interpolation=None)
        cp.read(cfg_file)
        if &quot;auth&quot; in cp and &quot;phpsessid&quot; in cp[&quot;auth&quot;] and &quot;rkey&quot; in cp[&quot;auth&quot;]:
            return cp[&quot;auth&quot;][&quot;phpsessid&quot;], cp[&quot;auth&quot;][&quot;rkey&quot;]
            
    print(&quot;❌ Error: Authentication credentials not found.&quot;, file=sys.stderr)
    print(&quot;  Please provide them via flags, environment variables, or a config file.&quot;, file=sys.stderr)
    sys.exit(1)

# ─────────────────────────────────────────────────────────────
# Command Handlers
# ─────────────────────────────────────────────────────────────

def handle_list_pull_all(client: PriorityListApiClient, ns: argparse.Namespace):
    data = client.get_all_lists()
    if data is None:
        print_human(&quot;❌ Could not fetch lists.&quot;, is_json_mode=ns.json)
        return
    if ns.json:
        print_json(data)
    else:
        for group in data:
            print_human(f&quot;\n📁 {group.get(&#39;name&#39;) or &#39;Uncategorized&#39;}&quot;, is_json_mode=ns.json)
            for lst in group.get(&quot;lists&quot;, []):
                star = &quot;⭐&quot; if lst.get(&quot;starred&quot;) else &quot; &quot;
                print_human(f&quot;  {star} ID: {lst[&#39;id&#39;]:&lt;6} {lst[&#39;name&#39;]}&quot;, is_json_mode=ns.json)

def handle_list_show(client: PriorityListApiClient, ns: argparse.Namespace):
    data = client.get_list_details(ns.list_id)
    if data is None:
        print_human(f&quot;❌ List {ns.list_id} not found.&quot;, is_json_mode=ns.json)
        return
    print_json(data)

def handle_list_add(client: PriorityListApiClient, ns: argparse.Namespace):
    new_list = client.create_list(ns.name)
    if new_list:
        print_human(f&quot;✅ Created list &#39;{new_list[&#39;name&#39;]}&#39; (ID: {new_list[&#39;id&#39;]})&quot;, is_json_mode=ns.json)
        if ns.json:
            print_json(new_list)
    else:
        print_human(f&quot;❌ Failed to create list &#39;{ns.name}&#39;.&quot;, is_json_mode=ns.json)

def handle_list_update(client: PriorityListApiClient, ns: argparse.Namespace):
    ok = client.update_list(ns.list_id, ns.name)
    msg = f&quot;✅ Renamed list {ns.list_id} to &#39;{ns.name}&#39;.&quot; if ok else f&quot;❌ Failed to rename list {ns.list_id}.&quot;
    print_human(msg, is_json_mode=ns.json)

def handle_list_delete(client: PriorityListApiClient, ns: argparse.Namespace):
    ok = client.delete_list(ns.list_id)
    msg = f&quot;✅ Deleted list {ns.list_id}.&quot; if ok else f&quot;❌ Failed to delete list {ns.list_id}.&quot;
    print_human(msg, is_json_mode=ns.json)

def handle_list_star(client: PriorityListApiClient, ns: argparse.Namespace):
    ok = client.star_list(ns.list_id)
    msg = f&quot;✅ Toggled star on list {ns.list_id}.&quot; if ok else f&quot;❌ Failed to toggle star on list {ns.list_id}.&quot;
    print_human(msg, is_json_mode=ns.json)

def handle_sublist_add(client: PriorityListApiClient, ns: argparse.Namespace):
    new_sublist = client.create_sublist(ns.list_id, ns.name)
    if new_sublist:
        msg = f&quot;✅ Created sublist &#39;{new_sublist[&#39;name&#39;]}&#39; (ID: {new_sublist[&#39;id&#39;]}) in list {ns.list_id}.&quot;
        print_human(msg, is_json_mode=ns.json)
        if ns.json:
            print_json(new_sublist)
    else:
        print_human(f&quot;❌ Failed to create sublist &#39;{ns.name}&#39;.&quot;, is_json_mode=ns.json)

def handle_sublist_update(client: PriorityListApiClient, ns: argparse.Namespace):
    ok = client.update_sublist(ns.sublist_id, ns.name)
    msg = f&quot;✅ Renamed sublist {ns.sublist_id} to &#39;{ns.name}&#39;.&quot; if ok else f&quot;❌ Failed to rename sublist {ns.sublist_id}.&quot;
    print_human(msg, is_json_mode=ns.json)

def handle_sublist_delete(client: PriorityListApiClient, ns: argparse.Namespace):
    ok = client.delete_sublist(ns.sublist_id)
    msg = f&quot;✅ Deleted sublist {ns.sublist_id}.&quot; if ok else f&quot;❌ Failed to delete sublist {ns.sublist_id}.&quot;
    print_human(msg, is_json_mode=ns.json)

def handle_task_add(client: PriorityListApiClient, ns: argparse.Namespace):
    params = {
        &quot;importance&quot;: ns.importance,
        &quot;time&quot;: ns.time,
        &quot;d_date&quot;: ns.due_date or &quot;&quot;,
        &quot;dependency_id&quot;: ns.dependency_id or &quot;&quot;,
    }
    new_task = client.create_task(ns.sublist_id, ns.name, **params)
    if new_task:
        msg = f&quot;✅ Created task &#39;{new_task[&#39;name&#39;]}&#39; (ID: {new_task[&#39;id&#39;]}) in sublist {ns.sublist_id}.&quot;
        print_human(msg, is_json_mode=ns.json)
        if ns.json:
            print_json(new_task)
    else:
        print_human(f&quot;❌ Failed to create task &#39;{ns.name}&#39;.&quot;, is_json_mode=ns.json)

def handle_task_update(client: PriorityListApiClient, ns: argparse.Namespace):
    updates = {k: v for k, v in vars(ns).items() if k in [
        &#39;name&#39;, &#39;sublist_id&#39;, &#39;importance&#39;, &#39;time&#39;, &#39;due_date&#39;, &#39;dependency_id&#39;
    ] and v is not None}
    
    if not updates:
        print_human(&quot;❌ Error: At least one field to update must be provided.&quot;, is_json_mode=ns.json)
        sys.exit(1)
        
    # Remap arg names to API field names
    if &#39;importance&#39; in updates: updates[&#39;score_i&#39;] = updates.pop(&#39;importance&#39;)
    if &#39;time&#39; in updates: updates[&#39;score_t&#39;] = updates.pop(&#39;time&#39;)
    if &#39;due_date&#39; in updates: updates[&#39;d_date&#39;] = updates.pop(&#39;due_date&#39;)

    ok = client.update_task(ns.task_id, updates)
    msg = f&quot;✅ Updated task {ns.task_id}.&quot; if ok else f&quot;❌ Failed to update task {ns.task_id}.&quot;
    print_human(msg, is_json_mode=ns.json)

def handle_task_delete(client: PriorityListApiClient, ns: argparse.Namespace):
    ok = client.delete_task(ns.task_id)
    msg = f&quot;✅ Deleted task {ns.task_id}.&quot; if ok else f&quot;❌ Failed to delete task {ns.task_id}.&quot;
    print_human(msg, is_json_mode=ns.json)

# ─────────────────────────────────────────────────────────────
# Argument Parser
# ─────────────────────────────────────────────────────────────

def build_parser() -&gt; argparse.ArgumentParser:
    p = argparse.ArgumentParser(description=&quot;A robust CLI for prioritylist.app.&quot;, formatter_class=argparse.RawTextHelpFormatter)
    p.add_argument(&quot;--phpsessid&quot;, help=&quot;Your PHPSESSID cookie.&quot;)
    p.add_argument(&quot;--rkey&quot;, help=&quot;Your rkey cookie.&quot;)
    p.add_argument(&quot;--json&quot;, action=&quot;store_true&quot;, help=&quot;Output machine-readable JSON only.&quot;)

    sp = p.add_subparsers(dest=&quot;resource&quot;, required=True, help=&quot;The resource to manage.&quot;)

    # --- List Parser ---
    ls = sp.add_parser(&quot;list&quot;, help=&quot;Manage lists&quot;).add_subparsers(dest=&quot;action&quot;, required=True)
    ls.add_parser(&quot;pull-all&quot;, help=&quot;Fetch all lists and groups&quot;).set_defaults(func=handle_list_pull_all)
    ls_sh = ls.add_parser(&quot;show&quot;, help=&quot;Show full JSON details for one list&quot;)
    ls_sh.add_argument(&quot;list_id&quot;, type=int, help=&quot;ID of the list to show&quot;)
    ls_sh.set_defaults(func=handle_list_show)
    ls_add = ls.add_parser(&quot;add&quot;, help=&quot;Add a new list&quot;)
    ls_add.add_argument(&quot;--name&quot;, required=True, help=&quot;Name for the new list&quot;)
    ls_add.set_defaults(func=handle_list_add)
    ls_upd = ls.add_parser(&quot;update&quot;, help=&quot;Rename a list&quot;)
    ls_upd.add_argument(&quot;list_id&quot;, type=int, help=&quot;ID of the list to update&quot;)
    ls_upd.add_argument(&quot;--name&quot;, required=True, help=&quot;New name for the list&quot;)
    ls_upd.set_defaults(func=handle_list_update)
    ls_del = ls.add_parser(&quot;delete&quot;, help=&quot;Delete a list&quot;)
    ls_del.add_argument(&quot;list_id&quot;, type=int, help=&quot;ID of the list to delete&quot;)
    ls_del.set_defaults(func=handle_list_delete)
    ls_star = ls.add_parser(&quot;star&quot;, help=&quot;Toggle star status on a list&quot;)
    ls_star.add_argument(&quot;list_id&quot;, type=int, help=&quot;ID of the list to star/unstar&quot;)
    ls_star.set_defaults(func=handle_list_star)

    # --- Sublist Parser ---
    sb = sp.add_parser(&quot;sublist&quot;, help=&quot;Manage sublists&quot;).add_subparsers(dest=&quot;action&quot;, required=True)
    sb_add = sb.add_parser(&quot;add&quot;, help=&quot;Add a new sublist&quot;)
    sb_add.add_argument(&quot;--list-id&quot;, type=int, required=True, help=&quot;ID of the parent list&quot;)
    sb_add.add_argument(&quot;--name&quot;, required=True, help=&quot;Name for the new sublist&quot;)
    sb_add.set_defaults(func=handle_sublist_add)
    sb_upd = sb.add_parser(&quot;update&quot;, help=&quot;Rename a sublist&quot;)
    sb_upd.add_argument(&quot;sublist_id&quot;, type=int, help=&quot;ID of the sublist to update&quot;)
    sb_upd.add_argument(&quot;--name&quot;, required=True, help=&quot;New name for the sublist&quot;)
    sb_upd.set_defaults(func=handle_sublist_update)
    sb_del = sb.add_parser(&quot;delete&quot;, help=&quot;Delete a sublist&quot;)
    sb_del.add_argument(&quot;sublist_id&quot;, type=int, help=&quot;ID of the sublist to delete&quot;)
    sb_del.set_defaults(func=handle_sublist_delete)

    # --- Task Parser ---
    tk = sp.add_parser(&quot;task&quot;, help=&quot;Manage tasks&quot;).add_subparsers(dest=&quot;action&quot;, required=True)
    tk_add = tk.add_parser(&quot;add&quot;, help=&quot;Add a new task&quot;)
    tk_add.add_argument(&quot;--sublist-id&quot;, type=int, required=True, help=&quot;ID of the parent sublist&quot;)
    tk_add.add_argument(&quot;--name&quot;, required=True, help=&quot;Name for the new task&quot;)
    tk_add.add_argument(&quot;-i&quot;, &quot;--importance&quot;, type=int, default=5, help=&quot;Importance score (1-10)&quot;)
    tk_add.add_argument(&quot;-t&quot;, &quot;--time&quot;, type=int, default=5, help=&quot;Time/Effort score (1-10)&quot;)
    tk_add.add_argument(&quot;-d&quot;, &quot;--due-date&quot;, help=&quot;Due date in YYYY-MM-DD format&quot;)
    tk_add.add_argument(&quot;--dependency-id&quot;, type=int, help=&quot;ID of a prerequisite task&quot;)
    tk_add.set_defaults(func=handle_task_add)
    tk_upd = tk.add_parser(&quot;update&quot;, help=&quot;Update an existing task&quot;)
    tk_upd.add_argument(&quot;task_id&quot;, type=int, help=&quot;ID of the task to update&quot;)
    tk_upd.add_argument(&quot;--sublist-id&quot;, type=int, help=&quot;Move task to a new parent sublist&quot;)
    tk_upd.add_argument(&quot;--name&quot;, help=&quot;New name for the task&quot;)
    tk_upd.add_argument(&quot;-i&quot;, &quot;--importance&quot;, type=int, help=&quot;New importance score (1-10)&quot;)
    tk_upd.add_argument(&quot;-t&quot;, &quot;--time&quot;, type=int, help=&quot;New time/Effort score (1-10)&quot;)
    tk_upd.add_argument(&quot;-d&quot;, &quot;--due-date&quot;, help=&quot;New due date in YYYY-MM-DD format&quot;)
    tk_upd.add_argument(&quot;--dependency-id&quot;, type=int, help=&quot;New ID of a prerequisite task&quot;)
    tk_upd.set_defaults(func=handle_task_update)
    tk_del = tk.add_parser(&quot;delete&quot;, help=&quot;Delete a task&quot;)
    tk_del.add_argument(&quot;task_id&quot;, type=int, help=&quot;ID of the task to delete&quot;)
    tk_del.set_defaults(func=handle_task_delete)

    return p

# ─────────────────────────────────────────────────────────────
# Main Execution
# ─────────────────────────────────────────────────────────────

def main():
    &quot;&quot;&quot;Main entry point for the script.&quot;&quot;&quot;
    if len(sys.argv) == 1:
        try:
            from ptpython.repl import embed
            print(&quot;▶️  No command provided. Starting interactive REPL...&quot;)
            creds_ns = argparse.Namespace(phpsessid=None, rkey=None)
            phpsessid, rkey = get_credentials(creds_ns)
            client = PriorityListApiClient(phpsessid, rkey)
            namespace = {&#39;client&#39;: client, &#39;print_json&#39;: print_json}
            print(&quot;✅ An API client is available as `client`.&quot;)
            embed(globals=namespace, locals=namespace)
        except ImportError:
            print(&quot;ℹ️ Optional dependency &#39;ptpython&#39; not found.&quot;, file=sys.stderr)
            print(&quot;  Run &#39;pip install ptpython&#39; for an enhanced interactive experience.&quot;, file=sys.stderr)
            print(&quot;\nDisplaying help instead:\n&quot;)
            build_parser().print_help()
        sys.exit(0)

    parser = build_parser()
    args = parser.parse_args()
    
    phpsessid, rkey = get_credentials(args)
    client = PriorityListApiClient(phpsessid, rkey)

    if hasattr(args, &#39;func&#39;):
        args.func(client, args)
    else:
        parser.print_help()

if __name__ == &quot;__main__&quot;:
    main()</code>
</section>

<h4 id="command-line-interface-cli-and-user-experience-ux"><strong>Command-Line Interface (CLI) and User Experience (UX)</strong></h4>

<ul>
  <li><strong>Nested Command Structure:</strong> The CLI now uses a more intuitive <code class="language-plaintext highlighter-rouge">resource action</code> format (e.g., <code class="language-plaintext highlighter-rouge">list add</code>, <code class="language-plaintext highlighter-rouge">task update</code>). This is a standard practice for modern CLIs and a vast improvement over the original flat command list.</li>
  <li><strong>Interactive REPL Mode:</strong> A major feature addition is the <code class="language-plaintext highlighter-rouge">ptpython</code>-based interactive REPL, which launches if the script is run without arguments. It provides an authenticated <code class="language-plaintext highlighter-rouge">client</code> object, allowing for powerful, exploratory API interactions without writing new scripts.</li>
  <li><strong>Clear and Concise Output:</strong> The use of emojis (✅, ❌, 📁, ⭐) provides immediate visual feedback on the status of operations.</li>
  <li><strong>Scripting-Friendly JSON Mode:</strong> The <code class="language-plaintext highlighter-rouge">--json</code> flag now guarantees that the only output to <code class="language-plaintext highlighter-rouge">stdout</code> is a clean JSON object, making it trivial to pipe the output of this tool to other programs like <code class="language-plaintext highlighter-rouge">jq</code>.</li>
</ul>

<h4 id="4-security-enhancements"><strong>4. Security Enhancements</strong></h4>

<ul>
  <li><strong>Secure Credential Sourcing:</strong> The <code class="language-plaintext highlighter-rouge">get_credentials</code> function continues to provide a secure and flexible way to manage API keys, preventing them from being hard-coded. It checks arguments, environment variables, and a dedicated config file in a safe order of precedence.</li>
  <li><strong>Robust Input Handling:</strong> The API client’s improved error handling and response parsing make it less susceptible to crashes or unexpected behavior caused by malformed API responses.</li>
</ul>

<h1 id="client-side-code">client-side code</h1>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>!function(e,t){"use strict";"object"==typeof module&amp;&amp;"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";function x(e){return null!=e&amp;&amp;e===e.window}var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&amp;&amp;"number"!=typeof e.nodeType},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&amp;&amp;t.getAttribute(r))&amp;&amp;o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var Ut="3.5.1",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&amp;&amp;"length"in e&amp;&amp;e.length,n=w(e);return!m(e)&amp;&amp;!x(e)&amp;&amp;("array"===n||0===t||"number"==typeof t&amp;&amp;0&lt;t&amp;&amp;t-1 in e)}S.fn=S.prototype={jquery:Ut,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e&lt;0?this[e+this.length]:this[e]},pushStack:function(t){t=S.merge(this.constructor(),t);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(n){var t=this.length,n=+n+(n&lt;0?t:0);return this.pushStack(0&lt;=n&amp;&amp;n&lt;t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&amp;&amp;(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&amp;&amp;(a=this,s--);s&lt;u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&amp;&amp;a!==r&amp;&amp;(l&amp;&amp;r&amp;&amp;(S.isPlainObject(r)||(i=Array.isArray(r)))?(o=a[t],o=i&amp;&amp;!Array.isArray(o)?[]:i||S.isPlainObject(o)?o:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&amp;&amp;(a[t]=r));return a},S.extend({expando:"jQuery"+(Ut+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(n){return!(!n||"[object Object]"!==o.call(n)||(n=r(n))&amp;&amp;("function"!=typeof(n=v.call(n,"constructor")&amp;&amp;n.constructor)||a.call(n)!==l))},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&amp;&amp;t.nonce},n)},each:function(e,t){var n,r=0;if(p(e))for(n=e.length;r&lt;n&amp;&amp;!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,n){n=n||[];return null!=e&amp;&amp;(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r&lt;n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i&lt;o;i++)!t(e[i],i)!=a&amp;&amp;r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o&lt;r;o++)null!=(i=t(e[o],o,n))&amp;&amp;a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&amp;&amp;a.push(i);return g(a)},guid:1,support:y}),"function"==typeof Symbol&amp;&amp;(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var fe=function(n){function ne(n,t){return n="0x"+n.slice(1)-65536,t||(n&lt;0?String.fromCharCode(65536+n):String.fromCharCode(n&gt;&gt;10|55296,1023&amp;n|56320))}function oe(){T()}var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,S="sizzle"+ +new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),D=function(e,t){return e===t&amp;&amp;(l=!0),0},j={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n&lt;r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),$=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([&gt;+~]|"+M+")"+M+"*"),U=new RegExp(M+"|&gt;"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[&gt;+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ae=be(function(e){return!0===e.disabled&amp;&amp;"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&amp;&amp;e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&amp;&amp;9!==p&amp;&amp;11!==p)return n;if(!r&amp;&amp;(T(e),e=e||C,E)){if(11!==p&amp;&amp;(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&amp;&amp;(a=f.getElementById(i))&amp;&amp;y(e,a)&amp;&amp;a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&amp;&amp;d.getElementsByClassName&amp;&amp;e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&amp;&amp;!N[t+" "]&amp;&amp;(!v||!v.test(t))&amp;&amp;(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&amp;&amp;(U.test(t)||z.test(t))){for((f=ee.test(t)&amp;&amp;ye(e.parentNode)||e)===e&amp;&amp;d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;o--;)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&amp;&amp;e.removeAttribute("id")}}}return g(t.replace($,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")&gt;b.cacheLength&amp;&amp;delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&amp;&amp;t.parentNode.removeChild(t),t=null}}function fe(e,t){for(var n=e.split("|"),r=n.length;r--;)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&amp;&amp;e,r=n&amp;&amp;1===e.nodeType&amp;&amp;1===t.nodeType&amp;&amp;e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ge(t){return function(e){return"form"in e?e.parentNode&amp;&amp;!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&amp;&amp;ae(e)===t:e.disabled===t:"label"in e&amp;&amp;e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){for(var n,r=a([],e.length,o),i=r.length;i--;)e[n=r[i]]&amp;&amp;(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&amp;&amp;void 0!==e.getElementsByTagName&amp;&amp;e}for(e in d=se.support={},i=se.isXML=function(n){var t=n.namespaceURI,n=(n.ownerDocument||n).documentElement;return!Y.test(t||n&amp;&amp;n.nodeName||"HTML")},T=se.setDocument=function(r){var t,r=r?r.ownerDocument||r:p;return r!=C&amp;&amp;9===r.nodeType&amp;&amp;r.documentElement&amp;&amp;(a=(C=r).documentElement,E=!i(C),p!=C&amp;&amp;(t=C.defaultView)&amp;&amp;t.top!==t&amp;&amp;(t.addEventListener?t.addEventListener("unload",oe,!1):t.attachEvent&amp;&amp;t.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),void 0!==e.querySelectorAll&amp;&amp;!e.querySelectorAll(":scope fieldset div").length}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(n,t){if(void 0!==t.getElementById&amp;&amp;E){n=t.getElementById(n);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(t){t=void 0!==t.getAttributeNode&amp;&amp;t.getAttributeNode("id");return t&amp;&amp;t.value===n}},b.find.ID=function(e,t){if(void 0!==t.getElementById&amp;&amp;E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&amp;&amp;n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&amp;&amp;n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[i++];)1===n.nodeType&amp;&amp;r.push(n);return r},b.find.CLASS=d.getElementsByClassName&amp;&amp;function(e,t){if(void 0!==t.getElementsByClassName&amp;&amp;E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&amp;&amp;(ce(function(e){var t;a.appendChild(e).innerHTML="&lt;a id='"+S+"'&gt;&lt;/a&gt;&lt;select id='"+S+"-\r\\' msallowcapture=''&gt;&lt;option selected=''&gt;&lt;/option&gt;&lt;/select&gt;",e.querySelectorAll("[msallowcapture^='']").length&amp;&amp;v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="&lt;a href='' disabled='disabled'&gt;&lt;/a&gt;&lt;select disabled='disabled'&gt;&lt;option/&gt;&lt;/select&gt;";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&amp;&amp;v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&amp;&amp;v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&amp;&amp;v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&amp;&amp;ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),v=v.length&amp;&amp;new RegExp(v.join("|")),s=s.length&amp;&amp;new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,r){var n=9===e.nodeType?e.documentElement:e,r=r&amp;&amp;r.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&amp;&amp;16&amp;e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&amp;(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&amp;&amp;t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&amp;&amp;y(p,e)?-1:t==C||t.ownerDocument==p&amp;&amp;y(p,t)?1:u?P(u,e)-P(u,t):0:4&amp;n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&amp;&amp;E&amp;&amp;!N[t+" "]&amp;&amp;(!s||!s.test(t))&amp;&amp;(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&amp;&amp;11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0&lt;se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&amp;&amp;T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&amp;&amp;T(e);var r=b.attrHandle[t.toLowerCase()],r=r&amp;&amp;j.call(b.attrHandle,t.toLowerCase())?r(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&amp;&amp;r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&amp;&amp;e.slice(0),e.sort(D),l){for(;t=e[i++];)t===e[i]&amp;&amp;(r=n.push(i));for(;r--;)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{"&gt;":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&amp;&amp;(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&amp;&amp;se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&amp;&amp;e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&amp;&amp;X.test(n)&amp;&amp;(t=h(n,!0))&amp;&amp;(t=n.indexOf(")",n.length-t)-n.length)&amp;&amp;(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&amp;&amp;e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&amp;&amp;m(e,function(e){return t.test("string"==typeof e.className&amp;&amp;e.className||void 0!==e.getAttribute&amp;&amp;e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(t){t=se.attr(t,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&amp;&amp;0===t.indexOf(i):"*="===r?i&amp;&amp;-1&lt;t.indexOf(i):"$="===r?i&amp;&amp;t.slice(-i.length)===i:"~="===r?-1&lt;(" "+t.replace(B," ")+" ").indexOf(i):"|="===r&amp;&amp;(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&amp;&amp;0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!=m?"nextSibling":"previousSibling",c=e.parentNode,f=x&amp;&amp;e.nodeName.toLowerCase(),p=!n&amp;&amp;!x,d=!1;if(c){if(y){for(;l;){for(a=e;a=a[l];)if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&amp;&amp;!u&amp;&amp;"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&amp;&amp;p){for(d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&amp;&amp;r[1])&amp;&amp;r[2],a=s&amp;&amp;c.childNodes[s];a=++s&amp;&amp;a&amp;&amp;a[l]||(d=s=0)||u.pop();)if(1===a.nodeType&amp;&amp;++d&amp;&amp;a===e){i[h]=[k,s,d];break}}else if(p&amp;&amp;(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&amp;&amp;r[1]),!1===d)for(;(a=++s&amp;&amp;a&amp;&amp;a[l]||(d=s=0)||u.pop())&amp;&amp;((x?a.nodeName.toLowerCase()!==f:1!==a.nodeType)||!++d||(p&amp;&amp;((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a!==e)););return(d-=v)===g||d%g==0&amp;&amp;0&lt;=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1&lt;a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){for(var n,r=a(e,o),i=r.length;i--;)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace($,"$1"));return s[S]?le(function(e,t,n,r){for(var i,o=s(e,null,r,[]),a=e.length;a--;)(i=o[a])&amp;&amp;(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0&lt;se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1&lt;(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&amp;&amp;1===e.nodeType);return!1}}),target:function(e){var t=n.location&amp;&amp;n.location.hash;return t&amp;&amp;t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&amp;&amp;(!C.hasFocus||C.hasFocus())&amp;&amp;!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&amp;&amp;!!e.checked||"option"===t&amp;&amp;!!e.selected},selected:function(e){return e.parentNode&amp;&amp;e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType&lt;6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&amp;&amp;"button"===e.type||"button"===t},text:function(t){return"input"===t.nodeName.toLowerCase()&amp;&amp;"text"===t.type&amp;&amp;(null==(t=t.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n&lt;0?n+t:n]}),even:ve(function(e,t){for(var n=0;n&lt;t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n&lt;t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n&lt;0?n+t:t&lt;n?t:n;0&lt;=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n&lt;0?n+t:n;++r&lt;t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&amp;&amp;e.type===t}}(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&amp;&amp;e.type===n}}(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t&lt;n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&amp;&amp;"parentNode"===c,p=r++;return e.first?function(e,t,n){for(;e=e[u];)if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var i,r,a=[k,p];if(n){for(;e=e[u];)if((1===e.nodeType||f)&amp;&amp;s(e,t,n))return!0}else for(;e=e[u];)if(1===e.nodeType||f)if(i=(r=e[S]||(e[S]={}))[e.uniqueID]||(r[e.uniqueID]={}),l&amp;&amp;l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&amp;&amp;r[0]===k&amp;&amp;r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1&lt;i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s&lt;u;s++)(o=e[s])&amp;&amp;(n&amp;&amp;!n(o,r,i)||(a.push(o),l&amp;&amp;t.push(s)));return a}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1&lt;P(i,e)},a,!0),c=[function(e,t,r){r=!o&amp;&amp;(r||t!==w)||((i=t).nodeType?u:l)(e,t,r);return i=null,r}];s&lt;r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n&lt;r&amp;&amp;!b.relative[e[n].type];n++);return function Ce(d,h,g,v,y,e){return v&amp;&amp;!v[S]&amp;&amp;(v=Ce(v)),y&amp;&amp;!y[S]&amp;&amp;(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r&lt;i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&amp;&amp;h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&amp;&amp;g(f,p,n,r),v)for(i=Te(p,u),v(i,[],n,r),o=i.length;o--;)(a=i[o])&amp;&amp;(p[u[o]]=!(f[u[o]]=a));if(e){if(y||d){if(y){for(i=[],o=p.length;o--;)(a=p[o])&amp;&amp;i.push(f[o]=a);y(null,p=[],i,r)}for(o=p.length;o--;)(a=p[o])&amp;&amp;-1&lt;(i=y?P(e,a):s[o])&amp;&amp;(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}(1&lt;s&amp;&amp;we(c),1&lt;s&amp;&amp;xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),t,s&lt;n&amp;&amp;Ee(e.slice(s,n)),n&lt;r&amp;&amp;Ee(e=e.slice(n)),n&lt;r&amp;&amp;xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);for(a=e,s=[],u=b.preFilter;a;){for(o in n&amp;&amp;!(r=_.exec(a))||(r&amp;&amp;(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&amp;&amp;(n=r.shift(),i.push({value:n,type:r[0].replace($," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&amp;&amp;!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=A[e+" "];if(!a){for(n=(t=t||h(e)).length;n--;)((a=Ee(t[n]))[S]?i:o).push(a);(a=A(e,(v=o,m=0&lt;(y=i).length,x=0&lt;v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&amp;&amp;[],f=[],p=w,d=e||x&amp;&amp;b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&amp;&amp;(w=t==C||t||i);l!==g&amp;&amp;null!=(o=d[l]);l++){if(x&amp;&amp;o){for(a=0,t||o.ownerDocument==C||(T(o),n=!E);s=v[a++];)if(s(o,t||C,n)){r.push(o);break}i&amp;&amp;(k=h)}m&amp;&amp;((o=!s&amp;&amp;o)&amp;&amp;u--,e&amp;&amp;c.push(o))}if(u+=l,m&amp;&amp;l!==u){for(a=0;s=y[a++];)s(c,f,t,n);if(e){if(0&lt;u)for(;l--;)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&amp;&amp;!e&amp;&amp;0&lt;f.length&amp;&amp;1&lt;u+y.length&amp;&amp;se.uniqueSort(r)}return i&amp;&amp;(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&amp;&amp;e,c=!r&amp;&amp;h(e=l.selector||e);if(n=n||[],1===c.length){if(2&lt;(o=c[0]=c[0].slice(0)).length&amp;&amp;"ID"===(a=o[0]).type&amp;&amp;9===t.nodeType&amp;&amp;E&amp;&amp;b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&amp;&amp;(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=G.needsContext.test(e)?0:o.length;i--&amp;&amp;(a=o[i],!b.relative[s=a.type]);)if((u=b.find[s])&amp;&amp;(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&amp;&amp;ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&amp;&amp;xe(o)))return H.apply(n,r),n;break}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&amp;&amp;ye(t.parentNode)||t),n},d.sortStable=S.split("").sort(D).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&amp;e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="&lt;a href='#'&gt;&lt;/a&gt;","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&amp;&amp;ce(function(e){return e.innerHTML="&lt;input/&gt;",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&amp;&amp;"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,r,n){if(!n)return!0===e[r]?r.toLowerCase():(r=e.getAttributeNode(r))&amp;&amp;r.specified?r.value:null}),se}(C);S.find=fe,S.expr=fe.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=fe.uniqueSort,S.text=fe.getText,S.isXMLDoc=fe.isXML,S.contains=fe.contains,S.escapeSelector=fe.escape;function h(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&amp;&amp;9!==e.nodeType;)if(1===e.nodeType){if(i&amp;&amp;S(e).is(n))break;r.push(e)}return r}function T(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&amp;&amp;e!==t&amp;&amp;n.push(e);return n}var k=S.expr.match.needsContext;function A(e,t){return e.nodeName&amp;&amp;e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^&lt;([a-z][^\/\0&gt;:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?&gt;(?:&lt;\/\1&gt;|)$/i;function D(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1&lt;i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&amp;&amp;(e=":not("+e+")"),1===t.length&amp;&amp;1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t&lt;r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t&lt;r;t++)S.find(e,i[t],n);return 1&lt;r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(D(this,e||[],!1))},not:function(e){return this.pushStack(D(this,e||[],!0))},is:function(e){return!!D(this,"string"==typeof e&amp;&amp;k.test(e)?S(e):e||[],!1).length}});var j,q=/^(?:\s*(&lt;[\w\W]+&gt;)[^&gt;]*|#([\w-]+))$/;(S.fn.init=function(i,t,n){if(!i)return this;if(n=n||j,"string"!=typeof i)return i.nodeType?(this[0]=i,this.length=1,this):m(i)?void 0!==n.ready?n.ready(i):i(S):S.makeArray(i,this);if(!(r="&lt;"===i[0]&amp;&amp;"&gt;"===i[i.length-1]&amp;&amp;3&lt;=i.length?[null,i,null]:q.exec(i))||!r[1]&amp;&amp;t)return(!t||t.jquery?t||n:this.constructor(t)).find(i);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&amp;&amp;t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&amp;&amp;S.isPlainObject(t))for(var r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&amp;&amp;(this[0]=i,this.length=1),this}).prototype=S.fn,j=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){for(;(e=e[t])&amp;&amp;1!==e.nodeType;);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e&lt;n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&amp;&amp;S(e);if(!k.test(e))for(;r&lt;i;r++)for(n=this[r];n&amp;&amp;n!==t;n=n.parentNode)if(n.nodeType&lt;11&amp;&amp;(a?-1&lt;a.index(n):1===n.nodeType&amp;&amp;S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1&lt;o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&amp;&amp;this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(t){t=t.parentNode;return t&amp;&amp;11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&amp;&amp;r(e.contentDocument)?e.contentDocument:(A(e,"template")&amp;&amp;(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&amp;&amp;(t=e),t&amp;&amp;"string"==typeof t&amp;&amp;(n=S.filter(t,n)),1&lt;this.length&amp;&amp;(H[r]||S.uniqueSort(n),L.test(r)&amp;&amp;n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&amp;&amp;m(i=e.promise)?i.call(e).done(t).fail(n):e&amp;&amp;m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var n;r="string"==typeof r?(n={},S.each(r.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);function c(){for(a=a||r.once,o=i=!0;u.length;l=-1)for(t=u.shift();++l&lt;s.length;)!1===s[l].apply(t[0],t[1])&amp;&amp;r.stopOnFalse&amp;&amp;(l=s.length,t=!1);r.memory||(t=!1),i=!1,a&amp;&amp;(s=t?[]:"")}var i,t,o,a,s=[],u=[],l=-1,f={add:function(){return s&amp;&amp;(t&amp;&amp;!i&amp;&amp;(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&amp;&amp;f.has(t)||s.push(t):t&amp;&amp;t.length&amp;&amp;"string"!==w(t)&amp;&amp;n(t)})}(arguments),t&amp;&amp;!i&amp;&amp;c()),this},remove:function(){return S.each(arguments,function(e,t){for(var n;-1&lt;(n=S.inArray(t,s,n));)s.splice(n,1),n&lt;=l&amp;&amp;l--}),this},has:function(e){return e?-1&lt;S.inArray(e,s):0&lt;s.length},empty:function(){return s=s&amp;&amp;[],this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&amp;&amp;i[t[4]];s[t[1]](function(){var e=n&amp;&amp;n.apply(this,arguments);e&amp;&amp;m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i&lt;u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&amp;&amp;("object"==typeof e||"function"==typeof e)&amp;&amp;e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&amp;&amp;(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&amp;&amp;S.Deferred.exceptionHook(e,t.stackTrace),u&lt;=i+1&amp;&amp;(a!==M&amp;&amp;(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&amp;&amp;(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&amp;&amp;n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&amp;&amp;e.call(s,s),s},when:function(e){function a(t){return function(e){r[t]=this,i[t]=1&lt;arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}}var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred();if(n&lt;=1&amp;&amp;(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&amp;&amp;i[t].then)))return o.then();for(;t--;)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&amp;&amp;C.console.warn&amp;&amp;e&amp;&amp;W.test(e.name)&amp;&amp;C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),S.ready()}S.fn.ready=function(e){return F.then(e).catch(function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&amp;&amp;0&lt;--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&amp;&amp;!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var $=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)$(e,t,s,n[s],!0,o,a);else if(void 0!==r&amp;&amp;(i=!0,m(r)||(a=!0),l&amp;&amp;(t=a?(t.call(e,r),null):(l=t,function(e,t,n){return l.call(S(e),n)})),t))for(;s&lt;u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}function V(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&amp;&amp;(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&amp;&amp;e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&amp;&amp;"string"==typeof t&amp;&amp;void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;for(;n--;)delete r[t[n]]}void 0!==t&amp;&amp;!S.isEmptyObject(r)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(t){t=t[this.expando];return void 0!==t&amp;&amp;!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&amp;&amp;1===e.nodeType)if(r="data-"+t.replace(K,"-$&amp;").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&amp;&amp;("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&amp;&amp;o.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){Q.set(this,n)}):$(this,function(e){var t;return o&amp;&amp;void 0===e?void 0!==(t=Q.get(o,n))||void 0!==(t=Z(o,n))?t:void 0:void this.each(function(){Q.set(this,n,e)})},null,e,1&lt;arguments.length,null,!0);if(this.length&amp;&amp;(i=Q.get(o),1===o.nodeType&amp;&amp;!Y.get(o,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&amp;&amp;0===(r=a[t].name).indexOf("data-")&amp;&amp;(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&amp;&amp;(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&amp;&amp;(i=n.shift(),r--),i&amp;&amp;("fx"===t&amp;&amp;n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&amp;&amp;o&amp;&amp;o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&amp;&amp;(n=t,t="fx",e--),arguments.length&lt;e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&amp;&amp;"inprogress"!==e[0]&amp;&amp;S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function s(){--r||i.resolveWith(o,[o])}var n,r=1,i=S.Deferred(),o=this,a=this.length;for("string"!=typeof e&amp;&amp;(t=e,e=void 0),e=e||"fx";a--;)(n=Y.get(o[a],e+"queueHooks"))&amp;&amp;n.empty&amp;&amp;(r++,n.empty.add(s));return s(),i.promise(t)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&amp;&amp;(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});function ae(e,t){return"none"===(e=t||e).style.display||""===e.style.display&amp;&amp;ie(e)&amp;&amp;"none"===S.css(e,"display")}function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&amp;&amp;n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&amp;&amp;(S.cssNumber[t]||"px"!==l&amp;&amp;+u)&amp;&amp;te.exec(S.css(e,t));if(c&amp;&amp;c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))&lt;=0&amp;&amp;(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&amp;&amp;(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&amp;&amp;(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,o,a,s,u,l=[],c=0,f=e.length;c&lt;f;c++)(r=e[c]).style&amp;&amp;(n=r.style.display,t?("none"===n&amp;&amp;(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&amp;&amp;ae(r)&amp;&amp;(l[c]=(u=a=o=void 0,a=r.ownerDocument,s=r.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&amp;&amp;(u="block"),ue[s]=u)))):"none"!==n&amp;&amp;(l[c]="none",Y.set(r,"display",n)));for(c=0;c&lt;f;c++)null!=l[c]&amp;&amp;(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,de=/&lt;([a-z][^\/\0&gt;\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i,Ut=E.createDocumentFragment().appendChild(E.createElement("div"));(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),Ut.appendChild(fe),y.checkClone=Ut.cloneNode(!0).cloneNode(!0).lastChild.checked,Ut.innerHTML="&lt;textarea&gt;x&lt;/textarea&gt;",y.noCloneChecked=!!Ut.cloneNode(!0).lastChild.defaultValue,Ut.innerHTML="&lt;option&gt;&lt;/option&gt;",y.option=!!Ut.lastChild;var ge={thead:[1,"&lt;table&gt;","&lt;/table&gt;"],col:[2,"&lt;table&gt;&lt;colgroup&gt;","&lt;/colgroup&gt;&lt;/table&gt;"],tr:[2,"&lt;table&gt;&lt;tbody&gt;","&lt;/tbody&gt;&lt;/table&gt;"],td:[3,"&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;","&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;"],_default:[0,"",""]};function ve(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&amp;&amp;A(e,t)?S.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n&lt;r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,y.option||(ge.optgroup=ge.option=[1,"&lt;select multiple='multiple'&gt;","&lt;/select&gt;"]);var me=/&lt;|&amp;#?\w+;/;function xe(e,t,n,r,i){for(var o,a,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d&lt;h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){for(a=a||f.appendChild(t.createElement("div")),u=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[u]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));for(f.textContent="",d=0;o=p[d++];)if(r&amp;&amp;-1&lt;S.inArray(o,r))i&amp;&amp;i.push(o);else if(l=ie(o),a=ve(f.appendChild(o),"script"),l&amp;&amp;ye(a),n)for(c=0;o=a[c++];)he.test(o.type||"")&amp;&amp;n.push(o);return f}var be=/^key/,we=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Te=/^([^.]*)(?:\.(.+)|)/;function Ce(){return!0}function Ee(){return!1}function Se(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function ke(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&amp;&amp;(r=r||n,n=void 0),t)ke(e,s,n,r,t[s],o);return e}if(null==r&amp;&amp;null==i?(i=n,r=n=void 0):null==i&amp;&amp;("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Ee;else if(!i)return e;return 1===o&amp;&amp;(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Ae(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&amp;e.isTrigger&amp;&amp;this[i]){if(r.length)(S.event.special[i]||{}).delegateType&amp;&amp;e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else r.length&amp;&amp;(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&amp;&amp;S.event.add(e,i,Ce)}S.event={global:{},add:function(t,e,n,r,i){var o,a,u,l,c,f,d,h,p,v=Y.get(t);if(V(t))for(n.handler&amp;&amp;(n=(o=n).handler,i=o.selector),i&amp;&amp;S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return void 0!==S&amp;&amp;S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;l--;)d=p=(c=Te.exec(e[l])||[])[1],h=(c[2]||"").split(".").sort(),d&amp;&amp;(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:p,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&amp;&amp;S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&amp;&amp;!1!==f.setup.call(t,r,h,a)||t.addEventListener&amp;&amp;t.addEventListener(d,a)),f.add&amp;&amp;(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&amp;&amp;Y.get(e);if(v&amp;&amp;(u=v.events)){for(l=(t=(t||"").match(P)||[""]).length;l--;)if(d=g=(s=Te.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){for(f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&amp;&amp;new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&amp;&amp;g!==c.origType||n&amp;&amp;n.guid!==c.guid||s&amp;&amp;!s.test(c.namespace)||r&amp;&amp;r!==c.selector&amp;&amp;("**"!==r||!c.selector)||(p.splice(o,1),c.selector&amp;&amp;p.delegateCount--,f.remove&amp;&amp;f.remove.call(e,c));a&amp;&amp;!p.length&amp;&amp;(f.teardown&amp;&amp;!1!==f.teardown.call(e,h,v.handle)||S.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&amp;&amp;Y.remove(e,"handle events")}},dispatch:function(c){var t,n,i,r,a,s=new Array(arguments.length),u=S.event.fix(c),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t&lt;arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){for(a=S.event.handlers.call(this,u,l),t=0;(i=a[t++])&amp;&amp;!u.isPropagationStopped();)for(u.currentTarget=i.elem,n=0;(r=i.handlers[n++])&amp;&amp;!u.isImmediatePropagationStopped();)u.rnamespace&amp;&amp;!1!==r.namespace&amp;&amp;!u.rnamespace.test(r.namespace)||(u.handleObj=r,u.data=r.data,void 0!==(r=((S.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s))&amp;&amp;!1===(u.result=r)&amp;&amp;(u.preventDefault(),u.stopPropagation()));return c.postDispatch&amp;&amp;c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&amp;&amp;l.nodeType&amp;&amp;!("click"===e.type&amp;&amp;1&lt;=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&amp;&amp;("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n&lt;u;n++)void 0===a[i=(r=t[n]).selector+" "]&amp;&amp;(a[i]=r.needsContext?-1&lt;S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&amp;&amp;o.push(r);o.length&amp;&amp;s.push({elem:l,handlers:o})}return l=this,u&lt;t.length&amp;&amp;s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(t){t=this||t;return pe.test(t.type)&amp;&amp;t.click&amp;&amp;A(t,"input")&amp;&amp;Ae(t,"click",Ce),!1},trigger:function(t){t=this||t;return pe.test(t.type)&amp;&amp;t.click&amp;&amp;A(t,"input")&amp;&amp;Ae(t,"click"),!0},_default:function(t){t=t.target;return pe.test(t.type)&amp;&amp;t.click&amp;&amp;A(t,"input")&amp;&amp;Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&amp;&amp;e.originalEvent&amp;&amp;(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&amp;&amp;e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&amp;&amp;e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&amp;&amp;!1===e.returnValue?Ce:Ee,this.target=e.target&amp;&amp;3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&amp;&amp;S.extend(this,t),this.timeStamp=e&amp;&amp;e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Ee,isPropagationStopped:Ee,isImmediatePropagationStopped:Ee,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ce,e&amp;&amp;!this.isSimulated&amp;&amp;e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ce,e&amp;&amp;!this.isSimulated&amp;&amp;e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ce,e&amp;&amp;!this.isSimulated&amp;&amp;e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&amp;&amp;be.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&amp;&amp;void 0!==t&amp;&amp;we.test(e.type)?1&amp;t?1:2&amp;t?3:4&amp;t?2:0:e.which}},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return Ae(this,e,Se),!1},trigger:function(){return Ae(this,e),!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&amp;&amp;(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return ke(this,e,t,n,r)},one:function(e,t,n,r){return ke(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&amp;&amp;e.preventDefault&amp;&amp;e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=typeof e)return!1!==t&amp;&amp;"function"!=typeof t||(n=t,t=void 0),!1===n&amp;&amp;(n=Ee),this.each(function(){S.event.remove(this,e,n,t)});for(i in e)this.off(i,t,e[i]);return this}});var Ne=/&lt;script|&lt;style|&lt;link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^\s*&lt;!(?:\[CDATA\[|--)|(?:\]\]|--)&gt;\s*$/g;function qe(e,t){return A(e,"table")&amp;&amp;A(11!==t.nodeType?t:t.firstChild,"tr")&amp;&amp;S(e).children("tbody")[0]||e}function Le(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function He(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Oe(a,t){var n,r,i,s;if(1===t.nodeType){if(Y.hasData(a)&amp;&amp;(s=Y.get(a).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n&lt;r;n++)S.event.add(t,i,s[i][n]);Q.hasData(a)&amp;&amp;(a=Q.access(a),a=S.extend({},a),Q.set(t,a))}}function Pe(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1&lt;f&amp;&amp;"string"==typeof d&amp;&amp;!y.checkClone&amp;&amp;De.test(d))return n.each(function(e){var t=n.eq(e);h&amp;&amp;(r[0]=d.call(this,e,t.html())),Pe(t,r,i,o)});if(f&amp;&amp;(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&amp;&amp;(e=t),t||o)){for(s=(a=S.map(ve(e,"script"),Le)).length;c&lt;f;c++)u=e,c!==p&amp;&amp;(u=S.clone(u,!0,!0),s&amp;&amp;S.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,He),c=0;c&lt;s;c++)u=a[c],he.test(u.type||"")&amp;&amp;!Y.access(u,"globalEval")&amp;&amp;S.contains(l,u)&amp;&amp;(u.src&amp;&amp;"module"!==(u.type||"").toLowerCase()?S._evalUrl&amp;&amp;!u.noModule&amp;&amp;S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(je,""),u,l))}return n}function Re(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ve(r)),r.parentNode&amp;&amp;(n&amp;&amp;ie(r)&amp;&amp;ye(ve(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(y.noCloneChecked||1!==e.nodeType&amp;&amp;11!==e.nodeType||S.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r&lt;i;r++)s=o[r],"input"===(l=(u=a[r]).nodeName.toLowerCase())&amp;&amp;pe.test(s.type)?u.checked=s.checked:"input"!==l&amp;&amp;"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r&lt;i;r++)Oe(o[r],a[r]);else Oe(e,c);return 0&lt;(a=ve(c,"script")).length&amp;&amp;ye(a,!f&amp;&amp;ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&amp;&amp;(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Re(this,e,!0)},remove:function(e){return Re(this,e)},text:function(e){return $(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&amp;&amp;11!==this.nodeType&amp;&amp;9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Pe(this,arguments,function(e){1!==this.nodeType&amp;&amp;11!==this.nodeType&amp;&amp;9!==this.nodeType||qe(this,e).appendChild(e)})},prepend:function(){return Pe(this,arguments,function(e){var t;1!==this.nodeType&amp;&amp;11!==this.nodeType&amp;&amp;9!==this.nodeType||(t=qe(this,e)).insertBefore(e,t.firstChild)})},before:function(){return Pe(this,arguments,function(e){this.parentNode&amp;&amp;this.parentNode.insertBefore(e,this)})},after:function(){return Pe(this,arguments,function(e){this.parentNode&amp;&amp;this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&amp;&amp;(S.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&amp;&amp;e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&amp;&amp;1===t.nodeType)return t.innerHTML;if("string"==typeof e&amp;&amp;!Ne.test(e)&amp;&amp;!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n&lt;r;n++)1===(t=this[n]||{}).nodeType&amp;&amp;(S.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&amp;&amp;this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Pe(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)&lt;0&amp;&amp;(S.cleanData(ve(this)),t&amp;&amp;t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o&lt;=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});function We(e,t,r){var i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=r.call(e),t)e.style[i]=o[i];return r}var Me=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),Ie=function(e){var t=e.ownerDocument.defaultView;return t&amp;&amp;t.opener||(t=C),t.getComputedStyle(e)},Fe=new RegExp(ne.join("|"),"i");function Be(i,o,n){var r,a,s=i.style;return(n=n||Ie(i))&amp;&amp;(""!==(a=n.getPropertyValue(o)||n[o])||ie(i)||(a=S.style(i,o)),!y.pixelBoxStyles()&amp;&amp;Me.test(a)&amp;&amp;Fe.test(o)&amp;&amp;(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function $e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){var e;l&amp;&amp;(u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l),e=C.getComputedStyle(l),n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null)}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&amp;&amp;(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,n,r;return null==a&amp;&amp;(e=E.createElement("table"),r=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px",r.style.height="1px",n.style.height="9px",re.appendChild(e).appendChild(r).appendChild(n),r=C.getComputedStyle(r),a=3&lt;parseInt(r.height),re.removeChild(e)),a}}))}();var _e=["Webkit","Moz","ms"],ze=E.createElement("div").style,Ue={};function Xe(e){return S.cssProps[e]||Ue[e]||(e in ze?e:Ue[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=_e.length;n--;)if((e=_e[n]+t)in ze)return e}(e)||e)}var Ve=/^(none|table(?!-c[ea]).+)/,Ge=/^--/,Ye={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:"0",fontWeight:"400"};function Je(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ke(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a&lt;4;a+=2)"margin"===n&amp;&amp;(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&amp;&amp;(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&amp;&amp;(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i));return!r&amp;&amp;0&lt;=o&amp;&amp;(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Ze(e,t,n){var r=Ie(e),i=(!y.boxSizingReliable()||n)&amp;&amp;"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=Be(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Me.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&amp;&amp;i||!y.reliableTrDimensions()&amp;&amp;A(e,"tr")||"auto"===a||!parseFloat(a)&amp;&amp;"inline"===S.css(e,"display",!1,r))&amp;&amp;e.getClientRects().length&amp;&amp;(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&amp;&amp;(a=e[s])),(a=parseFloat(a)||0)+Ke(e,t,n||(i?"border":"content"),o,r,a)+"px"}function et(e,t,n,r,i){return new et.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(n,t){if(t){n=Be(n,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&amp;&amp;3!==e.nodeType&amp;&amp;8!==e.nodeType&amp;&amp;e.style){var i,o,a,s=X(t),u=Ge.test(t),l=e.style;if(u||(t=Xe(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&amp;&amp;"get"in a&amp;&amp;void 0!==(i=a.get(e,!1,r))?i:l[t];"string"==(o=typeof n)&amp;&amp;(i=te.exec(n))&amp;&amp;i[1]&amp;&amp;(n=se(e,t,i),o="number"),null!=n&amp;&amp;n==n&amp;&amp;("number"!==o||u||(n+=i&amp;&amp;i[3]||(S.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&amp;&amp;"set"in a&amp;&amp;void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,o,n,r){var i,a=X(o);return Ge.test(o)||(o=Xe(a)),(a=S.cssHooks[o]||S.cssHooks[a])&amp;&amp;"get"in a&amp;&amp;(i=a.get(e,!0,n)),void 0===i&amp;&amp;(i=Be(e,o,r)),"normal"===i&amp;&amp;o in Qe&amp;&amp;(i=Qe[o]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ve.test(S.css(e,"display"))||e.getClientRects().length&amp;&amp;e.getBoundingClientRect().width?Ze(e,u,n):We(e,Ye,function(){return Ze(e,u,n)})},set:function(e,t,s){var r,i=Ie(e),o=!y.scrollboxSize()&amp;&amp;"absolute"===i.position,a=(o||s)&amp;&amp;"border-box"===S.css(e,"boxSizing",!1,i),s=s?Ke(e,u,s,a,i):0;return a&amp;&amp;o&amp;&amp;(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Ke(e,u,"border",!1,i)-.5)),s&amp;&amp;(r=te.exec(t))&amp;&amp;"px"!==(r[3]||"px")&amp;&amp;(e.style[u]=t,t=S.css(e,u)),Je(0,t,s)}}}),S.cssHooks.marginLeft=$e(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Be(e,"marginLeft"))||e.getBoundingClientRect().left-We(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t&lt;4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&amp;&amp;(S.cssHooks[i+o].set=Je)}),S.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Ie(e),i=t.length;a&lt;i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1&lt;arguments.length)}}),((S.Tween=et).prototype={constructor:et,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return(e&amp;&amp;e.get?e:et.propHooks._default).get(this)},run:function(e){var t,n=et.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&amp;&amp;this.options.step.call(this.elem,this.now,this),(n&amp;&amp;n.set?n:et.propHooks._default).set(this),this}}).init.prototype=et.prototype,(et.propHooks={_default:{get:function(t){return 1!==t.elem.nodeType||null!=t.elem[t.prop]&amp;&amp;null==t.elem.style[t.prop]?t.elem[t.prop]:(t=S.css(t.elem,t.prop,""))&amp;&amp;"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&amp;&amp;null==e.elem.style[Xe(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&amp;&amp;e.elem.parentNode&amp;&amp;(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=et.prototype.init,S.fx.step={};var tt,nt,ot=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function st(){nt&amp;&amp;(!1===E.hidden&amp;&amp;C.requestAnimationFrame?C.requestAnimationFrame(st):C.setTimeout(st,S.fx.interval),S.fx.tick())}function ut(){return C.setTimeout(function(){tt=void 0}),tt=Date.now()}function lt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r&lt;4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&amp;&amp;(i.opacity=i.width=e),i}function ct(e,t,n){for(var r,i=(ft.tweeners[t]||[]).concat(ft.tweeners["*"]),o=0,a=i.length;o&lt;a;o++)if(r=i[o].call(n,t,e))return r}function ft(o,e,t){var n,a,r=0,i=ft.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var t=tt||ut(),t=Math.max(0,l.startTime+l.duration-t),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r&lt;i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n&lt;1&amp;&amp;i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:tt||ut(),duration:t.duration,tweens:[],createTween:function(n,t){n=S.Tween(o,l.opts,n,t,l.opts.specialEasing[n]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t&lt;n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&amp;&amp;(i=o[1],o=e[n]=o[0]),n!==r&amp;&amp;(e[r]=o,delete e[n]),(a=S.cssHooks[r])&amp;&amp;"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r&lt;i;r++)if(n=ft.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&amp;&amp;(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ct,l),m(l.opts.start)&amp;&amp;l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(ft,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){for(var n,r=0,i=(e=m(e)?(t=e,["*"]):e.match(P)).length;r&lt;i;r++)n=e[r],ft.tweeners[n]=ft.tweeners[n]||[],ft.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&amp;&amp;ae(e),v=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&amp;&amp;(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],ot.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&amp;&amp;v[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in c&amp;&amp;1===e.nodeType&amp;&amp;(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&amp;&amp;v.display)&amp;&amp;(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&amp;&amp;(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&amp;&amp;null!=l)&amp;&amp;"none"===S.css(e,"float")&amp;&amp;(u||(p.done(function(){h.display=l}),null==l&amp;&amp;(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&amp;&amp;(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&amp;&amp;(g=v.hidden):v=Y.access(e,"fxshow",{display:l}),o&amp;&amp;(v.hidden=!g),g&amp;&amp;le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=ct(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&amp;&amp;(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?ft.prefilters.unshift(e):ft.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&amp;&amp;"object"==typeof e?S.extend({},e):{complete:n||!n&amp;&amp;t||m(e)&amp;&amp;e,duration:e,easing:n&amp;&amp;t||t&amp;&amp;!m(t)&amp;&amp;t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&amp;&amp;(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&amp;&amp;!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&amp;&amp;r.old.call(this),r.queue&amp;&amp;S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,a){var i=S.isEmptyObject(t),o=S.speed(e,n,a),a=function(){var e=ft(this,S.extend({},t),o);(i||Y.get(this,"finish"))&amp;&amp;e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){function a(e){var t=e.stop;delete e.stop,t(o)}return"string"!=typeof i&amp;&amp;(o=e,e=i,i=void 0),e&amp;&amp;this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&amp;&amp;i+"queueHooks",n=S.timers,r=Y.get(this);if(t)r[t]&amp;&amp;r[t].stop&amp;&amp;a(r[t]);else for(t in r)r[t]&amp;&amp;r[t].stop&amp;&amp;at.test(t)&amp;&amp;a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&amp;&amp;n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&amp;&amp;o||S.dequeue(this,i)})},finish:function(a){return!1!==a&amp;&amp;(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&amp;&amp;r.stop&amp;&amp;r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&amp;&amp;i[e].queue===a&amp;&amp;(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e&lt;o;e++)n[e]&amp;&amp;n[e].finish&amp;&amp;n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(lt(r,!0),e,t,n)}}),S.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(tt=Date.now();t&lt;n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),tt=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){nt||(nt=!0,st())},S.fx.stop=function(){nt=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&amp;&amp;S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},Ut=E.createElement("input"),it=E.createElement("select").appendChild(E.createElement("option")),Ut.type="checkbox",y.checkOn=""!==Ut.value,y.optSelected=it.selected,(Ut=E.createElement("input")).value="t",Ut.type="radio",y.radioValue="t"===Ut.value;var pt,dt=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return $(this,S.attr,e,t,1&lt;arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&amp;&amp;8!==o&amp;&amp;2!==o)return void 0===e.getAttribute?S.prop(e,t,n):(1===o&amp;&amp;S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?pt:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&amp;&amp;"set"in i&amp;&amp;void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):!(i&amp;&amp;"get"in i&amp;&amp;null!==(r=i.get(e,t)))&amp;&amp;null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&amp;&amp;"radio"===t&amp;&amp;A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&amp;&amp;(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&amp;&amp;t.match(P);if(i&amp;&amp;1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),pt={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=dt[t]||S.find.attr;dt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=dt[o],dt[o]=r,r=null!=a(e,t,n)?o:null,dt[o]=i),r}});var ht=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function vt(e){return(e.match(P)||[]).join(" ")}function yt(e){return e.getAttribute&amp;&amp;e.getAttribute("class")||""}function mt(e){return Array.isArray(e)?e:"string"==typeof e&amp;&amp;e.match(P)||[]}S.fn.extend({prop:function(e,t){return $(this,S.prop,e,t,1&lt;arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&amp;&amp;8!==o&amp;&amp;2!==o)return 1===o&amp;&amp;S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&amp;&amp;"set"in i&amp;&amp;void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&amp;&amp;"get"in i&amp;&amp;null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||gt.test(e.nodeName)&amp;&amp;e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(S.propHooks.selected={get:function(t){t=t.parentNode;return t&amp;&amp;t.parentNode&amp;&amp;t.parentNode.selectedIndex,null},set:function(t){t=t.parentNode;t&amp;&amp;(t.selectedIndex,t.parentNode&amp;&amp;t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).addClass(t.call(this,e,yt(this)))});if((e=mt(t)).length)for(;n=this[u++];)if(s=yt(n),r=1===n.nodeType&amp;&amp;" "+vt(s)+" "){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")&lt;0&amp;&amp;(r+=o+" ");s!==(s=vt(r))&amp;&amp;n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).removeClass(t.call(this,e,yt(this)))});if(!arguments.length)return this.attr("class","");if((e=mt(t)).length)for(;n=this[u++];)if(s=yt(n),r=1===n.nodeType&amp;&amp;" "+vt(s)+" "){for(a=0;o=e[a++];)for(;-1&lt;r.indexOf(" "+o+" ");)r=r.replace(" "+o+" "," ");s!==(s=vt(r))&amp;&amp;n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"==o||Array.isArray(i);return"boolean"==typeof t&amp;&amp;a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){S(this).toggleClass(i.call(this,e,yt(this),t),t)}):this.each(function(){var e,t,n,r;if(a)for(t=0,n=S(this),r=mt(i);e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==i&amp;&amp;"boolean"!=o||((e=yt(this))&amp;&amp;Y.set(this,"__className__",e),this.setAttribute&amp;&amp;this.setAttribute("class",!e&amp;&amp;!1!==i&amp;&amp;Y.get(this,"__className__")||""))})},hasClass:function(e){for(var n,r=0,t=" "+e+" ";n=this[r++];)if(1===n.nodeType&amp;&amp;-1&lt;(" "+vt(yt(n))+" ").indexOf(t))return!0;return!1}});var xt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(t){1===this.nodeType&amp;&amp;(null==(t=i?n.call(this,t,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&amp;&amp;(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&amp;&amp;"set"in r&amp;&amp;void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&amp;&amp;"get"in r&amp;&amp;void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(xt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:vt(S.text(e))}},select:{get:function(e){for(var t,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length,r=o&lt;0?u:a?o:0;r&lt;u;r++)if(((t=i[r]).selected||r===o)&amp;&amp;!t.disabled&amp;&amp;(!t.parentNode.disabled||!A(t.parentNode,"optgroup"))){if(t=S(t).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=S.makeArray(t),a=i.length;a--;)((r=i[a]).selected=-1&lt;S.inArray(S.valHooks.option.get(r),o))&amp;&amp;(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1&lt;S.inArray(S(e).val(),t)}},y.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;function wt(e){e.stopPropagation()}var bt=/^(?:focusinfocus|focusoutblur)$/;S.extend(S.event,{trigger:function(e,t,n,r){var i,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[],o=f=a=n=n||E;if(3!==n.nodeType&amp;&amp;8!==n.nodeType&amp;&amp;!bt.test(d+S.event.triggered)&amp;&amp;(-1&lt;d.indexOf(".")&amp;&amp;(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")&lt;0&amp;&amp;"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&amp;&amp;e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&amp;&amp;!c.noBubble&amp;&amp;!x(n)){for(s=c.delegateType||d,bt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&amp;&amp;p.push(a.defaultView||a.parentWindow||C)}for(i=0;(o=p[i++])&amp;&amp;!e.isPropagationStopped();)f=o,e.type=1&lt;i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&amp;&amp;Y.get(o,"handle"))&amp;&amp;l.apply(o,t),(l=u&amp;&amp;o[u])&amp;&amp;l.apply&amp;&amp;V(o)&amp;&amp;(e.result=l.apply(o,t),!1===e.result&amp;&amp;e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&amp;&amp;!1!==c._default.apply(p.pop(),t)||!V(n)||u&amp;&amp;m(n[d])&amp;&amp;!x(n)&amp;&amp;((a=n[u])&amp;&amp;(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&amp;&amp;f.addEventListener(d,wt),n[d](),e.isPropagationStopped()&amp;&amp;f.removeEventListener(d,wt),S.event.triggered=void 0,a&amp;&amp;(n[u]=a)),e.result}},simulate:function(r,t,n){r=S.extend(new S.Event,n,{type:r,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){function i(e){S.event.simulate(r,e.target,S.event.fix(e))}S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var Tt=C.location,Ct={guid:Date.now()},Et=/\?/;S.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&amp;&amp;!t.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+e),t};var St=/\[\]$/,kt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;S.param=function(e,t){function i(e,n){n=m(n)?n():n,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)}var n,r=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&amp;&amp;!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)!function Dt(n,e,r,i){if(Array.isArray(e))S.each(e,function(e,t){r||St.test(n)?i(n,t):Dt(n+"["+("object"==typeof t&amp;&amp;null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(var t in e)Dt(n+"["+t+"]",e[t],r,i)}(n,e[n],t,i);return r.join("&amp;")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&amp;&amp;!S(this).is(":disabled")&amp;&amp;Nt.test(this.nodeName)&amp;&amp;!At.test(e)&amp;&amp;(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}});var jt=/%20/g,qt=/#.*$/,Lt=/([?&amp;])_=[^&amp;]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ot=/^(?:GET|HEAD)$/,Pt=/^\/\//,Rt={},Mt={},It="*/".concat("*"),Wt=E.createElement("a");function Ft(o){return function(e,t){"string"!=typeof e&amp;&amp;(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))for(;n=i[r++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Bt(t,i,o,a){var s={},u=t===Mt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,n){n=n(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&amp;&amp;l("*")}function $t(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&amp;&amp;((i[n]?e:r=r||{})[n]=t[n]);return r&amp;&amp;S.extend(!0,e,r),e}Wt.href=Tt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?$t($t(e,S.ajaxSettings),t):$t(S.ajaxSettings,e)},ajaxPrefilter:Ft(Rt),ajaxTransport:Ft(Mt),ajax:function(e,t){"object"==typeof e&amp;&amp;(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=S.ajaxSetup({},t),y=v.context||v,m=v.context&amp;&amp;(y.nodeType||y.jquery)?S(y):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n)for(n={};t=Ht.exec(p);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&amp;&amp;(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&amp;&amp;(v.mimeType=e),this},statusCode:function(e){if(e)if(h)T.always(e[T.status]);else for(var t in e)w[t]=[w[t],e[t]];return this},abort:function(t){t=t||u;return c&amp;&amp;c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||Tt.href)+"").replace(Pt,Tt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(P)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Wt.protocol+"//"+Wt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&amp;&amp;v.processData&amp;&amp;"string"!=typeof v.data&amp;&amp;(v.data=S.param(v.data,v.traditional)),Bt(Rt,v,t,T),h)return T;for(i in(g=S.event&amp;&amp;v.global)&amp;&amp;0==S.active++&amp;&amp;S.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Ot.test(v.type),f=v.url.replace(qt,""),v.hasContent?v.data&amp;&amp;v.processData&amp;&amp;0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&amp;&amp;(v.data=v.data.replace(jt,"+")):(o=v.url.slice(f.length),v.data&amp;&amp;(v.processData||"string"==typeof v.data)&amp;&amp;(f+=(Et.test(f)?"&amp;":"?")+v.data,delete v.data),!1===v.cache&amp;&amp;(f=f.replace(Lt,"$1"),o=(Et.test(f)?"&amp;":"?")+"_="+Ct.guid+++o),v.url=f+o),v.ifModified&amp;&amp;(S.lastModified[f]&amp;&amp;T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&amp;&amp;T.setRequestHeader("If-None-Match",S.etag[f])),(v.data&amp;&amp;v.hasContent&amp;&amp;!1!==v.contentType||t.contentType)&amp;&amp;T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&amp;&amp;v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+It+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&amp;&amp;(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Bt(Mt,v,t,T)){if(T.readyState=1,g&amp;&amp;m.trigger("ajaxSend",[T,v]),h)return T;v.async&amp;&amp;0&lt;v.timeout&amp;&amp;(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,u,i){var o,a,s,l=t;h||(h=!0,d&amp;&amp;C.clearTimeout(d),c=void 0,p=i||"",T.readyState=0&lt;e?4:0,i=200&lt;=e&amp;&amp;e&lt;300||304===e,u&amp;&amp;(s=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&amp;&amp;(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&amp;&amp;s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a=a||i}o=o||a}if(o)return o!==u[0]&amp;&amp;u.unshift(o),n[o]}(v,T,u)),!i&amp;&amp;-1&lt;S.inArray("script",v.dataTypes)&amp;&amp;(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&amp;&amp;(n[e.responseFields[o]]=t),!u&amp;&amp;r&amp;&amp;e.dataFilter&amp;&amp;(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&amp;&amp;u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&amp;&amp;(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&amp;&amp;(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&amp;&amp;e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&amp;&amp;((u=T.getResponseHeader("Last-Modified"))&amp;&amp;(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&amp;&amp;(S.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&amp;&amp;l||(l="error",e&lt;0&amp;&amp;(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&amp;&amp;m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&amp;&amp;(m.trigger("ajaxComplete",[T,v]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&amp;&amp;(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&amp;&amp;e))}}),S.ajaxPrefilter(function(e){for(var t in e.headers)"content-type"===t.toLowerCase()&amp;&amp;(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(t){return this[0]&amp;&amp;(m(t)&amp;&amp;(t=t.call(this[0])),t=S(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&amp;&amp;t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var _t={0:200,1223:204},zt=S.ajaxSettings.xhr();y.cors=!!zt&amp;&amp;"withCredentials"in zt,y.ajax=zt=!!zt,S.ajaxTransport(function(i){var o,a;if(y.cors||zt&amp;&amp;!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&amp;&amp;r.overrideMimeType&amp;&amp;r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&amp;&amp;(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(_t[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&amp;&amp;C.setTimeout(function(){o&amp;&amp;a()})},o=o("abort");try{r.send(i.hasContent&amp;&amp;i.data||null)}catch(e){if(o)throw e}},abort:function(){o&amp;&amp;o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&amp;&amp;(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&amp;&amp;(e.cache=!1),e.crossDomain&amp;&amp;(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("&lt;script&gt;").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&amp;&amp;t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&amp;&amp;i()}}});var Xt=[],Vt=/(=)\?(?=&amp;|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||S.expando+"_"+Ct.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&amp;&amp;(Vt.test(e.url)?"url":"string"==typeof e.data&amp;&amp;0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&amp;&amp;Vt.test(e.data)&amp;&amp;"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Vt,"$1"+r):!1!==e.jsonp&amp;&amp;(e.url+=(Et.test(e.url)?"&amp;":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&amp;&amp;(e.jsonpCallback=t.jsonpCallback,Xt.push(r)),o&amp;&amp;m(i)&amp;&amp;i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((Ut=E.implementation.createHTMLDocument("").body).innerHTML="&lt;form&gt;&lt;/form&gt;&lt;form&gt;&lt;/form&gt;",2===Ut.childNodes.length),S.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&amp;&amp;(i=t,t=!1),t||(y.createHTMLDocument?((o=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(o)):t=E),o=!i&amp;&amp;[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&amp;&amp;o.length&amp;&amp;S(o).remove(),S.merge([],i.childNodes)));var o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1&lt;s&amp;&amp;(r=vt(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&amp;&amp;"object"==typeof t&amp;&amp;(i="POST"),0&lt;a.length&amp;&amp;S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("&lt;div&gt;").append(S.parseHTML(e)).find(r):e)}).always(n&amp;&amp;function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var o,a,s,i,r=S.css(e,"position"),c=S(e),f={};"static"===r&amp;&amp;(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),i=S.css(e,"left"),i=("absolute"===r||"fixed"===r)&amp;&amp;-1&lt;(o+i).indexOf("auto")?(a=(r=c.position()).top,r.left):(a=parseFloat(o)||0,parseFloat(i)||0),m(t)&amp;&amp;(t=t.call(e,n,S.extend({},s))),null!=t.top&amp;&amp;(f.top=t.top-s.top+a),null!=t.left&amp;&amp;(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):("number"==typeof f.top&amp;&amp;(f.top+="px"),"number"==typeof f.left&amp;&amp;(f.left+="px"),c.css(f))}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&amp;&amp;(e===n.body||e===n.documentElement)&amp;&amp;"static"===S.css(e,"position");)e=e.parentNode;e&amp;&amp;e!==r&amp;&amp;1===e.nodeType&amp;&amp;((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&amp;&amp;"static"===S.css(e,"position");)e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return $(this,function(e,t,n){var r;return x(e)?r=e:9===e.nodeType&amp;&amp;(r=e.defaultView),void 0===n?r?r[i]:e[t]:void(r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n)},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=$e(y.pixelPosition,function(e,t){if(t)return t=Be(e,n),Me.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&amp;&amp;(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return $(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0&lt;arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Gt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var r,i;if("string"==typeof t&amp;&amp;(i=e[t],t=e,e=i),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&amp;&amp;!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Gt,"")},"function"==typeof define&amp;&amp;define.amd&amp;&amp;define("jquery",[],function(){return S});var Yt=C.jQuery,Qt=C.$;return S.noConflict=function(e){return C.$===S&amp;&amp;(C.$=Qt),e&amp;&amp;C.jQuery===S&amp;&amp;(C.jQuery=Yt),S},void 0===e&amp;&amp;(C.jQuery=C.$=S),S}),function(factory){"use strict";"function"==typeof define&amp;&amp;define.amd?define(["jquery"],factory):factory(jQuery)}(function($){"use strict";$.ui=$.ui||{};var datepicker_instActive;$.ui.version="1.13.2",$.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};function Datepicker(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",selectMonthLabel:"Select month",selectYearLabel:"Select year"},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,onUpdateDatepicker:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.regional.en=$.extend(!0,{},this.regional[""]),this.regional["en-US"]=$.extend(!0,{},this.regional.en),this.dpDiv=datepicker_bindHover($("&lt;div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'&gt;&lt;/div&gt;"))}function datepicker_bindHover(dpDiv){var selector="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return dpDiv.on("mouseout",selector,function(){$(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&amp;&amp;$(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&amp;&amp;$(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",selector,datepicker_handleMouseover)}function datepicker_handleMouseover(){$.datepicker._isDisabledDatepicker((datepicker_instActive.inline?datepicker_instActive.dpDiv.parent():datepicker_instActive.input)[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&amp;&amp;$(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&amp;&amp;$(this).addClass("ui-datepicker-next-hover"))}function datepicker_extendRemove(target,props){for(var name in $.extend(target,props),props)null==props[name]&amp;&amp;(target[name]=props[name]);return target}$.extend($.ui,{datepicker:{version:"1.13.2"}}),$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(settings){return datepicker_extendRemove(this._defaults,settings||{}),this},_attachDatepicker:function(target,settings){var inst,nodeName=target.nodeName.toLowerCase(),inline="div"===nodeName||"span"===nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid),(inst=this._newInst($(target),inline)).settings=$.extend({},settings||{}),"input"===nodeName?this._connectDatepicker(target,inst):inline&amp;&amp;this._inlineDatepicker(target,inst)},_newInst:function(target,inline){return{id:target[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:inline?datepicker_bindHover($("&lt;div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'&gt;&lt;/div&gt;")):this.dpDiv}},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]),inst.trigger=$([]),input.hasClass(this.markerClassName)||(this._attachments(input,inst),input.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(inst),$.data(target,"datepicker",inst),inst.settings.disabled&amp;&amp;this._disableDatepicker(target))},_attachments:function(input,inst){var buttonImage,buttonText=this._get(inst,"appendText"),isRTL=this._get(inst,"isRTL");inst.append&amp;&amp;inst.append.remove(),buttonText&amp;&amp;(inst.append=$("&lt;span&gt;").addClass(this._appendClass).text(buttonText),input[isRTL?"before":"after"](inst.append)),input.off("focus",this._showDatepicker),inst.trigger&amp;&amp;inst.trigger.remove(),"focus"!==(buttonImage=this._get(inst,"showOn"))&amp;&amp;"both"!==buttonImage||input.on("focus",this._showDatepicker),"button"!==buttonImage&amp;&amp;"both"!==buttonImage||(buttonText=this._get(inst,"buttonText"),buttonImage=this._get(inst,"buttonImage"),this._get(inst,"buttonImageOnly")?inst.trigger=$("&lt;img&gt;").addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):(inst.trigger=$("&lt;button type='button'&gt;").addClass(this._triggerClass),buttonImage?inst.trigger.html($("&lt;img&gt;").attr({src:buttonImage,alt:buttonText,title:buttonText})):inst.trigger.text(buttonText)),input[isRTL?"before":"after"](inst.trigger),inst.trigger.on("click",function(){return $.datepicker._datepickerShowing&amp;&amp;$.datepicker._lastInput===input[0]?$.datepicker._hideDatepicker():($.datepicker._datepickerShowing&amp;&amp;$.datepicker._lastInput!==input[0]&amp;&amp;$.datepicker._hideDatepicker(),$.datepicker._showDatepicker(input[0])),!1}))},_autoSize:function(inst){var findMax,max,maxI,i,date,dateFormat;this._get(inst,"autoSize")&amp;&amp;!inst.inline&amp;&amp;(date=new Date(2009,11,20),(dateFormat=this._get(inst,"dateFormat")).match(/[DM]/)&amp;&amp;(findMax=function(names){for(i=maxI=max=0;i&lt;names.length;i++)names[i].length&gt;max&amp;&amp;(max=names[i].length,maxI=i);return maxI},date.setMonth(findMax(this._get(inst,dateFormat.match(/MM/)?"monthNames":"monthNamesShort"))),date.setDate(findMax(this._get(inst,dateFormat.match(/DD/)?"dayNames":"dayNamesShort"))+20-date.getDay())),inst.input.attr("size",this._formatDate(inst,date).length))},_inlineDatepicker:function(target,inst){var divSpan=$(target);divSpan.hasClass(this.markerClassName)||(divSpan.addClass(this.markerClassName).append(inst.dpDiv),$.data(target,"datepicker",inst),this._setDate(inst,this._getDefaultDate(inst),!0),this._updateDatepicker(inst),this._updateAlternate(inst),inst.settings.disabled&amp;&amp;this._disableDatepicker(target),inst.dpDiv.css("display","block"))},_dialogDatepicker:function(input,scrollX,onSelect,browserHeight,scrollY){var browserWidth,inst=this._dialogInst;return inst||(this.uuid+=1,browserWidth="dp"+this.uuid,this._dialogInput=$("&lt;input type='text' id='"+browserWidth+"' style='position: absolute; top: -100px; width: 0px;'/&gt;"),this._dialogInput.on("keydown",this._doKeyDown),$("body").append(this._dialogInput),(inst=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},$.data(this._dialogInput[0],"datepicker",inst)),datepicker_extendRemove(inst.settings,browserHeight||{}),scrollX=scrollX&amp;&amp;scrollX.constructor===Date?this._formatDate(inst,scrollX):scrollX,this._dialogInput.val(scrollX),this._pos=scrollY?scrollY.length?scrollY:[scrollY.pageX,scrollY.pageY]:null,this._pos||(browserWidth=document.documentElement.clientWidth,browserHeight=document.documentElement.clientHeight,scrollX=document.documentElement.scrollLeft||document.body.scrollLeft,scrollY=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[browserWidth/2-100+scrollX,browserHeight/2-150+scrollY]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),inst.settings.onSelect=onSelect,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&amp;&amp;$.blockUI(this.dpDiv),$.data(this._dialogInput[0],"datepicker",inst),this},_destroyDatepicker:function(target){var nodeName,$target=$(target),inst=$.data(target,"datepicker");$target.hasClass(this.markerClassName)&amp;&amp;(nodeName=target.nodeName.toLowerCase(),$.removeData(target,"datepicker"),"input"===nodeName?(inst.append.remove(),inst.trigger.remove(),$target.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==nodeName&amp;&amp;"span"!==nodeName||$target.removeClass(this.markerClassName).empty(),datepicker_instActive===inst&amp;&amp;(datepicker_instActive=null,this._curInst=null))},_enableDatepicker:function(target){var nodeName,inline=$(target),inst=$.data(target,"datepicker");inline.hasClass(this.markerClassName)&amp;&amp;("input"===(nodeName=target.nodeName.toLowerCase())?(target.disabled=!1,inst.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==nodeName&amp;&amp;"span"!==nodeName||((inline=inline.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=$.map(this._disabledInputs,function(value){return value===target?null:value}))},_disableDatepicker:function(target){var nodeName,inline=$(target),inst=$.data(target,"datepicker");inline.hasClass(this.markerClassName)&amp;&amp;("input"===(nodeName=target.nodeName.toLowerCase())?(target.disabled=!0,inst.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==nodeName&amp;&amp;"span"!==nodeName||((inline=inline.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=$.map(this._disabledInputs,function(value){return value===target?null:value}),this._disabledInputs[this._disabledInputs.length]=target)},_isDisabledDatepicker:function(target){if(!target)return!1;for(var i=0;i&lt;this._disabledInputs.length;i++)if(this._disabledInputs[i]===target)return!0;return!1},_getInst:function(target){try{return $.data(target,"datepicker")}catch(err){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(target,minDate,maxDate){var settings,date,inst=this._getInst(target);if(2===arguments.length&amp;&amp;"string"==typeof minDate)return"defaults"===minDate?$.extend({},$.datepicker._defaults):inst?"all"===minDate?$.extend({},inst.settings):this._get(inst,minDate):null;settings=minDate||{},"string"==typeof minDate&amp;&amp;((settings={})[minDate]=maxDate),inst&amp;&amp;(this._curInst===inst&amp;&amp;this._hideDatepicker(),date=this._getDateDatepicker(target,!0),minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),datepicker_extendRemove(inst.settings,settings),null!==minDate&amp;&amp;void 0!==settings.dateFormat&amp;&amp;void 0===settings.minDate&amp;&amp;(inst.settings.minDate=this._formatDate(inst,minDate)),null!==maxDate&amp;&amp;void 0!==settings.dateFormat&amp;&amp;void 0===settings.maxDate&amp;&amp;(inst.settings.maxDate=this._formatDate(inst,maxDate)),"disabled"in settings&amp;&amp;(settings.disabled?this._disableDatepicker(target):this._enableDatepicker(target)),this._attachments($(target),inst),this._autoSize(inst),this._setDate(inst,date),this._updateAlternate(inst),this._updateDatepicker(inst))},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value)},_refreshDatepicker:function(inst){inst=this._getInst(inst);inst&amp;&amp;this._updateDatepicker(inst)},_setDateDatepicker:function(inst,date){inst=this._getInst(inst);inst&amp;&amp;(this._setDate(inst,date),this._updateDatepicker(inst),this._updateAlternate(inst))},_getDateDatepicker:function(inst,noDefault){inst=this._getInst(inst);return inst&amp;&amp;!inst.inline&amp;&amp;this._setDateFromField(inst,noDefault),inst?this._getDate(inst):null},_doKeyDown:function(event){var onSelect,dateStr,inst=$.datepicker._getInst(event.target),handled=!0,isRTL=inst.dpDiv.is(".ui-datepicker-rtl");if(inst._keyEvent=!0,$.datepicker._datepickerShowing)switch(event.keyCode){case 9:$.datepicker._hideDatepicker(),handled=!1;break;case 13:return(dateStr=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",inst.dpDiv))[0]&amp;&amp;$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,dateStr[0]),(onSelect=$.datepicker._get(inst,"onSelect"))?(dateStr=$.datepicker._formatDate(inst),onSelect.apply(inst.input?inst.input[0]:null,[dateStr,inst])):$.datepicker._hideDatepicker(),!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(event.target,event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(event.target,event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths"),"M");break;case 35:(event.ctrlKey||event.metaKey)&amp;&amp;$.datepicker._clearDate(event.target),handled=event.ctrlKey||event.metaKey;break;case 36:(event.ctrlKey||event.metaKey)&amp;&amp;$.datepicker._gotoToday(event.target),handled=event.ctrlKey||event.metaKey;break;case 37:(event.ctrlKey||event.metaKey)&amp;&amp;$.datepicker._adjustDate(event.target,isRTL?1:-1,"D"),handled=event.ctrlKey||event.metaKey,event.originalEvent.altKey&amp;&amp;$.datepicker._adjustDate(event.target,event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths"),"M");break;case 38:(event.ctrlKey||event.metaKey)&amp;&amp;$.datepicker._adjustDate(event.target,-7,"D"),handled=event.ctrlKey||event.metaKey;break;case 39:(event.ctrlKey||event.metaKey)&amp;&amp;$.datepicker._adjustDate(event.target,isRTL?-1:1,"D"),handled=event.ctrlKey||event.metaKey,event.originalEvent.altKey&amp;&amp;$.datepicker._adjustDate(event.target,event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths"),"M");break;case 40:(event.ctrlKey||event.metaKey)&amp;&amp;$.datepicker._adjustDate(event.target,7,"D"),handled=event.ctrlKey||event.metaKey;break;default:handled=!1}else 36===event.keyCode&amp;&amp;event.ctrlKey?$.datepicker._showDatepicker(this):handled=!1;handled&amp;&amp;(event.preventDefault(),event.stopPropagation())},_doKeyPress:function(event){var chars,chr=$.datepicker._getInst(event.target);if($.datepicker._get(chr,"constrainInput"))return chars=$.datepicker._possibleChars($.datepicker._get(chr,"dateFormat")),chr=String.fromCharCode(null==event.charCode?event.keyCode:event.charCode),event.ctrlKey||event.metaKey||chr&lt;" "||!chars||-1&lt;chars.indexOf(chr)},_doKeyUp:function(event){var inst=$.datepicker._getInst(event.target);if(inst.input.val()!==inst.lastVal)try{$.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),inst.input?inst.input.val():null,$.datepicker._getFormatConfig(inst))&amp;&amp;($.datepicker._setDateFromField(inst),$.datepicker._updateAlternate(inst),$.datepicker._updateDatepicker(inst))}catch(err){}return!0},_showDatepicker:function(input){var isFixed,showAnim,duration,inst;"input"!==(input=input.target||input).nodeName.toLowerCase()&amp;&amp;(input=$("input",input.parentNode)[0]),$.datepicker._isDisabledDatepicker(input)||$.datepicker._lastInput===input||(inst=$.datepicker._getInst(input),$.datepicker._curInst&amp;&amp;$.datepicker._curInst!==inst&amp;&amp;($.datepicker._curInst.dpDiv.stop(!0,!0),inst&amp;&amp;$.datepicker._datepickerShowing&amp;&amp;$.datepicker._hideDatepicker($.datepicker._curInst.input[0])),!1!==(showAnim=(duration=$.datepicker._get(inst,"beforeShow"))?duration.apply(input,[input,inst]):{})&amp;&amp;(datepicker_extendRemove(inst.settings,showAnim),inst.lastVal=null,$.datepicker._lastInput=input,$.datepicker._setDateFromField(inst),$.datepicker._inDialog&amp;&amp;(input.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(input),$.datepicker._pos[1]+=input.offsetHeight),isFixed=!1,$(input).parents().each(function(){return!(isFixed|="fixed"===$(this).css("position"))}),duration={left:$.datepicker._pos[0],top:$.datepicker._pos[1]},$.datepicker._pos=null,inst.dpDiv.empty(),inst.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(inst),duration=$.datepicker._checkOffset(inst,duration,isFixed),inst.dpDiv.css({position:$.datepicker._inDialog&amp;&amp;$.blockUI?"static":isFixed?"fixed":"absolute",display:"none",left:duration.left+"px",top:duration.top+"px"}),inst.inline||(showAnim=$.datepicker._get(inst,"showAnim"),duration=$.datepicker._get(inst,"duration"),inst.dpDiv.css("z-index",function(elem){for(var position,value;elem.length&amp;&amp;elem[0]!==document;){if(position=elem.css("position"),("absolute"===position||"relative"===position||"fixed"===position)&amp;&amp;(value=parseInt(elem.css("zIndex"),10),!isNaN(value)&amp;&amp;0!==value))return value;elem=elem.parent()}return 0}($(input))+1),$.datepicker._datepickerShowing=!0,$.effects&amp;&amp;$.effects.effect[showAnim]?inst.dpDiv.show(showAnim,$.datepicker._get(inst,"showOptions"),duration):inst.dpDiv[showAnim||"show"](showAnim?duration:null),$.datepicker._shouldFocusInput(inst)&amp;&amp;inst.input.trigger("focus"),$.datepicker._curInst=inst)))},_updateDatepicker:function(inst){this.maxRows=4,(datepicker_instActive=inst).dpDiv.empty().append(this._generateHTML(inst)),this._attachHandlers(inst);var origyearshtml,numMonths=this._getNumberOfMonths(inst),cols=numMonths[1],activeCell=inst.dpDiv.find("."+this._dayOverClass+" a"),onUpdateDatepicker=$.datepicker._get(inst,"onUpdateDatepicker");0&lt;activeCell.length&amp;&amp;datepicker_handleMouseover.apply(activeCell.get(0)),inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1&lt;cols&amp;&amp;inst.dpDiv.addClass("ui-datepicker-multi-"+cols).css("width",17*cols+"em"),inst.dpDiv[(1!==numMonths[0]||1!==numMonths[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),inst===$.datepicker._curInst&amp;&amp;$.datepicker._datepickerShowing&amp;&amp;$.datepicker._shouldFocusInput(inst)&amp;&amp;inst.input.trigger("focus"),inst.yearshtml&amp;&amp;(origyearshtml=inst.yearshtml,setTimeout(function(){origyearshtml===inst.yearshtml&amp;&amp;inst.yearshtml&amp;&amp;inst.dpDiv.find("select.ui-datepicker-year").first().replaceWith(inst.yearshtml),origyearshtml=inst.yearshtml=null},0)),onUpdateDatepicker&amp;&amp;onUpdateDatepicker.apply(inst.input?inst.input[0]:null,[inst])},_shouldFocusInput:function(inst){return inst.input&amp;&amp;inst.input.is(":visible")&amp;&amp;!inst.input.is(":disabled")&amp;&amp;!inst.input.is(":focus")},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth(),dpHeight=inst.dpDiv.outerHeight(),inputWidth=inst.input?inst.input.outerWidth():0,inputHeight=inst.input?inst.input.outerHeight():0,viewWidth=document.documentElement.clientWidth+(isFixed?0:$(document).scrollLeft()),viewHeight=document.documentElement.clientHeight+(isFixed?0:$(document).scrollTop());return offset.left-=this._get(inst,"isRTL")?dpWidth-inputWidth:0,offset.left-=isFixed&amp;&amp;offset.left===inst.input.offset().left?$(document).scrollLeft():0,offset.top-=isFixed&amp;&amp;offset.top===inst.input.offset().top+inputHeight?$(document).scrollTop():0,offset.left-=Math.min(offset.left,offset.left+dpWidth&gt;viewWidth&amp;&amp;dpWidth&lt;viewWidth?Math.abs(offset.left+dpWidth-viewWidth):0),offset.top-=Math.min(offset.top,offset.top+dpHeight&gt;viewHeight&amp;&amp;dpHeight&lt;viewHeight?Math.abs(dpHeight+inputHeight):0),offset},_findPos:function(obj){for(var position=this._getInst(obj),isRTL=this._get(position,"isRTL");obj&amp;&amp;("hidden"===obj.type||1!==obj.nodeType||$.expr.pseudos.hidden(obj));)obj=obj[isRTL?"previousSibling":"nextSibling"];return[(position=$(obj).offset()).left,position.top]},_hideDatepicker:function(onClose){var showAnim,duration,inst=this._curInst;!inst||onClose&amp;&amp;inst!==$.data(onClose,"datepicker")||this._datepickerShowing&amp;&amp;(showAnim=this._get(inst,"showAnim"),duration=this._get(inst,"duration"),onClose=function(){$.datepicker._tidyDialog(inst)},$.effects&amp;&amp;($.effects.effect[showAnim]||$.effects[showAnim])?inst.dpDiv.hide(showAnim,$.datepicker._get(inst,"showOptions"),duration,onClose):inst.dpDiv["slideDown"===showAnim?"slideUp":"fadeIn"===showAnim?"fadeOut":"hide"](showAnim?duration:null,onClose),showAnim||onClose(),this._datepickerShowing=!1,(onClose=this._get(inst,"onClose"))&amp;&amp;onClose.apply(inst.input?inst.input[0]:null,[inst.input?inst.input.val():"",inst]),this._lastInput=null,this._inDialog&amp;&amp;(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&amp;&amp;($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(inst){var $target;$.datepicker._curInst&amp;&amp;($target=$(inst.target),inst=$.datepicker._getInst($target[0]),($target[0].id===$.datepicker._mainDivId||0!==$target.parents("#"+$.datepicker._mainDivId).length||$target.hasClass($.datepicker.markerClassName)||$target.closest("."+$.datepicker._triggerClass).length||!$.datepicker._datepickerShowing||$.datepicker._inDialog&amp;&amp;$.blockUI)&amp;&amp;(!$target.hasClass($.datepicker.markerClassName)||$.datepicker._curInst===inst)||$.datepicker._hideDatepicker())},_adjustDate:function(inst,offset,period){var target=$(inst),inst=this._getInst(target[0]);this._isDisabledDatepicker(target[0])||(this._adjustInstDate(inst,offset,period),this._updateDatepicker(inst))},_gotoToday:function(date){var target=$(date),inst=this._getInst(target[0]);this._get(inst,"gotoCurrent")&amp;&amp;inst.currentDay?(inst.selectedDay=inst.currentDay,inst.drawMonth=inst.selectedMonth=inst.currentMonth,inst.drawYear=inst.selectedYear=inst.currentYear):(date=new Date,inst.selectedDay=date.getDate(),inst.drawMonth=inst.selectedMonth=date.getMonth(),inst.drawYear=inst.selectedYear=date.getFullYear()),this._notifyChange(inst),this._adjustDate(target)},_selectMonthYear:function(inst,select,period){var target=$(inst),inst=this._getInst(target[0]);inst["selected"+("M"===period?"Month":"Year")]=inst["draw"+("M"===period?"Month":"Year")]=parseInt(select.options[select.selectedIndex].value,10),this._notifyChange(inst),this._adjustDate(target)},_selectDay:function(id,month,year,td){var inst=$(id);$(td).hasClass(this._unselectableClass)||this._isDisabledDatepicker(inst[0])||((inst=this._getInst(inst[0])).selectedDay=inst.currentDay=parseInt($("a",td).attr("data-date")),inst.selectedMonth=inst.currentMonth=month,inst.selectedYear=inst.currentYear=year,this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear)))},_clearDate:function(target){target=$(target);this._selectDate(target,"")},_selectDate:function(inst,dateStr){var onSelect=$(inst),inst=this._getInst(onSelect[0]);dateStr=null!=dateStr?dateStr:this._formatDate(inst),inst.input&amp;&amp;inst.input.val(dateStr),this._updateAlternate(inst),(onSelect=this._get(inst,"onSelect"))?onSelect.apply(inst.input?inst.input[0]:null,[dateStr,inst]):inst.input&amp;&amp;inst.input.trigger("change"),inst.inline?this._updateDatepicker(inst):(this._hideDatepicker(),this._lastInput=inst.input[0],"object"!=typeof inst.input[0]&amp;&amp;inst.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(dateStr){var altFormat,date,altField=this._get(dateStr,"altField");altField&amp;&amp;(altFormat=this._get(dateStr,"altFormat")||this._get(dateStr,"dateFormat"),date=this._getDate(dateStr),dateStr=this.formatDate(altFormat,date,this._getFormatConfig(dateStr)),$(document).find(altField).val(dateStr))},noWeekends:function(day){day=day.getDay();return[0&lt;day&amp;&amp;day&lt;6,""]},iso8601Week:function(time){var checkDate=new Date(time.getTime());return checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7)),time=checkDate.getTime(),checkDate.setMonth(0),checkDate.setDate(1),Math.floor(Math.round((time-checkDate)/864e5)/7)+1},parseDate:function(format,value,settings){if(null==format||null==value)throw"Invalid arguments";if(""===(value="object"==typeof value?value.toString():value+""))return null;for(var dim,extra,date,iValue=0,shortYearCutoff=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff,shortYearCutoff="string"!=typeof shortYearCutoff?shortYearCutoff:(new Date).getFullYear()%100+parseInt(shortYearCutoff,10),dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,year=-1,month=-1,day=-1,doy=-1,literal=!1,lookAhead=function(matches){matches=iFormat+1&lt;format.length&amp;&amp;format.charAt(iFormat+1)===matches;return matches&amp;&amp;iFormat++,matches},getNumber=function(match){var num=lookAhead(match),num="@"===match?14:"!"===match?20:"y"===match&amp;&amp;num?4:"o"===match?3:2,num=new RegExp("^\\d{"+("y"===match?num:1)+","+num+"}"),num=value.substring(iValue).match(num);if(!num)throw"Missing number at position "+iValue;return iValue+=num[0].length,parseInt(num[0],10)},getName=function(match,names,longNames){var index=-1,names=$.map(lookAhead(match)?longNames:names,function(v,k){return[[k,v]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if($.each(names,function(i,pair){var name=pair[1];if(value.substr(iValue,name.length).toLowerCase()===name.toLowerCase())return index=pair[0],iValue+=name.length,!1}),-1!==index)return index+1;throw"Unknown name at position "+iValue},checkLiteral=function(){if(value.charAt(iValue)!==format.charAt(iFormat))throw"Unexpected literal at position "+iValue;iValue++},iFormat=0;iFormat&lt;format.length;iFormat++)if(literal)"'"!==format.charAt(iFormat)||lookAhead("'")?checkLiteral():literal=!1;else switch(format.charAt(iFormat)){case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames);break;case"o":doy=getNumber("o");break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames);break;case"y":year=getNumber("y");break;case"@":year=(date=new Date(getNumber("@"))).getFullYear(),month=date.getMonth()+1,day=date.getDate();break;case"!":year=(date=new Date((getNumber("!")-this._ticksTo1970)/1e4)).getFullYear(),month=date.getMonth()+1,day=date.getDate();break;case"'":lookAhead("'")?checkLiteral():literal=!0;break;default:checkLiteral()}if(iValue&lt;value.length&amp;&amp;(extra=value.substr(iValue),!/^\s+/.test(extra)))throw"Extra/unparsed characters found in date: "+extra;if(-1===year?year=(new Date).getFullYear():year&lt;100&amp;&amp;(year+=(new Date).getFullYear()-(new Date).getFullYear()%100+(year&lt;=shortYearCutoff?0:-100)),-1&lt;doy)for(month=1,day=doy;;){if(day&lt;=(dim=this._getDaysInMonth(year,month-1)))break;month++,day-=dim}if((date=this._daylightSavingAdjust(new Date(year,month-1,day))).getFullYear()!==year||date.getMonth()+1!==month||date.getDate()!==day)throw"Invalid date";return date},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(format,date,settings){if(!date)return"";function lookAhead(matches){return(matches=iFormat+1&lt;format.length&amp;&amp;format.charAt(iFormat+1)===matches)&amp;&amp;iFormat++,matches}function formatNumber(match,value,len){var num=""+value;if(lookAhead(match))for(;num.length&lt;len;)num="0"+num;return num}function formatName(match,value,shortNames,longNames){return(lookAhead(match)?longNames:shortNames)[value]}var iFormat,dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,output="",literal=!1;if(date)for(iFormat=0;iFormat&lt;format.length;iFormat++)if(literal)"'"!==format.charAt(iFormat)||lookAhead("'")?output+=format.charAt(iFormat):literal=!1;else switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"o":output+=formatNumber("o",Math.round((new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime()-new Date(date.getFullYear(),0,0).getTime())/864e5),3);break;case"m":output+=formatNumber("m",date.getMonth()+1,2);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=lookAhead("y")?date.getFullYear():(date.getFullYear()%100&lt;10?"0":"")+date.getFullYear()%100;break;case"@":output+=date.getTime();break;case"!":output+=1e4*date.getTime()+this._ticksTo1970;break;case"'":lookAhead("'")?output+="'":literal=!0;break;default:output+=format.charAt(iFormat)}return output},_possibleChars:function(format){for(var chars="",literal=!1,lookAhead=function(matches){matches=iFormat+1&lt;format.length&amp;&amp;format.charAt(iFormat+1)===matches;return matches&amp;&amp;iFormat++,matches},iFormat=0;iFormat&lt;format.length;iFormat++)if(literal)"'"!==format.charAt(iFormat)||lookAhead("'")?chars+=format.charAt(iFormat):literal=!1;else switch(format.charAt(iFormat)){case"d":case"m":case"y":case"@":chars+="0123456789";break;case"D":case"M":return null;case"'":lookAhead("'")?chars+="'":literal=!0;break;default:chars+=format.charAt(iFormat)}return chars},_get:function(inst,name){return(void 0!==inst.settings[name]?inst.settings:this._defaults)[name]},_setDateFromField:function(inst,noDefault){if(inst.input.val()!==inst.lastVal){var dateFormat=this._get(inst,"dateFormat"),dates=inst.lastVal=inst.input?inst.input.val():null,defaultDate=this._getDefaultDate(inst),date=defaultDate,settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate}catch(event){dates=noDefault?"":dates}inst.selectedDay=date.getDate(),inst.drawMonth=inst.selectedMonth=date.getMonth(),inst.drawYear=inst.selectedYear=date.getFullYear(),inst.currentDay=dates?date.getDate():0,inst.currentMonth=dates?date.getMonth():0,inst.currentYear=dates?date.getFullYear():0,this._adjustInstDate(inst)}},_getDefaultDate:function(inst){return this._restrictMinMax(inst,this._determineDate(inst,this._get(inst,"defaultDate"),new Date))},_determineDate:function(inst,newDate,defaultDate){newDate=null==newDate||""===newDate?defaultDate:"string"==typeof newDate?function(offset){try{return $.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),offset,$.datepicker._getFormatConfig(inst))}catch(e){}for(var date=(offset.toLowerCase().match(/^c/)?$.datepicker._getDate(inst):null)||new Date,year=date.getFullYear(),month=date.getMonth(),day=date.getDate(),pattern=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,matches=pattern.exec(offset);matches;){switch(matches[2]||"d"){case"d":case"D":day+=parseInt(matches[1],10);break;case"w":case"W":day+=7*parseInt(matches[1],10);break;case"m":case"M":month+=parseInt(matches[1],10),day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;case"y":case"Y":year+=parseInt(matches[1],10),day=Math.min(day,$.datepicker._getDaysInMonth(year,month))}matches=pattern.exec(offset)}return new Date(year,month,day)}(newDate):"number"==typeof newDate?isNaN(newDate)?defaultDate:function(offset){var date=new Date;return date.setDate(date.getDate()+offset),date}(newDate):new Date(newDate.getTime());return(newDate=newDate&amp;&amp;"Invalid Date"===newDate.toString()?defaultDate:newDate)&amp;&amp;(newDate.setHours(0),newDate.setMinutes(0),newDate.setSeconds(0),newDate.setMilliseconds(0)),this._daylightSavingAdjust(newDate)},_daylightSavingAdjust:function(date){return date?(date.setHours(12&lt;date.getHours()?date.getHours()+2:0),date):null},_setDate:function(inst,newDate,noChange){var clear=!newDate,origMonth=inst.selectedMonth,origYear=inst.selectedYear,newDate=this._restrictMinMax(inst,this._determineDate(inst,newDate,new Date));inst.selectedDay=inst.currentDay=newDate.getDate(),inst.drawMonth=inst.selectedMonth=inst.currentMonth=newDate.getMonth(),inst.drawYear=inst.selectedYear=inst.currentYear=newDate.getFullYear(),origMonth===inst.selectedMonth&amp;&amp;origYear===inst.selectedYear||noChange||this._notifyChange(inst),this._adjustInstDate(inst),inst.input&amp;&amp;inst.input.val(clear?"":this._formatDate(inst))},_getDate:function(inst){return!inst.currentYear||inst.input&amp;&amp;""===inst.input.val()?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay))},_attachHandlers:function(inst){var stepMonths=this._get(inst,"stepMonths"),id="#"+inst.id.replace(/\\\\/g,"\\");inst.dpDiv.find("[data-handler]").map(function(){var handler={prev:function(){$.datepicker._adjustDate(id,-stepMonths,"M")},next:function(){$.datepicker._adjustDate(id,+stepMonths,"M")},hide:function(){$.datepicker._hideDatepicker()},today:function(){$.datepicker._gotoToday(id)},selectDay:function(){return $.datepicker._selectDay(id,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return $.datepicker._selectMonthYear(id,this,"M"),!1},selectYear:function(){return $.datepicker._selectMonthYear(id,this,"Y"),!1}};$(this).on(this.getAttribute("data-event"),handler[this.getAttribute("data-handler")])})},_generateHTML:function(inst){var maxDraw,prev,next,firstDay,showWeek,dayNames,dayNamesMin,monthNames,monthNamesShort,beforeShowDay,showOtherMonths,selectOtherMonths,defaultDate,html,dow,row,group,col,selectedDate,cornerClass,calender,thead,day,leadDays,curRows,numRows,printDate,dRow,tbody,daySettings,otherMonth,unselectable,currentText=new Date,today=this._daylightSavingAdjust(new Date(currentText.getFullYear(),currentText.getMonth(),currentText.getDate())),isRTL=this._get(inst,"isRTL"),showButtonPanel=this._get(inst,"showButtonPanel"),gotoDate=this._get(inst,"hideIfNoPrevNext"),buttonPanel=this._get(inst,"navigationAsDateFormat"),numMonths=this._getNumberOfMonths(inst),controls=this._get(inst,"showCurrentAtPos"),currentText=this._get(inst,"stepMonths"),isMultiMonth=1!==numMonths[0]||1!==numMonths[1],currentDate=this._daylightSavingAdjust(inst.currentDay?new Date(inst.currentYear,inst.currentMonth,inst.currentDay):new Date(9999,9,9)),minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),drawMonth=inst.drawMonth-controls,drawYear=inst.drawYear;if(drawMonth&lt;0&amp;&amp;(drawMonth+=12,drawYear--),maxDate)for(maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-numMonths[0]*numMonths[1]+1,maxDate.getDate())),maxDraw=minDate&amp;&amp;maxDraw&lt;minDate?minDate:maxDraw;this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))&gt;maxDraw;)--drawMonth&lt;0&amp;&amp;(drawMonth=11,drawYear--);for(inst.drawMonth=drawMonth,inst.drawYear=drawYear,controls=this._get(inst,"prevText"),controls=buttonPanel?this.formatDate(controls,this._daylightSavingAdjust(new Date(drawYear,drawMonth-currentText,1)),this._getFormatConfig(inst)):controls,prev=this._canAdjustMonth(inst,-1,drawYear,drawMonth)?$("&lt;a&gt;").attr({class:"ui-datepicker-prev ui-corner-all","data-handler":"prev","data-event":"click",title:controls}).append($("&lt;span&gt;").addClass("ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")).text(controls))[0].outerHTML:gotoDate?"":$("&lt;a&gt;").attr({class:"ui-datepicker-prev ui-corner-all ui-state-disabled",title:controls}).append($("&lt;span&gt;").addClass("ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")).text(controls))[0].outerHTML,controls=this._get(inst,"nextText"),controls=buttonPanel?this.formatDate(controls,this._daylightSavingAdjust(new Date(drawYear,drawMonth+currentText,1)),this._getFormatConfig(inst)):controls,next=this._canAdjustMonth(inst,1,drawYear,drawMonth)?$("&lt;a&gt;").attr({class:"ui-datepicker-next ui-corner-all","data-handler":"next","data-event":"click",title:controls}).append($("&lt;span&gt;").addClass("ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")).text(controls))[0].outerHTML:gotoDate?"":$("&lt;a&gt;").attr({class:"ui-datepicker-next ui-corner-all ui-state-disabled",title:controls}).append($("&lt;span&gt;").attr("class","ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")).text(controls))[0].outerHTML,currentText=this._get(inst,"currentText"),gotoDate=this._get(inst,"gotoCurrent")&amp;&amp;inst.currentDay?currentDate:today,currentText=buttonPanel?this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)):currentText,controls="",inst.inline||(controls=$("&lt;button&gt;").attr({type:"button",class:"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all","data-handler":"hide","data-event":"click"}).text(this._get(inst,"closeText"))[0].outerHTML),buttonPanel="",showButtonPanel&amp;&amp;(buttonPanel=$("&lt;div class='ui-datepicker-buttonpane ui-widget-content'&gt;").append(isRTL?controls:"").append(this._isInRange(inst,gotoDate)?$("&lt;button&gt;").attr({type:"button",class:"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all","data-handler":"today","data-event":"click"}).text(currentText):"").append(isRTL?"":controls)[0].outerHTML),firstDay=parseInt(this._get(inst,"firstDay"),10),firstDay=isNaN(firstDay)?0:firstDay,showWeek=this._get(inst,"showWeek"),dayNames=this._get(inst,"dayNames"),dayNamesMin=this._get(inst,"dayNamesMin"),monthNames=this._get(inst,"monthNames"),monthNamesShort=this._get(inst,"monthNamesShort"),beforeShowDay=this._get(inst,"beforeShowDay"),showOtherMonths=this._get(inst,"showOtherMonths"),selectOtherMonths=this._get(inst,"selectOtherMonths"),defaultDate=this._getDefaultDate(inst),html="",row=0;row&lt;numMonths[0];row++){for(group="",this.maxRows=4,col=0;col&lt;numMonths[1];col++){if(selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay)),cornerClass=" ui-corner-all",calender="",isMultiMonth){if(calender+="&lt;div class='ui-datepicker-group",1&lt;numMonths[1])switch(col){case 0:calender+=" ui-datepicker-group-first",cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-1:calender+=" ui-datepicker-group-last",cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+=" ui-datepicker-group-middle",cornerClass=""}calender+="'&gt;"}for(calender+="&lt;div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+cornerClass+"'&gt;"+(/all|left/.test(cornerClass)&amp;&amp;0===row?isRTL?next:prev:"")+(/all|right/.test(cornerClass)&amp;&amp;0===row?isRTL?prev:next:"")+this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,0&lt;row||0&lt;col,monthNames,monthNamesShort)+"&lt;/div&gt;&lt;table class='ui-datepicker-calendar'&gt;&lt;thead&gt;&lt;tr&gt;",thead=showWeek?"&lt;th class='ui-datepicker-week-col'&gt;"+this._get(inst,"weekHeader")+"&lt;/th&gt;":"",dow=0;dow&lt;7;dow++)thead+="&lt;th scope='col'"+(5&lt;=(dow+firstDay+6)%7?" class='ui-datepicker-week-end'":"")+"&gt;&lt;span title='"+dayNames[day=(dow+firstDay)%7]+"'&gt;"+dayNamesMin[day]+"&lt;/span&gt;&lt;/th&gt;";for(calender+=thead+"&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;",curRows=this._getDaysInMonth(drawYear,drawMonth),drawYear===inst.selectedYear&amp;&amp;drawMonth===inst.selectedMonth&amp;&amp;(inst.selectedDay=Math.min(inst.selectedDay,curRows)),leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7,curRows=Math.ceil((leadDays+curRows)/7),numRows=isMultiMonth&amp;&amp;this.maxRows&gt;curRows?this.maxRows:curRows,this.maxRows=numRows,printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays)),dRow=0;dRow&lt;numRows;dRow++){for(calender+="&lt;tr&gt;",tbody=showWeek?"&lt;td class='ui-datepicker-week-col'&gt;"+this._get(inst,"calculateWeek")(printDate)+"&lt;/td&gt;":"",dow=0;dow&lt;7;dow++)daySettings=beforeShowDay?beforeShowDay.apply(inst.input?inst.input[0]:null,[printDate]):[!0,""],unselectable=(otherMonth=printDate.getMonth()!==drawMonth)&amp;&amp;!selectOtherMonths||!daySettings[0]||minDate&amp;&amp;printDate&lt;minDate||maxDate&amp;&amp;maxDate&lt;printDate,tbody+="&lt;td class='"+(5&lt;=(dow+firstDay+6)%7?" ui-datepicker-week-end":"")+(otherMonth?" ui-datepicker-other-month":"")+(printDate.getTime()===selectedDate.getTime()&amp;&amp;drawMonth===inst.selectedMonth&amp;&amp;inst._keyEvent||defaultDate.getTime()===printDate.getTime()&amp;&amp;defaultDate.getTime()===selectedDate.getTime()?" "+this._dayOverClass:"")+(unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+(otherMonth&amp;&amp;!showOtherMonths?"":" "+daySettings[1]+(printDate.getTime()===currentDate.getTime()?" "+this._currentClass:"")+(printDate.getTime()===today.getTime()?" ui-datepicker-today":""))+"'"+(otherMonth&amp;&amp;!showOtherMonths||!daySettings[2]?"":" title='"+daySettings[2].replace(/'/g,"&amp;#39;")+"'")+(unselectable?"":" data-handler='selectDay' data-event='click' data-month='"+printDate.getMonth()+"' data-year='"+printDate.getFullYear()+"'")+"&gt;"+(otherMonth&amp;&amp;!showOtherMonths?"&amp;#xa0;":unselectable?"&lt;span class='ui-state-default'&gt;"+printDate.getDate()+"&lt;/span&gt;":"&lt;a class='ui-state-default"+(printDate.getTime()===today.getTime()?" ui-state-highlight":"")+(printDate.getTime()===currentDate.getTime()?" ui-state-active":"")+(otherMonth?" ui-priority-secondary":"")+"' href='#' aria-current='"+(printDate.getTime()===currentDate.getTime()?"true":"false")+"' data-date='"+printDate.getDate()+"'&gt;"+printDate.getDate()+"&lt;/a&gt;")+"&lt;/td&gt;",printDate.setDate(printDate.getDate()+1),printDate=this._daylightSavingAdjust(printDate);calender+=tbody+"&lt;/tr&gt;"}11&lt;++drawMonth&amp;&amp;(drawMonth=0,drawYear++),group+=calender+="&lt;/tbody&gt;&lt;/table&gt;"+(isMultiMonth?"&lt;/div&gt;"+(0&lt;numMonths[0]&amp;&amp;col===numMonths[1]-1?"&lt;div class='ui-datepicker-row-break'&gt;&lt;/div&gt;":""):"")}html+=group}return html+=buttonPanel,inst._keyEvent=!1,html},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,secondary,years,monthNamesShort){var inMinYear,inMaxYear,month,thisYear,year,endYear,changeMonth=this._get(inst,"changeMonth"),changeYear=this._get(inst,"changeYear"),showMonthAfterYear=this._get(inst,"showMonthAfterYear"),determineYear=this._get(inst,"selectMonthLabel"),selectYearLabel=this._get(inst,"selectYearLabel"),html="&lt;div class='ui-datepicker-title'&gt;",monthHtml="";if(secondary||!changeMonth)monthHtml+="&lt;span class='ui-datepicker-month'&gt;"+years[drawMonth]+"&lt;/span&gt;";else{for(inMinYear=minDate&amp;&amp;minDate.getFullYear()===drawYear,inMaxYear=maxDate&amp;&amp;maxDate.getFullYear()===drawYear,monthHtml+="&lt;select class='ui-datepicker-month' aria-label='"+determineYear+"' data-handler='selectMonth' data-event='change'&gt;",month=0;month&lt;12;month++)(!inMinYear||month&gt;=minDate.getMonth())&amp;&amp;(!inMaxYear||month&lt;=maxDate.getMonth())&amp;&amp;(monthHtml+="&lt;option value='"+month+"'"+(month===drawMonth?" selected='selected'":"")+"&gt;"+monthNamesShort[month]+"&lt;/option&gt;");monthHtml+="&lt;/select&gt;"}if(showMonthAfterYear||(html+=monthHtml+(!secondary&amp;&amp;changeMonth&amp;&amp;changeYear?"":"&amp;#xa0;")),!inst.yearshtml)if(inst.yearshtml="",secondary||!changeYear)html+="&lt;span class='ui-datepicker-year'&gt;"+drawYear+"&lt;/span&gt;";else{for(years=this._get(inst,"yearRange").split(":"),thisYear=(new Date).getFullYear(),year=(determineYear=function(year){year=year.match(/c[+\-].*/)?drawYear+parseInt(year.substring(1),10):year.match(/[+\-].*/)?thisYear+parseInt(year,10):parseInt(year,10);return isNaN(year)?thisYear:year})(years[0]),endYear=Math.max(year,determineYear(years[1]||"")),year=minDate?Math.max(year,minDate.getFullYear()):year,endYear=maxDate?Math.min(endYear,maxDate.getFullYear()):endYear,inst.yearshtml+="&lt;select class='ui-datepicker-year' aria-label='"+selectYearLabel+"' data-handler='selectYear' data-event='change'&gt;";year&lt;=endYear;year++)inst.yearshtml+="&lt;option value='"+year+"'"+(year===drawYear?" selected='selected'":"")+"&gt;"+year+"&lt;/option&gt;";inst.yearshtml+="&lt;/select&gt;",html+=inst.yearshtml,inst.yearshtml=null}return html+=this._get(inst,"yearSuffix"),showMonthAfterYear&amp;&amp;(html+=(!secondary&amp;&amp;changeMonth&amp;&amp;changeYear?"":"&amp;#xa0;")+monthHtml),html+="&lt;/div&gt;"},_adjustInstDate:function(inst,date,period){var year=inst.selectedYear+("Y"===period?date:0),month=inst.selectedMonth+("M"===period?date:0),date=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+("D"===period?date:0),date=this._restrictMinMax(inst,this._daylightSavingAdjust(new Date(year,month,date)));inst.selectedDay=date.getDate(),inst.drawMonth=inst.selectedMonth=date.getMonth(),inst.drawYear=inst.selectedYear=date.getFullYear(),"M"!==period&amp;&amp;"Y"!==period||this._notifyChange(inst)},_restrictMinMax:function(maxDate,newDate){var minDate=this._getMinMaxDate(maxDate,"min"),maxDate=this._getMinMaxDate(maxDate,"max"),newDate=minDate&amp;&amp;newDate&lt;minDate?minDate:newDate;return maxDate&amp;&amp;maxDate&lt;newDate?maxDate:newDate},_notifyChange:function(inst){var onChange=this._get(inst,"onChangeMonthYear");onChange&amp;&amp;onChange.apply(inst.input?inst.input[0]:null,[inst.selectedYear,inst.selectedMonth+1,inst])},_getNumberOfMonths:function(numMonths){numMonths=this._get(numMonths,"numberOfMonths");return null==numMonths?[1,1]:"number"==typeof numMonths?[1,numMonths]:numMonths},_getMinMaxDate:function(inst,minMax){return this._determineDate(inst,this._get(inst,minMax+"Date"),null)},_getDaysInMonth:function(year,month){return 32-this._daylightSavingAdjust(new Date(year,month,32)).getDate()},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay()},_canAdjustMonth:function(inst,offset,curYear,curMonth){var date=this._getNumberOfMonths(inst),date=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset&lt;0?offset:date[0]*date[1]),1));return offset&lt;0&amp;&amp;date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth())),this._isInRange(inst,date)},_isInRange:function(yearSplit,date){var minDate=this._getMinMaxDate(yearSplit,"min"),maxDate=this._getMinMaxDate(yearSplit,"max"),minYear=null,maxYear=null,currentYear=this._get(yearSplit,"yearRange");return currentYear&amp;&amp;(yearSplit=currentYear.split(":"),currentYear=(new Date).getFullYear(),minYear=parseInt(yearSplit[0],10),maxYear=parseInt(yearSplit[1],10),yearSplit[0].match(/[+\-].*/)&amp;&amp;(minYear+=currentYear),yearSplit[1].match(/[+\-].*/)&amp;&amp;(maxYear+=currentYear)),(!minDate||date.getTime()&gt;=minDate.getTime())&amp;&amp;(!maxDate||date.getTime()&lt;=maxDate.getTime())&amp;&amp;(!minYear||date.getFullYear()&gt;=minYear)&amp;&amp;(!maxYear||date.getFullYear()&lt;=maxYear)},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");return{shortYearCutoff:shortYearCutoff="string"!=typeof shortYearCutoff?shortYearCutoff:(new Date).getFullYear()%100+parseInt(shortYearCutoff,10),dayNamesShort:this._get(inst,"dayNamesShort"),dayNames:this._get(inst,"dayNames"),monthNamesShort:this._get(inst,"monthNamesShort"),monthNames:this._get(inst,"monthNames")}},_formatDate:function(inst,date,month,year){date||(inst.currentDay=inst.selectedDay,inst.currentMonth=inst.selectedMonth,inst.currentYear=inst.selectedYear);date=date?"object"==typeof date?date:this._daylightSavingAdjust(new Date(year,month,date)):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay));return this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst))}}),$.fn.datepicker=function(options){if(!this.length)return this;$.datepicker.initialized||($(document).on("mousedown",$.datepicker._checkExternalClick),$.datepicker.initialized=!0),0===$("#"+$.datepicker._mainDivId).length&amp;&amp;$("body").append($.datepicker.dpDiv);var otherArgs=Array.prototype.slice.call(arguments,1);return"string"==typeof options&amp;&amp;("isDisabled"===options||"getDate"===options||"widget"===options)||"option"===options&amp;&amp;2===arguments.length&amp;&amp;"string"==typeof arguments[1]?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs)):this.each(function(){"string"==typeof options?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options)})},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.13.2";$.datepicker}),function(z){"use strict";function ve(a){if(!D(a))return Xb;w(a.objectMaxDepth)&amp;&amp;(Xb.objectMaxDepth=Yb(a.objectMaxDepth)?a.objectMaxDepth:NaN),w(a.urlErrorParamsEnabled)&amp;&amp;Ga(a.urlErrorParamsEnabled)&amp;&amp;(Xb.urlErrorParamsEnabled=a.urlErrorParamsEnabled)}function Yb(a){return X(a)&amp;&amp;0&lt;a}function F(a,b){return b=b||Error,function(){for(var c="["+(a?a+":":"")+(d=arguments[0])+"] http://errors.angularjs.org/1.8.2/"+(a?a+"/":"")+d,d=1;d&lt;arguments.length;d++){c=c+(1==d?"?":"&amp;")+"p"+(d-1)+"=";var e=encodeURIComponent,f=arguments[d];c+=e(f="function"==typeof f?f.toString().replace(/ \{[\s\S]*$/,""):void 0===f?"undefined":"string"!=typeof f?JSON.stringify(f):f)}return new b(c)}}function za(a){if(null!=a&amp;&amp;!$a(a)){if(H(a)||C(a)||x&amp;&amp;a instanceof x)return 1;var b="length"in Object(a)&amp;&amp;a.length;return X(b)&amp;&amp;(0&lt;=b&amp;&amp;b-1 in a||"function"==typeof a.item)}}function r(a,b,d){if(a)if(B(a))for(c in a)"prototype"!==c&amp;&amp;"length"!==c&amp;&amp;"name"!==c&amp;&amp;a.hasOwnProperty(c)&amp;&amp;b.call(d,a[c],c,a);else if(H(a)||za(a))for(var f="object"!=typeof a,c=0,e=a.length;c&lt;e;c++)(f||c in a)&amp;&amp;b.call(d,a[c],c,a);else if(a.forEach&amp;&amp;a.forEach!==r)a.forEach(b,d,a);else if(Pc(a))for(c in a)b.call(d,a[c],c,a);else if("function"==typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&amp;&amp;b.call(d,a[c],c,a);else for(c in a)ta.call(a,c)&amp;&amp;b.call(d,a[c],c,a);return a}function Qc(a,b,d){for(var c=Object.keys(a).sort(),e=0;e&lt;c.length;e++)b.call(d,a[c[e]],c[e]);return c}function Zb(a){return function(b,d){a(d,b)}}function $b(a,b,d){for(var c=a.$$hashKey,e=0,f=b.length;e&lt;f;++e){var g=b[e];if(D(g)||B(g))for(var k=Object.keys(g),h=0,l=k.length;h&lt;l;h++){var m=k[h],p=g[m];d&amp;&amp;D(p)?ha(p)?a[m]=new Date(p.valueOf()):ab(p)?a[m]=new RegExp(p):p.nodeName?a[m]=p.cloneNode(!0):ac(p)?a[m]=p.clone():"__proto__"!==m&amp;&amp;(D(a[m])||(a[m]=H(p)?[]:{}),$b(a[m],[p],!0)):a[m]=p}}return c?a.$$hashKey=c:delete a.$$hashKey,a}function S(a){return $b(a,Ha.call(arguments,1),!1)}function xe(a){return $b(a,Ha.call(arguments,1),!0)}function fa(a){return parseInt(a,10)}function bc(a,b){return S(Object.create(a),b)}function E(){}function Ta(a){return a}function ia(a){return function(){return a}}function cc(a){return B(a.toString)&amp;&amp;a.toString!==la}function A(a){return void 0===a}function w(a){return void 0!==a}function D(a){return null!==a&amp;&amp;"object"==typeof a}function Pc(a){return null!==a&amp;&amp;"object"==typeof a&amp;&amp;!Rc(a)}function C(a){return"string"==typeof a}function X(a){return"number"==typeof a}function ha(a){return"[object Date]"===la.call(a)}function H(a){return Array.isArray(a)||a instanceof Array}function dc(a){switch(la.call(a)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return 1;default:return a instanceof Error}}function B(a){return"function"==typeof a}function ab(a){return"[object RegExp]"===la.call(a)}function $a(a){return a&amp;&amp;a.window===a}function bb(a){return a&amp;&amp;a.$evalAsync&amp;&amp;a.$watch}function Ga(a){return"boolean"==typeof a}function ac(a){return!(!a||!(a.nodeName||a.prop&amp;&amp;a.attr&amp;&amp;a.find))}function ua(a){return K(a.nodeName||a[0]&amp;&amp;a[0].nodeName)}function cb(a,d){d=a.indexOf(d);return 0&lt;=d&amp;&amp;a.splice(d,1),d}function Ia(a,b,d){function c(a,b,c){if(--c&lt;0)return"...";var f,d=b.$$hashKey;if(H(a)){f=0;for(var g=a.length;f&lt;g;f++)b.push(e(a[f],c))}else if(Pc(a))for(f in a)b[f]=e(a[f],c);else if(a&amp;&amp;"function"==typeof a.hasOwnProperty)for(f in a)a.hasOwnProperty(f)&amp;&amp;(b[f]=e(a[f],c));else for(f in a)ta.call(a,f)&amp;&amp;(b[f]=e(a[f],c));return d?b.$$hashKey=d:delete b.$$hashKey,b}function e(a,b){if(!D(a))return a;if(-1!==(d=g.indexOf(a)))return k[d];if($a(a)||bb(a))throw oa("cpws");var d=!1,e=f(a);return void 0===e&amp;&amp;(e=H(a)?[]:Object.create(Rc(a)),d=!0),g.push(a),k.push(e),d?c(a,e,b):e}function f(a){switch(la.call(a)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new a.constructor(e(a.buffer),a.byteOffset,a.length);case"[object ArrayBuffer]":if(a.slice)return a.slice(0);var b=new ArrayBuffer(a.byteLength);return new Uint8Array(b).set(new Uint8Array(a)),b;case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new a.constructor(a.valueOf());case"[object RegExp]":return(b=new RegExp(a.source,a.toString().match(/[^/]*$/)[0])).lastIndex=a.lastIndex,b;case"[object Blob]":return new a.constructor([a],{type:a.type})}if(B(a.cloneNode))return a.cloneNode(!0)}var g=[],k=[];if(d=Yb(d)?d:NaN,b){if(function(a){return a&amp;&amp;X(a.length)&amp;&amp;ze.test(la.call(a))}(b)||"[object ArrayBuffer]"===la.call(b))throw oa("cpta");if(a===b)throw oa("cpi");return H(b)?b.length=0:r(b,function(a,c){"$$hashKey"!==c&amp;&amp;delete b[c]}),g.push(a),k.push(b),c(a,b,d)}return e(a,d)}function ec(a,b){return a===b||a!=a&amp;&amp;b!=b}function va(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!=a&amp;&amp;b!=b)return!0;var c,d=typeof a;if(d===typeof b&amp;&amp;"object"===d){if(!H(a)){if(ha(a))return!!ha(b)&amp;&amp;ec(a.getTime(),b.getTime());if(ab(a))return!!ab(b)&amp;&amp;a.toString()===b.toString();if(bb(a)||bb(b)||$a(a)||$a(b)||H(b)||ha(b)||ab(b))return!1;for(c in d=T(),a)if("$"!==c.charAt(0)&amp;&amp;!B(a[c])){if(!va(a[c],b[c]))return!1;d[c]=!0}for(c in b)if(!(c in d)&amp;&amp;"$"!==c.charAt(0)&amp;&amp;w(b[c])&amp;&amp;!B(b[c]))return!1;return!0}if(!H(b))return!1;if((d=a.length)===b.length){for(c=0;c&lt;d;c++)if(!va(a[c],b[c]))return!1;return!0}}return!1}function db(a,b,d){return a.concat(Ha.call(b,d))}function Va(a,b){var d=2&lt;arguments.length?Ha.call(arguments,2):[];return!B(b)||b instanceof RegExp?b:d.length?function(){return arguments.length?b.apply(a,db(d,arguments,0)):b.apply(a,d)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function Sc(a,b){var d=b;return"string"==typeof a&amp;&amp;"$"===a.charAt(0)&amp;&amp;"$"===a.charAt(1)?d=void 0:$a(b)?d="$WINDOW":b&amp;&amp;z.document===b?d="$DOCUMENT":bb(b)&amp;&amp;(d="$SCOPE"),d}function eb(a,b){if(!A(a))return X(b)||(b=b?2:null),JSON.stringify(a,Sc,b)}function Tc(a){return C(a)?JSON.parse(a):a}function fc(d,b){d=d.replace(Be,"");d=Date.parse("Jan 01, 1970 00:00:00 "+d)/6e4;return Y(d)?b:d}function Uc(a,b){return(a=new Date(a.getTime())).setMinutes(a.getMinutes()+b),a}function gc(a,b,d){d=d?-1:1;var c=a.getTimezoneOffset();return Uc(a,d*((b=fc(b,c))-c))}function Aa(a){a=x(a).clone().empty();var b=x("&lt;div&gt;&lt;/div&gt;").append(a).html();try{return a[0].nodeType===Pa?K(b):b.match(/^(&lt;[^&gt;]+&gt;)/)[1].replace(/^&lt;([\w-]+)/,function(a,b){return"&lt;"+K(b)})}catch(d){return K(b)}}function Vc(a){try{return decodeURIComponent(a)}catch(b){}}function hc(a){var b={};return r((a||"").split("&amp;"),function(a){var c,e,f;a&amp;&amp;(e=a=a.replace(/\+/g,"%20"),-1!==(c=a.indexOf("="))&amp;&amp;(e=a.substring(0,c),f=a.substring(c+1)),w(e=Vc(e))&amp;&amp;(f=!w(f)||Vc(f),ta.call(b,e)?H(b[e])?b[e].push(f):b[e]=[b[e],f]:b[e]=f))}),b}function ic(a){return ba(a,!0).replace(/%26/gi,"&amp;").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ba(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function Ee(a,b){var d,c,e={};r(Qa,function(b){b+="app",!d&amp;&amp;a.hasAttribute&amp;&amp;a.hasAttribute(b)&amp;&amp;(c=(d=a).getAttribute(b))}),r(Qa,function(b){var e;b+="app",!d&amp;&amp;(e=a.querySelector("["+b.replace(":","\\:")+"]"))&amp;&amp;(c=(d=e).getAttribute(b))}),d&amp;&amp;(Fe?(e.strictDi=null!==function(a,b){for(var d,e=Qa.length,c=0;c&lt;e;++c)if(d=Qa[c]+b,C(d=a.getAttribute(d)))return d;return null}(d,"strict-di"),b(d,c?[c]:[],e)):z.console.error("AngularJS: disabling automatic bootstrap. &lt;script&gt; protocol indicates an extension, document.location.href does not match."))}function Wc(a,b,d){D(d)||(d={}),d=S({strictDi:!1},d);var c=function(){if((a=x(a)).injector()){var c=a[0]===z.document?"document":Aa(a);throw oa("btstrpd",c.replace(/&lt;/,"&amp;lt;").replace(/&gt;/,"&amp;gt;"))}return(b=b||[]).unshift(["$provide",function(b){b.value("$rootElement",a)}]),d.debugInfoEnabled&amp;&amp;b.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),b.unshift("ng"),(c=fb(b,d.strictDi)).invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),c},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;if(z&amp;&amp;e.test(z.name)&amp;&amp;(d.debugInfoEnabled=!0,z.name=z.name.replace(e,"")),z&amp;&amp;!f.test(z.name))return c();z.name=z.name.replace(f,""),ca.resumeBootstrap=function(a){return r(a,function(a){b.push(a)}),c()},B(ca.resumeDeferredBootstrap)&amp;&amp;ca.resumeDeferredBootstrap()}function Ge(){z.name="NG_ENABLE_DEBUG_INFO!"+z.name,z.location.reload()}function He(a){if(!(a=ca.element(a).injector()))throw oa("test");return a.get("$$testability")}function Xc(a,b){return b=b||"_",a.replace(Ie,function(a,c){return(c?b:"")+a.toLowerCase()})}function Ke(){U.legacyXHTMLReplacement=!0}function gb(a,b,d){if(!a)throw oa("areq",b||"?",d||"required");return a}function tb(a,b,d){return d&amp;&amp;H(a)&amp;&amp;(a=a[a.length-1]),gb(B(a),b,"not a function, got "+(a&amp;&amp;"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function Ja(a,b){if("hasOwnProperty"===a)throw oa("badname",b)}function ub(a){for(var c,b=a[0],d=a[a.length-1],e=1;b!==d&amp;&amp;(b=b.nextSibling);e++)!c&amp;&amp;a[e]===b||(c=c||x(Ha.call(a,0,e))).push(b);return c||a}function T(){return Object.create(null)}function jc(a){if(null==a)return"";switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=!cc(a)||H(a)||ha(a)?eb(a):a.toString()}return a}function ja(a,b){if(H(a)){b=b||[];for(var d=0,c=a.length;d&lt;c;d++)b[d]=a[d]}else if(D(a))for(d in b=b||{},a)"$"===d.charAt(0)&amp;&amp;"$"===d.charAt(1)||(b[d]=a[d]);return b||a}function xb(a,b){return b.toUpperCase()}function yb(a){return a.replace(qg,xb)}function mc(a){return 1===(a=a.nodeType)||!a||9===a}function gd(a,b){var d,c,e,k,f=b.createDocumentFragment(),g=[];if(nc.test(a)){if(d=f.appendChild(b.createElement("div")),c=(rg.exec(a)||["",""])[1].toLowerCase(),e=U.legacyXHTMLReplacement?a.replace(sg,"&lt;$1&gt;&lt;/$2&gt;"):a,wa&lt;10)for(c=hb[c]||hb._default,d.innerHTML=c[1]+e+c[2],k=c[0];k--;)d=d.firstChild;else{for(k=(c=qa[c]||[]).length;-1&lt;--k;)d.appendChild(z.document.createElement(c[k])),d=d.firstChild;d.innerHTML=e}g=db(g,d.childNodes),(d=f.firstChild).textContent=""}else g.push(b.createTextNode(a));return f.textContent="",f.innerHTML="",r(g,function(a){f.appendChild(a)}),f}function U(a){if(a instanceof U)return a;var d,b;if(C(a)&amp;&amp;(a=V(a),b=!0),!(this instanceof U)){if(b&amp;&amp;"&lt;"!==a.charAt(0))throw oc("nosel");return new U(a)}b?(b=z.document,pc(this,a=(d=tg.exec(a))?[b.createElement(d[1])]:(d=gd(a,b))?d.childNodes:[])):B(a)?hd(a):pc(this,a)}function qc(a){return a.cloneNode(!0)}function zb(a,b){!b&amp;&amp;mc(a)&amp;&amp;x.cleanData([a]),a.querySelectorAll&amp;&amp;x.cleanData(a.querySelectorAll("*"))}function id(a){for(var b in a)return;return 1}function jd(a){var b=a.ng339,d=b&amp;&amp;Ka[b],c=d&amp;&amp;d.events;(d=d&amp;&amp;d.data)&amp;&amp;!id(d)||c&amp;&amp;!id(c)||(delete Ka[b],a.ng339=void 0)}function kd(a,b,d,c){if(w(c))throw oc("offargs");var e=(c=Ab(a))&amp;&amp;c.events,f=c&amp;&amp;c.handle;if(f){if(b){var g=function(b){var c=e[b];w(d)&amp;&amp;cb(c||[],d),w(d)&amp;&amp;c&amp;&amp;0&lt;c.length||(a.removeEventListener(b,f),delete e[b])};r(b.split(" "),function(a){g(a),Bb[a]&amp;&amp;g(Bb[a])})}else for(b in e)"$destroy"!==b&amp;&amp;a.removeEventListener(b,f),delete e[b];jd(a)}}function rc(a,b){var d=a.ng339;(d=d&amp;&amp;Ka[d])&amp;&amp;(b?delete d.data[b]:d.data={},jd(a))}function Ab(a,b){var d=(d=a.ng339)&amp;&amp;Ka[d];return b&amp;&amp;!d&amp;&amp;(a.ng339=d=++ug,d=Ka[d]={events:{},data:{},handle:void 0}),d}function sc(a,b,d){if(mc(a)){var c,e=w(d),f=!e&amp;&amp;b&amp;&amp;!D(b),g=!b;if(a=(a=Ab(a,!f))&amp;&amp;a.data,e)a[yb(b)]=d;else{if(g)return a;if(f)return a&amp;&amp;a[yb(b)];for(c in b)a[yb(c)]=b[c]}}}function Cb(a,b){return!!a.getAttribute&amp;&amp;-1&lt;(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")}function Db(a,b){var d,c;b&amp;&amp;a.setAttribute&amp;&amp;(d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),c=d,r(b.split(" "),function(a){a=V(a),c=c.replace(" "+a+" "," ")}),c!==d&amp;&amp;a.setAttribute("class",V(c)))}function Eb(a,b){var d,c;b&amp;&amp;a.setAttribute&amp;&amp;(d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),c=d,r(b.split(" "),function(a){a=V(a),-1===c.indexOf(" "+a+" ")&amp;&amp;(c+=a+" ")}),c!==d&amp;&amp;a.setAttribute("class",V(c)))}function pc(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var d=b.length;if("number"==typeof d&amp;&amp;b.window!==b){if(d)for(var c=0;c&lt;d;c++)a[a.length++]=b[c]}else a[a.length++]=b}}function ld(a,b){return Fb(a,"$"+(b||"ngController")+"Controller")}function Fb(a,b,d){for(9===a.nodeType&amp;&amp;(a=a.documentElement),b=H(b)?b:[b];a;){for(var c=0,e=b.length;c&lt;e;c++)if(w(d=x.data(a,b[c])))return d;a=a.parentNode||11===a.nodeType&amp;&amp;a.host}}function md(a){for(zb(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Gb(a,d){d||zb(a);d=a.parentNode;d&amp;&amp;d.removeChild(a)}function hd(a){function b(){z.document.removeEventListener("DOMContentLoaded",b),z.removeEventListener("load",b),a()}"complete"===z.document.readyState?z.setTimeout(a):(z.document.addEventListener("DOMContentLoaded",b),z.addEventListener("load",b))}function nd(a,d){d=Hb[d.toLowerCase()];return d&amp;&amp;od[ua(a)]&amp;&amp;d}function xg(a,b,d){d.call(a,b)}function yg(a,b,d){var c=b.relatedTarget;c&amp;&amp;(c===a||zg.call(a,c))||d.call(a,b)}function ng(){this.$get=function(){return S(U,{hasClass:function(a,b){return a.attr&amp;&amp;(a=a[0]),Cb(a,b)},addClass:function(a,b){return a.attr&amp;&amp;(a=a[0]),Eb(a,b)},removeClass:function(a,b){return a.attr&amp;&amp;(a=a[0]),Db(a,b)}})}}function La(a,b){var d=a&amp;&amp;a.$$hashKey;return d?("function"==typeof d&amp;&amp;(d=a.$$hashKey()),d):"function"===(d=typeof a)||"object"===d&amp;&amp;null!==a?a.$$hashKey=d+":"+(b||function(){return++qb})():d+":"+a}function pd(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function qd(a){return(a=Function.prototype.toString.call(a).replace(Ag,"")).match(Bg)||a.match(Cg)}function fb(N,b){function d(a){return function(b,c){if(!D(b))return a(b,c);r(b,Zb(a))}}function c(a,b){if(Ja(a,"service"),(B(b)||H(b))&amp;&amp;(b=n.instantiate(b)),!b.$get)throw Ca("pget",a);return p[a+"Provider"]=b}function f(a,b,d){return c(a,{$get:!1!==d?function(a,b){return function(){var c=t.invoke(b,this);if(A(c))throw Ca("undef",a);return c}}(a,b):b})}function g(a){gb(A(a)||H(a),"modulesToLoad","not an array");var c,b=[];return r(a,function(a){function d(a){for(var b=0,c=a.length;b&lt;c;b++){var e=a[b],f=n.get(e[0]);f[e[1]].apply(f,e[2])}}if(!m.get(a)){m.set(a,!0);try{C(a)?(c=lc(a),t.modules[a]=c,b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):B(a)||H(a)?b.push(n.invoke(a)):tb(a,"module")}catch(e){throw H(a)&amp;&amp;(a=a[a.length-1]),e.message&amp;&amp;e.stack&amp;&amp;-1===e.stack.indexOf(e.message)&amp;&amp;(e=e.message+"\n"+e.stack),Ca("modulerr",a,e.stack||e.message||e)}}}),b}function k(a,c){function d(b,e){if(a.hasOwnProperty(b)){if(a[b]===h)throw Ca("cdep",b+" &lt;- "+l.join(" &lt;- "));return a[b]}try{return l.unshift(b),a[b]=h,a[b]=c(b,e),a[b]}catch(f){throw a[b]===h&amp;&amp;delete a[b],f}finally{l.shift()}}function e(a,c,f){for(var g=[],h=0,k=(a=fb.$$annotate(a,b,f)).length;h&lt;k;h++){var l=a[h];if("string"!=typeof l)throw Ca("itkn",l);g.push(c&amp;&amp;c.hasOwnProperty(l)?c[l]:d(l,f))}return g}return{invoke:function(a,b,c,d){var f;return"string"==typeof c&amp;&amp;(d=c,c=null),c=e(a,c,d),H(a)&amp;&amp;(a=a[a.length-1]),d=a,(d=!wa&amp;&amp;"function"==typeof d&amp;&amp;(Ga(f=d.$$ngIsClass)||(f=d.$$ngIsClass=/^class\b/.test(Function.prototype.toString.call(d))),f))?(c.unshift(null),new(Function.prototype.bind.apply(a,c))):a.apply(b,c)},instantiate:function(a,b,c){var d=H(a)?a[a.length-1]:a;return(a=e(a,b,c)).unshift(null),new(Function.prototype.bind.apply(d,a))},get:d,annotate:fb.$$annotate,has:function(b){return p.hasOwnProperty(b+"Provider")||a.hasOwnProperty(b)}}}b=!0===b;var h={},l=[],m=new Ib,p={$provide:{provider:d(c),factory:d(f),service:d(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:d(function(a,b){return f(a,ia(b),!1)}),constant:d(function(a,b){Ja(a,"constant"),p[a]=b,s[a]=b}),decorator:function(a,b){var c=n.get(a+"Provider"),d=c.$get;c.$get=function(){var a=t.invoke(d,c);return t.invoke(b,null,{$delegate:a})}}}},n=p.$injector=k(p,function(a,b){throw ca.isString(b)&amp;&amp;l.push(b),Ca("unpr",l.join(" &lt;- "))}),s={},G=k(s,function(a,c){c=n.get(a+"Provider",c);return t.invoke(c.$get,c,void 0,a)}),t=G;p.$injectorProvider={$get:ia(G)},t.modules=n.modules=T();N=g(N);return(t=G.get("$injector")).strictDi=b,r(N,function(a){a&amp;&amp;t.invoke(a)}),t.loadNewModules=function(a){r(g(a),function(a){a&amp;&amp;t.invoke(a)})},t}function Bf(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,d,c){function f(a){var c;a?(a.scrollIntoView(),B(c=g.yOffset)?c=c():ac(c)?(c=c[0],c="fixed"!==b.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):X(c)||(c=0),c&amp;&amp;(a=a.getBoundingClientRect().top,b.scrollBy(0,a-c))):b.scrollTo(0,0)}function g(a){var b;(a=C(a)?a:X(a)?a.toString():d.hash())?(b=k.getElementById(a))||(b=function(a){var b=null;return Array.prototype.some.call(a,function(a){if("a"===ua(a))return b=a,!0}),b}(k.getElementsByName(a)))?f(b):"top"===a&amp;&amp;f(null):f(null)}var k=b.document;return a&amp;&amp;c.$watch(function(){return d.hash()},function(a,b){a===b&amp;&amp;""===a||function(a,b){"complete"===(b=b||z).document.readyState?b.setTimeout(a):x(b).on("load",a)}(function(){c.$evalAsync(g)})}),g}]}function ib(a,b){return a||b?a?b?(H(a)&amp;&amp;(a=a.join(" ")),H(b)&amp;&amp;(b=b.join(" ")),a+" "+b):a:b:""}function ra(a){return D(a)?a:{}}function Fg(a,b,d,c,e){function f(){pa=null,k()}function g(){va(t=A(t=y())?null:t,P)&amp;&amp;(t=P),N=P=t}function k(){var a=N;g(),v===h.url()&amp;&amp;a===t||(v=h.url(),N=t,r(J,function(a){a(h.url(),t)}))}var h=this,l=a.location,m=a.history,p=a.setTimeout,n=a.clearTimeout,s={},G=e(d);h.isMock=!1,h.$$completeOutstandingRequest=G.completeTask,h.$$incOutstandingRequestCount=G.incTaskCount,h.notifyWhenNoOutstandingRequests=G.notifyWhenNoPendingTasks;var t,N,v=l.href,kc=b.find("base"),pa=null,y=c.history?function(){try{return m.state}catch(a){}}:E;g(),h.url=function(b,d,e){if(A(e)&amp;&amp;(e=null),l!==a.location&amp;&amp;(l=a.location),m!==a.history&amp;&amp;(m=a.history),b){var f=N===e;if(b=ga(b).href,v===b&amp;&amp;(!c.history||f))return h;var k=v&amp;&amp;Da(v)===Da(b);return v=b,N=e,!c.history||k&amp;&amp;f?(k||(pa=b),d?l.replace(b):k?(d=l,e=-1===(f=(e=b).indexOf("#"))?"":e.substr(f),d.hash=e):l.href=b,l.href!==b&amp;&amp;(pa=b)):(m[d?"replaceState":"pushState"](e,"",b),g()),pa=pa&amp;&amp;b,h}return(pa||l.href).replace(/#$/,"")},h.state=function(){return t};var J=[],I=!1,P=null;h.onUrlChange=function(b){return I||(c.history&amp;&amp;x(a).on("popstate",f),x(a).on("hashchange",f),I=!0),J.push(b),b},h.$$applicationDestroyed=function(){x(a).off("hashchange popstate",f)},h.$$checkUrlChange=k,h.baseHref=function(){var a=kc.attr("href");return a?a.replace(/^(https?:)?\/\/[^/]*/,""):""},h.defer=function(a,b,c){var d;return b=b||0,c=c||G.DEFAULT_TASK_TYPE,G.incTaskCount(c),d=p(function(){delete s[d],G.completeTask(a,c)},b),s[d]=c,d},h.defer.cancel=function(a){if(s.hasOwnProperty(a)){var b=s[a];return delete s[a],n(a),G.completeTask(E,b),!0}return!1}}function If(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(a,b,d,c,e){return new Fg(a,c,b,d,e)}]}function Jf(){this.$get=function(){function a(a,c){function e(a){a!==p&amp;&amp;(n?n===a&amp;&amp;(n=a.n):n=a,f(a.n,a.p),f(a,p),(p=a).n=null)}function f(a,b){a!==b&amp;&amp;(a&amp;&amp;(a.p=b),b&amp;&amp;(b.n=a))}if(a in b)throw F("$cacheFactory")("iid",a);var g=0,k=S({},c,{id:a}),h=T(),l=c&amp;&amp;c.capacity||Number.MAX_VALUE,m=T(),p=null,n=null;return b[a]={put:function(a,b){if(!A(b))return l&lt;Number.MAX_VALUE&amp;&amp;e(m[a]||(m[a]={key:a})),a in h||g++,h[a]=b,l&lt;g&amp;&amp;this.remove(n.key),b},get:function(a){if(l&lt;Number.MAX_VALUE){var b=m[a];if(!b)return;e(b)}return h[a]},remove:function(a){if(l&lt;Number.MAX_VALUE){var b=m[a];if(!b)return;b===p&amp;&amp;(p=b.p),b===n&amp;&amp;(n=b.n),f(b.n,b.p),delete m[a]}a in h&amp;&amp;(delete h[a],g--)},removeAll:function(){h=T(),g=0,m=T(),p=n=null},destroy:function(){m=k=h=null,delete b[a]},info:function(){return S({},k,{size:g})}}}var b={};return a.info=function(){var a={};return r(b,function(b,e){a[e]=b.info()}),a},a.get=function(a){return b[a]},a}}function hg(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Zc(a,b){function d(a,b,c){var d=/^([@&amp;]|[=&lt;](\*?))(\??)\s*([\w$]*)$/,e=T();return r(a,function(a,f){if((a=a.trim())in p)e[f]=p[a];else{var g=a.match(d);if(!g)throw $("iscp",b,f,a,c?"controller bindings definition":"isolate scope definition");e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f},g[4]&amp;&amp;(p[a]=e[f])}}),e}function e(a){var b=a.require||a.controller&amp;&amp;a.name;return!H(b)&amp;&amp;D(b)&amp;&amp;r(b,function(a,c){var d=a.match(l);a.substring(d[0].length)||(b[c]=d[0]+c)}),b}var f={},g=/^\s*directive:\s*([\w-]+)\s+(.*)$/,k=/(([\w-]+)(?::([^;]+))?;?)/,h=function(a){var d,b={};for(a=a.split(","),d=0;d&lt;a.length;d++)b[a[d]]=!0;return b}("ngSrc,ngSrcset,src,srcset"),l=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,m=/^(on[a-z]+|formaction)$/,p=T();this.directive=function pa(b,d){return gb(b,"name"),Ja(b,"directive"),C(b)?(function(a){var b=a.charAt(0);if(!b||b!==K(b))throw $("baddir",a);if(a!==a.trim())throw $("baddir",a)}(b),gb(d,"directiveFactory"),f.hasOwnProperty(b)||(f[b]=[],a.factory(b+"Directive",["$injector","$exceptionHandler",function(a,c){var d=[];return r(f[b],function(f,g){try{var h=a.invoke(f);B(h)?h={compile:ia(h)}:!h.compile&amp;&amp;h.link&amp;&amp;(h.compile=ia(h.link)),h.priority=h.priority||0,h.index=g,h.name=h.name||b,h.require=e(h);var k=h,l=h.restrict;if(l&amp;&amp;(!C(l)||!/[EACM]/.test(l)))throw $("badrestrict",l,b);k.restrict=l||"EA",h.$$moduleName=f.$$moduleName,d.push(h)}catch(m){c(m)}}),d}])),f[b].push(d)):r(b,Zb(pa)),this},this.component=function y(a,b){function c(a){function e(b){return B(b)||H(b)?function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}:b}var f=b.template||b.templateUrl?b.template:"",g={controller:d,controllerAs:function(d,b){if(b&amp;&amp;C(b))return b;if(C(d)){d=wd.exec(d);if(d)return d[3]}}(b.controller)||b.controllerAs||"$ctrl",template:e(f),templateUrl:e(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",require:b.require};return r(b,function(a,b){"$"===b.charAt(0)&amp;&amp;(g[b]=a)}),g}if(!C(a))return r(a,Zb(Va(this,y))),this;var d=b.controller||function(){};return r(b,function(a,b){"$"===b.charAt(0)&amp;&amp;(c[b]=a,B(d)&amp;&amp;(d[b]=a))}),c.$inject=["$injector"],this.directive(a,c)},this.aHrefSanitizationTrustedUrlList=function(a){return w(a)?(b.aHrefSanitizationTrustedUrlList(a),this):b.aHrefSanitizationTrustedUrlList()},Object.defineProperty(this,"aHrefSanitizationWhitelist",{get:function(){return this.aHrefSanitizationTrustedUrlList},set:function(a){this.aHrefSanitizationTrustedUrlList=a}}),this.imgSrcSanitizationTrustedUrlList=function(a){return w(a)?(b.imgSrcSanitizationTrustedUrlList(a),this):b.imgSrcSanitizationTrustedUrlList()},Object.defineProperty(this,"imgSrcSanitizationWhitelist",{get:function(){return this.imgSrcSanitizationTrustedUrlList},set:function(a){this.imgSrcSanitizationTrustedUrlList=a}});var n=!0,s=!(this.debugInfoEnabled=function(a){return w(a)?(n=a,this):n});this.strictComponentBindingsEnabled=function(a){return w(a)?(s=a,this):s};var G=10;this.onChangesTtl=function(a){return arguments.length?(G=a,this):G};var t=!0;this.commentDirectivesEnabled=function(a){return arguments.length?(t=a,this):t};var N=!0;this.cssClassDirectivesEnabled=function(a){return arguments.length?(N=a,this):N};var v=T();this.addPropertySecurityContext=function(a,b,c){var d=a.toLowerCase()+"|"+b.toLowerCase();if(d in v&amp;&amp;v[d]!==c)throw $("ctxoverride",a,b,v[d],c);return v[d]=c,this},function(){function a(b,c){r(c,function(a){v[a.toLowerCase()]=b})}a(W.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),a(W.CSS,["*|style"]),a(W.URL,"area|href area|ping a|href a|ping blockquote|cite body|background del|cite input|src ins|cite q|cite".split(" ")),a(W.MEDIA_URL,"audio|src img|src img|srcset source|src source|srcset track|src video|src video|poster".split(" ")),a(W.RESOURCE_URL,"*|formAction applet|code applet|codebase base|href embed|src frame|src form|action head|profile html|manifest iframe|src link|href media|src object|codebase object|data script|src".split(" "))}(),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(a,b,c,e,p,M,L,u,R){function q(){try{if(!--Ja)throw Ua=void 0,$("infchng",G);L.$apply(function(){for(var a=0,b=Ua.length;a&lt;b;++a)try{Ua[a]()}catch(d){c(d)}Ua=void 0})}finally{Ja++}}function ma(a,b){if(!a)return a;if(!C(a))throw $("srcset",b,a.toString());for(var c="",d=V(a),e=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,e=/\s/.test(d)?e:/(,)/,d=d.split(e),e=Math.floor(d.length/2),f=0;f&lt;e;f++)var g=2*f,c=(c=c+u.getTrustedMediaUrl(V(d[g])))+(" "+V(d[1+g]));return d=V(d[2*f]).split(/\s/),c+=u.getTrustedMediaUrl(V(d[0])),2===d.length&amp;&amp;(c+=" "+V(d[1])),c}function w(a,b){if(b)for(var f,c=Object.keys(b),d=0,e=c.length;d&lt;e;d++)this[f=c[d]]=b[f];else this.$attr={};this.$$element=a}function sa(a,b){try{a.addClass(b)}catch(c){}}function da(a,b,c,d,e){a instanceof x||(a=x(a));var f=Xa(a,b,a,c,d,e);da.$$addScopeClass(a);var g=null;return function(b,c,d){if(!a)throw $("multilink");gb(b,"scope"),e&amp;&amp;e.needsNewScope&amp;&amp;(b=b.$parent.$new());var h=(d=d||{}).parentBoundTranscludeFn,k=d.transcludeControllers;if(d=d.futureParentElement,h&amp;&amp;h.$$boundTransclude&amp;&amp;(h=h.$$boundTransclude),d="html"!==(g=g||((d=d&amp;&amp;d[0])&amp;&amp;"foreignobject"!==ua(d)&amp;&amp;la.call(d).match(/SVG/)?"svg":"html"))?x(ja(g,x("&lt;div&gt;&lt;/div&gt;").append(a).html())):c?Wa.clone.call(a):a,k)for(var l in k)d.data("$"+l+"Controller",k[l].instance);return da.$$addScopeInfo(d,b),c&amp;&amp;c(d,b),f&amp;&amp;f(b,d,d,h),c||(a=f=null),d}}function Xa(a,b,c,d,e,f){for(var l,m,p,I,n,h=[],k=H(a)||a instanceof x,t=0;t&lt;a.length;t++)l=new w,11===wa&amp;&amp;function(a,b,c){var f,d=a[b],e=d.parentNode;if(d.nodeType===Pa)for(;(f=e?d.nextSibling:a[b+1])&amp;&amp;f.nodeType===Pa;)d.nodeValue+=f.nodeValue,f.parentNode&amp;&amp;f.parentNode.removeChild(f),c&amp;&amp;f===a[b+1]&amp;&amp;a.splice(b+1,1)}(a,t,k),(f=(m=tc(a[t],[],l,0===t?d:void 0,e)).length?aa(m,a[t],l,b,c,null,[],[],f):null)&amp;&amp;f.scope&amp;&amp;da.$$addScopeClass(l.$$element),l=f&amp;&amp;f.terminal||!(p=a[t].childNodes)||!p.length?null:Xa(p,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&amp;&amp;f.transclude:b),(f||l)&amp;&amp;(h.push(t,f,l),I=!0,n=n||f),f=null;return I?function(a,c,d,e){var f,k,l,m,p,t;if(n)for(t=Array(c.length),m=0;m&lt;h.length;m+=3)t[f=h[m]]=c[f];else t=c;for(m=0,p=h.length;m&lt;p;)k=t[h[m++]],c=h[m++],f=h[m++],c?(c.scope?(l=a.$new(),da.$$addScopeInfo(x(k),l)):l=a,c(f,l,k,d,c.transcludeOnThisElement?ka(a,c.transclude,e):!c.templateOnThisElement&amp;&amp;e?e:!e&amp;&amp;b?ka(a,b):null)):f&amp;&amp;f(a,k.childNodes,void 0,e)}:null}function ka(a,b,c){function d(e,f,g,h,k){return e||((e=a.$new(!1,k)).$$transcluded=!0),b(e,f,{parentBoundTranscludeFn:c,transcludeControllers:g,futureParentElement:h})}var f,e=d.$$slots=T();for(f in b.$$slots)e[f]=b.$$slots[f]?ka(a,b.$$slots[f],c):null;return d}function tc(a,b,d,e,f){var h,g=d.$attr;switch(a.nodeType){case 1:Y(b,xa(h=ua(a)),"E",e,f);for(var s=a.attributes,v=0,G=s&amp;&amp;s.length;v&lt;G;v++){var M,l,n,P=!1,N=!1,r=!1,y=!1,u=!1,m=(l=s[v]).name,t=l.value;(M=(n=xa(m.toLowerCase())).match(Ra))?(r="Attr"===M[1],y="Prop"===M[1],u="On"===M[1],m=m.replace(rd,"").toLowerCase().substr(4+M[1].length).replace(/_(.)/g,function(a,b){return b.toUpperCase()})):(M=n.match(Sa))&amp;&amp;ca(M[1])&amp;&amp;(N=(P=m).substr(0,m.length-5)+"end",m=m.substr(0,m.length-6)),y||u?(d[n]=t,g[n]=l.name,y?Ea(a,b,n,m):b.push(sd(p,L,c,n,m,!1))):(g[n=xa(m.toLowerCase())]=m,!r&amp;&amp;d.hasOwnProperty(n)||(d[n]=t,nd(a,n)&amp;&amp;(d[n]=!0)),Ia(a,b,t,n,r),Y(b,n,"A",e,f,P,N))}if("input"===h&amp;&amp;"hidden"===a.getAttribute("type")&amp;&amp;a.setAttribute("autocomplete","off"),!Qa)break;if(D(g=a.className)&amp;&amp;(g=g.animVal),C(g)&amp;&amp;""!==g)for(;a=k.exec(g);)Y(b,n=xa(a[2]),"C",e,f)&amp;&amp;(d[n]=V(a[3])),g=g.substr(a.index+a[0].length);break;case Pa:na(b,a.nodeValue);break;case 8:if(!Oa)break;F(a,b,d,e,f)}return b.sort(ia),b}function F(a,b,c,d,e){try{var h,f=g.exec(a.nodeValue);!f||Y(b,h=xa(f[1]),"M",d,e)&amp;&amp;(c[h]=V(f[2]))}catch(k){}}function U(a,b,c){var d=[],e=0;if(b&amp;&amp;a.hasAttribute&amp;&amp;a.hasAttribute(b)){do{if(!a)throw $("uterdir",b,c)}while(1===a.nodeType&amp;&amp;(a.hasAttribute(b)&amp;&amp;e++,a.hasAttribute(c)&amp;&amp;e--),d.push(a),a=a.nextSibling,0&lt;e)}else d.push(a);return x(d)}function W(a,b,c){return function(d,e,f,g,h){return e=U(e[0],b,c),a(d,e,f,g,h)}}function Z(a,b,c,d,e,f){var g;return a?da(b,c,d,e,f):function(){return g||(g=da(b,c,d,e,f),b=c=f=null),g.apply(this,arguments)}}function aa(a,b,d,e,f,g,h,k,l){function m(a,b,c,d){a&amp;&amp;(c&amp;&amp;(a=W(a,c,d)),a.require=u.require,a.directiveName=Q,s!==u&amp;&amp;!u.$$isolateScope||(a=Ba(a,{isolateScope:!0})),h.push(a)),b&amp;&amp;(c&amp;&amp;(b=W(b,c,d)),b.require=u.require,b.directiveName=Q,s!==u&amp;&amp;!u.$$isolateScope||(b=Ba(b,{isolateScope:!0})),k.push(b))}function p(a,e,f,g,l){var n,u,L,y,G,P,M,Q;for(n in b===f?Q=(g=d).$$element:g=new w(Q=x(f),d),G=e,s?y=e.$new(!0):t&amp;&amp;(G=e.$parent),l&amp;&amp;((M=function(a,b,c,d){var e;if(bb(a)||(d=c,c=b,b=a,a=void 0),N&amp;&amp;(e=P),c=c||(N?Q.parent():Q),!d)return l(a,b,e,c,R);var f=l.$$slots[d];if(f)return f(a,b,e,c,R);if(A(f))throw $("noslot",d,Aa(Q))}).$$boundTransclude=l,M.isSlotFilled=function(a){return!!l.$$slots[a]}),J&amp;&amp;(P=ea(Q,g,M,J,y,e,s)),s&amp;&amp;(da.$$addScopeInfo(Q,y,!0,!(v&amp;&amp;(v===s||v===s.$$originalDirective))),da.$$addScopeClass(Q,!0),y.$$isolateBindings=s.$$isolateBindings,(u=Da(e,g,y,y.$$isolateBindings,s)).removeWatches&amp;&amp;y.$on("$destroy",u.removeWatches)),P){u=J[n],L=P[n];var Hg=u.$$bindings.bindToController;L.instance=L(),Q.data("$"+u.name+"Controller",L.instance),L.bindingInfo=Da(G,g,L.instance,Hg,u)}for(r(J,function(a,b){var c=a.require;a.bindToController&amp;&amp;!H(c)&amp;&amp;D(c)&amp;&amp;S(P[b].instance,X(b,c,Q,P))}),r(P,function(a){var b=a.instance;if(B(b.$onChanges))try{b.$onChanges(a.bindingInfo.initialChanges)}catch(d){c(d)}if(B(b.$onInit))try{b.$onInit()}catch(e){c(e)}B(b.$doCheck)&amp;&amp;(G.$watch(function(){b.$doCheck()}),b.$doCheck()),B(b.$onDestroy)&amp;&amp;G.$on("$destroy",function(){b.$onDestroy()})}),n=0,u=h.length;n&lt;u;n++)Ca(L=h[n],L.isolateScope?y:e,Q,g,L.require&amp;&amp;X(L.directiveName,L.require,Q,P),M);var R=e;for(s&amp;&amp;(s.template||null===s.templateUrl)&amp;&amp;(R=y),a&amp;&amp;a(R,f.childNodes,void 0,l),n=k.length-1;0&lt;=n;n--)Ca(L=k[n],L.isolateScope?y:e,Q,g,L.require&amp;&amp;X(L.directiveName,L.require,Q,P),M);r(P,function(a){B((a=a.instance).$postLink)&amp;&amp;a.$postLink()})}l=l||{};for(var u,Q,M,q,O,n=-Number.MAX_VALUE,t=l.newScopeDirective,J=l.controllerDirectives,s=l.newIsolateScopeDirective,v=l.templateDirective,L=l.nonTlbTranscludeDirective,G=!1,P=!1,N=l.hasElementTranscludeDirective,y=d.$$element=x(b),R=e,ma=!1,Jb=!1,sa=0,C=a.length;sa&lt;C;sa++){var E=(u=a[sa]).$$start,jb=u.$$end;if(E&amp;&amp;(y=U(b,E,jb)),M=void 0,n&gt;u.priority)break;if((O=u.scope)&amp;&amp;(u.templateUrl||(D(O)?(ba("new/isolated scope",s||t,u,y),s=u):ba("new/isolated scope",s,u,y)),t=t||u),Q=u.name,!ma&amp;&amp;(u.replace&amp;&amp;(u.templateUrl||u.template)||u.transclude&amp;&amp;!u.$$tlb)){for(O=sa+1;ma=a[O++];)if(ma.transclude&amp;&amp;!ma.$$tlb||ma.replace&amp;&amp;(ma.templateUrl||ma.template)){Jb=!0;break}ma=!0}if(!u.templateUrl&amp;&amp;u.controller&amp;&amp;(J=J||T(),ba("'"+Q+"' controller",J[Q],u,y),J[Q]=u),O=u.transclude)if(G=!0,u.$$tlb||(ba("transclusion",L,u,y),L=u),"element"===O)N=!0,n=u.priority,M=y,y=d.$$element=x(da.$$createComment(Q,d[Q])),b=y[0],oa(f,Ha.call(M,0),b),R=Z(Jb,M,e,n,g&amp;&amp;g.name,{nonTlbTranscludeDirective:L});else{var ka=T();if(D(O)){M=z.document.createDocumentFragment();var K,Xa=T(),F=T();for(K in r(O,function(a,b){var c="?"===a.charAt(0);a=c?a.substring(1):a,Xa[a]=b,ka[b]=null,F[b]=c}),r(y.contents(),function(a){var b=Xa[xa(ua(a))];b?(F[b]=!0,ka[b]=ka[b]||z.document.createDocumentFragment(),ka[b].appendChild(a)):M.appendChild(a)}),r(F,function(a,b){if(!a)throw $("reqslot",b)}),ka)ka[K]&amp;&amp;(R=x(ka[K].childNodes),ka[K]=Z(Jb,R,e));M=x(M.childNodes)}else M=x(qc(b)).contents();y.empty(),(R=Z(Jb,M,e,void 0,void 0,{needsNewScope:u.$$isolateScope||u.$$newScope})).$$slots=ka}if(u.template)if(P=!0,ba("template",v,u,y),O=B((v=u).template)?u.template(y,d):u.template,O=Na(O),u.replace){if(g=u,M=nc.test(O)?td(ja(u.templateNamespace,V(O))):[],b=M[0],1!==M.length||1!==b.nodeType)throw $("tplrt",Q,"");oa(f,y,b),O=tc(b,[],C={$attr:{}});var Ig=a.splice(sa+1,a.length-(sa+1));(s||t)&amp;&amp;fa(O,s,t),a=a.concat(O).concat(Ig),ga(d,C),C=a.length}else y.html(O);if(u.templateUrl)P=!0,ba("template",v,u,y),(v=u).replace&amp;&amp;(g=u),p=ha(a.splice(sa,a.length-sa),y,d,f,G&amp;&amp;R,h,k,{controllerDirectives:J,newScopeDirective:t!==u&amp;&amp;t,newIsolateScopeDirective:s,templateDirective:v,nonTlbTranscludeDirective:L}),C=a.length;else if(u.compile)try{q=u.compile(y,d,R);var Y=u.$$originalDirective||u;B(q)?m(null,Va(Y,q),E,jb):q&amp;&amp;m(Va(Y,q.pre),Va(Y,q.post),E,jb)}catch(ca){c(ca,Aa(y))}u.terminal&amp;&amp;(p.terminal=!0,n=Math.max(n,u.priority))}return p.scope=t&amp;&amp;!0===t.scope,p.transcludeOnThisElement=G,p.templateOnThisElement=P,p.transclude=R,l.hasElementTranscludeDirective=N,p}function X(a,b,c,d){if(C(b)){var f=b.match(l);b=b.substring(f[0].length);var h,e,g=f[1]||f[3],f="?"===f[2];if("^^"===g?c=c.parent():e=(e=d&amp;&amp;d[b])&amp;&amp;e.instance,e||(h="$"+b+"Controller",e="^^"===g&amp;&amp;c[0]&amp;&amp;9===c[0].nodeType?null:g?c.inheritedData(h):c.data(h)),!e&amp;&amp;!f)throw $("ctreq",b,a)}else if(H(b))for(e=[],g=0,f=b.length;g&lt;f;g++)e[g]=X(a,b[g],c,d);else D(b)&amp;&amp;(e={},r(b,function(b,f){e[f]=X(a,b,c,d)}));return e||null}function ea(a,b,c,d,e,f,g){var k,h=T();for(k in d){var l=d[k],m={$scope:l===g||l.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},p=l.controller;"@"===p&amp;&amp;(p=b[l.name]),m=M(p,m,!0,l.controllerAs),h[l.name]=m,a.data("$"+l.name+"Controller",m.instance)}return h}function fa(a,b,c){for(var d=0,e=a.length;d&lt;e;d++)a[d]=bc(a[d],{$$isolateScope:b,$$newScope:c})}function Y(b,c,e,g,h,k,l){if(c!==h){var m=null;if(f.hasOwnProperty(c))for(var p=0,n=(h=a.get(c+"Directive")).length;p&lt;n;p++)if(c=h[p],(A(g)||g&gt;c.priority)&amp;&amp;-1!==c.restrict.indexOf(e)){if(k&amp;&amp;(c=bc(c,{$$start:k,$$end:l})),!c.$$bindings){var I=m=c,t=c.name,u={isolateScope:null,bindToController:null};if(D(I.scope)&amp;&amp;(!0===I.bindToController?(u.bindToController=d(I.scope,t,!0),u.isolateScope={}):u.isolateScope=d(I.scope,t,!1)),D(I.bindToController)&amp;&amp;(u.bindToController=d(I.bindToController,t,!0)),u.bindToController&amp;&amp;!I.controller)throw $("noctrl",t);D((m=m.$$bindings=u).isolateScope)&amp;&amp;(c.$$isolateBindings=m.isolateScope)}b.push(c),m=c}return m}}function ca(b){if(f.hasOwnProperty(b))for(var c=a.get(b+"Directive"),d=0,e=c.length;d&lt;e;d++)if((b=c[d]).multiElement)return 1}function ga(a,b){var c=b.$attr,d=a.$attr;r(a,function(d,e){"$"!==e.charAt(0)&amp;&amp;(b[e]&amp;&amp;b[e]!==d&amp;&amp;(d=d.length?d+(("style"===e?";":" ")+b[e]):b[e]),a.$set(e,d,!0,c[e]))}),r(b,function(b,e){a.hasOwnProperty(e)||"$"===e.charAt(0)||(a[e]=b,"class"!==e&amp;&amp;"style"!==e&amp;&amp;(d[e]=c[e]))})}function ha(a,b,d,f,g,h,k,l){var p,n,m=[],t=b[0],u=a.shift(),J=bc(u,{templateUrl:null,transclude:null,replace:null,$$originalDirective:u}),s=B(u.templateUrl)?u.templateUrl(b,d):u.templateUrl,L=u.templateNamespace;return b.empty(),e(s).then(function(c){var e,I;if(c=Na(c),u.replace){if(c=nc.test(c)?td(ja(L,V(c))):[],e=c[0],1!==c.length||1!==e.nodeType)throw $("tplrt",u.name,s);c={$attr:{}},oa(f,b,e);var v=tc(e,[],c);D(u.scope)&amp;&amp;fa(v,!0),a=v.concat(a),ga(d,c)}else e=t,b.html(c);for(a.unshift(J),p=aa(a,e,d,g,b,u,h,k,l),r(f,function(a,c){a===e&amp;&amp;(f[c]=b[0])}),n=Xa(b[0].childNodes,g);m.length;){c=m.shift(),I=m.shift();var G,y=m.shift(),P=m.shift(),v=b[0];c.$$destroyed||(I!==t&amp;&amp;(G=I.className,l.hasElementTranscludeDirective&amp;&amp;u.replace||(v=qc(e)),oa(y,x(I),v),sa(x(v),G)),I=p.transcludeOnThisElement?ka(c,p.transclude,P):P,p(n,c,v,f,I))}m=null}).catch(function(a){dc(a)&amp;&amp;c(a)}),function(a,b,c,d,e){a=e,b.$$destroyed||(m?m.push(b,c,d,a):(p.transcludeOnThisElement&amp;&amp;(a=ka(b,p.transclude,e)),p(n,b,c,d,a)))}}function ia(a,b){var c=b.priority-a.priority;return 0!=c?c:a.name!==b.name?a.name&lt;b.name?-1:1:a.index-b.index}function ba(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw $("multidir",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,Aa(d))}function na(a,c){var d=b(c,!0);d&amp;&amp;a.push({priority:0,compile:function(a){var b=!!(a=a.parent()).length;return b&amp;&amp;da.$$addBindingClass(a),function(a,c){var e=c.parent();b||da.$$addBindingClass(e),da.$$addBindingInfo(e,d.expressions),a.$watch(d,function(a){c[0].nodeValue=a})}}})}function ja(a,b){switch(a=K(a||"html")){case"svg":case"math":var c=z.document.createElement("div");return c.innerHTML="&lt;"+a+"&gt;"+b+"&lt;/"+a+"&gt;",c.childNodes[0].childNodes;default:return b}}function za(a){return ma(u.valueOf(a),"ng-prop-srcset")}function Ea(a,b,c,d){if(m.test(d))throw $("nodomevents");var e=function(a,c){return c=c.toLowerCase(),v[a+"|"+c]||v["*|"+c]}(a=ua(a),d),f=Ta;"srcset"!==d||"img"!==a&amp;&amp;"source"!==a?e&amp;&amp;(f=u.getTrusted.bind(u,e)):f=za,b.push({priority:100,compile:function(a,b){var e=p(b[c]),g=p(b[c],function(a){return u.valueOf(a)});return{pre:function(a,b){function c(){var g=e(a);b[0][d]=f(g)}c(),a.$watch(g,c)}}}})}function Ia(a,c,d,e,f){var g=ua(a),k=function(a,b){return"srcdoc"===b?u.HTML:"src"===b||"ngSrc"===b?-1===["img","video","audio","source","track"].indexOf(a)?u.RESOURCE_URL:u.MEDIA_URL:"xlinkHref"===b?"image"===a?u.MEDIA_URL:"a"===a?u.URL:u.RESOURCE_URL:"form"===a&amp;&amp;"action"===b||"base"===a&amp;&amp;"href"===b||"link"===a&amp;&amp;"href"===b?u.RESOURCE_URL:"a"!==a||"href"!==b&amp;&amp;"ngHref"!==b?void 0:u.URL}(g,e),l=h[e]||f,p=b(d,!f,k,l);if(p){if("multiple"===e&amp;&amp;"select"===g)throw $("selmulti",Aa(a));if(m.test(e))throw $("nodomevents");c.push({priority:100,compile:function(){return{pre:function(a,c,f){c=f.$$observers||(f.$$observers=T());var g=f[e];g!==d&amp;&amp;(p=g&amp;&amp;b(g,!0,k,l),d=g),p&amp;&amp;(f[e]=p(a),(c[e]||(c[e]=[])).$$inter=!0,(f.$$observers&amp;&amp;f.$$observers[e].$$scope||a).$watch(p,function(a,b){"class"===e&amp;&amp;a!==b?f.$updateClass(a,b):f.$set(e,a)}))}}}})}}function oa(a,b,c){var g,h,d=b[0],e=b.length,f=d.parentNode;if(a)for(g=0,h=a.length;g&lt;h;g++)if(a[g]===d){a[g++]=c,h=g+e-1;for(var k=a.length;g&lt;k;g++,h++)h&lt;k?a[g]=a[h]:delete a[g];a.length-=e-1,a.context===d&amp;&amp;(a.context=c);break}for(f&amp;&amp;f.replaceChild(c,d),a=z.document.createDocumentFragment(),g=0;g&lt;e;g++)a.appendChild(b[g]);for(x.hasData(d)&amp;&amp;(x.data(c,x.data(d)),x(d).off("$destroy")),x.cleanData(a.querySelectorAll("*")),g=1;g&lt;e;g++)delete b[g];b[0]=c,b.length=1}function Ba(a,b){return S(function(){return a.apply(null,arguments)},a,b)}function Ca(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch(h){c(h,Aa(d))}}function ra(a,b){if(s)throw $("missingattr",a,b)}function Da(a,c,d,e,f){function g(b,c,e){B(d.$onChanges)&amp;&amp;!ec(c,e)&amp;&amp;(Ua||(a.$$postDigest(q),Ua=[]),m||(m={},Ua.push(h)),m[b]&amp;&amp;(e=m[b].previousValue),m[b]=new Kb(e,c))}function h(){d.$onChanges(m),m=void 0}var m,k=[],l={};return r(e,function(e,h){var I,t,u,s,m=e.attrName,n=e.optional;switch(e.mode){case"@":n||ta.call(c,m)||(ra(m,f.name),d[h]=c[m]=void 0),n=c.$observe(m,function(a){(C(a)||Ga(a))&amp;&amp;(g(h,a,d[h]),d[h]=a)}),c.$$observers[m].$$scope=a,C(I=c[m])?d[h]=b(I)(a):Ga(I)&amp;&amp;(d[h]=I),l[h]=new Kb(uc,d[h]),k.push(n);break;case"=":if(!ta.call(c,m)){if(n)break;ra(m,f.name),c[m]=void 0}if(n&amp;&amp;!c[m])break;t=p(c[m]),s=t.literal?va:ec,u=t.assign||function(){throw I=d[h]=t(a),$("nonassign",c[m],m,f.name)},I=d[h]=t(a),(n=function(b){return s(b,d[h])||(s(b,I)?u(a,b=d[h]):d[h]=b),I=b}).$stateful=!0,n=e.collection?a.$watchCollection(c[m],n):a.$watch(p(c[m],n),null,t.literal),k.push(n);break;case"&lt;":if(!ta.call(c,m)){if(n)break;ra(m,f.name),c[m]=void 0}if(n&amp;&amp;!c[m])break;var v=(t=p(c[m])).literal,L=d[h]=t(a);l[h]=new Kb(uc,d[h]),n=a[e.collection?"$watchCollection":"$watch"](t,function(a,b){if(b===a){if(b===L||v&amp;&amp;va(b,L))return;b=L}g(h,a,b),d[h]=a}),k.push(n);break;case"&amp;":if(n||ta.call(c,m)||ra(m,f.name),(t=c.hasOwnProperty(m)?p(c[m]):E)===E&amp;&amp;n)break;d[h]=function(b){return t(a,b)}}}),{initialChanges:l,removeWatches:k.length&amp;&amp;function(){for(var a=0,b=k.length;a&lt;b;++a)k[a]()}}}var Ua,Ma=/^\w/,Fa=z.document.createElement("div"),Oa=t,Qa=N,Ja=G;w.prototype={$normalize:xa,$addClass:function(a){a&amp;&amp;0&lt;a.length&amp;&amp;R.addClass(this.$$element,a)},$removeClass:function(a){a&amp;&amp;0&lt;a.length&amp;&amp;R.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=ud(a,b);c&amp;&amp;c.length&amp;&amp;R.addClass(this.$$element,c),(c=ud(b,a))&amp;&amp;c.length&amp;&amp;R.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=nd(this.$$element[0],a),g=vd[a],h=a;f?(this.$$element.prop(a,b),e=f):g&amp;&amp;(this[g]=b,h=g),this[a]=b,e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=Xc(a,"-")),"img"===ua(this.$$element)&amp;&amp;"srcset"===a&amp;&amp;(this[a]=b=ma(b,"$set('srcset', value)")),!1!==d&amp;&amp;(null===b||A(b)?this.$$element.removeAttr(e):Ma.test(e)?f&amp;&amp;!1===b?this.$$element.removeAttr(e):this.$$element.attr(e,b):function(a,b,c){Fa.innerHTML="&lt;span "+b+"&gt;";var d=(b=Fa.firstChild.attributes)[0];b.removeNamedItem(d.name),d.value=c,a.attributes.setNamedItem(d)}(this.$$element[0],e,b)),(a=this.$$observers)&amp;&amp;r(a[h],function(a){try{a(b)}catch(d){c(d)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=T()),e=d[a]||(d[a]=[]);return e.push(b),L.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||A(c[a])||b(c[a])}),function(){cb(e,b)}}};var Ka=b.startSymbol(),La=b.endSymbol(),Na="{{"===Ka&amp;&amp;"}}"===La?Ta:function(a){return a.replace(/\{\{/g,Ka).replace(/}}/g,La)},Ra=/^ng(Attr|Prop|On)([A-Z].*)$/,Sa=/^(.+)Start$/;return da.$$addBindingInfo=n?function(a,b){var c=a.data("$binding")||[];H(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:E,da.$$addBindingClass=n?function(a){sa(a,"ng-binding")}:E,da.$$addScopeInfo=n?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:E,da.$$addScopeClass=n?function(a,b){sa(a,b?"ng-isolate-scope":"ng-scope")}:E,da.$$createComment=function(a,b){var c="";return n&amp;&amp;(c=" "+(a||"")+": ",b&amp;&amp;(c+=b+" ")),z.document.createComment(c)},da}]}function Kb(a,b){this.previousValue=a,this.currentValue=b}function xa(a){return a.replace(rd,"").replace(Jg,function(a,d,c){return c?d.toUpperCase():d})}function ud(a,b){var d="",c=a.split(/\s+/),e=b.split(/\s+/),f=0;a:for(;f&lt;c.length;f++){for(var g=c[f],k=0;k&lt;e.length;k++)if(g===e[k])continue a;d+=(0&lt;d.length?" ":"")+g}return d}function td(a){var b=(a=x(a)).length;if(b&lt;=1)return a;for(;b--;){var d=a[b];(8===d.nodeType||d.nodeType===Pa&amp;&amp;""===d.nodeValue.trim())&amp;&amp;Kg.call(a,b,1)}return a}function Kf(){var a={};this.has=function(b){return a.hasOwnProperty(b)},this.register=function(b,d){Ja(b,"controller"),D(b)?S(a,b):a[b]=d},this.$get=["$injector",function(b){function d(a,b,d,g){if(!a||!D(a.$scope))throw F("$controller")("noscp",g,b);a.$scope[b]=d}return function(c,e,f,g){var k,h,l;if(f=!0===f,g&amp;&amp;C(g)&amp;&amp;(l=g),C(c)){if(!(g=c.match(wd)))throw xd("ctrlfmt",c);if(h=g[1],l=l||g[3],!(c=a.hasOwnProperty(h)?a[h]:function(a,b,d){if(!b)return a;for(var c,e=a,f=(b=b.split(".")).length,g=0;g&lt;f;g++)c=b[g],a=a&amp;&amp;(e=a)[c];return!d&amp;&amp;B(a)?Va(e,a):a}(e.$scope,h,!0)))throw xd("ctrlreg",h);tb(c,h,!0)}return f?(f=(H(c)?c[c.length-1]:c).prototype,k=Object.create(f||null),l&amp;&amp;d(e,l,k,h||c.name),S(function(){var a=b.invoke(c,k,e,h);return a!==k&amp;&amp;(D(a)||B(a))&amp;&amp;(k=a,l&amp;&amp;d(e,l,k,h||c.name)),k},{instance:k,identifier:l})):(k=b.instantiate(c,e,h),l&amp;&amp;d(e,l,k,h||c.name),k)}}]}function Lf(){this.$get=["$window",function(a){return x(a.document)}]}function Mf(){this.$get=["$document","$rootScope",function(a,b){function d(){e=c.hidden}var c=a[0],e=c&amp;&amp;c.hidden;return a.on("visibilitychange",d),b.$on("$destroy",function(){a.off("visibilitychange",d)}),function(){return e}}]}function Nf(){this.$get=["$log",function(a){return function(b,d){a.error.apply(a,arguments)}}]}function vc(a){return D(a)?ha(a)?a.toISOString():eb(a):a}function Tf(){this.$get=function(){return function(a){if(!a)return"";var b=[];return Qc(a,function(a,c){null===a||A(a)||B(a)||(H(a)?r(a,function(a){b.push(ba(c)+"="+ba(vc(a)))}):b.push(ba(c)+"="+ba(vc(a))))}),b.join("&amp;")}}}function Uf(){this.$get=function(){return function(a){if(!a)return"";var d=[];return function b(a,e,f){H(a)?r(a,function(a,c){b(a,e+"["+(D(a)?c:"")+"]")}):D(a)&amp;&amp;!ha(a)?Qc(a,function(a,c){b(a,e+(f?"":"[")+c+(f?"":"]"))}):(B(a)&amp;&amp;(a=a()),d.push(ba(e)+"="+(null==a?"":ba(vc(a)))))}(a,"",!0),d.join("&amp;")}}}function wc(a,e){if(C(a)){var d=a.replace(Lg,"").trim();if(d){var c=e("Content-Type");if((e=c=c&amp;&amp;0===c.indexOf(yd))||(e=(e=d.match(Mg))&amp;&amp;Ng[e[0]].test(d)),e)try{a=Tc(d)}catch(f){if(!c)return a;throw Lb("baddata",a,f)}}}return a}function zd(a){var d,b=T();return C(a)?r(a.split("\n"),function(a){d=a.indexOf(":");var e=K(V(a.substr(0,d)));a=V(a.substr(d+1)),e&amp;&amp;(b[e]=b[e]?b[e]+", "+a:a)}):D(a)&amp;&amp;r(a,function(g,f){f=K(f),g=V(g);f&amp;&amp;(b[f]=b[f]?b[f]+", "+g:g)}),b}function Ad(a){var b;return function(d){return b=b||zd(a),d?(void 0===(d=b[K(d)])&amp;&amp;(d=null),d):b}}function Bd(a,b,d,c){return B(c)?c(a,b,d):(r(c,function(c){a=c(a,b,d)}),a)}function Sf(){var a=this.defaults={transformResponse:[wc],transformRequest:[function(a){return D(a)&amp;&amp;"[object File]"!==la.call(a)&amp;&amp;"[object Blob]"!==la.call(a)&amp;&amp;"[object FormData]"!==la.call(a)?eb(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ja(xc),put:ja(xc),patch:ja(xc)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},b=!1;this.useApplyAsync=function(a){return w(a)?(b=!!a,this):b};var d=this.interceptors=[],c=this.xsrfTrustedOrigins=[];Object.defineProperty(this,"xsrfWhitelistedOrigins",{get:function(){return this.xsrfTrustedOrigins},set:function(a){this.xsrfTrustedOrigins=a}}),this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(e,f,g,k,h,l,m,p){function n(b){function c(a,b){for(var d=0,e=b.length;d&lt;e;){var f=b[d++],g=b[d++];a=a.then(f,g)}return b.length=0,a}function f(a){var b=S({},a);return b.data=Bd(a.data,a.headers,a.status,g.transformResponse),200&lt;=(a=a.status)&amp;&amp;a&lt;300?b:l.reject(b)}if(!D(b))throw F("$http")("badreq",b);if(!C(p.valueOf(b.url)))throw F("$http")("badreq",b.url);var g=S({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer,jsonpCallbackParam:a.jsonpCallbackParam},b);g.headers=function(b){var f,g,h,c=a.headers,e=S({},b.headers);a:for(f in c=S({},c.common,c[K(b.method)])){for(h in g=K(f),e)if(K(h)===g)continue a;e[f]=c[f]}return function(a,b){var c,e={};return r(a,function(a,d){B(a)?null!=(c=a(b))&amp;&amp;(e[d]=c):e[d]=a}),e}(e,ja(b))}(b),g.method=vb(g.method),g.paramSerializer=C(g.paramSerializer)?m.get(g.paramSerializer):g.paramSerializer,e.$$incOutstandingRequestCount("$http");var h=[],k=[];return b=l.resolve(g),r(v,function(a){(a.request||a.requestError)&amp;&amp;h.unshift(a.request,a.requestError),(a.response||a.responseError)&amp;&amp;k.push(a.response,a.responseError)}),b=(b=c(b,h)).then(function(b){var c=b.headers,d=Bd(b.data,Ad(c),void 0,b.transformRequest);return A(d)&amp;&amp;r(c,function(a,b){"content-type"===K(b)&amp;&amp;delete c[b]}),A(b.withCredentials)&amp;&amp;!A(a.withCredentials)&amp;&amp;(b.withCredentials=a.withCredentials),s(b,d).then(f,f)}),(b=c(b,k)).finally(function(){e.$$completeOutstandingRequest(E,"$http")})}function s(c,d){function e(a){if(a){var c={};return r(a,function(a,d){c[d]=function(c){function d(){a(c)}b?h.$applyAsync(d):h.$$phase?d():h.$apply(d)}}),c}}function m(a,b,d,e,f){(200&lt;=(b=-1&lt;=b?b:0)&amp;&amp;b&lt;300?L.resolve:L.reject)({data:a,status:b,headers:Ad(d),config:c,statusText:e,xhrStatus:f})}function s(a){m(a.data,a.status,ja(a.headers()),a.statusText,a.xhrStatus)}function v(){var a=n.pendingRequests.indexOf(c);-1!==a&amp;&amp;n.pendingRequests.splice(a,1)}var R,q,L=l.defer(),u=L.promise,ma=c.headers,x="jsonp"===K(c.method),O=c.url;return x?O=p.getTrustedResourceUrl(O):C(O)||(O=p.valueOf(O)),O=function(a,b){return 0&lt;b.length&amp;&amp;(a+=(-1===a.indexOf("?")?"?":"&amp;")+b),a}(O,c.paramSerializer(c.params)),x&amp;&amp;(O=function(a,b){var c=a.split("?");if(2&lt;c.length)throw Lb("badjsonp",a);return r(c=hc(c[1]),function(c,d){if("JSON_CALLBACK"===c)throw Lb("badjsonp",a);if(d===b)throw Lb("badjsonp",b,a)}),a+=(-1===a.indexOf("?")?"?":"&amp;")+b+"=JSON_CALLBACK"}(O,c.jsonpCallbackParam)),n.pendingRequests.push(c),u.then(v,v),!c.cache&amp;&amp;!a.cache||!1===c.cache||"GET"!==c.method&amp;&amp;"JSONP"!==c.method||(R=D(c.cache)?c.cache:D(a.cache)?a.cache:N),R&amp;&amp;(w(q=R.get(O))?q&amp;&amp;B(q.then)?q.then(s,s):H(q)?m(q[1],q[0],ja(q[2]),q[3],q[4]):m(q,200,{},"OK","complete"):R.put(O,u)),A(q)&amp;&amp;((q=kc(c.url)?g()[c.xsrfCookieName||a.xsrfCookieName]:void 0)&amp;&amp;(ma[c.xsrfHeaderName||a.xsrfHeaderName]=q),f(c.method,O,d,function(a,c,d,e,f){function g(){m(c,a,d,e,f)}R&amp;&amp;(200&lt;=a&amp;&amp;a&lt;300?R.put(O,[a,c,zd(d),e,f]):R.remove(O)),b?h.$applyAsync(g):(g(),h.$$phase||h.$apply())},ma,c.timeout,c.withCredentials,c.responseType,e(c.eventHandlers),e(c.uploadEventHandlers))),u}var N=k("$http");a.paramSerializer=C(a.paramSerializer)?m.get(a.paramSerializer):a.paramSerializer;var v=[];r(d,function(a){v.unshift(C(a)?m.get(a):m.invoke(a))});var kc=function(a){var b=[Qd].concat(a.map(ga));return function(a){return a=ga(a),b.some(Cc.bind(null,a))}}(c);return n.pendingRequests=[],function(){r(arguments,function(a){n[a]=function(b,c){return n(S({},c||{},{method:a,url:b}))}})}("get","delete","head","jsonp"),function(){r(arguments,function(a){n[a]=function(b,c,d){return n(S({},d||{},{method:a,url:b,data:c}))}})}("post","put","patch"),n.defaults=a,n}]}function Wf(){this.$get=function(){return function(){return new z.XMLHttpRequest}}}function Vf(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(a,b,d,c){return function(a,b,d,c,e){function f(a,b,d){a=a.replace("JSON_CALLBACK",b);var f=e.createElement("script"),m=null;return f.type="text/javascript",f.src=a,f.async=!0,m=function(a){f.removeEventListener("load",m),f.removeEventListener("error",m),e.body.removeChild(f),f=null;var g=-1,s="unknown";a&amp;&amp;("load"!==a.type||c.wasCalled(b)||(a={type:"error"}),s=a.type,g="error"===a.type?404:200),d&amp;&amp;d(g,s)},f.addEventListener("load",m),f.addEventListener("error",m),e.body.appendChild(f),m}return function(e,k,h,l,m,p,n,s,G,t){function N(a){J="timeout"===a,pa&amp;&amp;pa(),y&amp;&amp;y.abort()}function v(a,b,c,e,f,g){w(P)&amp;&amp;d.cancel(P),pa=y=null,a(b,c,e,f,g)}if(k=k||a.url(),"jsonp"===K(e))var q=c.createCallback(k),pa=f(k,q,function(a,b){var d=200===a&amp;&amp;c.getResponse(q);v(l,a,d,"",b,"complete"),c.removeCallback(q)});else{var y=b(e,k),J=!1;if(y.open(e,k,!0),r(m,function(a,b){w(a)&amp;&amp;y.setRequestHeader(b,a)}),y.onload=function(){var a=y.statusText||"",b="response"in y?y.response:y.responseText,c=1223===y.status?204:y.status;0===c&amp;&amp;(c=b?200:"file"===ga(k).protocol?404:0),v(l,c,b,y.getAllResponseHeaders(),a,"complete")},y.onerror=function(){v(l,-1,null,null,"","error")},y.ontimeout=function(){v(l,-1,null,null,"","timeout")},y.onabort=function(){v(l,-1,null,null,"",J?"timeout":"abort")},r(G,function(a,b){y.addEventListener(b,a)}),r(t,function(a,b){y.upload.addEventListener(b,a)}),n&amp;&amp;(y.withCredentials=!0),s)try{y.responseType=s}catch(I){if("json"!==s)throw I}y.send(A(h)?null:h)}var P;0&lt;p?P=d(function(){N("timeout")},p):p&amp;&amp;B(p.then)&amp;&amp;p.then(function(){N(w(p.$$timeoutId)?"timeout":"abort")})}}(a,c,a.defer,b,d[0])}]}function Pf(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(d,c,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(p,a).replace(n,b)}function k(a,b,c,d){var e=a.$watch(function(a){return e(),d(a)},b,c);return e}function h(f,h,n,p){var r=n===e.URL||n===e.MEDIA_URL;if(!f.length||-1===f.indexOf(a))return h?void 0:(h=g(f),r&amp;&amp;(h=e.getTrusted(n,h)),(h=ia(h)).exp=f,h.expressions=[],h.$$watchDelegate=k,h);p=!!p;for(var q,y,u,J=0,I=[],Q=f.length,M=[],L=[];J&lt;Q;){if(-1===(q=f.indexOf(a,J))||-1===(y=f.indexOf(b,q+l))){J!==Q&amp;&amp;M.push(g(f.substring(J)));break}J!==q&amp;&amp;M.push(g(f.substring(J,q))),J=f.substring(q+l,y),I.push(J),J=y+m,L.push(M.length),M.push("")}u=1===M.length&amp;&amp;1===L.length;var R=r&amp;&amp;u?void 0:function(a){try{return a=n&amp;&amp;!r?e.getTrusted(n,a):e.valueOf(a),p&amp;&amp;!w(a)?a:jc(a)}catch(b){c(Ma.interr(f,b))}},P=I.map(function(a){return d(a,R)});if(!h||I.length){var x=function(a){for(var b=0,c=I.length;b&lt;c;b++){if(p&amp;&amp;A(a[b]))return;M[L[b]]=a[b]}return r?e.getTrusted(n,u?M[0]:M.join("")):(n&amp;&amp;1&lt;M.length&amp;&amp;Ma.throwNoconcat(f),M.join(""))};return S(function(a){var b=0,d=I.length,e=Array(d);try{for(;b&lt;d;b++)e[b]=P[b](a);return x(e)}catch(g){c(Ma.interr(f,g))}},{exp:f,expressions:I,$$watchDelegate:function(a,b){var c;return a.$watchGroup(P,function(d,e){var f=x(d);b.call(this,f,d!==e?c:f,a),c=f})}})}}var l=a.length,m=b.length,p=new RegExp(a.replace(/./g,f),"g"),n=new RegExp(b.replace(/./g,f),"g");return h.startSymbol=function(){return a},h.endSymbol=function(){return b},h}]}function Qf(){this.$get=["$$intervalFactory","$window",function(e,b){function c(a){b.clearInterval(a),delete d[a]}var d={},e=e(function(a,c,e){return a=b.setInterval(a,c),d[a]=e,a},c);return e.cancel=function(a){if(!a)return!1;if(!a.hasOwnProperty("$$intervalId"))throw Qg("badprom");if(!d.hasOwnProperty(a.$$intervalId))return!1;a=a.$$intervalId;var b=d[a],e=b.promise;return e.$$state&amp;&amp;(e.$$state.pur=!0),b.reject("canceled"),c(a),!0},e}]}function Rf(){this.$get=["$browser","$q","$$q","$rootScope",function(a,b,d,c){return function(e,f){return function(g,k,h,l){function m(){p?g.apply(null,n):g(s)}var p=4&lt;arguments.length,n=p?Ha.call(arguments,4):[],s=0,G=w(l)&amp;&amp;!l,t=(G?d:b).defer(),r=t.promise;return h=w(h)?h:0,r.$$intervalId=e(function(){G?a.defer(m):c.$evalAsync(m),t.notify(s++),0&lt;h&amp;&amp;h&lt;=s&amp;&amp;(t.resolve(s),f(r.$$intervalId)),G||c.$apply()},k,t,G),r}}}]}function Cd(d,b){d=ga(d);b.$$protocol=d.protocol,b.$$host=d.hostname,b.$$port=fa(d.port)||Rg[d.protocol]||null}function Dd(a,b,d){if(Sg.test(a))throw kb("badpath",a);var c="/"!==a.charAt(0);c&amp;&amp;(a="/"+a),a=ga(a);for(var e=(c=(c&amp;&amp;"/"===a.pathname.charAt(0)?a.pathname.substring(1):a.pathname).split("/")).length;e--;)c[e]=decodeURIComponent(c[e]),d&amp;&amp;(c[e]=c[e].replace(/\//g,"%2F"));d=c.join("/"),b.$$path=d,b.$$search=hc(a.search),b.$$hash=decodeURIComponent(a.hash),b.$$path&amp;&amp;"/"!==b.$$path.charAt(0)&amp;&amp;(b.$$path="/"+b.$$path)}function yc(a,b){return a.slice(0,b.length)===b}function ya(a,b){if(yc(b,a))return b.substr(a.length)}function Da(a){var b=a.indexOf("#");return-1===b?a:a.substr(0,b)}function zc(a,b,d){this.$$html5=!0,d=d||"",Cd(a,this),this.$$parse=function(a){var d=ya(b,a);if(!C(d))throw kb("ipthprfx",a,b);Dd(d,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(a){return b+a.substr(1)},this.$$parseLinkUrl=function(c,f){return f&amp;&amp;"#"===f[0]?(this.hash(f.slice(1)),!0):(w(f=ya(a,c))?(g=f,g=d&amp;&amp;w(f=ya(d,f))?b+(ya("/",f)||f):a+g):w(f=ya(b,c))?g=b+f:b===c+"/"&amp;&amp;(g=b),g&amp;&amp;this.$$parse(g),!!g);var g}}function Ac(a,b,d){Cd(a,this),this.$$parse=function(c){var f,e=ya(a,c)||ya(b,c);A(e)||"#"!==e.charAt(0)?this.$$html5?f=e:(f="",A(e)&amp;&amp;(a=c,this.replace())):A(f=ya(d,e))&amp;&amp;(f=e),Dd(f,this,!1),c=this.$$path;var g=/^\/[A-Z]:(\/.*)/;yc(f,e=a)&amp;&amp;(f=f.replace(e,"")),g.exec(f)||(c=(f=g.exec(c))?f[1]:c),this.$$path=c,this.$$compose()},this.$$normalizeUrl=function(b){return a+(b?d+b:"")},this.$$parseLinkUrl=function(b,d){return Da(a)===Da(b)&amp;&amp;(this.$$parse(b),!0)}}function Ed(a,b,d){this.$$html5=!0,Ac.apply(this,arguments),this.$$parseLinkUrl=function(c,g){return g&amp;&amp;"#"===g[0]?(this.hash(g.slice(1)),!0):(a===Da(c)?f=c:(g=ya(b,c))?f=a+d+g:b===c+"/"&amp;&amp;(f=b),f&amp;&amp;this.$$parse(f),!!f);var f},this.$$normalizeUrl=function(b){return a+d+b}}function Mb(a){return function(){return this[a]}}function Fd(a,b){return function(d){return A(d)?this[a]:(this[a]=b(d),this.$$compose(),this)}}function Yf(){var a="!",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return w(b)?(a=b,this):a},this.html5Mode=function(a){return Ga(a)?(b.enabled=a,this):D(a)?(Ga(a.enabled)&amp;&amp;(b.enabled=a.enabled),Ga(a.requireBase)&amp;&amp;(b.requireBase=a.requireBase),(Ga(a.rewriteLinks)||C(a.rewriteLinks))&amp;&amp;(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(d,c,e,f,g){function h(a,b,d){var e=m.url(),f=m.$$state;try{c.url(a,b,d),m.$$state=c.state()}catch(g){throw m.url(e),m.$$state=f,g}}function l(a,b){d.$broadcast("$locationChangeSuccess",m.absUrl(),a,m.$$state,b)}var s,p=c.baseHref(),n=c.url();if(b.enabled){if(!p&amp;&amp;b.requireBase)throw kb("nobase");s=n.substring(0,n.indexOf("/",n.indexOf("//")+2))+(p||"/"),p=e.history?zc:Ed}else s=Da(n),p=Ac;var m,r=s.substr(0,Da(s).lastIndexOf("/")+1);(m=new p(s,r,"#"+a)).$$parseLinkUrl(n,n),m.$$state=c.state();var t=/^\s*(javascript|mailto):/i;f.on("click",function(a){if((e=b.rewriteLinks)&amp;&amp;!a.ctrlKey&amp;&amp;!a.metaKey&amp;&amp;!a.shiftKey&amp;&amp;2!==a.which&amp;&amp;2!==a.button){for(var e,h,g=x(a.target);"a"!==ua(g[0]);)if(g[0]===f[0]||!(g=g.parent())[0])return;C(e)&amp;&amp;A(g.attr(e))||(e=g.prop("href"),h=g.attr("href")||g.attr("xlink:href"),D(e)&amp;&amp;"[object SVGAnimatedString]"===e.toString()&amp;&amp;(e=ga(e.animVal).href),t.test(e)||!e||g.attr("target")||a.isDefaultPrevented()||!m.$$parseLinkUrl(e,h)||(a.preventDefault(),m.absUrl()!==c.url()&amp;&amp;d.$apply()))}}),m.absUrl()!==n&amp;&amp;c.url(m.absUrl(),!0);var N=!0;return c.onUrlChange(function(a,b){yc(a,r)?(d.$evalAsync(function(){var f,c=m.absUrl(),e=m.$$state;m.$$parse(a),m.$$state=b,f=d.$broadcast("$locationChangeStart",a,c,b,e).defaultPrevented,m.absUrl()===a&amp;&amp;(f?(m.$$parse(c),m.$$state=e,h(c,!1,e)):(N=!1,l(c,e)))}),d.$$phase||d.$digest()):g.location.href=a}),d.$watch(function(){var a,b,f,g,n;(N||m.$$urlUpdatedByLocation)&amp;&amp;(m.$$urlUpdatedByLocation=!1,a=c.url(),b=m.absUrl(),f=c.state(),g=m.$$replace,n=!function(a,b){return a===b||ga(a).href===ga(b).href}(a,b)||m.$$html5&amp;&amp;e.history&amp;&amp;f!==m.$$state,(N||n)&amp;&amp;(N=!1,d.$evalAsync(function(){var b=m.absUrl(),c=d.$broadcast("$locationChangeStart",b,a,m.$$state,f).defaultPrevented;m.absUrl()===b&amp;&amp;(c?(m.$$parse(a),m.$$state=f):(n&amp;&amp;h(b,g,f===m.$$state?null:m.$$state),l(a,f)))}))),m.$$replace=!1}),m}]}function Zf(){var a=!0,b=this;this.debugEnabled=function(b){return w(b)?(a=b,this):a},this.$get=["$window",function(d){function e(a){var b=d.console||{},e=b[a]||b.log||E;return function(){var a=[];return r(arguments,function(b){a.push(function(a){return dc(a)&amp;&amp;(a.stack&amp;&amp;f?a=a.message&amp;&amp;-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&amp;&amp;(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}(b))}),Function.prototype.apply.call(e,b,a)}}var f=wa||/\bEdge\//.test(d.navigator&amp;&amp;d.navigator.userAgent);return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&amp;&amp;c.apply(b,arguments)}}()}}]}function Tg(a){return a+""}function Ug(a,b){return void 0!==a?a:b}function Gd(a,b){return void 0===a?b:void 0===b?a:a+b}function Z(a,b,d){var c,e,f=a.isPure=function(a,b){switch(a.type){case q.MemberExpression:if(a.computed)return!1;break;case q.UnaryExpression:return 1;case q.BinaryExpression:return"+"!==a.operator&amp;&amp;1;case q.CallExpression:return!1}return void 0===b?Hd:b}(a,d);switch(a.type){case q.Program:c=!0,r(a.body,function(a){Z(a.expression,b,f),c=c&amp;&amp;a.expression.constant}),a.constant=c;break;case q.Literal:a.constant=!0,a.toWatch=[];break;case q.UnaryExpression:Z(a.argument,b,f),a.constant=a.argument.constant,a.toWatch=a.argument.toWatch;break;case q.BinaryExpression:Z(a.left,b,f),Z(a.right,b,f),a.constant=a.left.constant&amp;&amp;a.right.constant,a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case q.LogicalExpression:Z(a.left,b,f),Z(a.right,b,f),a.constant=a.left.constant&amp;&amp;a.right.constant,a.toWatch=a.constant?[]:[a];break;case q.ConditionalExpression:Z(a.test,b,f),Z(a.alternate,b,f),Z(a.consequent,b,f),a.constant=a.test.constant&amp;&amp;a.alternate.constant&amp;&amp;a.consequent.constant,a.toWatch=a.constant?[]:[a];break;case q.Identifier:a.constant=!1,a.toWatch=[a];break;case q.MemberExpression:Z(a.object,b,f),a.computed&amp;&amp;Z(a.property,b,f),a.constant=a.object.constant&amp;&amp;(!a.computed||a.property.constant),a.toWatch=a.constant?[]:[a];break;case q.CallExpression:c=d=!!a.filter&amp;&amp;!b(a.callee.name).$stateful,e=[],r(a.arguments,function(a){Z(a,b,f),c=c&amp;&amp;a.constant,e.push.apply(e,a.toWatch)}),a.constant=c,a.toWatch=d?e:[a];break;case q.AssignmentExpression:Z(a.left,b,f),Z(a.right,b,f),a.constant=a.left.constant&amp;&amp;a.right.constant,a.toWatch=[a];break;case q.ArrayExpression:c=!0,e=[],r(a.elements,function(a){Z(a,b,f),c=c&amp;&amp;a.constant,e.push.apply(e,a.toWatch)}),a.constant=c,a.toWatch=e;break;case q.ObjectExpression:c=!0,e=[],r(a.properties,function(a){Z(a.value,b,f),c=c&amp;&amp;a.value.constant,e.push.apply(e,a.value.toWatch),a.computed&amp;&amp;(Z(a.key,b,!1),c=c&amp;&amp;a.key.constant,e.push.apply(e,a.key.toWatch))}),a.constant=c,a.toWatch=e;break;case q.ThisExpression:a.constant=!1,a.toWatch=[];break;case q.LocalsExpression:a.constant=!1,a.toWatch=[]}}function Id(a){if(1===a.length){var b=(a=a[0].expression).toWatch;return 1!==b.length||b[0]!==a?b:void 0}}function Jd(a){return a.type===q.Identifier||a.type===q.MemberExpression}function Kd(a){if(1===a.body.length&amp;&amp;Jd(a.body[0].expression))return{type:q.AssignmentExpression,left:a.body[0].expression,right:{type:q.NGValueParameter},operator:"="}}function Ld(a){this.$filter=a}function Md(a){this.$filter=a}function Nb(a,b,d){this.ast=new q(a,d),this.astCompiler=new(d.csp?Md:Ld)(b)}function Bc(a){return B(a.valueOf)?a.valueOf():Wg.call(a)}function $f(){var d,c,a=T(),b={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(a,c){b[a]=c},this.setIdentifierFns=function(a,b){return d=a,c=b,this},this.$get=["$filter",function(e){function f(b,c){var d,f;switch(typeof b){case"string":return f=b=b.trim(),(d=a[f])||(d=new Nb(d=new Ob(G),e,G).parse(b),a[f]=p(d)),s(d,c);case"function":return s(b,c);default:return s(E,c)}}function g(a,b,c){return null==a||null==b?a===b:!("object"==typeof a&amp;&amp;("object"==typeof(a=Bc(a))&amp;&amp;!c))&amp;&amp;(a===b||a!=a&amp;&amp;b!=b)}function k(a,b,c,d,e){var h;if(1===(f=d.inputs).length){var k=g,f=f[0];return a.$watch(function(a){var b=f(a);return g(b,k,f.isPure)||(h=d(a,void 0,void 0,[b]),k=b&amp;&amp;Bc(b)),h},b,c,e)}for(var l=[],m=[],n=0,p=f.length;n&lt;p;n++)l[n]=g,m[n]=null;return a.$watch(function(a){for(var b=!1,c=0,e=f.length;c&lt;e;c++){var k=f[c](a);(b=b||!g(k,l[c],f[c].isPure))&amp;&amp;(m[c]=k,l[c]=k&amp;&amp;Bc(k))}return b&amp;&amp;(h=d(a,void 0,void 0,m)),h},b,c,e)}function h(a,b,c,d,e){function f(){h(m)&amp;&amp;k()}function g(a,b,c,d){return m=u&amp;&amp;d?d[0]:n(a,b,c,d),h(m)&amp;&amp;a.$$postDigest(f),s(m)}var k,m,h=d.literal?l:w,n=d.$$intercepted||d,s=d.$$interceptor||Ta,u=d.inputs&amp;&amp;!n.inputs;return g.literal=d.literal,g.constant=d.constant,g.inputs=d.inputs,p(g),k=a.$watch(g,b,c,e)}function l(a){var b=!0;return r(a,function(a){w(a)||(b=!1)}),b}function m(a,b,c,d){var e=a.$watch(function(a){return e(),d(a)},b,c);return e}function p(a){return a.constant?a.$$watchDelegate=m:a.oneTime?a.$$watchDelegate=h:a.inputs&amp;&amp;(a.$$watchDelegate=k),a}function s(a,b){if(!b)return a;a.$$interceptor&amp;&amp;(b=function(a,b){function c(d){return b(a(d))}return c.$stateful=a.$stateful||b.$stateful,c.$$pure=a.$$pure&amp;&amp;b.$$pure,c}(a.$$interceptor,b),a=a.$$intercepted);var c=!1,d=function(d,e,f,g){return d=c&amp;&amp;g?g[0]:a(d,e,f,g),b(d)};return d.$$intercepted=a,d.$$interceptor=b,d.literal=a.literal,d.oneTime=a.oneTime,d.constant=a.constant,b.$stateful||(c=!a.inputs,d.inputs=a.inputs||[a],b.$$pure||(d.inputs=d.inputs.map(function(a){return a.isPure===Hd?function(b){return a(b)}:a}))),p(d)}var G={csp:Ba().noUnsafeEval,literals:Ia(b),isIdentifierStart:B(d)&amp;&amp;d,isIdentifierContinue:B(c)&amp;&amp;c};return f.$$getAst=function(a){return new Nb(new Ob(G),e,G).getAst(a).ast},f}]}function bg(){var a=!0;this.$get=["$rootScope","$exceptionHandler",function(b,d){return Nd(function(a){b.$evalAsync(a)},d,a)}],this.errorOnUnhandledRejections=function(b){return w(b)?(a=b,this):a}}function cg(){var a=!0;this.$get=["$browser","$exceptionHandler",function(b,d){return Nd(function(a){b.defer(a)},d,a)}],this.errorOnUnhandledRejections=function(b){return w(b)?(a=b,this):a}}function Nd(a,b,d){function c(){return new e}function e(){var a=this.promise=new f;this.resolve=function(b){h(a,b)},this.reject=function(b){m(a,b)},this.notify=function(b){n(a,b)}}function f(){this.$$state={status:0}}function g(){for(;!w&amp;&amp;x.length;){var c,a=x.shift();a.pur||(a.pur=!0,c="Possibly unhandled rejection: "+("function"==typeof(c=a.value)?c.toString().replace(/ \{[\s\S]*$/,""):A(c)?"undefined":"string"!=typeof c?function(a,b){var d=[];return Yb(b)&amp;&amp;(a=ca.copy(a,null,b)),JSON.stringify(a,function(a,b){if(D(b=Sc(a,b))){if(0&lt;=d.indexOf(b))return"...";d.push(b)}return b})}(c,void 0):c),dc(a.value)?b(a.value,c):b(c))}}function k(c){!d||c.pending||2!==c.status||c.pur||(0===w&amp;&amp;0===x.length&amp;&amp;a(g),x.push(c)),!c.processScheduled&amp;&amp;c.pending&amp;&amp;(c.processScheduled=!0,++w,a(function(){var e,f,k=c.pending;c.processScheduled=!1,c.pending=void 0;try{for(var l=0,n=k.length;l&lt;n;++l){c.pur=!0,f=k[l][0],e=k[l][c.status];try{B(e)?h(f,e(c.value)):(1===c.status?h:m)(f,c.value)}catch(p){m(f,p),p&amp;&amp;!0===p.$$passToExceptionHandler&amp;&amp;b(p)}}}finally{--w,d&amp;&amp;0===w&amp;&amp;a(g)}}))}function h(a,b){a.$$state.status||(b===a?p(a,v("qcycle",b)):function l(a,b){function c(b){g||(g=!0,l(a,b))}function d(b){g||(g=!0,p(a,b))}function e(b){n(a,b)}var f,g=!1;try{(D(b)||B(b))&amp;&amp;(f=b.then),B(f)?(a.$$state.status=-1,f.call(b,c,d,e)):(a.$$state.value=b,a.$$state.status=1,k(a.$$state))}catch(h){d(h)}}(a,b))}function m(a,b){a.$$state.status||p(a,b)}function p(a,b){a.$$state.value=b,a.$$state.status=2,k(a.$$state)}function n(c,d){var e=c.$$state.pending;c.$$state.status&lt;=0&amp;&amp;e&amp;&amp;e.length&amp;&amp;a(function(){for(var a,c,f=0,g=e.length;f&lt;g;f++){c=e[f][0],a=e[f][3];try{n(c,B(a)?a(d):d)}catch(h){b(h)}}})}function s(a){var b=new f;return m(b,a),b}function G(a,b,c){var d=null;try{B(c)&amp;&amp;(d=c())}catch(e){return s(e)}return d&amp;&amp;B(d.then)?d.then(function(){return b(a)},s):b(a)}function t(a,b,c,d){var e=new f;return h(e,a),e.then(b,c,d)}function q(a){if(!B(a))throw v("norslvr",a);var b=new f;return a(function(a){h(b,a)},function(a){m(b,a)}),b}var v=F("$q",TypeError),w=0,x=[];S(f.prototype,{then:function(a,b,c){if(A(a)&amp;&amp;A(b)&amp;&amp;A(c))return this;var d=new f;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),0&lt;this.$$state.status&amp;&amp;k(this.$$state),d},catch:function(a){return this.then(null,a)},finally:function(a,b){return this.then(function(b){return G(b,y,a)},function(b){return G(b,s,a)},b)}});var y=t;return q.prototype=f.prototype,q.defer=c,q.reject=s,q.when=t,q.resolve=y,q.all=function(a){var b=new f,c=0,d=H(a)?[]:{};return r(a,function(a,e){c++,t(a).then(function(a){d[e]=a,--c||h(b,d)},function(a){m(b,a)})}),0===c&amp;&amp;h(b,d),b},q.race=function(a){var b=c();return r(a,function(a){t(a).then(b.resolve,b.reject)}),b.promise},q}function mg(){this.$get=["$window","$timeout",function(f,b){var d=f.requestAnimationFrame||f.webkitRequestAnimationFrame,c=f.cancelAnimationFrame||f.webkitCancelAnimationFrame||f.webkitCancelRequestAnimationFrame,e=!!d,f=e?function(a){var b=d(a);return function(){c(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function ag(){var b=10,d=F("$rootScope"),c=null,e=null;this.digestTtl=function(a){return arguments.length&amp;&amp;(b=a),b},this.$get=["$exceptionHandler","$parse","$browser",function(f,g,k){function h(a){a.currentScope.$$destroyed=!0}function m(){this.$id=++qb,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,(this.$root=this).$$suspended=this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function p(a){if(v.$$phase)throw d("inprog",v.$$phase);v.$$phase=a}function n(a,b){for(;a.$$watchersCount+=b,a=a.$parent;);}function s(a,b,c){for(;a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&amp;&amp;delete a.$$listenerCount[c],a=a.$parent;);}function G(){}function t(){for(;y.length;)try{y.shift()()}catch(a){f(a)}e=null}m.prototype={constructor:m,$new:function(b,c){var d;return c=c||this,b?(d=new m).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++qb,this.$$ChildScope=null,this.$$suspended=!1}return b.prototype=a,b}(this)),d=new this.$$ChildScope),d.$parent=c,d.$$prevSibling=c.$$childTail,c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d,!b&amp;&amp;c===this||d.$on("$destroy",h),d},$watch:function(a,b,d,e){var f=g(a);if(b=B(b)?b:E,f.$$watchDelegate)return f.$$watchDelegate(this,b,d,f,a);var h=this,k=h.$$watchers,l={fn:b,last:G,get:f,exp:e||a,eq:!!d};return c=null,k||((k=h.$$watchers=[]).$$digestWatchIndex=-1),k.unshift(l),k.$$digestWatchIndex++,n(this,1),function(){var a=cb(k,l);0&lt;=a&amp;&amp;(n(h,-1),a&lt;k.$$digestWatchIndex&amp;&amp;k.$$digestWatchIndex--),c=null}},$watchGroup:function(a,b){function c(){h=!1;try{k?(k=!1,b(e,e,g)):b(e,d,g)}finally{for(var f=0;f&lt;a.length;f++)d[f]=e[f]}}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,k=!0;if(a.length)return 1===a.length?this.$watch(a[0],function(a,c,f){e[0]=a,d[0]=c,b(e,a===c?e:d,f)}):(r(a,function(d,b){d=g.$watch(d,function(a){e[b]=a,h||(h=!0,g.$evalAsync(c))});f.push(d)}),function(){for(;f.length;)f.shift()()});var l=!0;return g.$evalAsync(function(){l&amp;&amp;b(e,e,g)}),function(){l=!1}},$watchCollection:function(m,b){function c(a){var b,d,g,h;if(!A(e=a)){if(D(e))if(za(e))for(f!==n&amp;&amp;(t=(f=n).length=0,l++),a=e.length,t!==a&amp;&amp;(l++,f.length=t=a),b=0;b&lt;a;b++)h=f[b],g=e[b],(d=h!=h&amp;&amp;g!=g)||h===g||(l++,f[b]=g);else{for(b in f!==p&amp;&amp;(f=p={},t=0,l++),a=0,e)ta.call(e,b)&amp;&amp;(a++,g=e[b],h=f[b],b in f?(d=h!=h&amp;&amp;g!=g,d||h===g||(l++,f[b]=g)):(t++,f[b]=g,l++));if(a&lt;t)for(b in l++,f)ta.call(e,b)||(t--,delete f[b])}else f!==e&amp;&amp;(f=e,l++);return l}}c.$$pure=g(m).literal,c.$stateful=!c.$$pure;var e,f,h,d=this,k=1&lt;b.length,l=0,m=g(m,c),n=[],p={},s=!0,t=0;return this.$watch(m,function(){if(s?(s=!1,b(e,e,d)):b(e,h,d),k)if(D(e))if(za(e)){h=Array(e.length);for(var a=0;a&lt;e.length;a++)h[a]=e[a]}else for(a in h={},e)ta.call(e,a)&amp;&amp;(h[a]=e[a]);else h=e})},$digest:function(){var a,g,h,n,s,q,A,z,r=b,y=w.length?v:this,N=[];p("$digest"),k.$$checkUrlChange(),this===v&amp;&amp;null!==e&amp;&amp;(k.defer.cancel(e),t()),c=null;do{for(s=!1,q=y,n=0;n&lt;w.length;n++){try{(0,(z=w[n]).fn)(z.scope,z.locals)}catch(C){f(C)}c=null}w.length=0;a:do{if(n=!q.$$suspended&amp;&amp;q.$$watchers)for(n.$$digestWatchIndex=n.length;n.$$digestWatchIndex--;)try{if(a=n[n.$$digestWatchIndex])if((g=(0,a.get)(q))===(h=a.last)||(a.eq?va(g,h):Y(g)&amp;&amp;Y(h))){if(a===c){s=!1;break a}}else s=!0,(c=a).last=a.eq?Ia(g,null):g,(0,a.fn)(g,h===G?g:h,q),r&lt;5&amp;&amp;(N[A=4-r]||(N[A]=[]),N[A].push({msg:B(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:g,oldVal:h}))}catch(E){f(E)}if(!(n=!q.$$suspended&amp;&amp;q.$$watchersCount&amp;&amp;q.$$childHead||q!==y&amp;&amp;q.$$nextSibling))for(;q!==y&amp;&amp;!(n=q.$$nextSibling);)q=q.$parent}while(q=n);if((s||w.length)&amp;&amp;!r--)throw v.$$phase=null,d("infdig",b,N)}while(s||w.length);for(v.$$phase=null;J&lt;x.length;)try{x[J++]()}catch(D){f(D)}x.length=J=0,k.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var b,a=this.$parent;for(b in this.$broadcast("$destroy"),this.$$destroyed=!0,this===v&amp;&amp;k.$$applicationDestroyed(),n(this,-this.$$watchersCount),this.$$listenerCount)s(this,this.$$listenerCount[b],b);a&amp;&amp;a.$$childHead===this&amp;&amp;(a.$$childHead=this.$$nextSibling),a&amp;&amp;a.$$childTail===this&amp;&amp;(a.$$childTail=this.$$prevSibling),this.$$prevSibling&amp;&amp;(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&amp;&amp;(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=E,this.$on=this.$watch=this.$watchGroup=function(){return E},this.$$listeners={},this.$$nextSibling=null,function l(a){9===wa&amp;&amp;(a.$$childHead&amp;&amp;l(a.$$childHead),a.$$nextSibling&amp;&amp;l(a.$$nextSibling)),a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}(this)}},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a,b){v.$$phase||w.length||k.defer(function(){w.length&amp;&amp;v.$digest()},null,"$evalAsync"),w.push({scope:this,fn:g(a),locals:b})},$$postDigest:function(a){x.push(a)},$apply:function(a){try{p("$apply");try{return this.$eval(a)}finally{v.$$phase=null}}catch(b){f(b)}finally{try{v.$digest()}catch(c){throw f(c),c}}},$applyAsync:function(a){var c=this;a&amp;&amp;y.push(function(){c.$eval(a)}),a=g(a),null===e&amp;&amp;(e=k.defer(function(){v.$apply(t)},null,"$applyAsync"))},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);for(var d=this;d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++,d=d.$parent;);var e=this;return function(){var d=c.indexOf(b);-1!==d&amp;&amp;(delete c[d],s(e,1,a))}},$emit:function(a,b){var d,l,m,c=[],e=this,g=!1,h={name:a,targetScope:e,stopPropagation:function(){g=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},k=db([h],arguments,1);do{for(d=e.$$listeners[a]||c,h.currentScope=e,l=0,m=d.length;l&lt;m;l++)if(d[l])try{d[l].apply(null,k)}catch(n){f(n)}else d.splice(l,1),l--,m--}while(!g&amp;&amp;(e=e.$parent));return h.currentScope=null,h},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var h,k,g=db([e],arguments,1);c=d;){for(h=0,k=(d=(e.currentScope=c).$$listeners[a]||[]).length;h&lt;k;h++)if(d[h])try{d[h].apply(null,g)}catch(l){f(l)}else d.splice(h,1),h--,k--;if(!(d=c.$$listenerCount[a]&amp;&amp;c.$$childHead||c!==this&amp;&amp;c.$$nextSibling))for(;c!==this&amp;&amp;!(d=c.$$nextSibling);)c=c.$parent}return e.currentScope=null,e}};var v=new m,w=v.$$asyncQueue=[],x=v.$$postDigestQueue=[],y=v.$$applyAsyncQueue=[],J=0;return v}]}function Qe(){var a=/^\s*(https?|s?ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationTrustedUrlList=function(b){return w(b)?(a=b,this):a},this.imgSrcSanitizationTrustedUrlList=function(a){return w(a)?(b=a,this):b},this.$get=function(){return function(d,f){var e=f?b:a,f=ga(d&amp;&amp;d.trim()).href;return""===f||f.match(e)?d:"unsafe:"+f}}}function Pd(a){var b=[];return w(a)&amp;&amp;r(a,function(a){b.push(function(a){if("self"===a)return a;if(C(a)){if(-1&lt;a.indexOf("***"))throw Ea("iwcard",a);return a=Od(a).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&amp;;]*"),new RegExp("^"+a+"$")}if(ab(a))return new RegExp("^"+a.source+"$");throw Ea("imatcher")}(a))}),b}function eg(){this.SCE_CONTEXTS=W;var a=["self"],b=[];this.trustedResourceUrlList=function(b){return arguments.length&amp;&amp;(a=Pd(b)),a},Object.defineProperty(this,"resourceUrlWhitelist",{get:function(){return this.trustedResourceUrlList},set:function(a){this.trustedResourceUrlList=a}}),this.bannedResourceUrlList=function(a){return arguments.length&amp;&amp;(b=Pd(a)),b},Object.defineProperty(this,"resourceUrlBlacklist",{get:function(){return this.bannedResourceUrlList},set:function(a){this.bannedResourceUrlList=a}}),this.$get=["$injector","$$sanitizeUri",function(d,c){function e(a,b){var c;return"self"===a?(c=Cc(b,Qd))||(c=Cc(b,c=z.document.baseURI||(Na||((Na=z.document.createElement("a")).href=".",Na=Na.cloneNode(!1)),Na.href))):c=!!a.exec(b.href),c}function f(a){function b(a){this.$$unwrapTrustedValue=function(){return a}}return a&amp;&amp;(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}var g=function(a){throw Ea("unsafe")};d.has("$sanitize")&amp;&amp;(g=d.get("$sanitize"));var k=f(),h={};return h[W.HTML]=f(k),h[W.CSS]=f(k),h[W.MEDIA_URL]=f(k),h[W.URL]=f(h[W.MEDIA_URL]),h[W.JS]=f(k),h[W.RESOURCE_URL]=f(h[W.URL]),{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw Ea("icontext",a,b);if(null===b||A(b)||""===b)return b;if("string"!=typeof b)throw Ea("itype",a);return new c(b)},getTrusted:function(d,f){if(null===f||A(f)||""===f)return f;if((k=h.hasOwnProperty(d)?h[d]:null)&amp;&amp;f instanceof k)return f.$$unwrapTrustedValue();if(B(f.$$unwrapTrustedValue)&amp;&amp;(f=f.$$unwrapTrustedValue()),d===W.MEDIA_URL||d===W.URL)return c(f.toString(),d===W.MEDIA_URL);if(d===W.RESOURCE_URL){for(var k=ga(f.toString()),r=!1,n=0,s=a.length;n&lt;s;n++)if(e(a[n],k)){r=!0;break}if(r)for(n=0,s=b.length;n&lt;s;n++)if(e(b[n],k)){r=!1;break}if(r)return f;throw Ea("insecurl",f.toString())}if(d===W.HTML)return g(f);throw Ea("unsafe")},valueOf:function(a){return a instanceof k?a.$$unwrapTrustedValue():a}}}]}function dg(){var a=!0;this.enabled=function(b){return arguments.length&amp;&amp;(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,d){if(a&amp;&amp;wa&lt;8)throw Ea("iequirks");var c=ja(W);c.isEnabled=function(){return a},c.trustAs=d.trustAs,c.getTrusted=d.getTrusted,c.valueOf=d.valueOf,a||(c.trustAs=c.getTrusted=function(a,b){return b},c.valueOf=Ta),c.parseAs=function(a,d){var e=b(d);return e.literal&amp;&amp;e.constant?e:b(d,function(b){return c.getTrusted(a,b)})};var e=c.parseAs,f=c.getTrusted,g=c.trustAs;return r(W,function(a,d){d=K(d);c[("parse_as_"+d).replace(Dc,xb)]=function(b){return e(a,b)},c[("get_trusted_"+d).replace(Dc,xb)]=function(b){return f(a,b)},c[("trust_as_"+d).replace(Dc,xb)]=function(b){return g(a,b)}}),c}]}function fg(){this.$get=["$window","$document",function(h,l){var d={},c=!((!h.nw||!h.nw.process)&amp;&amp;h.chrome&amp;&amp;(h.chrome.app&amp;&amp;h.chrome.app.runtime||!h.chrome.app&amp;&amp;h.chrome.runtime&amp;&amp;h.chrome.runtime.id))&amp;&amp;h.history&amp;&amp;h.history.pushState,e=fa((/android (\d+)/.exec(K((h.navigator||{}).userAgent))||[])[1]),f=/Boxee/i.test((h.navigator||{}).userAgent),g=l[0]||{},k=g.body&amp;&amp;g.body.style,h=!1,l=!1;return k&amp;&amp;(h=!!("transition"in k||"webkitTransition"in k),l=!!("animation"in k||"webkitAnimation"in k)),{history:!(!c||e&lt;4||f),hasEvent:function(a){return("input"!==a||!wa)&amp;&amp;(A(d[a])&amp;&amp;(b=g.createElement("div"),d[a]="on"+a in b),d[a]);var b},csp:Ba(),transitions:h,animations:l,android:e}}]}function gg(){this.$get=ia(function(a){return new Yg(a)})}function Yg(a){function b(){var a=e.pop();return a&amp;&amp;a.cb}function d(a){for(var b=e.length-1;0&lt;=b;--b){var c=e[b];if(c.type===a)return e.splice(b,1),c.cb}}var c={},e=[],f=this.ALL_TASKS_TYPE="$$all$$",g=this.DEFAULT_TASK_TYPE="$$default$$";this.completeTask=function(e,h){h=h||g;try{e()}finally{var l=h||g;c[l]&amp;&amp;(c[l]--,c[f]--),l=c[h];var m=c[f];if(!m||!l)for(l=m?d:b;m=l(h);)try{m()}catch(p){a.error(p)}}},this.incTaskCount=function(a){c[a=a||g]=(c[a]||0)+1,c[f]=(c[f]||0)+1},this.notifyWhenNoPendingTasks=function(a,b){c[b=b||f]?e.push({type:b,cb:a}):a()}}function ig(){var a;this.httpOptions=function(b){return b?(a=b,this):a},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(b,d,c,e,f){function g(k,h){g.totalPendingRequests++,C(k)&amp;&amp;!A(d.get(k))||(k=f.getTrustedResourceUrl(k));var l=c.defaults&amp;&amp;c.defaults.transformResponse;return H(l)?l=l.filter(function(a){return a!==wc}):l===wc&amp;&amp;(l=null),c.get(k,S({cache:d,transformResponse:l},a)).finally(function(){g.totalPendingRequests--}).then(function(a){return d.put(k,a.data)},function(a){return h||(a=Zg("tpload",k,a.status,a.statusText),b(a)),e.reject(a)})}return g.totalPendingRequests=0,g}]}function jg(){this.$get=["$rootScope","$browser","$location",function(a,b,d){return{findBindings:function(a,b,d){a=a.getElementsByClassName("ng-binding");var g=[];return r(a,function(a){var c=ca.element(a).data("$binding");c&amp;&amp;r(c,function(c){d?new RegExp("(^|\\s)"+Od(b)+"(\\s|\\||$)").test(c)&amp;&amp;g.push(a):-1!==c.indexOf(b)&amp;&amp;g.push(a)})}),g},findModels:function(a,b,d){for(var g=["ng-","data-ng-","ng\\:"],k=0;k&lt;g.length;++k){var h=a.querySelectorAll("["+g[k]+"model"+(d?"=":"*=")+'"'+b+'"]');if(h.length)return h}},getLocation:function(){return d.url()},setLocation:function(b){b!==d.url()&amp;&amp;(d.url(b),a.$digest())},whenStable:function(a){b.notifyWhenNoOutstandingRequests(a)}}}]}function kg(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,d,c,e){function f(f,r,l){B(f)||(l=r,r=f,f=E);var m=Ha.call(arguments,3),p=w(l)&amp;&amp;!l,n=(p?c:d).defer(),s=n.promise,r=b.defer(function(){try{n.resolve(f.apply(null,m))}catch(b){n.reject(b),e(b)}finally{delete g[s.$$timeoutId]}p||a.$apply()},r,"$timeout");return s.$$timeoutId=r,g[r]=n,s}var g={};return f.cancel=function(a){if(!a)return!1;if(!a.hasOwnProperty("$$timeoutId"))throw $g("badprom");if(!g.hasOwnProperty(a.$$timeoutId))return!1;a=a.$$timeoutId;var c=g[a],d=c.promise;return d.$$state&amp;&amp;(d.$$state.pur=!0),c.reject("canceled"),delete g[a],b.defer.cancel(a)},f}]}function ga(a){return C(a)?(wa&amp;&amp;(aa.setAttribute("href",a),a=aa.href),aa.setAttribute("href",a),a=aa.hostname,!ah&amp;&amp;-1&lt;a.indexOf(":")&amp;&amp;(a="["+a+"]"),{href:aa.href,protocol:aa.protocol?aa.protocol.replace(/:$/,""):"",host:aa.host,search:aa.search?aa.search.replace(/^\?/,""):"",hash:aa.hash?aa.hash.replace(/^#/,""):"",hostname:a,port:aa.port,pathname:"/"===aa.pathname.charAt(0)?aa.pathname:"/"+aa.pathname}):a}function Cc(a,b){return a=ga(a),b=ga(b),a.protocol===b.protocol&amp;&amp;a.host===b.host}function lg(){this.$get=ia(z)}function Rd(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var d=a[0]||{},c={},e="";return function(){var a,g,k,h,l;try{a=d.cookie||""}catch(m){a=""}if(a!==e)for(a=(e=a).split("; "),c={},k=0;k&lt;a.length;k++)0&lt;(h=(g=a[k]).indexOf("="))&amp;&amp;(l=b(g.substring(0,h)),A(c[l])&amp;&amp;(c[l]=b(g.substring(h+1))));return c}}function pg(){this.$get=Rd}function fd(a){function b(d,c){if(D(d)){var e={};return r(d,function(a,c){e[c]=b(c,a)}),e}return a.factory(d+"Filter",c)}this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}],b("currency",Sd),b("date",Td),b("filter",bh),b("json",ch),b("limitTo",dh),b("lowercase",eh),b("number",Ud),b("orderBy",Vd),b("uppercase",fh)}function bh(){return function(a,b,d,c){if(!za(a)){if(null==a)return a;throw F("filter")("notarray",a)}var e;switch(c=c||"$",Ec(b)){case"function":break;case"boolean":case"null":case"number":case"string":e=!0;case"object":b=function(a,b,d,c){var e=D(a)&amp;&amp;d in a;return!0===b?b=va:B(b)||(b=function(a,b){return!A(a)&amp;&amp;(null===a||null===b?a===b:!(D(b)||D(a)&amp;&amp;!cc(a))&amp;&amp;(a=K(""+a),b=K(""+b),-1!==a.indexOf(b)))}),function(f){return e&amp;&amp;!D(f)?Fa(f,a[d],b,d,!1):Fa(f,a,b,d,c)}}(b,d,c,e);break;default:return a}return Array.prototype.filter.call(a,b)}}function Fa(a,b,d,c,e,f){var h,g=Ec(a),k=Ec(b);if("string"===k&amp;&amp;"!"===b.charAt(0))return!Fa(a,b.substring(1),d,c,e);if(H(a))return a.some(function(a){return Fa(a,b,d,c,e)});switch(g){case"object":if(e){for(h in a)if(h.charAt&amp;&amp;"$"!==h.charAt(0)&amp;&amp;Fa(a[h],b,d,c,!0))return!0;return!f&amp;&amp;Fa(a,b,d,c,!1)}if("object"!==k)return d(a,b);for(h in b)if(f=b[h],!B(f)&amp;&amp;!A(f)&amp;&amp;(g=h===c,!Fa(g?a:a[h],f,d,c,g,g)))return!1;return!0;case"function":return!1;default:return d(a,b)}}function Ec(a){return null===a?"null":typeof a}function Sd(a){var b=a.NUMBER_FORMATS;return function(a,c,e){A(c)&amp;&amp;(c=b.CURRENCY_SYM),A(e)&amp;&amp;(e=b.PATTERNS[1].maxFrac);var f=c?/\u00A4/g:/\s*\u00A4\s*/g;return null==a?a:Wd(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,e).replace(f,c)}}function Ud(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Wd(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Wd(a,b,d,c,e){if(!C(a)&amp;&amp;!X(a)||isNaN(a))return"";var f=!isFinite(a),g=!1,k=Math.abs(a)+"",h="";if(f)h="∞";else{for(function(a,b,d,c){var e=a.d,f=e.length-a.i;if(c=e[d=(b=A(b)?Math.min(Math.max(d,f),c):+b)+a.i],0&lt;d){e.splice(Math.max(a.i,d));for(var g=d;g&lt;e.length;g++)e[g]=0}else for(f=Math.max(0,f),a.i=1,e.length=Math.max(1,d=b+1),e[0]=0,g=1;g&lt;d;g++)e[g]=0;if(5&lt;=c)if(d-1&lt;0){for(c=0;d&lt;c;c--)e.unshift(0),a.i++;e.unshift(1),a.i++}else e[d-1]++;for(;f&lt;Math.max(0,b);f++)e.push(0);(b=e.reduceRight(function(a,b,c,d){return b+=a,d[c]=b%10,Math.floor(b/10)},0))&amp;&amp;(e.unshift(b),a.i++)}(g=function(a){var d,c,e,f,g,b=0;for(-1&lt;(c=a.indexOf(Xd))&amp;&amp;(a=a.replace(Xd,"")),0&lt;(e=a.search(/e/i))?(c&lt;0&amp;&amp;(c=e),c+=+a.slice(e+1),a=a.substring(0,e)):c&lt;0&amp;&amp;(c=a.length),e=0;a.charAt(e)===Fc;e++);if(e===(g=a.length))d=[0],c=1;else{for(g--;a.charAt(g)===Fc;)g--;for(c-=e,d=[],f=0;e&lt;=g;e++,f++)d[f]=+a.charAt(e)}return Yd&lt;c&amp;&amp;(d=d.splice(0,Yd-1),b=c-1,c=1),{d:d,e:b,i:c}}(k),e,b.minFrac,b.maxFrac),h=g.d,k=g.i,e=g.e,f=[],g=h.reduce(function(a,b){return a&amp;&amp;!b},!0);k&lt;0;)h.unshift(0),k++;for(0&lt;k?f=h.splice(k,h.length):(f=h,h=[0]),k=[],h.length&gt;=b.lgSize&amp;&amp;k.unshift(h.splice(-b.lgSize,h.length).join(""));h.length&gt;b.gSize;)k.unshift(h.splice(-b.gSize,h.length).join(""));h.length&amp;&amp;k.unshift(h.join("")),h=k.join(d),f.length&amp;&amp;(h+=c+f.join("")),e&amp;&amp;(h+="e+"+e)}return a&lt;0&amp;&amp;!g?b.negPre+h+b.negSuf:b.posPre+h+b.posSuf}function Pb(a,b,d,c){var e="";for((a&lt;0||c&amp;&amp;a&lt;=0)&amp;&amp;(c?a=1-a:(a=-a,e="-")),a=""+a;a.length&lt;b;)a=Fc+a;return d&amp;&amp;(a=a.substr(a.length-b)),e+a}function ea(a,b,d,c,e){return d=d||0,function(f){return f=f["get"+a](),(0&lt;d||-d&lt;f)&amp;&amp;(f+=d),0===f&amp;&amp;-12===d&amp;&amp;(f=12),Pb(f,b,c,e)}}function lb(a,b,d){return function(f,e){f=f["get"+a]();return e[vb((d?"STANDALONE":"")+(b?"SHORT":"")+a)][f]}}function Zd(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(b&lt;=4?5:12)-b)}function $d(a){return function(b){var d=Zd(b.getFullYear());return b=+new Date(b.getFullYear(),b.getMonth(),b.getDate()+(4-b.getDay()))-+d,Pb(b=1+Math.round(b/6048e5),a)}}function Gc(a,b){return a.getFullYear()&lt;=0?b.ERAS[0]:b.ERAS[1]}function Td(a){function b(a){var b,f,g,k,h;return(b=a.match(d))&amp;&amp;(a=new Date(0),g=f=0,k=b[8]?a.setUTCFullYear:a.setFullYear,h=b[8]?a.setUTCHours:a.setHours,b[9]&amp;&amp;(f=fa(b[9]+b[10]),g=fa(b[9]+b[11])),k.call(a,fa(b[1]),fa(b[2])-1,fa(b[3])),f=fa(b[4]||0)-f,g=fa(b[5]||0)-g,k=fa(b[6]||0),b=Math.round(1e3*parseFloat("0."+(b[7]||0))),h.call(a,f,g,k,b)),a}var d=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,f){var h,l,g="",k=[];if(d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,C(c)&amp;&amp;(c=(jh.test(c)?fa:b)(c)),X(c)&amp;&amp;(c=new Date(c)),!ha(c)||!isFinite(c.getTime()))return c;for(;d;)d=(l=kh.exec(d))?(k=db(k,l,1)).pop():(k.push(d),null);var m=c.getTimezoneOffset();return f&amp;&amp;(m=fc(f,m),c=gc(c,f,!0)),r(k,function(b){h=lh[b],g+=h?h(c,a.DATETIME_FORMATS,m):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),g}}function ch(){return function(a,b){return A(b)&amp;&amp;(b=2),eb(a,b)}}function dh(){return function(a,b,d){return b=(1/0===Math.abs(Number(b))?Number:fa)(b),Y(b)?a:(X(a)&amp;&amp;(a=a.toString()),za(a)?(d=(d=!d||isNaN(d)?0:fa(d))&lt;0?Math.max(0,a.length+d):d,0&lt;=b?Hc(a,d,d+b):0===d?Hc(a,b,a.length):Hc(a,Math.max(0,d+b),d)):a)}}function Hc(a,b,d){return C(a)?a.slice(b,d):Ha.call(a,b,d)}function Vd(a){function b(b){return b.map(function(b){var e,c=1,d=Ta;return B(b)?d=b:C(b)&amp;&amp;("+"!==b.charAt(0)&amp;&amp;"-"!==b.charAt(0)||(c="-"===b.charAt(0)?-1:1,b=b.substring(1)),""!==b&amp;&amp;(d=a(b)).constant&amp;&amp;(e=d(),d=function(a){return a[e]})),{get:d,descending:c}})}function d(a){switch(typeof a){case"number":case"boolean":case"string":return 1;default:return}}function c(a,b){var l,c=0,d=a.type,h=b.type;return d===h?(h=a.value,l=b.value,"string"===d?(h=h.toLowerCase(),l=l.toLowerCase()):"object"===d&amp;&amp;(D(h)&amp;&amp;(h=a.index),D(l)&amp;&amp;(l=b.index)),h!==l&amp;&amp;(c=h&lt;l?-1:1)):c="undefined"!==d&amp;&amp;("undefined"===h||"null"!==d&amp;&amp;("null"===h||d&lt;h))?-1:1,c}return function(a,f,g,k){if(null==a)return a;if(!za(a))throw F("orderBy")("notarray",a);H(f)||(f=[f]),0===f.length&amp;&amp;(f=["+"]);var h=b(f),l=g?-1:1,m=B(k)?k:c;return(a=Array.prototype.map.call(a,function(a,b){return{value:a,tieBreaker:{value:b,type:"number",index:b},predicateValues:h.map(function(c){var e=c.get(a);return c=typeof e,null===e?c="null":"object"===c&amp;&amp;(B(e.valueOf)&amp;&amp;d(e=e.valueOf())||cc(e)&amp;&amp;d(e=e.toString())),{value:e,type:c,index:b}})}})).sort(function(a,b){for(var d=0,e=h.length;d&lt;e;d++){var f=m(a.predicateValues[d],b.predicateValues[d]);if(f)return f*h[d].descending*l}return(m(a.tieBreaker,b.tieBreaker)||c(a.tieBreaker,b.tieBreaker))*l}),a.map(function(a){return a.value})}}function Ra(a){return B(a)&amp;&amp;(a={link:a}),a.restrict=a.restrict||"AC",ia(a)}function Qb(a,b,d,c,e){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=e(b.name||b.ngForm||"")(d),this.$dirty=!1,this.$valid=this.$pristine=!0,this.$submitted=this.$invalid=!1,this.$$parentForm=mb,this.$$element=a,this.$$animate=c,ae(this)}function ae(a){a.$$classCache={},a.$$classCache[be]=!(a.$$classCache[nb]=a.$$element.hasClass(nb))}function ce(a){function b(a,b,c){c&amp;&amp;!a.$$classCache[b]?(a.$$animate.addClass(a.$$element,b),a.$$classCache[b]=!0):!c&amp;&amp;a.$$classCache[b]&amp;&amp;(a.$$animate.removeClass(a.$$element,b),a.$$classCache[b]=!1)}function d(a,c,d){c=c?"-"+Xc(c,"-"):"",b(a,nb+c,!0===d),b(a,be+c,!1===d)}var c=a.set,e=a.unset;a.clazz.prototype.$setValidity=function(a,g,k){A(g)?(this.$pending||(this.$pending={}),c(this.$pending,a,k)):(this.$pending&amp;&amp;e(this.$pending,a,k),de(this.$pending)&amp;&amp;(this.$pending=void 0)),Ga(g)?g?(e(this.$error,a,k),c(this.$$success,a,k)):(c(this.$error,a,k),e(this.$$success,a,k)):(e(this.$error,a,k),e(this.$$success,a,k)),this.$pending?(b(this,"ng-pending",!0),this.$valid=this.$invalid=void 0,d(this,"",null)):(b(this,"ng-pending",!1),this.$valid=de(this.$error),this.$invalid=!this.$valid,d(this,"",this.$valid)),d(this,a,g=this.$pending&amp;&amp;this.$pending[a]?void 0:!this.$error[a]&amp;&amp;(!!this.$$success[a]||null)),this.$$parentForm.$setValidity(a,g,this)}}function de(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function Ic(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function Sa(a,b,d,c,e,f){var k,g=K(b[0].type);e.android||(k=!1,b.on("compositionstart",function(){k=!0}),b.on("compositionupdate",function(a){!A(a.data)&amp;&amp;""!==a.data||(k=!1)}),b.on("compositionend",function(){k=!1,l()}));var h,m,l=function(a){var e;h&amp;&amp;(f.defer.cancel(h),h=null),k||(e=b.val(),a=a&amp;&amp;a.type,"password"===g||d.ngTrim&amp;&amp;"false"===d.ngTrim||(e=V(e)),(c.$viewValue!==e||""===e&amp;&amp;c.$$hasNativeValidators)&amp;&amp;c.$setViewValue(e,a))};e.hasEvent("input")?b.on("input",l):(m=function(a,b,c){h=h||f.defer(function(){h=null,b&amp;&amp;b.value===c||l(a)})},b.on("keydown",function(a){var b=a.keyCode;91===b||15&lt;b&amp;&amp;b&lt;19||37&lt;=b&amp;&amp;b&lt;=40||m(a,this,this.value)}),e.hasEvent("paste")&amp;&amp;b.on("paste cut drop",m)),b.on("change",l),ee[g]&amp;&amp;c.$$hasNativeValidators&amp;&amp;g===d.type&amp;&amp;b.on("keydown wheel mousedown",function(a){var b,c,d;h||(b=this.validity,c=b.badInput,d=b.typeMismatch,h=f.defer(function(){h=null,b.badInput===c&amp;&amp;b.typeMismatch===d||l(a)}))}),c.$render=function(){var a=c.$isEmpty(c.$viewValue)?"":c.$viewValue;b.val()!==a&amp;&amp;b.val(a)}}function Rb(a,b){return function(e,c){var f;if(ha(e))return e;if(C(e)){if('"'===e.charAt(0)&amp;&amp;'"'===e.charAt(e.length-1)&amp;&amp;(e=e.substring(1,e.length-1)),mh.test(e))return new Date(e);if(a.lastIndex=0,e=a.exec(e))return e.shift(),f=c?{yyyy:c.getFullYear(),MM:c.getMonth()+1,dd:c.getDate(),HH:c.getHours(),mm:c.getMinutes(),ss:c.getSeconds(),sss:c.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(e,function(a,c){c&lt;b.length&amp;&amp;(f[b[c]]=+a)}),e=new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1e3*f.sss||0),f.yyyy&lt;100&amp;&amp;e.setFullYear(f.yyyy),e}return NaN}}function ob(a,b,d,c){return function(e,f,g,k,h,l,m,p){function n(a){return a&amp;&amp;(!a.getTime||a.getTime()===a.getTime())}function s(a){return w(a)&amp;&amp;!ha(a)?r(a)||void 0:a}function r(a,e){var c=k.$options.getOption("timezone");v&amp;&amp;v!==c&amp;&amp;(e=Uc(e,fc(v)));e=d(a,e);return!isNaN(e)&amp;&amp;c&amp;&amp;(e=gc(e,c)),e}Jc(0,f,0,k,a),Sa(0,f,g,k,h,l);var q,v,x,z,y,J,t="time"===a||"datetimelocal"===a;k.$parsers.push(function(c){return k.$isEmpty(c)?null:b.test(c)?r(c,q):void(k.$$parserName=a)}),k.$formatters.push(function(a){if(a&amp;&amp;!ha(a))throw pb("datefmt",a);if(n(a)){q=a;var b=k.$options.getOption("timezone");b&amp;&amp;(q=gc(q,v=b,!0));var d=c;return t&amp;&amp;C(k.$options.getOption("timeSecondsFormat"))&amp;&amp;(d=c.replace("ss.sss",k.$options.getOption("timeSecondsFormat")).replace(/:$/,"")),a=m("date")(a,d,b),t&amp;&amp;k.$options.getOption("timeStripZeroSeconds")&amp;&amp;(a=a.replace(/(?::00)?(?:\.000)?$/,"")),a}return v=q=null,""}),(w(g.min)||g.ngMin)&amp;&amp;(x=g.min||p(g.ngMin)(e),z=s(x),k.$validators.min=function(a){return!n(a)||A(z)||d(a)&gt;=z},g.$observe("min",function(a){a!==x&amp;&amp;(z=s(a),x=a,k.$validate())})),(w(g.max)||g.ngMax)&amp;&amp;(y=g.max||p(g.ngMax)(e),J=s(y),k.$validators.max=function(a){return!n(a)||A(J)||d(a)&lt;=J},g.$observe("max",function(a){a!==y&amp;&amp;(J=s(a),y=a,k.$validate())}))}}function Jc(a,b,d,c,e){(c.$$hasNativeValidators=D(b[0].validity))&amp;&amp;c.$parsers.push(function(a){var d=b.prop("validity")||{};if(!d.badInput&amp;&amp;!d.typeMismatch)return a;c.$$parserName=e})}function fe(a){a.$parsers.push(function(b){return a.$isEmpty(b)?null:nh.test(b)?parseFloat(b):void(a.$$parserName="number")}),a.$formatters.push(function(b){if(!a.$isEmpty(b)){if(!X(b))throw pb("numfmt",b);b=b.toString()}return b})}function na(a){return w(a)&amp;&amp;!X(a)&amp;&amp;(a=parseFloat(a)),Y(a)?void 0:a}function Kc(a){var b=a.toString(),d=b.indexOf(".");return-1===d?-1&lt;a&amp;&amp;a&lt;1&amp;&amp;(a=/e-(\d+)$/.exec(b))?Number(a[1]):0:b.length-d-1}function ge(a,b,d){var k,h,g,c=(0|(a=Number(a)))!==a,e=(0|b)!==b,f=(0|d)!==d;return(c||e||f)&amp;&amp;(g=c?Kc(a):0,k=e?Kc(b):0,h=f?Kc(d):0,g=Math.max(g,k,h),a*=g=Math.pow(10,g),b*=g,d*=g,c&amp;&amp;(a=Math.round(a)),e&amp;&amp;(b=Math.round(b)),f&amp;&amp;(d=Math.round(d))),0==(a-b)%d}function he(a,b,d,c,e){if(w(c)){if(!(a=a(c)).constant)throw pb("constexpr",d,c);return a(b)}return e}function Lc(a,b){function d(a,b){if(!a||!a.length)return[];if(!b||!b.length)return a;var c=[],d=0;a:for(;d&lt;a.length;d++){for(var e=a[d],m=0;m&lt;b.length;m++)if(e===b[m])continue a;c.push(e)}return c}function c(a){if(!a)return a;var b=a;return H(a)?b=a.map(c).join(" "):D(a)?b=Object.keys(a).filter(function(b){return a[b]}).join(" "):C(a)||(b=a+""),b}var e;return a="ngClass"+a,["$parse",function(f){return{restrict:"AC",link:function(g,k,h){function l(a,b){var c=[];return r(a,function(a){(0&lt;b||p[a])&amp;&amp;(p[a]=(p[a]||0)+b,p[a]===+(0&lt;b)&amp;&amp;c.push(a))}),c.join(" ")}var s,p=k.data("$classCounts"),n=!0;p||(p=T(),k.data("$classCounts",p)),"ngClass"!==a&amp;&amp;(e=e||f("$index",function(a){return 1&amp;a}),g.$watch(e,function(a){var c;a===b?(c=l((c=s)&amp;&amp;c.split(" "),1),h.$addClass(c)):(c=l((c=s)&amp;&amp;c.split(" "),-1),h.$removeClass(c)),n=a})),g.$watch(f(h[a],c),function(a){var e,f,c;n===b&amp;&amp;(f=d(c=s&amp;&amp;s.split(" "),e=a&amp;&amp;a.split(" ")),c=d(e,c),f=l(f,-1),c=l(c,1),h.$addClass(c),h.$removeClass(f)),s=a})}}}]}function sd(a,b,d,c,e,f){return{restrict:"A",compile:function(g,k){var h=a(k[c]);return function(a,c){c.on(e,function(c){function e(){h(a,{$event:c})}if(b.$$phase)if(f)a.$evalAsync(e);else try{e()}catch(g){d(g)}else a.$apply(e)})}}}}function Sb(a,b,d,c,e,f,g,k,h){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=h(d.name||"",!1)(a),this.$$parentForm=mb,this.$options=Tb,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=e(d.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=a,this.$$rootScope=a.$root,this.$$attr=d,this.$$element=c,this.$$animate=f,this.$$timeout=g,this.$$parse=e,this.$$q=k,this.$$exceptionHandler=b,ae(this),function(a){a.$$scope.$watch(function(b){return(b=a.$$ngModelGet(b))===a.$modelValue||a.$modelValue!=a.$modelValue&amp;&amp;b!=b||a.$$setModelValue(b),b})}(this)}function Mc(a){this.$$options=a}function ie(a,b){r(b,function(b,c){w(a[c])||(a[c]=b)})}function Oa(a,b){a.prop("selected",b),a.attr("selected",b)}function je(a,b,d){if(a){if(C(a)&amp;&amp;(a=new RegExp("^"+a+"$")),!a.test)throw F("ngPattern")("noregexp",b,a,Aa(d));return a}}function Ub(a){return a=fa(a),Y(a)?-1:a}var x,sb,lc,Xb={objectMaxDepth:5,urlErrorParamsEnabled:!0},ke=/^\/(.+)\/([a-z]*)$/,ta=Object.prototype.hasOwnProperty,K=function(a){return C(a)?a.toLowerCase():a},vb=function(a){return C(a)?a.toUpperCase():a},Ha=[].slice,Kg=[].splice,re=[].push,la=Object.prototype.toString,Rc=Object.getPrototypeOf,oa=F("ng"),ca=z.angular||(z.angular={}),qb=0,wa=z.document.documentMode,Y=Number.isNaN||function(a){return a!=a};E.$inject=[],Ta.$inject=[];var a,ze=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,V=function(a){return C(a)?a.trim():a},Od=function(a){return a.replace(/([-()[\]{}+?*.$^|,:#&lt;!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ba=function(){if(!w(Ba.rules)){var a=z.document.querySelector("[ng-csp]")||z.document.querySelector("[data-ng-csp]");if(a){var b=a.getAttribute("ng-csp")||a.getAttribute("data-ng-csp");Ba.rules={noUnsafeEval:!b||-1!==b.indexOf("no-unsafe-eval"),noInlineStyle:!b||-1!==b.indexOf("no-inline-style")}}else{a=Ba;try{new Function(""),b=!1}catch(d){b=!0}a.rules={noUnsafeEval:b,noInlineStyle:!1}}}return Ba.rules},rb=function(){if(w(rb.name_))return rb.name_;for(var a,c,e,d=Qa.length,b=0;b&lt;d;++b)if(c=Qa[b],a=z.document.querySelector("["+c.replace(":","\\:")+"jq]")){e=a.getAttribute(c+"jq");break}return rb.name_=e},Be=/:/g,Qa=["ng-","data-ng-","ng:","x-ng-"],Fe=(a=z.document,!(qe=a.currentScript)||(qe instanceof z.HTMLScriptElement||qe instanceof z.SVGScriptElement)&amp;&amp;[(qe=qe.attributes).getNamedItem("src"),qe.getNamedItem("href"),qe.getNamedItem("xlink:href")].every(function(b){if(!b)return!0;if(!b.value)return!1;var c=a.createElement("a");if(c.href=b.value,a.location.origin===c.origin)return!0;switch(c.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})),Ie=/[A-Z]/g,Yc=!1,Pa=3,Pe={full:"1.8.2",major:1,minor:8,dot:2,codeName:"meteoric-mining"};U.expando="ng339";var Ka=U.cache={},ug=1;U._data=function(a){return this.cache[a[this.expando]]||{}};var qg=/-([a-z])/g,qh=/^-ms-/,Bb={mouseleave:"mouseout",mouseenter:"mouseover"},oc=F("jqLite"),tg=/^&lt;([\w-]+)\s*\/?&gt;(?:&lt;\/\1&gt;|)$/,nc=/&lt;|&amp;#?\w+;/,rg=/&lt;([\w:-]+)/,sg=/&lt;(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^&gt;]*)\/&gt;/gi,qa={thead:["table"],col:["colgroup","table"],tr:["tbody","table"],td:["tr","tbody","table"]};qa.tbody=qa.tfoot=qa.colgroup=qa.caption=qa.thead,qa.th=qa.td;var Nc,hb={option:[1,'&lt;select multiple="multiple"&gt;',"&lt;/select&gt;"],_default:[0,"",""]};for(Nc in qa){var le=qa[Nc],me=le.slice().reverse();hb[Nc]=[me.length,"&lt;"+me.join("&gt;&lt;")+"&gt;","&lt;/"+le.join("&gt;&lt;/")+"&gt;"]}hb.optgroup=hb.option;var zg=z.Node.prototype.contains||function(a){return!!(16&amp;this.compareDocumentPosition(a))},Wa=U.prototype={ready:hd,toString:function(){var a=[];return r(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return x(0&lt;=a?this[a]:this[this.length+a])},length:0,push:re,sort:[].sort,splice:[].splice},Hb={};r("multiple selected checked disabled readOnly required open".split(" "),function(a){Hb[K(a)]=a});var od={};r("input select option textarea button form details".split(" "),function(a){od[a]=!0});var vd={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};r({data:sc,removeData:rc,hasData:function(a){for(var b in Ka[a.ng339])return!0;return!1},cleanData:function(a){for(var b=0,d=a.length;b&lt;d;b++)rc(a[b]),kd(a[b])}},function(a,b){U[b]=a}),r({data:sc,inheritedData:Fb,scope:function(a){return x.data(a,"$scope")||Fb(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return x.data(a,"$isolateScope")||x.data(a,"$isolateScopeNoTemplate")},controller:ld,injector:function(a){return Fb(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Cb,css:function(a,b,d){if(b=yb(b.replace(qh,"ms-")),!w(d))return a.style[b];a.style[b]=d},attr:function(a,b,d){if((c=a.nodeType)!==Pa&amp;&amp;2!==c&amp;&amp;8!==c&amp;&amp;a.getAttribute){var c=K(b),e=Hb[c];if(!w(d))return a=a.getAttribute(b),e&amp;&amp;null!==a&amp;&amp;(a=c),null===a?void 0:a;null===d||!1===d&amp;&amp;e?a.removeAttribute(b):a.setAttribute(b,e?c:d)}},prop:function(a,b,d){if(!w(d))return a[b];a[b]=d},text:function(){function a(a,d){if(A(d)){var c=a.nodeType;return 1===c||c===Pa?a.textContent:""}a.textContent=d}return a.$dv="",a}(),val:function(a,b){if(A(b)){if(a.multiple&amp;&amp;"select"===ua(a)){var d=[];return r(a.options,function(a){a.selected&amp;&amp;d.push(a.value||a.text)}),d}return a.value}a.value=b},html:function(a,b){if(A(b))return a.innerHTML;zb(a,!0),a.innerHTML=b},empty:md},function(a,b){U.prototype[b]=function(b,c){var f,g=this.length;if(a!==md&amp;&amp;A(2===a.length&amp;&amp;a!==Cb&amp;&amp;a!==ld?b:c)){if(D(b)){for(e=0;e&lt;g;e++)if(a===sc)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}for(g=A(e=a.$dv)?Math.min(g,1):g,f=0;f&lt;g;f++)var k=a(this[f],b,c),e=e?e+k:k;return e}for(e=0;e&lt;g;e++)a(this[e],b,c);return this}}),r({removeData:rc,on:function(a,b,d,c){if(w(c))throw oc("onargs");if(mc(a))for(var e=(c=Ab(a,!0)).events,f=(f=c.handle)||(c.handle=function(a,b){var d=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var k,f=b[d||c.type],g=f?f.length:0;if(g){A(c.immediatePropagationStopped)&amp;&amp;(k=c.stopImmediatePropagation,c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&amp;&amp;c.stopPropagation(),k&amp;&amp;k.call(c)}),c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};var h=f.specialHandlerWrapper||xg;1&lt;g&amp;&amp;(f=ja(f));for(var l=0;l&lt;g;l++)c.isImmediatePropagationStopped()||h(a,c,f[l])}};return d.elem=a,d}(a,e)),g=(c=0&lt;=b.indexOf(" ")?b.split(" "):[b]).length,k=function(b,c,g){var k=e[b];k||((k=e[b]=[]).specialHandlerWrapper=c,"$destroy"===b||g||a.addEventListener(b,f)),k.push(d)};g--;)b=c[g],Bb[b]?(k(Bb[b],yg),k(b,void 0,!0)):k(b)},off:kd,one:function(a,b,d){(a=x(a)).on(b,function e(){a.off(b,d),a.off(b,e)}),a.on(b,d)},replaceWith:function(a,b){var d,c=a.parentNode;zb(a),r(new U(b),function(b){d?c.insertBefore(b,d.nextSibling):c.replaceChild(b,a),d=b})},children:function(a){var b=[];return r(a.childNodes,function(a){1===a.nodeType&amp;&amp;b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){if(1===(d=a.nodeType)||11===d)for(var d=0,c=(b=new U(b)).length;d&lt;c;d++)a.appendChild(b[d])},prepend:function(a,b){var d;1===a.nodeType&amp;&amp;(d=a.firstChild,r(new U(b),function(b){a.insertBefore(b,d)}))},wrap:function(a,c){var d=x(c).eq(0).clone()[0],c=a.parentNode;c&amp;&amp;c.replaceChild(d,a),d.appendChild(a)},remove:Gb,detach:function(a){Gb(a,!0)},after:function(a,b){var d=a,c=a.parentNode;if(c)for(var e=0,f=(b=new U(b)).length;e&lt;f;e++){var g=b[e];c.insertBefore(g,d.nextSibling),d=g}},addClass:Eb,removeClass:Db,toggleClass:function(a,b,d){b&amp;&amp;r(b.split(" "),function(b){var e=d;A(e)&amp;&amp;(e=!Cb(a,b)),(e?Eb:Db)(a,b)})},parent:function(a){return(a=a.parentNode)&amp;&amp;11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:qc,triggerHandler:function(a,b,d){var c,e,f=b.type||b,g=Ab(a);(g=(g=g&amp;&amp;g.events)&amp;&amp;g[f])&amp;&amp;(c={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:E,type:f,target:a},b.type&amp;&amp;(c=S(c,b)),b=ja(g),e=d?[c].concat(d):[c],r(b,function(b){c.isImmediatePropagationStopped()||b.apply(a,e)}))}},function(a,b){U.prototype[b]=function(b,c,e){for(var f,g=0,k=this.length;g&lt;k;g++)A(f)?w(f=a(this[g],b,c,e))&amp;&amp;(f=x(f)):pc(f,a(this[g],b,c,e));return w(f)?f:this}}),U.prototype.bind=U.prototype.on,U.prototype.unbind=U.prototype.off;var rh=Object.create(null);pd.prototype={_idx:function(a){return a!==this._lastKey&amp;&amp;(this._lastKey=a,this._lastIndex=this._keys.indexOf(a)),this._lastIndex},_transformKey:function(a){return Y(a)?rh:a},get:function(a){if(a=this._transformKey(a),-1!==(a=this._idx(a)))return this._values[a]},has:function(a){return a=this._transformKey(a),-1!==this._idx(a)},set:function(a,b){a=this._transformKey(a);var d=this._idx(a);-1===d&amp;&amp;(d=this._lastIndex=this._keys.length),this._keys[d]=a,this._values[d]=b},delete:function(a){return a=this._transformKey(a),-1!==(a=this._idx(a))&amp;&amp;(this._keys.splice(a,1),this._values.splice(a,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Ib=pd,og=[function(){this.$get=[function(){return Ib}]}],Bg=/^([^(]+?)=&gt;/,Cg=/^[^(]*\(\s*([^)]*)\)/m,sh=/,/,th=/^\s*(_?)(\S+?)\1\s*$/,Ag=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ca=F("$injector");function Ef(){this.$get=E}function Ff(){var a=new Ib,b=[];this.$get=["$$AnimateRunner","$rootScope",function(d,c){function e(a,b,c){var d=!1;return b&amp;&amp;r(b=C(b)?b.split(" "):H(b)?b:[],function(b){b&amp;&amp;(d=!0,a[b]=c)}),d}function f(){r(b,function(b){var d,e,f,c=a.get(b);c&amp;&amp;(d=function(a){C(a)&amp;&amp;(a=a.split(" "));var b=T();return r(a,function(a){a.length&amp;&amp;(b[a]=!0)}),b}(b.attr("class")),f=e="",r(c,function(a,b){a!==!!d[b]&amp;&amp;(a?e+=(e.length?" ":"")+b:f+=(f.length?" ":"")+b)}),r(b,function(a){e&amp;&amp;Eb(a,e),f&amp;&amp;Db(a,f)}),a.delete(b))}),b.length=0}return{enabled:E,on:E,off:E,pin:E,push:function(g,k,h,l){return l&amp;&amp;l(),(h=h||{}).from&amp;&amp;g.css(h.from),h.to&amp;&amp;g.css(h.to),(h.addClass||h.removeClass)&amp;&amp;(k=h.addClass,l=h.removeClass,k=e(h=a.get(g)||{},k,!0),l=e(h,l,!1),(k||l)&amp;&amp;(a.set(g,h),b.push(g),1===b.length&amp;&amp;c.$$postDigest(f))),(g=new d).complete(),g}}}]}function Hf(){this.$get=["$$rAF",function(a){function b(b){d.push(b),1&lt;d.length||a(function(){for(var a=0;a&lt;d.length;a++)d[a]();d=[]})}var d=[];return function(){var a=!1;return b(function(){a=!0}),function(d){a?d():b(d)}}}]}function Gf(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(a,b,d,c,e){function f(a){this.setHost(a);var b=d();this._doneCallbacks=[],this._tick=function(a){c()?e(a,0,!1):b(a)},this._state=0}return f.chain=function(a,b){var d=0;!function c(){d===a.length?b(!0):a[d](function(a){!1===a?b(!1):(d++,c())})}()},f.all=function(a,b){function c(f){e=e&amp;&amp;f,++d===a.length&amp;&amp;b(e)}var d=0,e=!0;r(a,function(a){a.done(c)})},f.prototype={setHost:function(a){this.host=a||{}},done:function(a){2===this._state?a():this._doneCallbacks.push(a)},progress:E,getPromise:function(){var b;return this.promise||((b=this).promise=a(function(a,c){b.done(function(b){(!1===b?c:a)()})})),this.promise},then:function(a,b){return this.getPromise().then(a,b)},catch:function(a){return this.getPromise().catch(a)},finally:function(a){return this.getPromise().finally(a)},pause:function(){this.host.pause&amp;&amp;this.host.pause()},resume:function(){this.host.resume&amp;&amp;this.host.resume()},end:function(){this.host.end&amp;&amp;this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&amp;&amp;this.host.cancel(),this._resolve(!1)},complete:function(a){var b=this;0===b._state&amp;&amp;(b._state=1,b._tick(function(){b._resolve(a)}))},_resolve:function(a){2!==this._state&amp;&amp;(r(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=2)}},f}]}function Df(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,d){return function(b,e){function f(){return a(function(){g.addClass&amp;&amp;(b.addClass(g.addClass),g.addClass=null),g.removeClass&amp;&amp;(b.removeClass(g.removeClass),g.removeClass=null),g.to&amp;&amp;(b.css(g.to),g.to=null),k||h.complete(),k=!0}),h}var g=e||{};g.$$prepared||(g=Ia(g)),g.cleanupStyles&amp;&amp;(g.from=g.to=null),g.from&amp;&amp;(b.css(g.from),g.from=null);var k,h=new d;return{start:f,end:f}}}]}fb.$$annotate=function(a,b,d){var c;if("function"==typeof a){if(!(c=a.$inject)){if(c=[],a.length){if(b)throw C(d)&amp;&amp;d||(d=a.name||function(a){return(a=qd(a))?"function("+(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(a)),Ca("strictdi",d);r((b=qd(a))[1].split(sh),function(a){a.replace(th,function(a,b,d){c.push(d)})})}a.$inject=c}}else H(a)?(tb(a[b=a.length-1],"fn"),c=a.slice(0,b)):tb(a,"fn",!0);return c};var ne=F("$animate"),Cf=["$provide",function(a){var b=this,d=null,c=null;this.$$registeredAnimations=Object.create(null),this.register=function(c,d){if(c&amp;&amp;"."!==c.charAt(0))throw ne("notcsel",c);var g=c+"-animation";b.$$registeredAnimations[c.substr(1)]=g,a.factory(g,d)},this.customFilter=function(a){return 1===arguments.length&amp;&amp;(c=B(a)?a:null),c},this.classNameFilter=function(a){if(1===arguments.length&amp;&amp;(d=a instanceof RegExp?a:null)&amp;&amp;/[(\s|\/)]ng-animate[(\s|\/)]/.test(d.toString()))throw d=null,ne("nongcls","ng-animate");return d},this.$get=["$$animateQueue",function(a){function b(a,c,d){if(d){var e;a:{for(e=0;e&lt;d.length;e++){var f=d[e];if(1===f.nodeType){e=f;break a}}e=void 0}!e||e.parentNode||e.previousElementSibling||(d=null)}d?d.after(a):c.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.cancel&amp;&amp;a.cancel()},enter:function(c,d,h,l){return d=d&amp;&amp;x(d),h=h&amp;&amp;x(h),b(c,d=d||h.parent(),h),a.push(c,"enter",ra(l))},move:function(c,d,h,l){return d=d&amp;&amp;x(d),h=h&amp;&amp;x(h),b(c,d=d||h.parent(),h),a.push(c,"move",ra(l))},leave:function(b,c){return a.push(b,"leave",ra(c),function(){b.remove()})},addClass:function(b,c,d){return(d=ra(d)).addClass=ib(d.addclass,c),a.push(b,"addClass",d)},removeClass:function(b,c,d){return(d=ra(d)).removeClass=ib(d.removeClass,c),a.push(b,"removeClass",d)},setClass:function(b,c,d,f){return(f=ra(f)).addClass=ib(f.addClass,c),f.removeClass=ib(f.removeClass,d),a.push(b,"setClass",f)},animate:function(b,c,d,f,m){return(m=ra(m)).from=m.from?S(m.from,c):c,m.to=m.to?S(m.to,d):d,m.tempClasses=ib(m.tempClasses,f||"ng-inline-animate"),a.push(b,"animate",m)}}}]}],$=F("$compile"),uc=new function(){};function Of(){this.$get=["$document",function(a){return function(b){return b?!b.nodeType&amp;&amp;b instanceof x&amp;&amp;(b=b[0]):b=a[0].body,b.offsetWidth+1}}]}Zc.$inject=["$provide","$$sanitizeUriProvider"],Kb.prototype.isFirstChange=function(){return this.previousValue===uc};var rd=/^((?:x|data)[:\-_])/i,Jg=/[:\-_]+(.)/g,xd=F("$controller"),wd=/^(\S+)(\s+as\s+([\w$]+))?$/,yd="application/json",xc={"Content-Type":yd+";charset=utf-8"},Mg=/^\[|^\{(?!\{)/,Ng={"[":/]$/,"{":/}$/},Lg=/^\)]\}',?\n/,Lb=F("$http"),Ma=ca.$interpolateMinErr=F("$interpolate");function Xf(){this.$get=function(){var b=ca.callbacks,d={};return{createCallback:function(c){var e="angular.callbacks."+(c="_"+(b.$$counter++).toString(36)),f=function(a){var b=function(a){b.data=a,b.called=!0};return b.id=a,b}(c);return d[e]=b[c]=f,e},wasCalled:function(a){return d[a].called},getResponse:function(a){return d[a].data},removeCallback:function(a){delete b[d[a].id],delete d[a]}}}}Ma.throwNoconcat=function(a){throw Ma("noconcat",a)},Ma.interr=function(a,b){return Ma("interr",a,b.toString())};var Qg=F("$interval"),uh=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Rg={http:80,https:443,ftp:21},kb=F("$location"),Sg=/^\s*[\\/]{2,}/,vh={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){for(var a=this.$$path,b=this.$$hash,d=function(a){var b=[];return r(a,function(a,c){H(a)?r(a,function(a){b.push(ba(c,!0)+(!0===a?"":"="+ba(a,!0)))}):b.push(ba(c,!0)+(!0===a?"":"="+ba(a,!0)))}),b.length?b.join("&amp;"):""}(this.$$search),b=b?"#"+ic(b):"",c=(a=a.split("/")).length;c--;)a[c]=ic(a[c].replace(/%2F/g,"/"));this.$$url=a.join("/")+(d?"?"+d:"")+b,this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:Mb("$$absUrl"),url:function(a){if(A(a))return this.$$url;var b=uh.exec(a);return!b[1]&amp;&amp;""!==a||this.path(decodeURIComponent(b[1])),(b[2]||b[1]||""===a)&amp;&amp;this.search(b[3]||""),this.hash(b[5]||""),this},protocol:Mb("$$protocol"),host:Mb("$$host"),port:Mb("$$port"),path:Fd("$$path",function(a){return"/"===(a=null!==a?a.toString():"").charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(C(a)||X(a))a=a.toString(),this.$$search=hc(a);else{if(!D(a))throw kb("isrcharg");r(a=Ia(a,{}),function(b,c){null==b&amp;&amp;delete a[c]}),this.$$search=a}break;default:A(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:Fd("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};r([Ed,Ac,zc],function(a){a.prototype=Object.create(vh),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==zc||!this.$$html5)throw kb("nostate");return this.$$state=A(b)?null:b,this.$$urlUpdatedByLocation=!0,this}});var Ya=F("$parse"),Wg={}.constructor.prototype.valueOf,Vb=T();r("+ - * / % === !== == != &lt; &gt; &lt;= &gt;= &amp;&amp; || ! = |".split(" "),function(a){Vb[a]=!0});var wh={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Ob=function(a){this.options=a};Ob.prototype={constructor:Ob,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index&lt;this.text.length;){var b,d,c,e;'"'===(a=this.text.charAt(this.index))||"'"===a?this.readString(a):this.isNumber(a)||"."===a&amp;&amp;this.isNumber(this.peek())?this.readNumber():this.isIdentifierStart(this.peekMultichar())?this.readIdent():this.is(a,"(){}[].,;:?")?(this.tokens.push({index:this.index,text:a}),this.index++):this.isWhitespace(a)?this.index++:(d=(b=a+this.peek())+this.peek(2),c=Vb[b],e=Vb[d],Vb[a]||c||e?(a=e?d:c?b:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1))}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){return a=a||1,this.index+a&lt;this.text.length&amp;&amp;this.text.charAt(this.index+a)},isNumber:function(a){return"0"&lt;=a&amp;&amp;a&lt;="9"&amp;&amp;"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||" "===a},isIdentifierStart:function(a){return this.options.isIdentifierStart?this.options.isIdentifierStart(a,this.codePointAt(a)):this.isValidIdentifierStart(a)},isValidIdentifierStart:function(a){return"a"&lt;=a&amp;&amp;a&lt;="z"||"A"&lt;=a&amp;&amp;a&lt;="Z"||"_"===a||"$"===a},isIdentifierContinue:function(a){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(a,this.codePointAt(a)):this.isValidIdentifierContinue(a)},isValidIdentifierContinue:function(a,b){return this.isValidIdentifierStart(a,b)||this.isNumber(a)},codePointAt:function(a){return 1===a.length?a.charCodeAt(0):(a.charCodeAt(0)&lt;&lt;10)+a.charCodeAt(1)-56613888},peekMultichar:function(){var a=this.text.charAt(this.index),b=this.peek();if(!b)return a;var d=a.charCodeAt(0),c=b.charCodeAt(0);return 55296&lt;=d&amp;&amp;d&lt;=56319&amp;&amp;56320&lt;=c&amp;&amp;c&lt;=57343?a+b:a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,d){throw d=d||this.index,b=w(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,d)+"]":" "+d,Ya("lexerr",a,b,this.text)},readNumber:function(){for(var a="",b=this.index;this.index&lt;this.text.length;){var d=K(this.text.charAt(this.index));if("."===d||this.isNumber(d))a+=d;else{var c=this.peek();if("e"===d&amp;&amp;this.isExpOperator(c))a+=d;else if(this.isExpOperator(d)&amp;&amp;c&amp;&amp;this.isNumber(c)&amp;&amp;"e"===a.charAt(a.length-1))a+=d;else{if(!this.isExpOperator(d)||c&amp;&amp;this.isNumber(c)||"e"!==a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){var a=this.index;for(this.index+=this.peekMultichar().length;this.index&lt;this.text.length;){var b=this.peekMultichar();if(!this.isIdentifierContinue(b))break;this.index+=b.length}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var d="",c=a,e=!1;this.index&lt;this.text.length;){var f=this.text.charAt(this.index),c=c+f;if(e)"u"===f?((e=this.text.substring(this.index+1,this.index+5)).match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+e+"]"),this.index+=4,d+=String.fromCharCode(parseInt(e,16))):d+=wh[f]||f,e=!1;else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:c,constant:!0,value:d});d+=f}this.index++}this.throwError("Unterminated quote",b)}};var q=function(a,b){this.lexer=a,this.options=b};q.Program="Program",q.ExpressionStatement="ExpressionStatement",q.AssignmentExpression="AssignmentExpression",q.ConditionalExpression="ConditionalExpression",q.LogicalExpression="LogicalExpression",q.BinaryExpression="BinaryExpression",q.UnaryExpression="UnaryExpression",q.CallExpression="CallExpression",q.MemberExpression="MemberExpression",q.Identifier="Identifier",q.Literal="Literal",q.ArrayExpression="ArrayExpression",q.Property="Property",q.ObjectExpression="ObjectExpression",q.ThisExpression="ThisExpression",q.LocalsExpression="LocalsExpression",q.NGValueParameter="NGValueParameter",q.prototype={ast:function(a){return this.text=a,this.tokens=this.lexer.lex(a),a=this.program(),0!==this.tokens.length&amp;&amp;this.throwError("is an unexpected token",this.tokens[0]),a},program:function(){for(var a=[];;)if(0&lt;this.tokens.length&amp;&amp;!this.peek("}",")",";","]")&amp;&amp;a.push(this.expressionStatement()),!this.expect(";"))return{type:q.Program,body:a}},expressionStatement:function(){return{type:q.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();if(this.expect("=")){if(!Jd(a))throw Ya("lval");a={type:q.AssignmentExpression,left:a,right:this.assignment(),operator:"="}}return a},ternary:function(){var b,d,a=this.logicalOR();return this.expect("?")&amp;&amp;(b=this.expression(),this.consume(":"))?(d=this.expression(),{type:q.ConditionalExpression,test:a,alternate:b,consequent:d}):a},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:q.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&amp;&amp;");)a={type:q.LogicalExpression,operator:"&amp;&amp;",left:a,right:this.equality()};return a},equality:function(){for(var b,a=this.relational();b=this.expect("==","!=","===","!==");)a={type:q.BinaryExpression,operator:b.text,left:a,right:this.relational()};return a},relational:function(){for(var b,a=this.additive();b=this.expect("&lt;","&gt;","&lt;=","&gt;=");)a={type:q.BinaryExpression,operator:b.text,left:a,right:this.additive()};return a},additive:function(){for(var b,a=this.multiplicative();b=this.expect("+","-");)a={type:q.BinaryExpression,operator:b.text,left:a,right:this.multiplicative()};return a},multiplicative:function(){for(var b,a=this.unary();b=this.expect("*","/","%");)a={type:q.BinaryExpression,operator:b.text,left:a,right:this.unary()};return a},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:q.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a,b;for(this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?a=Ia(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?a={type:q.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());b=this.expect("(","[",".");)"("===b.text?(a={type:q.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:q.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:q.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){a=[a];for(var b={type:q.CallExpression,callee:this.identifier(),arguments:a,filter:!0};this.expect(":");)a.push(this.expression());return b},parseArguments:function(){var a=[];if(")"!==this.peekToken().text)for(;a.push(this.filterChain()),this.expect(","););return a},identifier:function(){var a=this.consume();return a.identifier||this.throwError("is not a valid identifier",a),{type:q.Identifier,name:a.text}},constant:function(){return{type:q.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)for(;!this.peek("]")&amp;&amp;(a.push(this.expression()),this.expect(",")););return this.consume("]"),{type:q.ArrayExpression,elements:a}},object:function(){var b,a=[];if("}"!==this.peekToken().text)for(;!this.peek("}")&amp;&amp;(b={type:q.Property,kind:"init"},this.peek().constant?(b.key=this.constant(),b.computed=!1,this.consume(":"),b.value=this.expression()):this.peek().identifier?(b.key=this.identifier(),b.computed=!1,this.peek(":")?(this.consume(":"),b.value=this.expression()):b.value=b.key):this.peek("[")?(this.consume("["),b.key=this.expression(),this.consume("]"),b.computed=!0,this.consume(":"),b.value=this.expression()):this.throwError("invalid key",this.peek()),a.push(b),this.expect(",")););return this.consume("}"),{type:q.ObjectExpression,properties:a}},throwError:function(a,b){throw Ya("syntax",b.text,a,b.index+1,this.text,this.text.substring(b.index))},consume:function(a){if(0===this.tokens.length)throw Ya("ueoe",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},peekToken:function(){if(0===this.tokens.length)throw Ya("ueoe",this.text);return this.tokens[0]},peek:function(a,b,d,c){return this.peekAhead(0,a,b,d,c)},peekAhead:function(a,b,d,c,e){if(this.tokens.length&gt;a){var f=(a=this.tokens[a]).text;if(f===b||f===d||f===c||f===e||!(b||d||c||e))return a}return!1},expect:function(a,b,d,c){return!!(a=this.peek(a,b,d,c))&amp;&amp;(this.tokens.shift(),a)},selfReferential:{this:{type:q.ThisExpression},$locals:{type:q.LocalsExpression}}};var Hd=2;Ld.prototype={compile:function(a){var b=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Z(a,b.$filter);var c,d="";return this.stage="assign",(c=Kd(a))&amp;&amp;(this.state.computing="assign",d=this.nextId(),this.recurse(c,d),this.return_(d),d="fn.assign="+this.generateFunction("assign","s,v,l")),c=Id(a.body),b.stage="inputs",r(c,function(a,c){var d="fn"+c;b.state[d]={vars:[],body:[],own:{}},b.state.computing=d;var k=b.nextId();b.recurse(a,k),b.return_(k),b.state.inputs.push({name:d,isPure:a.isPure}),a.watchId=c}),this.state.computing="fn",this.stage="main",this.recurse(a),a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+d+this.watchFns()+"return fn;",a=new Function("$filter","getStringValue","ifDefined","plus",a)(this.$filter,Tg,Ug,Gd),this.state=this.stage=void 0,a},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,d=this;return r(b,function(b){a.push("var "+b.name+"="+d.generateFunction(b.name,"s")),b.isPure&amp;&amp;a.push(b.name,".isPure="+JSON.stringify(b.isPure)+";")}),b.length&amp;&amp;a.push("fn.inputs=["+b.map(function(a){return a.name}).join(",")+"];"),a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;return r(this.state.filters,function(d,c){a.push(d+"=$filter("+b.escape(c)+")")}),a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,d,c,e,f){var g,k,l,m,p,h=this;if(c=c||E,!f&amp;&amp;w(a.watchId))b=b||this.nextId(),this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,c,e,!0));else switch(a.type){case q.Program:r(a.body,function(b,c){h.recurse(b.expression,void 0,void 0,function(a){k=a}),c!==a.body.length-1?h.current().body.push(k,";"):h.return_(k)});break;case q.Literal:m=this.escape(a.value),this.assign(b,m),c(b||m);break;case q.UnaryExpression:this.recurse(a.argument,void 0,void 0,function(a){k=a}),m=a.operator+"("+this.ifDefined(k,0)+")",this.assign(b,m),c(m);break;case q.BinaryExpression:this.recurse(a.left,void 0,void 0,function(a){g=a}),this.recurse(a.right,void 0,void 0,function(a){k=a}),m="+"===a.operator?this.plus(g,k):"-"===a.operator?this.ifDefined(g,0)+a.operator+this.ifDefined(k,0):"("+g+")"+a.operator+"("+k+")",this.assign(b,m),c(m);break;case q.LogicalExpression:b=b||this.nextId(),h.recurse(a.left,b),h.if_("&amp;&amp;"===a.operator?b:h.not(b),h.lazyRecurse(a.right,b)),c(b);break;case q.ConditionalExpression:b=b||this.nextId(),h.recurse(a.test,b),h.if_(b,h.lazyRecurse(a.alternate,b),h.lazyRecurse(a.consequent,b)),c(b);break;case q.Identifier:b=b||this.nextId(),d&amp;&amp;(d.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",a.name)),function(){h.if_("inputs"===h.stage||"s",function(){e&amp;&amp;1!==e&amp;&amp;h.if_(h.isNull(h.nonComputedMember("s",a.name)),h.lazyAssign(h.nonComputedMember("s",a.name),"{}")),h.assign(b,h.nonComputedMember("s",a.name))})},b&amp;&amp;h.lazyAssign(b,h.nonComputedMember("l",a.name))),c(b);break;case q.MemberExpression:g=d&amp;&amp;(d.context=this.nextId())||this.nextId(),b=b||this.nextId(),h.recurse(a.object,g,void 0,function(){h.if_(h.notNull(g),function(){a.computed?(k=h.nextId(),h.recurse(a.property,k),h.getStringValue(k),e&amp;&amp;1!==e&amp;&amp;h.if_(h.not(h.computedMember(g,k)),h.lazyAssign(h.computedMember(g,k),"{}")),m=h.computedMember(g,k),h.assign(b,m),d&amp;&amp;(d.computed=!0,d.name=k)):(e&amp;&amp;1!==e&amp;&amp;h.if_(h.isNull(h.nonComputedMember(g,a.property.name)),h.lazyAssign(h.nonComputedMember(g,a.property.name),"{}")),m=h.nonComputedMember(g,a.property.name),h.assign(b,m),d&amp;&amp;(d.computed=!1,d.name=a.property.name))},function(){h.assign(b,"undefined")}),c(b)},!!e);break;case q.CallExpression:b=b||this.nextId(),a.filter?(k=h.filter(a.callee.name),l=[],r(a.arguments,function(a){var b=h.nextId();h.recurse(a,b),l.push(b)}),m=k+"("+l.join(",")+")",h.assign(b,m),c(b)):(k=h.nextId(),g={},l=[],h.recurse(a.callee,k,g,function(){h.if_(h.notNull(k),function(){r(a.arguments,function(b){h.recurse(b,a.constant?void 0:h.nextId(),void 0,function(a){l.push(a)})}),m=g.name?h.member(g.context,g.name,g.computed)+"("+l.join(",")+")":k+"("+l.join(",")+")",h.assign(b,m)},function(){h.assign(b,"undefined")}),c(b)}));break;case q.AssignmentExpression:k=this.nextId(),g={},this.recurse(a.left,void 0,g,function(){h.if_(h.notNull(g.context),function(){h.recurse(a.right,k),m=h.member(g.context,g.name,g.computed)+a.operator+k,h.assign(b,m),c(b||m)})},1);break;case q.ArrayExpression:l=[],r(a.elements,function(b){h.recurse(b,a.constant?void 0:h.nextId(),void 0,function(a){l.push(a)})}),m="["+l.join(",")+"]",this.assign(b,m),c(b||m);break;case q.ObjectExpression:p=!(l=[]),r(a.properties,function(a){a.computed&amp;&amp;(p=!0)}),p?(b=b||this.nextId(),this.assign(b,"{}"),r(a.properties,function(a){a.computed?(g=h.nextId(),h.recurse(a.key,g)):g=a.key.type===q.Identifier?a.key.name:""+a.key.value,k=h.nextId(),h.recurse(a.value,k),h.assign(h.member(b,g,a.computed),k)})):(r(a.properties,function(b){h.recurse(b.value,a.constant?void 0:h.nextId(),void 0,function(a){l.push(h.escape(b.key.type===q.Identifier?b.key.name:""+b.key.value)+":"+a)})}),m="{"+l.join(",")+"}",this.assign(b,m)),c(b||m);break;case q.ThisExpression:this.assign(b,"s"),c(b||"s");break;case q.LocalsExpression:this.assign(b,"l"),c(b||"l");break;case q.NGValueParameter:this.assign(b,"v"),c(b||"v")}},getHasOwnProperty:function(a,b){var d=a+"."+b,c=this.current().own;return c.hasOwnProperty(d)||(c[d]=this.nextId(!1,a+"&amp;&amp;("+this.escape(b)+" in "+a+")")),c[d]},assign:function(a,b){if(a)return this.current().body.push(a,"=",b,";"),a},filter:function(a){return this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0)),this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,d){var c;!0===a?b():((c=this.current().body).push("if(",a,"){"),b(),c.push("}"),d&amp;&amp;(c.push("else{"),d(),c.push("}")))},not:function(a){return"!("+a+")"},isNull:function(a){return a+"==null"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(b)?a+"."+b:a+'["'+b.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,d){return d?this.computedMember(a,b):this.nonComputedMember(a,b)},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},lazyRecurse:function(a,b,d,c,e,f){var g=this;return function(){g.recurse(a,b,d,c,e,f)}},lazyAssign:function(a,b){var d=this;return function(){d.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(C(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(X(a))return a.toString();if(!0===a)return"true";if(!1===a)return"false";if(null===a)return"null";if(void 0===a)return"undefined";throw Ya("esc")},nextId:function(a,b){var d="v"+this.state.nextId++;return a||this.current().vars.push(d+(b?"="+b:"")),d},current:function(){return this.state[this.state.computing]}},Md.prototype={compile:function(a){var d,c,e,b=this;Z(a,b.$filter),(d=Kd(a))&amp;&amp;(c=this.recurse(d)),(d=Id(a.body))&amp;&amp;(e=[],r(d,function(a,c){var d=b.recurse(a);d.isPure=a.isPure,a.input=d,e.push(d),a.watchId=c}));var f=[];return r(a.body,function(a){f.push(b.recurse(a.expression))}),a=0===a.body.length?E:1===a.body.length?f[0]:function(a,b){var c;return r(f,function(d){c=d(a,b)}),c},c&amp;&amp;(a.assign=function(a,b,d){return c(a,d,b)}),e&amp;&amp;(a.inputs=e),a},recurse:function(a,b,d){var c,e,g,f=this;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case q.Literal:return this.value(a.value,b);case q.UnaryExpression:return e=this.recurse(a.argument),this["unary"+a.operator](e,b);case q.BinaryExpression:case q.LogicalExpression:return c=this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](c,e,b);case q.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case q.Identifier:return f.identifier(a.name,b,d);case q.MemberExpression:return c=this.recurse(a.object,!1,!!d),a.computed||(e=a.property.name),a.computed&amp;&amp;(e=this.recurse(a.property)),a.computed?this.computedMember(c,e,b,d):this.nonComputedMember(c,e,b,d);case q.CallExpression:return g=[],r(a.arguments,function(a){g.push(f.recurse(a))}),a.filter&amp;&amp;(e=this.$filter(a.callee.name)),a.filter||(e=this.recurse(a.callee,!0)),a.filter?function(a,c,d,f){for(var p=[],n=0;n&lt;g.length;++n)p.push(g[n](a,c,d,f));return a=e.apply(void 0,p,f),b?{context:void 0,name:void 0,value:a}:a}:function(a,c,d,f){var n,p=e(a,c,d,f);if(null!=p.value){n=[];for(var s=0;s&lt;g.length;++s)n.push(g[s](a,c,d,f));n=p.value.apply(p.context,n)}return b?{value:n}:n};case q.AssignmentExpression:return c=this.recurse(a.left,!0,1),e=this.recurse(a.right),function(a,d,f,g){var p=c(a,d,f,g);return a=e(a,d,f,g),p.context[p.name]=a,b?{value:a}:a};case q.ArrayExpression:return g=[],r(a.elements,function(a){g.push(f.recurse(a))}),function(a,c,d,e){for(var f=[],n=0;n&lt;g.length;++n)f.push(g[n](a,c,d,e));return b?{value:f}:f};case q.ObjectExpression:return g=[],r(a.properties,function(a){a.computed?g.push({key:f.recurse(a.key),computed:!0,value:f.recurse(a.value)}):g.push({key:a.key.type===q.Identifier?a.key.name:""+a.key.value,computed:!1,value:f.recurse(a.value)})}),function(a,c,d,e){for(var f={},n=0;n&lt;g.length;++n)g[n].computed?f[g[n].key(a,c,d,e)]=g[n].value(a,c,d,e):f[g[n].key]=g[n].value(a,c,d,e);return b?{value:f}:f};case q.ThisExpression:return function(a){return b?{value:a}:a};case q.LocalsExpression:return function(a,c){return b?{value:c}:c};case q.NGValueParameter:return function(a,c,d){return b?{value:d}:d}}},"unary+":function(a,b){return function(d,c,e,f){return d=w(d=a(d,c,e,f))?+d:0,b?{value:d}:d}},"unary-":function(a,b){return function(d,c,e,f){return d=w(d=a(d,c,e,f))?-d:-0,b?{value:d}:d}},"unary!":function(a,b){return function(d,c,e,f){return d=!a(d,c,e,f),b?{value:d}:d}},"binary+":function(a,b,d){return function(c,e,f,g){var k=Gd(k=a(c,e,f,g),c=b(c,e,f,g));return d?{value:k}:k}},"binary-":function(a,b,d){return function(c,e,f,g){var k=a(c,e,f,g);return c=b(c,e,f,g),k=(w(k)?k:0)-(w(c)?c:0),d?{value:k}:k}},"binary*":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)*b(c,e,f,g),d?{value:c}:c}},"binary/":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)/b(c,e,f,g),d?{value:c}:c}},"binary%":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)%b(c,e,f,g),d?{value:c}:c}},"binary===":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)===b(c,e,f,g),d?{value:c}:c}},"binary!==":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)!==b(c,e,f,g),d?{value:c}:c}},"binary==":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)==b(c,e,f,g),d?{value:c}:c}},"binary!=":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)!=b(c,e,f,g),d?{value:c}:c}},"binary&lt;":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)&lt;b(c,e,f,g),d?{value:c}:c}},"binary&gt;":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)&gt;b(c,e,f,g),d?{value:c}:c}},"binary&lt;=":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)&lt;=b(c,e,f,g),d?{value:c}:c}},"binary&gt;=":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)&gt;=b(c,e,f,g),d?{value:c}:c}},"binary&amp;&amp;":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)&amp;&amp;b(c,e,f,g),d?{value:c}:c}},"binary||":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)||b(c,e,f,g),d?{value:c}:c}},"ternary?:":function(a,b,d,c){return function(e,f,g,k){return e=(a(e,f,g,k)?b:d)(e,f,g,k),c?{value:e}:e}},value:function(a,b){return function(){return b?{context:void 0,name:void 0,value:a}:a}},identifier:function(a,b,d){return function(c,e,f,g){return c=e&amp;&amp;a in e?e:c,d&amp;&amp;1!==d&amp;&amp;c&amp;&amp;null==c[a]&amp;&amp;(c[a]={}),e=c?c[a]:void 0,b?{context:c,name:a,value:e}:e}},computedMember:function(a,b,d,c){return function(e,f,g,k){var l,m,h=a(e,f,g,k);return null!=h&amp;&amp;(l=b(e,f,g,k),l+="",c&amp;&amp;1!==c&amp;&amp;h&amp;&amp;!h[l]&amp;&amp;(h[l]={}),m=h[l]),d?{context:h,name:l,value:m}:m}},nonComputedMember:function(a,b,d,c){return function(e,f,g,k){return e=a(e,f,g,k),c&amp;&amp;1!==c&amp;&amp;e&amp;&amp;null==e[b]&amp;&amp;(e[b]={}),f=null!=e?e[b]:void 0,d?{context:e,name:b,value:f}:f}},inputs:function(a,b){return function(d,c,e,f){return f?f[b]:a(d,c,e)}}},Nb.prototype={constructor:Nb,parse:function(a){a=this.getAst(a);var b=this.astCompiler.compile(a.ast),d=a.ast;return b.literal=0===d.body.length||1===d.body.length&amp;&amp;(d.body[0].expression.type===q.Literal||d.body[0].expression.type===q.ArrayExpression||d.body[0].expression.type===q.ObjectExpression),b.constant=a.ast.constant,b.oneTime=a.oneTime,b},getAst:function(a){var b=!1;return":"===(a=a.trim()).charAt(0)&amp;&amp;":"===a.charAt(1)&amp;&amp;(b=!0,a=a.substring(2)),{ast:this.ast.ast(a),oneTime:b}}};var Na,Ea=F("$sce"),W={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Dc=/_([a-z])/g,Zg=F("$templateRequest"),$g=F("$timeout"),aa=z.document.createElement("a"),Qd=ga(z.location.href);aa.href="http://[::1]";var ah="[::1]"===aa.hostname;Rd.$inject=["$document"],fd.$inject=["$provide"];var Yd=22,Xd=".",Fc="0";Sd.$inject=["$locale"];var lh={yyyy:ea("FullYear",4,0,!(Ud.$inject=["$locale"]),!0),yy:ea("FullYear",2,0,!0,!0),y:ea("FullYear",1,0,!1,!0),MMMM:lb("Month"),MMM:lb("Month",!0),MM:ea("Month",2,1),M:ea("Month",1,1),LLLL:lb("Month",!1,!0),dd:ea("Date",2),d:ea("Date",1),HH:ea("Hours",2),H:ea("Hours",1),hh:ea("Hours",2,-12),h:ea("Hours",1,-12),mm:ea("Minutes",2),m:ea("Minutes",1),ss:ea("Seconds",2),s:ea("Seconds",1),sss:ea("Milliseconds",3),EEEE:lb("Day"),EEE:lb("Day",!0),a:function(a,b){return a.getHours()&lt;12?b.AMPMS[0]:b.AMPMS[1]},Z:function(a,b,d){return(0&lt;=(a=-1*d)?"+":"")+(Pb(Math[0&lt;a?"floor":"ceil"](a/60),2)+Pb(Math.abs(a%60),2))},ww:$d(2),w:$d(1),G:Gc,GG:Gc,GGG:Gc,GGGG:function(a,b){return a.getFullYear()&lt;=0?b.ERANAMES[0]:b.ERANAMES[1]}},kh=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,jh=/^-?\d+$/;Td.$inject=["$locale"];var eh=ia(K),fh=ia(vb);Vd.$inject=["$parse"];var Re=ia({restrict:"E",compile:function(a,b){if(!b.href&amp;&amp;!b.xlinkHref)return function(a,b){var e;"a"===b[0].nodeName.toLowerCase()&amp;&amp;(e="[object SVGAnimatedString]"===la.call(b.prop("href"))?"xlink:href":"href",b.on("click",function(a){b.attr(e)||a.preventDefault()}))}}}),wb={};r(Hb,function(a,b){function d(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}var c,e;"multiple"!==a&amp;&amp;(c=xa("ng-"+b),e="checked"===a?function(a,b,e){e.ngModel!==e[c]&amp;&amp;d(a,0,e)}:d,wb[c]=function(){return{restrict:"A",priority:100,link:e}})}),r(vd,function(a,b){wb[b]=function(){return{priority:100,link:function(a,c,e){"ngPattern"===b&amp;&amp;"/"===e.ngPattern.charAt(0)&amp;&amp;(c=e.ngPattern.match(ke))?e.$set("ngPattern",new RegExp(c[1],c[2])):a.$watch(e[b],function(a){e.$set(b,a)})}}}}),r(["src","srcset","href"],function(a){var b=xa("ng-"+a);wb[b]=["$sce",function(d){return{priority:99,link:function(c,e,f){var g=a,k=a;"href"===a&amp;&amp;"[object SVGAnimatedString]"===la.call(e.prop("href"))&amp;&amp;(k="xlinkHref",f.$attr[k]="xlink:href",g=null),f.$set(b,d.getTrustedMediaUrl(f[b])),f.$observe(b,function(b){b?(f.$set(k,b),wa&amp;&amp;g&amp;&amp;e.prop(g,f[k])):"href"===a&amp;&amp;f.$set(k,null)})}}}]});var mb={$addControl:E,$getControls:ia([]),$$renameControl:function(a,b){a.$name=b},$removeControl:E,$setValidity:E,$setDirty:E,$setPristine:E,$setSubmitted:E,$$setSubmitted:E};Qb.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Qb.prototype={$rollbackViewValue:function(){r(this.$$controls,function(a){a.$rollbackViewValue()})},$commitViewValue:function(){r(this.$$controls,function(a){a.$commitViewValue()})},$addControl:function(a){Ja(a.$name,"input"),this.$$controls.push(a),a.$name&amp;&amp;(this[a.$name]=a),a.$$parentForm=this},$getControls:function(){return ja(this.$$controls)},$$renameControl:function(a,b){var d=a.$name;this[d]===a&amp;&amp;delete this[d],(this[b]=a).$name=b},$removeControl:function(a){a.$name&amp;&amp;this[a.$name]===a&amp;&amp;delete this[a.$name],r(this.$pending,function(b,d){this.$setValidity(d,null,a)},this),r(this.$error,function(b,d){this.$setValidity(d,null,a)},this),r(this.$$success,function(b,d){this.$setValidity(d,null,a)},this),cb(this.$$controls,a),a.$$parentForm=mb},$setDirty:function(){this.$$animate.removeClass(this.$$element,Za),this.$$animate.addClass(this.$$element,Wb),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Za,Wb+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,r(this.$$controls,function(a){a.$setPristine()})},$setUntouched:function(){r(this.$$controls,function(a){a.$setUntouched()})},$setSubmitted:function(){for(var a=this;a.$$parentForm&amp;&amp;a.$$parentForm!==mb;)a=a.$$parentForm;a.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,r(this.$$controls,function(a){a.$$setSubmitted&amp;&amp;a.$$setSubmitted()})}},ce({clazz:Qb,set:function(a,b,d){var c=a[b];c?-1===c.indexOf(d)&amp;&amp;c.push(d):a[b]=[d]},unset:function(a,b,d){var c=a[b];c&amp;&amp;(cb(c,d),0===c.length&amp;&amp;delete a[b])}});var Se=(se=function(a){return["$timeout","$parse",function(b,d){function c(a){return""===a?d('this[""]').assign:d(a).assign||E}return{name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:Qb,compile:function(d,f){d.addClass(Za).addClass(nb);var g=f.name?"name":!(!a||!f.ngForm)&amp;&amp;"ngForm";return{pre:function(a,d,e,f){var n,p=f[0];"action"in e||(n=function(b){a.$apply(function(){p.$commitViewValue(),p.$setSubmitted()}),b.preventDefault()},d[0].addEventListener("submit",n),d.on("$destroy",function(){b(function(){d[0].removeEventListener("submit",n)},0,!1)})),(f[1]||p.$$parentForm).$addControl(p);var s=g?c(p.$name):E;g&amp;&amp;(s(a,p),e.$observe(g,function(b){p.$name!==b&amp;&amp;(s(a,void 0),p.$$parentForm.$$renameControl(p,b),(s=c(p.$name))(a,p))})),d.on("$destroy",function(){p.$$parentForm.$removeControl(p),s(a,void 0),S(p,mb)})}}}}}]})(),df=se(!0),mh=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,xh=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,yh=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&amp;'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&amp;'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,nh=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,pe=/^(\d{4,})-(\d{2})-(\d{2})$/,qe=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Oc=/^(\d{4,})-W(\d\d)$/,re=/^(\d{4,})-(\d\d)$/,se=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ee=T();function Af(){var a={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(a){this.setAttribute("value",a)}};return{restrict:"E",priority:200,compile:function(b,d){if("hidden"===K(d.type))return{pre:function(b,d,f,g){(b=d[0]).parentNode&amp;&amp;b.parentNode.insertBefore(b,b.nextSibling),Object.defineProperty&amp;&amp;Object.defineProperty(b,"value",a)}}}}}function xf(){function a(a,d,c){var e=w(c)?c:9===wa?"":null;a.prop("value",e),d.$set("value",c)}return{restrict:"A",priority:100,compile:function(b,d){return zh.test(d.ngValue)?function(b,d,f){a(d,f,b=b.$eval(f.ngValue))}:function(b,d,f){b.$watch(f.ngValue,function(b){a(d,f,b)})}}}}r(["date","datetime-local","month","time","week"],function(a){ee[a]=!0});var te={text:function(a,b,d,c,e,f){Sa(0,b,d,c,e,f),Ic(c)},date:ob("date",pe,Rb(pe,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":ob("datetimelocal",qe,Rb(qe,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:ob("time",se,Rb(se,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:ob("week",Oc,function(h,b){if(ha(h))return h;if(C(h)){Oc.lastIndex=0;var d=Oc.exec(h);if(d){var c=+d[1],e=+d[2],f=d=0,g=0,k=0,h=Zd(c),e=7*(e-1);return b&amp;&amp;(d=b.getHours(),f=b.getMinutes(),g=b.getSeconds(),k=b.getMilliseconds()),new Date(c,0,h.getDate()+e,d,f,g,k)}}return NaN},"yyyy-Www"),month:ob("month",re,Rb(re,["yyyy","MM"]),"yyyy-MM"),number:function(a,b,d,c,e,f,g,k){var l,h,m,p,n,s;Jc(0,b,0,c,"number"),fe(c),Sa(0,b,d,c,e,f),(w(d.min)||d.ngMin)&amp;&amp;(l=d.min||k(d.ngMin)(a),h=na(l),c.$validators.min=function(a,b){return c.$isEmpty(b)||A(h)||h&lt;=b},d.$observe("min",function(a){a!==l&amp;&amp;(h=na(a),l=a,c.$validate())})),(w(d.max)||d.ngMax)&amp;&amp;(m=d.max||k(d.ngMax)(a),p=na(m),c.$validators.max=function(a,b){return c.$isEmpty(b)||A(p)||b&lt;=p},d.$observe("max",function(a){a!==m&amp;&amp;(p=na(a),m=a,c.$validate())})),(w(d.step)||d.ngStep)&amp;&amp;(n=d.step||k(d.ngStep)(a),s=na(n),c.$validators.step=function(a,b){return c.$isEmpty(b)||A(s)||ge(b,h||0,s)},d.$observe("step",function(a){a!==n&amp;&amp;(s=na(a),n=a,c.$validate())}))},url:function(a,b,d,c,e,f){Sa(0,b,d,c,e,f),Ic(c),c.$validators.url=function(a,d){d=a||d;return c.$isEmpty(d)||xh.test(d)}},email:function(a,b,d,c,e,f){Sa(0,b,d,c,e,f),Ic(c),c.$validators.email=function(a,d){d=a||d;return c.$isEmpty(d)||yh.test(d)}},radio:function(a,b,d,c){var e=!d.ngTrim||"false"!==V(d.ngTrim);A(d.name)&amp;&amp;b.attr("name",++qb),b.on("change",function(a){var g;b[0].checked&amp;&amp;(g=d.value,e&amp;&amp;(g=V(g)),c.$setViewValue(g,a&amp;&amp;a.type))}),c.$render=function(){var a=d.value;e&amp;&amp;(a=V(a)),b[0].checked=a===c.$viewValue},d.$observe("value",c.$render)},range:function(a,b,d,c,e,f){function g(a,c){b.attr(a,d[a]);var e=d[a];d.$observe(a,function(a){a!==e&amp;&amp;c(e=a)})}Jc(0,b,0,c,"range"),fe(c),Sa(0,b,d,c,e,f);var m=c.$$hasNativeValidators&amp;&amp;"range"===b[0].type,p=m?0:void 0,n=m?100:void 0,s=m?1:void 0,r=b[0].validity;a=w(d.min),e=w(d.max),f=w(d.step);var q=c.$render;c.$render=m&amp;&amp;w(r.rangeUnderflow)&amp;&amp;w(r.rangeOverflow)?function(){q(),c.$setViewValue(b.val())}:q,a&amp;&amp;(p=na(d.min),c.$validators.min=m?function(){return!0}:function(a,b){return c.$isEmpty(b)||A(p)||p&lt;=b},g("min",function(a){p=na(a),Y(c.$modelValue)||(m?((a=b.val())&lt;p&amp;&amp;(a=p,b.val(a)),c.$setViewValue(a)):c.$validate())})),e&amp;&amp;(n=na(d.max),c.$validators.max=m?function(){return!0}:function(a,b){return c.$isEmpty(b)||A(n)||b&lt;=n},g("max",function(a){n=na(a),Y(c.$modelValue)||(m?(a=b.val(),n&lt;a&amp;&amp;(b.val(n),a=n&lt;p?p:n),c.$setViewValue(a)):c.$validate())})),f&amp;&amp;(s=na(d.step),c.$validators.step=m?function(){return!r.stepMismatch}:function(a,b){return c.$isEmpty(b)||A(s)||ge(b,p||0,s)},g("step",function(a){s=na(a),Y(c.$modelValue)||(m?c.$viewValue!==b.val()&amp;&amp;c.$setViewValue(b.val()):c.$validate())}))},checkbox:function(a,b,d,c,e,f,g,k){var h=he(k,a,"ngTrueValue",d.ngTrueValue,!0),l=he(k,a,"ngFalseValue",d.ngFalseValue,!1);b.on("change",function(a){c.$setViewValue(b[0].checked,a&amp;&amp;a.type)}),c.$render=function(){b[0].checked=c.$viewValue},c.$isEmpty=function(a){return!1===a},c.$formatters.push(function(a){return va(a,h)}),c.$parsers.push(function(a){return a?h:l})},hidden:E,button:E,submit:E,reset:E,file:E},$c=["$browser","$sniffer","$filter","$parse",function(a,b,d,c){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,k){k[0]&amp;&amp;(te[K(g.type)]||te.text)(e,f,g,k[0],b,a,d,c)}}}}],zh=/^(true|false|\d+)$/,We=["$compile",function(a){return{restrict:"AC",compile:function(b){return a.$$addBindingClass(b),function(b,c,e){a.$$addBindingInfo(c,e.ngBind),c=c[0],b.$watch(e.ngBind,function(a){c.textContent=jc(a)})}}}}],Ye=["$interpolate","$compile",function(a,b){return{compile:function(d){return b.$$addBindingClass(d),function(c,d,f){c=a(d.attr(f.$attr.ngBindTemplate)),b.$$addBindingInfo(d,c.expressions),d=d[0],f.$observe("ngBindTemplate",function(a){d.textContent=A(a)?"":a})}}}}],Xe=["$sce","$parse","$compile",function(a,b,d){return{restrict:"A",compile:function(c,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(b){return a.valueOf(b)});return d.$$addBindingClass(c),function(b,c,e){d.$$addBindingInfo(c,e.ngBindHtml),b.$watch(g,function(){var d=f(b);c.html(a.getTrustedHtml(d)||"")})}}}}],wf=ia({restrict:"A",require:"ngModel",link:function(a,b,d,c){c.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),Ze=Lc("",!0),af=Lc("Odd",0),$e=Lc("Even",1),bf=Ra({compile:function(a,b){b.$set("ngCloak",void 0),a.removeClass("ng-cloak")}}),cf=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ed={},Ah={blur:!0,focus:!0};function vf(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,c){var e=d.ngList||", ",f="false"!==d.ngTrim,g=f?V(e):e;c.$parsers.push(function(a){if(!A(a)){var b=[];return a&amp;&amp;r(a.split(g),function(a){a&amp;&amp;b.push(f?V(a):a)}),b}}),c.$formatters.push(function(a){if(H(a))return a.join(e)}),c.$isEmpty=function(a){return!a||!a.length}}}}r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=xa("ng-"+a);ed[b]=["$parse","$rootScope","$exceptionHandler",function(d,c,e){return sd(d,c,e,b,a,Ah[a])}]});var ff=["$animate","$compile",function(a,b){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(d,c,e,f,g){var k,h,l;d.$watch(e.ngIf,function(d){d?h||g(function(d,f){h=f,d[d.length++]=b.$$createComment("end ngIf",e.ngIf),k={clone:d},a.enter(d,c.parent(),c)}):(l&amp;&amp;(l.remove(),l=null),h&amp;&amp;(h.$destroy(),h=null),k&amp;&amp;(l=ub(k.clone),a.leave(l).done(function(a){!1!==a&amp;&amp;(l=null)}),k=null))})}}}],gf=["$templateRequest","$anchorScroll","$animate",function(a,b,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ca.noop,compile:function(c,e){var f=e.ngInclude||e.src,g=e.onload||"",k=e.autoscroll;return function(c,e,m,p,n){function v(){t&amp;&amp;(t.remove(),t=null),q&amp;&amp;(q.$destroy(),q=null),x&amp;&amp;(d.leave(x).done(function(a){!1!==a&amp;&amp;(t=null)}),t=x,x=null)}var q,t,x,r=0;c.$watch(f,function(f){function m(a){!1===a||!w(k)||k&amp;&amp;!c.$eval(k)||b()}var t=++r;f?(a(f,!0).then(function(a){var b;c.$$destroyed||t!==r||(b=c.$new(),p.template=a,a=n(b,function(a){v(),d.enter(a,null,e).done(m)}),x=a,(q=b).$emit("$includeContentLoaded",f),c.$eval(g))},function(){c.$$destroyed||t!==r||(v(),c.$emit("$includeContentError",f))}),c.$emit("$includeContentRequested",f)):(v(),p.template=null)})}}}}],zf=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(b,d,c,e){la.call(d[0]).match(/SVG/)?(d.empty(),a(gd(e.template,z.document).childNodes)(b,function(a){d.append(a)},{futureParentElement:d})):(d.html(e.template),a(d.contents())(b))}}}],hf=Ra({priority:450,compile:function(){return{pre:function(a,b,d){a.$eval(d.ngInit)}}}}),nb="ng-valid",be="ng-invalid",Za="ng-pristine",Wb="ng-dirty",pb=F("ngModel");Sb.$inject="$scope $exceptionHandler $attrs $element $parse $animate $timeout $q $interpolate".split(" "),Sb.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var a=this.$$parse(this.$$attr.ngModel+"()"),b=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(b){var c=this.$$parsedNgModel(b);return B(c)&amp;&amp;(c=a(b)),c},this.$$ngModelSet=function(a,c){B(this.$$parsedNgModel(a))?b(a,{$$$p:c}):this.$$parsedNgModelAssign(a,c)}}else if(!this.$$parsedNgModel.assign)throw pb("nonassign",this.$$attr.ngModel,Aa(this.$$element))},$render:E,$isEmpty:function(a){return A(a)||""===a||null===a||a!=a},$$updateEmptyClasses:function(a){this.$isEmpty(a)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Wb),this.$$animate.addClass(this.$$element,Za)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Za),this.$$animate.addClass(this.$$element,Wb),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){var a,b,d,c,e,f;Y(this.$modelValue)||(a=this.$$lastCommittedViewValue,b=this.$$rawModelValue,d=this.$valid,c=this.$modelValue,e=this.$options.getOption("allowInvalid"),(f=this).$$runValidators(b,a,function(a){e||d===a||(f.$modelValue=a?b:void 0,f.$modelValue!==c&amp;&amp;f.$$writeModelToScope())}))},$$runValidators:function(a,b,d){function f(a,b){k===h.$$currentValidationRunId&amp;&amp;h.$setValidity(a,b)}function g(a){k===h.$$currentValidationRunId&amp;&amp;d(a)}this.$$currentValidationRunId++;var k=this.$$currentValidationRunId,h=this;(function(){var a=h.$$parserName;return A(h.$$parserValid)?(f(a,null),1):(h.$$parserValid||(r(h.$validators,function(a,b){f(b,null)}),r(h.$asyncValidators,function(a,b){f(b,null)})),f(a,h.$$parserValid),h.$$parserValid)})()&amp;&amp;function(){var c=!0;return r(h.$validators,function(g,e){g=Boolean(g(a,b));c=c&amp;&amp;g,f(e,g)}),c||(r(h.$asyncValidators,function(a,b){f(b,null)}),0)}()?function(){var c=[],d=!0;r(h.$asyncValidators,function(h,g){h=h(a,b);if(!h||!B(h.then))throw pb("nopromise",h);f(g,void 0),c.push(h.then(function(){f(g,!0)},function(){f(g,d=!1)}))}),c.length?h.$$q.all(c).then(function(){g(d)},E):g(!0)}():g(!1)},$commitViewValue:function(){var a=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==a||""===a&amp;&amp;this.$$hasNativeValidators)&amp;&amp;(this.$$updateEmptyClasses(a),this.$$lastCommittedViewValue=a,this.$pristine&amp;&amp;this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var a=this.$$lastCommittedViewValue,b=this;if(this.$$parserValid=!A(a)||void 0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var d=0;d&lt;this.$parsers.length;d++)if(A(a=this.$parsers[d](a))){this.$$parserValid=!1;break}Y(this.$modelValue)&amp;&amp;(this.$modelValue=this.$$ngModelGet(this.$$scope));var c=this.$modelValue,e=this.$options.getOption("allowInvalid");this.$$rawModelValue=a,e&amp;&amp;(this.$modelValue=a,b.$modelValue!==c&amp;&amp;b.$$writeModelToScope()),this.$$runValidators(a,this.$$lastCommittedViewValue,function(d){e||(b.$modelValue=d?a:void 0,b.$modelValue!==c&amp;&amp;b.$$writeModelToScope())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),r(this.$viewChangeListeners,function(a){try{a()}catch(b){this.$$exceptionHandler(b)}},this)},$setViewValue:function(a,b){this.$viewValue=a,this.$options.getOption("updateOnDefault")&amp;&amp;this.$$debounceViewValueCommit(b)},$$debounceViewValueCommit:function(a){var b=this.$options.getOption("debounce");X(b[a])?b=b[a]:X(b.default)&amp;&amp;-1===this.$options.getOption("updateOn").indexOf(a)?b=b.default:X(b["*"])&amp;&amp;(b=b["*"]),this.$$timeout.cancel(this.$$pendingDebounce);var d=this;0&lt;b?this.$$pendingDebounce=this.$$timeout(function(){d.$commitViewValue()},b):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){d.$commitViewValue()})},$overrideModelOptions:function(a){this.$options=this.$options.createChild(a),this.$$setUpdateOnEvents()},$processModelValue:function(){var a=this.$$format();this.$viewValue!==a&amp;&amp;(this.$$updateEmptyClasses(a),this.$viewValue=this.$$lastCommittedViewValue=a,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,E))},$$format:function(){for(var a=this.$formatters,b=a.length,d=this.$modelValue;b--;)d=a[b](d);return d},$$setModelValue:function(a){this.$modelValue=this.$$rawModelValue=a,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&amp;&amp;this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),(this.$$updateEvents=this.$options.getOption("updateOn"))&amp;&amp;this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(a){this.$$debounceViewValueCommit(a&amp;&amp;a.type)}},ce({clazz:Sb,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]}});var Tb,uf=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Sb,priority:1,compile:function(b){return b.addClass(Za).addClass("ng-untouched").addClass(nb),{pre:function(a,b,e,f){var g=f[0];b=f[1]||g.$$parentForm,(f=f[2])&amp;&amp;(g.$options=f.$options),g.$$initGetterSetters(),b.$addControl(g),e.$observe("name",function(a){g.$name!==a&amp;&amp;g.$$parentForm.$$renameControl(g,a)}),a.$on("$destroy",function(){g.$$parentForm.$removeControl(g)})},post:function(b,c,e,f){function g(){k.$setTouched()}var k=f[0];k.$$setUpdateOnEvents(),c.on("blur",function(){k.$touched||(a.$$phase?b.$evalAsync(g):b.$apply(g))})}}}}}],Bh=/(\s+|^)default(\s+|$)/;function yf(){function a(a,d){this.$$attrs=a,this.$$scope=d}return a.$inject=["$attrs","$scope"],a.prototype={$onInit:function(){var a=this.parentCtrl?this.parentCtrl.$options:Tb,d=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=a.createChild(d)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:a}}function Ue(){return{restrict:"E",require:["select","?ngModel"],controller:Gh,priority:1,link:{pre:function(a,b,d,c){var g,k,e=c[0],f=c[1];f?(e.ngModelCtrl=f,b.on("change",function(){e.removeUnknownOption(),a.$apply(function(){f.$setViewValue(e.readValue())})}),d.multiple&amp;&amp;(e.multiple=!0,e.readValue=function(){var a=[];return r(b.find("option"),function(b){b.selected&amp;&amp;!b.disabled&amp;&amp;(b=b.value,a.push(b in e.selectValueMap?e.selectValueMap[b]:b))}),a},e.writeValue=function(a){r(b.find("option"),function(b){var c=!!a&amp;&amp;(-1!==Array.prototype.indexOf.call(a,b.value)||-1!==Array.prototype.indexOf.call(a,e.selectValueMap[b.value]));c!==b.selected&amp;&amp;Oa(x(b),c)})},k=NaN,a.$watch(function(){k!==f.$viewValue||va(g,f.$viewValue)||(g=ja(f.$viewValue),f.$render()),k=f.$viewValue}),f.$isEmpty=function(a){return!a||0===a.length})):e.registerOption=E},post:function(a,b,d,c){var f,e=c[1];e&amp;&amp;(f=c[0],e.$render=function(){f.writeValue(e.$viewValue)})}}}}Mc.prototype={getOption:function(a){return this.$$options[a]},createChild:function(a){var b=!1;return r(a=S({},a),function(d,c){"$inherit"===d?"*"===c?b=!0:(a[c]=this.$$options[c],"updateOn"===c&amp;&amp;(a.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===c&amp;&amp;(a.updateOnDefault=!1,a[c]=V(d.replace(Bh,function(){return a.updateOnDefault=!0," "})))},this),b&amp;&amp;(delete a["*"],ie(a,this.$$options)),ie(a,Tb.$$options),new Mc(a)}},Tb=new Mc({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var jf=Ra({terminal:!0,priority:1e3}),Ch=F("ngOptions"),Dh=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,sf=["$compile","$document","$parse",function(a,b,d){function c(a,b,c){function e(a,b,c,d,f){this.selectValue=a,this.viewValue=b,this.label=c,this.group=d,this.disabled=f}function f(a){var b;if(!r&amp;&amp;za(a))b=a;else for(var c in b=[],a)a.hasOwnProperty(c)&amp;&amp;"$"!==c.charAt(0)&amp;&amp;b.push(c);return b}var p=a.match(Dh);if(!p)throw Ch("iexp",a,Aa(b));var n=p[5]||p[7],r=p[6];a=/ as /.test(p[0])&amp;&amp;p[1];var q=p[9];b=d(p[2]?p[1]:n);function x(a,b){return v(a,B(a,b))}var t=a&amp;&amp;d(a)||b,w=q&amp;&amp;d(q),v=q?function(a,b){return w(c,b)}:function(a){return La(a)},A=d(p[2]||p[1]),y=d(p[3]||""),J=d(p[4]||""),I=d(p[8]),z={},B=r?function(a,b){return z[r]=b,z[n]=a,z}:function(a){return z[n]=a,z};return{trackBy:q,getTrackByValue:x,getWatchables:d(I,function(a){for(var b=[],d=f(a=a||[]),e=d.length,g=0;g&lt;e;g++){var l=a[k=a===d?g:d[g]],k=B(l,k),l=v(l,k);b.push(l),(p[2]||p[1])&amp;&amp;(l=A(c,k),b.push(l)),p[4]&amp;&amp;(k=J(c,k),b.push(k))}return b}),getOptions:function(){for(var a=[],b={},d=I(c)||[],g=f(d),k=g.length,n=0;n&lt;k;n++){var p=d===g?n:g[n],r=B(d[p],p),s=t(c,r),s=new e(p=v(s,r),s,A(c,r),y(c,r),r=J(c,r));a.push(s),b[p]=s}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[x(a)]},getViewValueFromOption:function(a){return q?Ia(a.viewValue):a.viewValue}}}}}var e=z.document.createElement("option"),f=z.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=E},post:function(d,k,h,l){function m(a){var b=(a=v.getOptionFromViewValue(a))&amp;&amp;a.element;return b&amp;&amp;!b.selected&amp;&amp;(b.selected=!0),a}function p(a,b){(a.element=b).disabled=a.disabled,a.label!==b.label&amp;&amp;(b.label=a.label,b.textContent=a.label),b.value=a.selectValue}var n=l[0],q=l[1],A=h.multiple;l=0;for(var t=k.children(),z=t.length;l&lt;z;l++)if(""===t[l].value){n.hasEmptyOption=!0,n.emptyOption=t.eq(l);break}k.empty(),l=!!n.emptyOption,x(e.cloneNode(!1)).val("?");var v,B=c(h.ngOptions,k,d),C=b[0].createDocumentFragment();n.generateUnknownOptionValue=function(a){return"?"},A?(n.writeValue=function(a){var b;v&amp;&amp;(b=a&amp;&amp;a.map(m)||[],v.items.forEach(function(a){a.element.selected&amp;&amp;-1===Array.prototype.indexOf.call(b,a)&amp;&amp;(a.element.selected=!1)}))},n.readValue=function(){var a=k.val()||[],b=[];return r(a,function(a){(a=v.selectValueMap[a])&amp;&amp;!a.disabled&amp;&amp;b.push(v.getViewValueFromOption(a))}),b},B.trackBy&amp;&amp;d.$watchCollection(function(){if(H(q.$viewValue))return q.$viewValue.map(function(a){return B.getTrackByValue(a)})},function(){q.$render()})):(n.writeValue=function(a){var b,c;v&amp;&amp;(b=k[0].options[k[0].selectedIndex],c=v.getOptionFromViewValue(a),b&amp;&amp;b.removeAttribute("selected"),c?(k[0].value!==c.selectValue&amp;&amp;(n.removeUnknownOption(),k[0].value=c.selectValue,c.element.selected=!0),c.element.setAttribute("selected","selected")):n.selectUnknownOrEmptyOption(a))},n.readValue=function(){var a=v.selectValueMap[k.val()];return a&amp;&amp;!a.disabled?(n.unselectEmptyOption(),n.removeUnknownOption(),v.getViewValueFromOption(a)):null},B.trackBy&amp;&amp;d.$watch(function(){return B.getTrackByValue(q.$viewValue)},function(){q.$render()})),l&amp;&amp;(a(n.emptyOption)(d),k.prepend(n.emptyOption),8===n.emptyOption[0].nodeType?(n.hasEmptyOption=!1,n.registerOption=function(a,b){""===b.val()&amp;&amp;(n.hasEmptyOption=!0,n.emptyOption=b,n.emptyOption.removeClass("ng-scope"),q.$render(),b.on("$destroy",function(){var a=n.$isEmptyOptionSelected();n.hasEmptyOption=!1,n.emptyOption=void 0,a&amp;&amp;q.$render()}))}):n.emptyOption.removeClass("ng-scope")),d.$watchCollection(B.getWatchables,function(){var a=v&amp;&amp;n.readValue();if(v)for(var b=v.items.length-1;0&lt;=b;b--){var c=v.items[b];w(c.group)?Gb(c.element.parentNode):Gb(c.element)}v=B.getOptions();var d={};v.items.forEach(function(a){var b,c;w(a.group)?((b=d[a.group])||(b=f.cloneNode(!1),C.appendChild(b),b.label=null===a.group?"null":a.group,d[a.group]=b),c=e.cloneNode(!1),b.appendChild(c),p(a,c)):(b=e.cloneNode(!1),C.appendChild(b),p(a,b))}),k[0].appendChild(C),q.$render(),q.$isEmpty(a)||(b=n.readValue(),(B.trackBy||A?va(a,b):a===b)||(q.$setViewValue(b),q.$render()))})}}}}],kf=["$locale","$interpolate","$log",function(a,b,d){var c=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(f,g,k){function h(a){g.text(a||"")}var z,l=k.count,m=k.$attr.when&amp;&amp;g.attr(k.$attr.when),p=k.offset||0,n=f.$eval(m)||{},q={},w=b.startSymbol(),t=b.endSymbol(),x=w+l+"-"+p+t,v=ca.noop;r(k,function(a,b){var c=e.exec(b);c&amp;&amp;(c=(c[1]?"-":"")+K(c[2]),n[c]=g.attr(k.$attr[b]))}),r(n,function(a,d){q[d]=b(a.replace(c,x))}),f.$watch(l,function(b){var c=parseFloat(b),e=Y(c);e||c in n||(c=a.pluralCat(c-p)),c===z||e&amp;&amp;Y(z)||(v(),A(e=q[c])?(null!=b&amp;&amp;d.debug("ngPluralize: no rule defined for '"+c+"' in "+m),v=E,h()):v=f.$watch(e,h),z=c)})}}}],ue=F("ngRef"),lf=["$parse",function(a){return{priority:-1,restrict:"A",compile:function(b,d){var c=xa(ua(b)),e=a(d.ngRef),f=e.assign||function(){throw ue("nonassign",d.ngRef)};return function(a,b,h){var l;if(h.hasOwnProperty("ngRefRead")){if("$element"===h.ngRefRead)l=b;else if(!(l=b.data("$"+h.ngRefRead+"Controller")))throw ue("noctrl",h.ngRefRead,d.ngRef)}else l=b.data("$"+c+"Controller");f(a,l=l||b),b.on("$destroy",function(){e(a)===l&amp;&amp;f(a,null)})}}}}],mf=["$parse","$animate","$compile",function(a,b,d){function f(a,b,c){return La(c)}function g(a,b){return b}var c=F("ngRepeat"),e=function(a,b,c,d,e,f,g){a[c]=d,e&amp;&amp;(a[e]=f),a.$index=b,a.$first=0===b,a.$last=b===g-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0==(1&amp;b))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(k,t){var l=t.ngRepeat,m=d.$$createComment("end ngRepeat",l),p=l.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw c("iexp",l);var n=p[1],q=p[2],w=p[3],t=p[4];if(!(p=n.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw c("iidexp",n);var z,y,A,x=p[3]||p[1],v=p[2];if(w&amp;&amp;(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(w)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(w)))throw c("badident",w);return t&amp;&amp;(z={$id:La},y=a(t),A=function(a,b,c,d){return v&amp;&amp;(z[v]=b),z[x]=c,z.$index=d,y(a,z)}),function(a,d,h,k,n){var p=T();a.$watchCollection(q,function(h){var k,q,s,B,C,E,D,H,F,K,t=d[0],y=T();if(w&amp;&amp;(a[w]=h),za(h))H=h,q=A||f;else for(K in q=A||g,H=[],h)ta.call(h,K)&amp;&amp;"$"!==K.charAt(0)&amp;&amp;H.push(K);for(B=H.length,K=Array(B),k=0;k&lt;B;k++)if(C=h===H?k:H[k],E=h[C],D=q(a,C,E,k),p[D])F=p[D],delete p[D],y[D]=F,K[k]=F;else{if(y[D])throw r(K,function(a){a&amp;&amp;a.scope&amp;&amp;(p[a.id]=a)}),c("dupes",l,D,E);K[k]={id:D,scope:void 0,clone:void 0},y[D]=!0}for(s in z&amp;&amp;(z[x]=void 0),p){if(D=ub((F=p[s]).clone),b.leave(D),D[0].parentNode)for(k=0,q=D.length;k&lt;q;k++)D[k].$$NG_REMOVED=!0;F.scope.$destroy()}for(k=0;k&lt;B;k++)if(C=h===H?k:H[k],E=h[C],(F=K[k]).scope){for(s=t;s=s.nextSibling,s&amp;&amp;s.$$NG_REMOVED;);F.clone[0]!==s&amp;&amp;b.move(ub(F.clone),null,t),t=F.clone[F.clone.length-1],e(F.scope,k,x,E,v,C,B)}else n(function(a,d){F.scope=d;d=m.cloneNode(!1);a[a.length++]=d,b.enter(a,null,t),t=d,F.clone=a,y[F.id]=F,e(F.scope,k,x,E,v,C,B)});p=y})}}}}],nf=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngShow,function(b){a[b?"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],ef=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngHide,function(b){a[b?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],of=Ra(function(a,b,d){a.$watchCollection(d.ngStyle,function(a,d){d&amp;&amp;a!==d&amp;&amp;r(d,function(a,c){b.css(c,"")}),a&amp;&amp;b.css(a)})}),pf=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(d,c,e,f){var g,k=[],h=[],l=[];d.$watch(e.ngSwitch||e.on,function(c){for(var d,e;h.length;)a.cancel(h.pop());for(d=0,e=l.length;d&lt;e;++d){var q=ub(k[d].clone);l[d].$destroy(),(h[d]=a.leave(q)).done(function(a,b){return function(c){!1!==c&amp;&amp;a.splice(b,1)}}(h,d))}k.length=0,l.length=0,(g=f.cases["!"+c]||f.cases["?"])&amp;&amp;r(g,function(c){c.transclude(function(d,f){l.push(f);f=c.element;d[d.length++]=b.$$createComment("end ngSwitchWhen"),k.push({clone:d}),a.enter(d,f.parent(),f)})})})}}}],qf=Ra({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){r(d.ngSwitchWhen.split(d.ngSwitchWhenSeparator).sort().filter(function(a,b,c){return c[b-1]!==a}),function(a){c.cases["!"+a]=c.cases["!"+a]||[],c.cases["!"+a].push({transclude:e,element:b})})}}),rf=Ra({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["?"]=c.cases["?"]||[],c.cases["?"].push({transclude:e,element:b})}}),Eh=F("ngTransclude"),tf=["$compile",function(a){return{restrict:"EAC",compile:function(b){var d=a(b.contents());return b.empty(),function(a,b,f,g,k){function h(){d(a,function(a){b.append(a)})}if(!k)throw Eh("orphan",Aa(b));f.ngTransclude===f.$attr.ngTransclude&amp;&amp;(f.ngTransclude=""),k(function(a,c){var d;if(d=a.length)a:{d=0;for(var f=a.length;d&lt;f;d++){var g=a[d];if(g.nodeType!==Pa||g.nodeValue.trim()){d=!0;break a}}d=void 0}d?b.append(a):(h(),c.$destroy())},null,f=f.ngTransclude||f.ngTranscludeSlot),f&amp;&amp;!k.isSlotFilled(f)&amp;&amp;h()}}}}],Te=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,d){"text/ng-template"===d.type&amp;&amp;a.put(d.id,b[0].text)}}}],Fh={$setViewValue:E,$render:E},Gh=["$element","$scope",function(a,b){function d(){g||(g=!0,b.$$postDigest(function(){g=!1,e.ngModelCtrl.$render()}))}function c(a){k||(k=!0,b.$$postDigest(function(){b.$$destroyed||(k=!1,e.ngModelCtrl.$setViewValue(e.readValue()),a&amp;&amp;e.ngModelCtrl.$render())}))}var e=this,f=new Ib;e.selectValueMap={},e.ngModelCtrl=Fh,e.multiple=!1,e.unknownOption=x(z.document.createElement("option")),e.hasEmptyOption=!1,e.emptyOption=void 0,e.renderUnknownOption=function(b){b=e.generateUnknownOptionValue(b),e.unknownOption.val(b),a.prepend(e.unknownOption),Oa(e.unknownOption,!0),a.val(b)},e.updateUnknownOption=function(b){b=e.generateUnknownOptionValue(b),e.unknownOption.val(b),Oa(e.unknownOption,!0),a.val(b)},e.generateUnknownOptionValue=function(a){return"? "+La(a)+" ?"},e.removeUnknownOption=function(){e.unknownOption.parent()&amp;&amp;e.unknownOption.remove()},e.selectEmptyOption=function(){e.emptyOption&amp;&amp;(a.val(""),Oa(e.emptyOption,!0))},e.unselectEmptyOption=function(){e.hasEmptyOption&amp;&amp;Oa(e.emptyOption,!1)},b.$on("$destroy",function(){e.renderUnknownOption=E}),e.readValue=function(){var b=(b=a.val())in e.selectValueMap?e.selectValueMap[b]:b;return e.hasOption(b)?b:null},e.writeValue=function(b){var c=a[0].options[a[0].selectedIndex];c&amp;&amp;Oa(x(c),!1),e.hasOption(b)?(e.removeUnknownOption(),c=La(b),a.val(c in e.selectValueMap?c:b),Oa(x(a[0].options[a[0].selectedIndex]),!0)):e.selectUnknownOrEmptyOption(b)},e.addOption=function(a,c){8!==c[0].nodeType&amp;&amp;(Ja(a,'"option value"'),""===a&amp;&amp;(e.hasEmptyOption=!0,e.emptyOption=c),c=f.get(a)||0,f.set(a,c+1),d())},e.removeOption=function(a){var b=f.get(a);b&amp;&amp;(1===b?(f.delete(a),""===a&amp;&amp;(e.hasEmptyOption=!1,e.emptyOption=void 0)):f.set(a,b-1))},e.hasOption=function(a){return!!f.get(a)},e.$hasEmptyOption=function(){return e.hasEmptyOption},e.$isUnknownOptionSelected=function(){return a[0].options[0]===e.unknownOption[0]},e.$isEmptyOptionSelected=function(){return e.hasEmptyOption&amp;&amp;a[0].options[a[0].selectedIndex]===e.emptyOption[0]};var g=!(e.selectUnknownOrEmptyOption=function(a){null==a&amp;&amp;e.emptyOption?(e.removeUnknownOption(),e.selectEmptyOption()):e.unknownOption.parent().length?e.updateUnknownOption(a):e.renderUnknownOption(a)}),k=!1;e.registerOption=function(a,b,f,g,k){var q,r;f.$attr.ngValue?f.$observe("value",function(a){var d,f=b.prop("selected");w(r)&amp;&amp;(e.removeOption(q),delete e.selectValueMap[r],d=!0),r=La(a),q=a,e.selectValueMap[r]=a,e.addOption(a,b),b.attr("value",r),d&amp;&amp;f&amp;&amp;c()}):g?f.$observe("value",function(a){e.readValue();var d,f=b.prop("selected");w(q)&amp;&amp;(e.removeOption(q),d=!0),q=a,e.addOption(a,b),d&amp;&amp;f&amp;&amp;c()}):k?a.$watch(k,function(a,d){f.$set("value",a);var g=b.prop("selected");d!==a&amp;&amp;e.removeOption(d),e.addOption(a,b),d&amp;&amp;g&amp;&amp;c()}):e.addOption(f.value,b),f.$observe("disabled",function(a){("true"===a||a&amp;&amp;b.prop("selected"))&amp;&amp;(e.multiple?c(!0):(e.ngModelCtrl.$setViewValue(null),e.ngModelCtrl.$render()))}),b.on("$destroy",function(){var a=e.readValue(),b=f.value;e.removeOption(b),d(),(e.multiple&amp;&amp;a&amp;&amp;-1!==a.indexOf(b)||a===b)&amp;&amp;c(!0)})}}],Ve=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,d){var c,e;return w(d.ngValue)||(w(d.value)?c=a(d.value,!0):(e=a(b.text(),!0))||d.$set("value",b.text())),function(a,b,d){var h=b.parent();(h=h.data("$selectController")||h.parent().data("$selectController"))&amp;&amp;h.registerOption(a,b,d,c,e)}}}}],bd=["$parse",function(a){return{restrict:"A",require:"?ngModel",link:function(b,d,c,e){var f;e&amp;&amp;(f=c.hasOwnProperty("required")||a(c.ngRequired)(b),c.ngRequired||(c.required=!0),e.$validators.required=function(a,b){return!f||!e.$isEmpty(b)},c.$observe("required",function(a){f!==a&amp;&amp;(f=a,e.$validate())}))}}}],ad=["$parse",function(a){return{restrict:"A",require:"?ngModel",compile:function(b,d){var c,e;return d.ngPattern&amp;&amp;(c=d.ngPattern,e="/"===d.ngPattern.charAt(0)&amp;&amp;ke.test(d.ngPattern)?function(){return d.ngPattern}:a(d.ngPattern)),function(a,b,d,h){var l,m;h&amp;&amp;(l=d.pattern,d.ngPattern?l=e(a):c=d.pattern,m=je(l,c,b),d.$observe("pattern",function(a){var d=m;m=je(a,c,b),(d&amp;&amp;d.toString())!==(m&amp;&amp;m.toString())&amp;&amp;h.$validate()}),h.$validators.pattern=function(a,b){return h.$isEmpty(b)||A(m)||m.test(b)})}}}}],dd=["$parse",function(a){return{restrict:"A",require:"?ngModel",link:function(b,d,c,e){var f,g;e&amp;&amp;(f=c.maxlength||a(c.ngMaxlength)(b),g=Ub(f),c.$observe("maxlength",function(a){f!==a&amp;&amp;(g=Ub(a),f=a,e.$validate())}),e.$validators.maxlength=function(a,b){return g&lt;0||e.$isEmpty(b)||b.length&lt;=g})}}}],cd=["$parse",function(a){return{restrict:"A",require:"?ngModel",link:function(b,d,c,e){var f,g;e&amp;&amp;(f=c.minlength||a(c.ngMinlength)(b),g=Ub(f)||-1,c.$observe("minlength",function(a){f!==a&amp;&amp;(g=Ub(a)||-1,f=a,e.$validate())}),e.$validators.minlength=function(a,b){return e.$isEmpty(b)||b.length&gt;=g})}}}];z.angular.bootstrap?z.console&amp;&amp;console.log("WARNING: Tried to load AngularJS more than once."):(function(){var a,b;Yc||(b=rb(),(sb=A(b)?z.jQuery:b?z[b]:void 0)&amp;&amp;sb.fn.on?S((x=sb).fn,{scope:Wa.scope,isolateScope:Wa.isolateScope,controller:Wa.controller,injector:Wa.injector,inheritedData:Wa.inheritedData}):x=U,a=x.cleanData,x.cleanData=function(b){for(var c,f,e=0;null!=(f=b[e]);e++)(c=(x._data(f)||{}).events)&amp;&amp;c.$destroy&amp;&amp;x(f).triggerHandler("$destroy");a(b)},ca.element=x,Yc=!0)}(),S(ca,{errorHandlingConfig:ve,bootstrap:Wc,copy:Ia,extend:S,merge:xe,equals:va,element:x,forEach:r,injector:fb,noop:E,bind:Va,toJson:eb,fromJson:Tc,identity:Ta,isUndefined:A,isDefined:w,isString:C,isFunction:B,isObject:D,isNumber:X,isElement:ac,isArray:H,version:Pe,isDate:ha,callbacks:{$$counter:0},getTestability:He,reloadWithDebugInfo:Ge,UNSAFE_restoreLegacyJqLiteXHTMLReplacement:Ke,$$minErr:F,$$csp:Ba,$$encodeUriSegment:ic,$$encodeUriQuery:ba,$$lowercase:K,$$stringify:jc,$$uppercase:vb}),(lc=function(a){function b(a,b,c){return a[b]||(a[b]=c())}var d=F("$injector"),c=F("ng");return(a=b(a,"angular",Object)).$$minErr=a.$$minErr||F,b(a,"module",function(){var a={};return function(f,g,k){var h={};if("hasOwnProperty"===f)throw c("badname","module");return g&amp;&amp;a.hasOwnProperty(f)&amp;&amp;(a[f]=null),b(a,f,function(){function a(b,c,d,f){return f=f||e,function(){return f[d||"push"]([b,c,arguments]),t}}function b(a,c,d){return d=d||e,function(b,e){return e&amp;&amp;B(e)&amp;&amp;(e.$$moduleName=f),d.push([a,c,arguments]),t}}if(!g)throw d("nomod",f);var e=[],n=[],s=[],G=a("$injector","invoke","push",n),t={_invokeQueue:e,_configBlocks:n,_runBlocks:s,info:function(a){if(w(a)){if(!D(a))throw c("aobj","value");return h=a,this}return h},requires:g,name:f,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator",n),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),component:b("$compileProvider","component"),config:G,run:function(a){return s.push(a),this}};return k&amp;&amp;G(k),t})}})}(z))("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Qe}),a.provider("$compile",Zc).directive({a:Re,input:$c,textarea:$c,form:Se,script:Te,select:Ue,option:Ve,ngBind:We,ngBindHtml:Xe,ngBindTemplate:Ye,ngClass:Ze,ngClassEven:$e,ngClassOdd:af,ngCloak:bf,ngController:cf,ngForm:df,ngHide:ef,ngIf:ff,ngInclude:gf,ngInit:hf,ngNonBindable:jf,ngPluralize:kf,ngRef:lf,ngRepeat:mf,ngShow:nf,ngStyle:of,ngSwitch:pf,ngSwitchWhen:qf,ngSwitchDefault:rf,ngOptions:sf,ngTransclude:tf,ngModel:uf,ngList:vf,ngChange:wf,pattern:ad,ngPattern:ad,required:bd,ngRequired:bd,minlength:cd,ngMinlength:cd,maxlength:dd,ngMaxlength:dd,ngValue:xf,ngModelOptions:yf}).directive({ngInclude:zf,input:Af}).directive(wb).directive(ed),a.provider({$anchorScroll:Bf,$animate:Cf,$animateCss:Df,$$animateJs:Ef,$$animateQueue:Ff,$$AnimateRunner:Gf,$$animateAsyncRun:Hf,$browser:If,$cacheFactory:Jf,$controller:Kf,$document:Lf,$$isDocumentHidden:Mf,$exceptionHandler:Nf,$filter:fd,$$forceReflow:Of,$interpolate:Pf,$interval:Qf,$$intervalFactory:Rf,$http:Sf,$httpParamSerializer:Tf,$httpParamSerializerJQLike:Uf,$httpBackend:Vf,$xhrFactory:Wf,$jsonpCallbacks:Xf,$location:Yf,$log:Zf,$parse:$f,$rootScope:ag,$q:bg,$$q:cg,$sce:dg,$sceDelegate:eg,$sniffer:fg,$$taskTrackerFactory:gg,$templateCache:hg,$templateRequest:ig,$$testability:jg,$timeout:kg,$window:lg,$$rAF:mg,$$jqLite:ng,$$Map:og,$$cookieReader:pg})}]).info({angularVersion:"1.8.2"}),ca.module("ngLocale",[],["$provide",function(a){a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,f){var e=0|a,f=f;return void 0===f&amp;&amp;(f=Math.min(function(a){var b=(a+="").indexOf(".");return-1==b?0:a.length-b-1}(a),3)),Math.pow(10,f),1==e&amp;&amp;0==f?"one":"other"}})}]),x(function(){Ee(z.document,Wc)}))}(window),window.angular.$$csp().noInlineStyle||window.angular.element(document.head).prepend(window.angular.element("&lt;style&gt;").text('@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}')),function(angular){"use strict";function routeToRegExp(pattern,opts){var keys=[],pattern=pattern.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(_,slash,key,star){var optional="?"===star||"*?"===star,star="*"===star||"*?"===star;return keys.push({name:key,optional:optional}),slash=slash||"",(optional?"(?:"+slash:slash+"(?:")+(star?"(.+?)":"([^/]+)")+(optional?"?)?":")")}).replace(/([/$*])/g,"\\$1");return opts.ignoreTrailingSlashes&amp;&amp;(pattern=pattern.replace(/\/+$/,"")+"/*"),{keys:keys,regexp:new RegExp("^"+pattern+"(?:[?#]|$)",opts.caseInsensitiveMatch?"i":"")}}var isArray,isObject,isDefined,noop,isEagerInstantiationEnabled,ngRouteModule=angular.module("ngRoute",[]).info({angularVersion:"1.7.5"}).provider("$route",function(){function inherit(parent,extra){return angular.extend(Object.create(parent),extra)}isArray=angular.isArray,isObject=angular.isObject,isDefined=angular.isDefined,noop=angular.noop;var routes={};this.when=function(path,redirectPath){var routeCopy=function(src,dst){if(isArray(src)){dst=dst||[];for(var i=0,ii=src.length;i&lt;ii;i++)dst[i]=src[i]}else if(isObject(src))for(var key in dst=dst||{},src)"$"===key.charAt(0)&amp;&amp;"$"===key.charAt(1)||(dst[key]=src[key]);return dst||src}(redirectPath);return angular.isUndefined(routeCopy.reloadOnUrl)&amp;&amp;(routeCopy.reloadOnUrl=!0),angular.isUndefined(routeCopy.reloadOnSearch)&amp;&amp;(routeCopy.reloadOnSearch=!0),angular.isUndefined(routeCopy.caseInsensitiveMatch)&amp;&amp;(routeCopy.caseInsensitiveMatch=this.caseInsensitiveMatch),routes[path]=angular.extend(routeCopy,{originalPath:path},path&amp;&amp;routeToRegExp(path,routeCopy)),path&amp;&amp;(redirectPath="/"===path[path.length-1]?path.substr(0,path.length-1):path+"/",routes[redirectPath]=angular.extend({originalPath:path,redirectTo:path},routeToRegExp(redirectPath,routeCopy))),this},this.caseInsensitiveMatch=!1,this.otherwise=function(params){return"string"==typeof params&amp;&amp;(params={redirectTo:params}),this.when(null,params),this},isEagerInstantiationEnabled=!0,this.eagerInstantiationEnabled=function(enabled){return isDefined(enabled)?(isEagerInstantiationEnabled=enabled,this):isEagerInstantiationEnabled},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function($rootScope,$location,$routeParams,$q,$injector,$templateRequest,$sce,$browser){var preparedRoute,preparedRouteIsUpdateOnly,forceReload=!1,$route={routes:routes,reload:function(){var fakeLocationEvent={defaultPrevented:!(forceReload=!0),preventDefault:function(){this.defaultPrevented=!0,forceReload=!1}};$rootScope.$evalAsync(function(){prepareRoute(fakeLocationEvent),fakeLocationEvent.defaultPrevented||commitRoute()})},updateParams:function(newParams){if(!this.current||!this.current.$$route)throw $routeMinErr("norout","Tried updating route with no current route");newParams=angular.extend({},this.current.params,newParams),$location.path(interpolate(this.current.$$route.originalPath,newParams)),$location.search(newParams)}};return $rootScope.$on("$locationChangeStart",prepareRoute),$rootScope.$on("$locationChangeSuccess",commitRoute),$route;function prepareRoute($locationEvent){var params,match,newRoute,oldRoute,lastRoute=$route.current;angular.forEach(routes,function(route,path){!match&amp;&amp;(params=function(on,route){var keys=route.keys,params={};if(!route.regexp)return null;var m=route.regexp.exec(on);if(!m)return null;for(var i=1,len=m.length;i&lt;len;++i){var key=keys[i-1],val=m[i];key&amp;&amp;val&amp;&amp;(params[key.name]=val)}return params}($location.path(),route))&amp;&amp;((match=inherit(route,{params:angular.extend({},$location.search(),params),pathParams:params})).$$route=route)}),preparedRoute=match||routes.null&amp;&amp;inherit(routes.null,{params:{},pathParams:{}}),newRoute=preparedRoute,oldRoute=lastRoute,(preparedRouteIsUpdateOnly=!forceReload&amp;&amp;newRoute&amp;&amp;oldRoute&amp;&amp;newRoute.$$route===oldRoute.$$route&amp;&amp;(!newRoute.reloadOnUrl||!newRoute.reloadOnSearch&amp;&amp;angular.equals(newRoute.pathParams,oldRoute.pathParams)))||!lastRoute&amp;&amp;!preparedRoute||$rootScope.$broadcast("$routeChangeStart",preparedRoute,lastRoute).defaultPrevented&amp;&amp;$locationEvent&amp;&amp;$locationEvent.preventDefault()}function commitRoute(){var nextRoutePromise,lastRoute=$route.current,nextRoute=preparedRoute;preparedRouteIsUpdateOnly?(lastRoute.params=nextRoute.params,angular.copy(lastRoute.params,$routeParams),$rootScope.$broadcast("$routeUpdate",lastRoute)):(nextRoute||lastRoute)&amp;&amp;(forceReload=!1,$route.current=nextRoute,nextRoutePromise=$q.resolve(nextRoute),$browser.$$incOutstandingRequestCount("$route"),nextRoutePromise.then(getRedirectionData).then(handlePossibleRedirection).then(function(keepProcessingRoute){return keepProcessingRoute&amp;&amp;nextRoutePromise.then(resolveLocals).then(function(locals){nextRoute===$route.current&amp;&amp;(nextRoute&amp;&amp;(nextRoute.locals=locals,angular.copy(nextRoute.params,$routeParams)),$rootScope.$broadcast("$routeChangeSuccess",nextRoute,lastRoute))})}).catch(function(error){nextRoute===$route.current&amp;&amp;$rootScope.$broadcast("$routeChangeError",nextRoute,lastRoute,error)}).finally(function(){$browser.$$completeOutstandingRequest(noop,"$route")}))}function getRedirectionData(route){var oldPath,newUrl,data={route:route,hasRedirection:!1};if(route)if(route.redirectTo)angular.isString(route.redirectTo)?(data.path=interpolate(route.redirectTo,route.params),data.search=route.params,data.hasRedirection=!0):(oldPath=$location.path(),newUrl=$location.search(),newUrl=route.redirectTo(route.pathParams,oldPath,newUrl),angular.isDefined(newUrl)&amp;&amp;(data.url=newUrl,data.hasRedirection=!0));else if(route.resolveRedirectTo)return $q.resolve($injector.invoke(route.resolveRedirectTo)).then(function(newUrl){return angular.isDefined(newUrl)&amp;&amp;(data.url=newUrl,data.hasRedirection=!0),data});return data}function handlePossibleRedirection(data){var oldUrl,newUrl,keepProcessingRoute=!0;return data.route!==$route.current?keepProcessingRoute=!1:data.hasRedirection&amp;&amp;(oldUrl=$location.url(),(newUrl=data.url)?$location.url(newUrl).replace():newUrl=$location.path(data.path).search(data.search).replace().url(),newUrl!==oldUrl&amp;&amp;(keepProcessingRoute=!1)),keepProcessingRoute}function resolveLocals(template){if(template){var locals=angular.extend({},template.resolve);angular.forEach(locals,function(value,key){locals[key]=angular.isString(value)?$injector.get(value):$injector.invoke(value,null,null,key)});template=function(route){var template,templateUrl;angular.isDefined(template=route.template)?angular.isFunction(template)&amp;&amp;(template=template(route.params)):angular.isDefined(templateUrl=route.templateUrl)&amp;&amp;(angular.isFunction(templateUrl)&amp;&amp;(templateUrl=templateUrl(route.params)),angular.isDefined(templateUrl)&amp;&amp;(route.loadedTemplateUrl=$sce.valueOf(templateUrl),template=$templateRequest(templateUrl)));return template}(template);return angular.isDefined(template)&amp;&amp;(locals.$template=template),$q.all(locals)}}function interpolate(string,params){var result=[];return angular.forEach((string||"").split(":"),function(key,segmentMatch){0===segmentMatch?result.push(key):(key=(segmentMatch=key.match(/(\w+)(?:[?*])?(.*)/))[1],result.push(params[key]),result.push(segmentMatch[2]||""),delete params[key])}),result.join("")}}]}).run(instantiateRoute),$routeMinErr=angular.$$minErr("ngRoute");function instantiateRoute($injector){isEagerInstantiationEnabled&amp;&amp;$injector.get("$route")}function ngViewFactory($route,$anchorScroll,$animate){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(scope,$element,attr,ctrl,$transclude){var currentScope,currentElement,previousLeaveAnimation,autoScrollExp=attr.autoscroll,onloadExp=attr.onload||"";function cleanupLastView(){previousLeaveAnimation&amp;&amp;($animate.cancel(previousLeaveAnimation),previousLeaveAnimation=null),currentScope&amp;&amp;(currentScope.$destroy(),currentScope=null),currentElement&amp;&amp;((previousLeaveAnimation=$animate.leave(currentElement)).done(function(response){!1!==response&amp;&amp;(previousLeaveAnimation=null)}),currentElement=null)}function update(){var newScope,current=$route.current&amp;&amp;$route.current.locals,clone=current&amp;&amp;current.$template;angular.isDefined(clone)?(newScope=scope.$new(),current=$route.current,clone=$transclude(newScope,function(clone){$animate.enter(clone,null,currentElement||$element).done(function(response){!1===response||!angular.isDefined(autoScrollExp)||autoScrollExp&amp;&amp;!scope.$eval(autoScrollExp)||$anchorScroll()}),cleanupLastView()}),currentElement=clone,(currentScope=current.scope=newScope).$emit("$viewContentLoaded"),currentScope.$eval(onloadExp)):cleanupLastView()}scope.$on("$routeChangeSuccess",update),update()}}}function ngViewFillContentFactory($compile,$controller,$route){return{restrict:"ECA",priority:-400,link:function(scope,$element){var current=$route.current,locals=current.locals;$element.html(locals.$template);var controller,link=$compile($element.contents());current.controller&amp;&amp;(locals.$scope=scope,controller=$controller(current.controller,locals),current.controllerAs&amp;&amp;(scope[current.controllerAs]=controller),$element.data("$ngControllerController",controller),$element.children().data("$ngControllerController",controller)),scope[current.resolveAs||"$resolve"]=locals,link(scope)}}}instantiateRoute.$inject=["$injector"],ngRouteModule.provider("$routeParams",function(){this.$get=function(){return{}}}),ngRouteModule.directive("ngView",ngViewFactory),ngRouteModule.directive("ngView",ngViewFillContentFactory),ngViewFactory.$inject=["$route","$anchorScroll","$animate"],ngViewFillContentFactory.$inject=["$compile","$controller","$route"]}((window,window.angular)),function(window,angular){"use strict";var bind,extend,forEach,isArray,isDefined,lowercase,noop,nodeContains,htmlParser,htmlSanitizeWriter,$sanitizeMinErr=angular.$$minErr("$sanitize");angular.module("ngSanitize",[]).provider("$sanitize",function(){var hasBeenInstantiated=!1,svgEnabled=!1;this.$get=["$$sanitizeUri",function($$sanitizeUri){return hasBeenInstantiated=!0,svgEnabled&amp;&amp;extend(validElements,svgElements),function(html){var buf=[];return htmlParser(html,htmlSanitizeWriter(buf,function(uri,isImage){return!/^unsafe:/.test($$sanitizeUri(uri,isImage))})),buf.join("")}}],this.enableSvg=function(enableSvg){return isDefined(enableSvg)?(svgEnabled=enableSvg,this):svgEnabled},this.addValidElements=function(elements){return hasBeenInstantiated||(isArray(elements)&amp;&amp;(elements={htmlElements:elements}),addElementsTo(svgElements,elements.svgElements),addElementsTo(voidElements,elements.htmlVoidElements),addElementsTo(validElements,elements.htmlVoidElements),addElementsTo(validElements,elements.htmlElements)),this},this.addValidAttrs=function(attrs){return hasBeenInstantiated||extend(validAttrs,arrayToMap(attrs,!0)),this},bind=angular.bind,extend=angular.extend,forEach=angular.forEach,isArray=angular.isArray,isDefined=angular.isDefined,lowercase=angular.$$lowercase,noop=angular.noop,htmlParser=function(html,handler){null==html?html="":"string"!=typeof html&amp;&amp;(html=""+html);var inertBodyElement=getInertBodyElement(html);if(!inertBodyElement)return"";var mXSSAttempts=5;do{if(0===mXSSAttempts)throw $sanitizeMinErr("uinput","Failed to sanitize html because the input is unstable")}while(mXSSAttempts--,html=inertBodyElement.innerHTML,inertBodyElement=getInertBodyElement(html),html!==inertBodyElement.innerHTML);var nextNode,node=inertBodyElement.firstChild;for(;node;){switch(node.nodeType){case 1:handler.start(node.nodeName.toLowerCase(),function(attrs){for(var map={},i=0,ii=attrs.length;i&lt;ii;i++){var attr=attrs[i];map[attr.name]=attr.value}return map}(node.attributes));break;case 3:handler.chars(node.textContent)}if(!((nextNode=node.firstChild)||(1===node.nodeType&amp;&amp;handler.end(node.nodeName.toLowerCase()),nextNode=getNonDescendant("nextSibling",node))))for(;null==nextNode&amp;&amp;(node=getNonDescendant("parentNode",node))!==inertBodyElement;)nextNode=getNonDescendant("nextSibling",node),1===node.nodeType&amp;&amp;handler.end(node.nodeName.toLowerCase());node=nextNode}for(;node=inertBodyElement.firstChild;)inertBodyElement.removeChild(node)},htmlSanitizeWriter=function(buf,uriValidator){var ignoreCurrentElement=!1,out=bind(buf,buf.push);return{start:function(tag,attrs){tag=lowercase(tag),!ignoreCurrentElement&amp;&amp;blockedElements[tag]&amp;&amp;(ignoreCurrentElement=tag),ignoreCurrentElement||!0!==validElements[tag]||(out("&lt;"),out(tag),forEach(attrs,function(value,key){var lkey=lowercase(key),isImage="img"===tag&amp;&amp;"src"===lkey||"background"===lkey;!0!==validAttrs[lkey]||!0===uriAttrs[lkey]&amp;&amp;!uriValidator(value,isImage)||(out(" "),out(key),out('="'),out(encodeEntities(value)),out('"'))}),out("&gt;"))},end:function(tag){tag=lowercase(tag),ignoreCurrentElement||!0!==validElements[tag]||!0===voidElements[tag]||(out("&lt;/"),out(tag),out("&gt;")),tag==ignoreCurrentElement&amp;&amp;(ignoreCurrentElement=!1)},chars:function(chars){ignoreCurrentElement||out(encodeEntities(chars))}}},nodeContains=window.Node.prototype.contains||function(arg){return!!(16&amp;this.compareDocumentPosition(arg))};var SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^#-~ |!])/g,voidElements=stringToMap("area,br,col,hr,img,wbr"),blockElements=stringToMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),htmlAttrs=stringToMap("rp,rt"),svgAttrs=extend({},htmlAttrs,blockElements),blockElements=extend({},blockElements,stringToMap("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),htmlAttrs=extend({},htmlAttrs,stringToMap("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),svgElements=stringToMap("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),blockedElements=stringToMap("script,style"),validElements=extend({},voidElements,blockElements,htmlAttrs,svgAttrs),uriAttrs=stringToMap("background,cite,href,longdesc,src,xlink:href,xml:base"),htmlAttrs=stringToMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),svgAttrs=stringToMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),validAttrs=extend({},uriAttrs,svgAttrs,htmlAttrs);function stringToMap(str,lowercaseKeys){return arrayToMap(str.split(","),lowercaseKeys)}function arrayToMap(items,lowercaseKeys){for(var obj={},i=0;i&lt;items.length;i++)obj[lowercaseKeys?lowercase(items[i]):items[i]]=!0;return obj}function addElementsTo(elementsMap,newElements){newElements&amp;&amp;newElements.length&amp;&amp;extend(elementsMap,arrayToMap(newElements))}var getInertBodyElement=function(window,document){var inertDocument;if(!document||!document.implementation)throw $sanitizeMinErr("noinert","Can't create an inert html document");var inertBodyElement=((inertDocument=document.implementation.createHTMLDocument("inert")).documentElement||inertDocument.getDocumentElement()).querySelector("body");return inertBodyElement.innerHTML='&lt;svg&gt;&lt;g onload="this.parentNode.remove()"&gt;&lt;/g&gt;&lt;/svg&gt;',inertBodyElement.querySelector("svg")?(inertBodyElement.innerHTML='&lt;svg&gt;&lt;p&gt;&lt;style&gt;&lt;img src="&lt;/style&gt;&lt;img src=x onerror=alert(1)//"&gt;',inertBodyElement.querySelector("svg img")?function(html){html="&lt;remove&gt;&lt;/remove&gt;"+html;try{var body=(new window.DOMParser).parseFromString(html,"text/html").body;return body.firstChild.remove(),body}catch(e){return}}:function(html){inertBodyElement.innerHTML=html,document.documentMode&amp;&amp;stripCustomNsAttrs(inertBodyElement);return inertBodyElement}):function(html){html="&lt;remove&gt;&lt;/remove&gt;"+html;try{html=encodeURI(html)}catch(e){return}var body=new window.XMLHttpRequest;body.responseType="document",body.open("GET","data:text/html;charset=utf-8,"+html,!1),body.send(null);body=body.response.body;return body.firstChild.remove(),body}}(window,window.document);function encodeEntities(value){return value.replace(/&amp;/g,"&amp;amp;").replace(SURROGATE_PAIR_REGEXP,function(value){return"&amp;#"+(1024*(value.charCodeAt(0)-55296)+(value.charCodeAt(1)-56320)+65536)+";"}).replace(NON_ALPHANUMERIC_REGEXP,function(value){return"&amp;#"+value.charCodeAt(0)+";"}).replace(/&lt;/g,"&amp;lt;").replace(/&gt;/g,"&amp;gt;")}function stripCustomNsAttrs(node){for(;node;){if(node.nodeType===window.Node.ELEMENT_NODE)for(var attrs=node.attributes,i=0,l=attrs.length;i&lt;l;i++){var attrNode=attrs[i],attrName=attrNode.name.toLowerCase();"xmlns:ns1"!==attrName&amp;&amp;0!==attrName.lastIndexOf("ns1:",0)||(node.removeAttributeNode(attrNode),i--,l--)}var nextNode=node.firstChild;nextNode&amp;&amp;stripCustomNsAttrs(nextNode),node=getNonDescendant("nextSibling",node)}}function getNonDescendant(nextNode,node){nextNode=node[nextNode];if(nextNode&amp;&amp;nodeContains.call(node,nextNode))throw $sanitizeMinErr("elclob","Failed to sanitize html because the element is clobbered: {0}",node.outerHTML||node.outerText);return nextNode}}).info({angularVersion:"1.7.5"}),angular.module("ngSanitize").filter("linky",["$sanitize",function($sanitize){var LINKY_URL_REGEXP=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}&lt;&gt;"\u201d\u2019]/i,MAILTO_REGEXP=/^mailto:/i,linkyMinErr=angular.$$minErr("linky"),isDefined=angular.isDefined,isFunction=angular.isFunction,isObject=angular.isObject,isString=angular.isString;return function(text,target,attributes){if(null==text||""===text)return text;if(!isString(text))throw linkyMinErr("notstring","Expected string but received: {0}",text);for(var match,url,i,attributesFn=isFunction(attributes)?attributes:isObject(attributes)?function(){return attributes}:function(){return{}},raw=text,html=[];match=raw.match(LINKY_URL_REGEXP);)url=match[0],match[2]||match[4]||(url=(match[3]?"http://":"mailto:")+url),i=match.index,addText(raw.substr(0,i)),function(url,text){var key,linkAttributes=attributesFn(url);for(key in html.push("&lt;a "),linkAttributes)html.push(key+'="'+linkAttributes[key]+'" ');!isDefined(target)||"target"in linkAttributes||html.push('target="',target,'" '),html.push('href="',url.replace(/"/g,"&amp;quot;"),'"&gt;'),addText(text),html.push("&lt;/a&gt;")}(url,match[0].replace(MAILTO_REGEXP,"")),raw=raw.substring(i+match[0].length);return addText(raw),$sanitize(html.join(""));function addText(buf){var chars;buf&amp;&amp;html.push((chars=buf,htmlSanitizeWriter(buf=[],noop).chars(chars),buf.join("")))}}}])}(window,window.angular),function(angular){"use strict";var ngTouch=angular.module("ngTouch",[]);function makeSwipeDirective(directiveName,direction,eventName){ngTouch.directive(directiveName,["$parse","$swipe",function($parse,$swipe){return function(scope,element,attr){var startCoords,valid,swipeHandler=$parse(attr[directiveName]);var pointerTypes=["touch"];angular.isDefined(attr.ngSwipeDisableMouse)||pointerTypes.push("mouse"),$swipe.bind(element,{start:function(coords,event){startCoords=coords,valid=!0},cancel:function(event){valid=!1},end:function(coords,event){!function(deltaX){if(startCoords){var deltaY=Math.abs(deltaX.y-startCoords.y),deltaX=(deltaX.x-startCoords.x)*direction;return valid&amp;&amp;deltaY&lt;75&amp;&amp;0&lt;deltaX&amp;&amp;30&lt;deltaX&amp;&amp;deltaY/deltaX&lt;.3}}(coords)||scope.$apply(function(){element.triggerHandler(eventName),swipeHandler(scope,{$event:event})})}},pointerTypes)}}])}ngTouch.info({angularVersion:"1.8.2"}),ngTouch.factory("$swipe",[function(){var POINTER_EVENTS={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel"}};function getCoordinates(e){var originalEvent=e.originalEvent||e,e=originalEvent.touches&amp;&amp;originalEvent.touches.length?originalEvent.touches:[originalEvent],e=originalEvent.changedTouches&amp;&amp;originalEvent.changedTouches[0]||e[0];return{x:e.clientX,y:e.clientY}}function getEvents(pointerTypes,eventType){var res=[];return angular.forEach(pointerTypes,function(eventName){eventName=POINTER_EVENTS[eventName][eventType];eventName&amp;&amp;res.push(eventName)}),res.join(" ")}return{bind:function(element,eventHandlers,pointerTypes){var totalX,totalY,startCoords,lastPos,active=!1;pointerTypes=pointerTypes||["mouse","touch","pointer"],element.on(getEvents(pointerTypes,"start"),function(event){startCoords=getCoordinates(event),active=!0,totalY=totalX=0,lastPos=startCoords,eventHandlers.start&amp;&amp;eventHandlers.start(startCoords,event)});var events=getEvents(pointerTypes,"cancel");events&amp;&amp;element.on(events,function(event){active=!1,eventHandlers.cancel&amp;&amp;eventHandlers.cancel(event)}),element.on(getEvents(pointerTypes,"move"),function(event){var coords;active&amp;&amp;startCoords&amp;&amp;(coords=getCoordinates(event),totalX+=Math.abs(coords.x-lastPos.x),totalY+=Math.abs(coords.y-lastPos.y),lastPos=coords,totalX&lt;10&amp;&amp;totalY&lt;10||(totalX&lt;totalY?(active=!1,eventHandlers.cancel&amp;&amp;eventHandlers.cancel(event)):(event.preventDefault(),eventHandlers.move&amp;&amp;eventHandlers.move(coords,event))))}),element.on(getEvents(pointerTypes,"end"),function(event){active&amp;&amp;(active=!1,eventHandlers.end&amp;&amp;eventHandlers.end(getCoordinates(event),event))})}}}]),makeSwipeDirective("ngSwipeLeft",-1,"swipeleft"),makeSwipeDirective("ngSwipeRight",1,"swiperight")}((window,window.angular)),function(t,e){"object"==typeof exports&amp;&amp;"undefined"!=typeof module?e(exports,require("angular")):"function"==typeof define&amp;&amp;define.amd?define(["exports","angular"],e):e((t=t||self)["@uirouter/angularjs"]={},t.angular)}(this,function(t,fn){"use strict";var ln=angular,n=fn&amp;&amp;fn.module?fn:ln;function o(t){return function e(){if(arguments.length&gt;=t.length)return t.apply(this,arguments);var r=Array.prototype.slice.call(arguments);return e.bind.apply(e,function(){for(var t=0,e=0,r=arguments.length;e&lt;r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e&lt;r;e++)for(var o=arguments[e],a=0,u=o.length;a&lt;u;a++,i++)n[i]=o[a];return n}([this],r))}}function a(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}}function u(){for(var t=[],e=0;e&lt;arguments.length;e++)t[e]=arguments[e];return a.apply(null,[].slice.call(arguments).reverse())}var s=function(t){return function(e){return e&amp;&amp;e[t]}},c=o(function(t,e,r){return r&amp;&amp;r[t]===e}),f=function(t){return u.apply(null,t.split(".").map(s))},l=function(t){return function(){for(var e=[],r=0;r&lt;arguments.length;r++)e[r]=arguments[r];return!t.apply(null,e)}};function h(t,e){return function(){for(var r=[],n=0;n&lt;arguments.length;n++)r[n]=arguments[n];return t.apply(null,r)&amp;&amp;e.apply(null,r)}}function p(t,e){return function(){for(var r=[],n=0;n&lt;arguments.length;n++)r[n]=arguments[n];return t.apply(null,r)||e.apply(null,r)}}function g(t){return function(e){return t===e}}var v=function(t){return function(e){return e.reduce(function(e,r){return e&amp;&amp;!!t(r)},!0)}},d=function(t){return function(e){return e.reduce(function(e,r){return e||!!t(r)},!1)}},m=function(t){return function(e){return null!=e&amp;&amp;e.constructor===t||e instanceof t}},y=function(t){return function(){return t}};function w(t,e){return function(r){return r[t].apply(r,e)}}function _(t){return function(e){for(var r=0;r&lt;t.length;r++)if(t[r][0](e))return t[r][1](e)}}function E(t){return null===t}var S=Object.prototype.toString,pn=function(t){return function(e){return typeof e===t}},b=pn("undefined"),R=l(b),C=p(E,b),P=pn("function"),T=pn("number"),k=pn("string"),O=function(t){return null!==t&amp;&amp;"object"==typeof t},x=Array.isArray,j=function(t){return"[object Date]"===S.call(t)},V=function(t){return"[object RegExp]"===S.call(t)};function I(t){if(x(t)&amp;&amp;t.length){var e=t.slice(0,-1),r=t.slice(-1);return!(e.filter(l(k)).length||r.filter(l(P)).length)}return P(t)}function A(t,e){return e.reduce(function(e,r){return e[r]=(n=t+"."+r+"()",function(){throw new Error("No implementation for "+n+". The framework specific code did not implement this method.")}),e;var n},{})}var H=h(O,u(s("then"),P)),D={$q:void 0,$injector:void 0},q=function(){for(var t=0,e=0,r=arguments.length;e&lt;r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e&lt;r;e++)for(var o=arguments[e],a=0,u=o.length;a&lt;u;a++,i++)n[i]=o[a];return n},N="object"==typeof self&amp;&amp;self.self===self&amp;&amp;self||"object"==typeof global&amp;&amp;global.global===global&amp;&amp;global||void 0,vn=N.angular||{},F=vn.fromJson||JSON.parse.bind(JSON),L=vn.toJson||JSON.stringify.bind(JSON),M=vn.forEach||function(t,e,r){if(x(t))return t.forEach(e,r);Object.keys(t).forEach(function(r){return e(t[r],r)})},B=Object.assign||Ot,G=vn.equals||function xt(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&amp;&amp;e!=e)return!0;var n=typeof t;if(n!=typeof e||"object"!=n)return!1;var i,o=[t,e];if(v(x)(o))return i=e,(n=t).length===i.length&amp;&amp;Ct(n,i).reduce(function(t,e){return t&amp;&amp;xt(e[0],e[1])},!0);if(v(j)(o))return t.getTime()===e.getTime();if(v(V)(o))return t.toString()===e.toString();if(v(P)(o))return!0;if([P,x,j,V].map(d).reduce(function(t,e){return t||!!e(o)},!1))return!1;var a={};for(var u in t){if(!xt(t[u],e[u]))return!1;a[u]=!0}for(var u in e)if(!a[u])return!1;return!0};function z(t){return t}function W(){}function J(t,e,r,n,i){void 0===i&amp;&amp;(i=!1);function o(e){return t()[e].bind(r())}return(n=n||Object.keys(t())).reduce(function(t,r){var n;return t[r]=i?(n=r,function(){return e[n]=o(n),e[n].apply(null,arguments)}):o(r),t},e)}var Q=function(t,e){return B(Object.create(t),e)},K=o(Y);function Y(t,e){return-1!==t.indexOf(e)}var Z=o(X);function X(t,r){r=t.indexOf(r);return 0&lt;=r&amp;&amp;t.splice(r,1),t}var tt=o(et);function et(t,e){return t.push(e),e}function rt(t){return t.slice().forEach(function(e){"function"==typeof e&amp;&amp;e(),Z(t,e)})}function nt(t){for(var e=[],r=1;r&lt;arguments.length;r++)e[r-1]=arguments[r];var n=B.apply(void 0,q([{}],e.reverse()));return B(n,at(t||{},Object.keys(n)))}function it(t,e){return B(t,e)}function ot(t,e){var n,r=[];for(n in t.path){if(t.path[n]!==e.path[n])break;r.push(t.path[n])}return r}function at(t,e){var n,r={};for(n in t)-1!==e.indexOf(n)&amp;&amp;(r[n]=t[n]);return r}function ut(t,e){return Object.keys(t).filter(l(K(e))).reduce(function(e,r){return e[r]=t[r],e},{})}function st(t,e){return ht(t,s(e))}function ct(t,e){var r=x(t),n=r?[]:{},i=r?function(t){return n.push(t)}:function(t,e){return n[e]=t};return M(t,function(t,r){e(t,r)&amp;&amp;i(t,r)}),n}function ft(t,e){var r;return M(t,function(t,n){r||e(t,n)&amp;&amp;(r=t)}),r}var lt=ht;function ht(t,e,r){return r=r||(x(t)?[]:{}),M(t,function(t,n){return r[n]=e(t,n)}),r}function pt(t){return Object.keys(t).map(function(e){return t[e]})}function vt(t,e){return t&amp;&amp;e}function dt(t,e){return t||e}var mt=function(t,e){return t.concat(e)},gt=function(t,e){return x(e)?t.concat(e.reduce(gt,[])):yt(t,e)};function yt(t,e){return t.push(e),t}function wt(t,e){return K(t,e)?t:yt(t,e)}function _t(t){return t.reduce(mt,[])}function St(t){return t.reduce(gt,[])}var $t=Rt,bt=Rt;function Rt(t,e){return void 0===e&amp;&amp;(e="assert failure"),function(r){var n=t(r);if(!n)throw new Error(P(e)?e(r):e);return n}}function Et(t){return Object.keys(t).map(function(e){return[e,t[e]]})}function Ct(){for(var t=[],e=0;e&lt;arguments.length;e++)t[e]=arguments[e];if(0===t.length)return[];for(var r=t.reduce(function(t,e){return Math.min(e.length,t)},9007199254740991),n=[],o=0;o&lt;r;o++)!function(e){switch(t.length){case 1:n.push([t[0][e]]);break;case 2:n.push([t[0][e],t[1][e]]);break;case 3:n.push([t[0][e],t[1][e],t[2][e]]);break;case 4:n.push([t[0][e],t[1][e],t[2][e],t[3][e]]);break;default:n.push(t.map(function(t){return t[e]}))}}(o);return n}function Pt(t,e){var r,n;if(x(e)&amp;&amp;(r=e[0],n=e[1]),!k(r))throw new Error("invalid parameters to applyPairs");return t[r]=n,t}function Tt(t){return t.length&amp;&amp;t[t.length-1]||void 0}function kt(t,e){return e&amp;&amp;Object.keys(e).forEach(function(t){return delete e[t]}),B(e=e||{},t)}function Ot(t){for(var e=1;e&lt;arguments.length;e++){var r=arguments[e];if(r)for(var n=Object.keys(r),i=0;i&lt;n.length;i++)t[n[i]]=r[n[i]]}return t}function Vt(t){return t.catch(function(t){return 0})&amp;&amp;t}function It(t){return Vt(D.$q.reject(t))}var Ht=function(){function t(e){this.text=e,this.glob=e.split(".");e=this.text.split(".").map(function(t){return"**"===t?"(?:|(?:\\.[^.]*)*)":"*"===t?"\\.[^.]*":"\\."+t}).join("");this.regexp=new RegExp("^"+e+"$")}return t.is=function(t){return!!/[!,*]+/.exec(t)},t.fromString=function(e){return t.is(e)?new t(e):null},t.prototype.matches=function(t){return this.regexp.test("."+t)},t}(),At=function(){function t(t,e){void 0===t&amp;&amp;(t=[]),void 0===e&amp;&amp;(e=null),this._items=t,this._limit=e,this._evictListeners=[],this.onEvict=tt(this._evictListeners)}return t.prototype.enqueue=function(t){var e=this._items;return e.push(t),this._limit&amp;&amp;e.length&gt;this._limit&amp;&amp;this.evict(),t},t.prototype.evict=function(){var t=this._items.shift();return this._evictListeners.forEach(function(e){return e(t)}),t},t.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},t.prototype.clear=function(){var t=this._items;return this._items=[],t},t.prototype.size=function(){return this._items.length},t.prototype.remove=function(e){e=this._items.indexOf(e);return-1&lt;e&amp;&amp;this._items.splice(e,1)[0]},t.prototype.peekTail=function(){return this._items[this._items.length-1]},t.prototype.peekHead=function(){if(this.size())return this._items[0]},t}();(dn=t.RejectType||(t.RejectType={}))[dn.SUPERSEDED=2]="SUPERSEDED",dn[dn.ABORTED=3]="ABORTED",dn[dn.INVALID=4]="INVALID",dn[dn.IGNORED=5]="IGNORED",dn[dn.ERROR=6]="ERROR";var Dt=0,qt=function(){function e(t,e,r){this.$id=Dt++,this.type=t,this.message=e,this.detail=r}return e.isRejectionPromise=function(t){return t&amp;&amp;"function"==typeof t.then&amp;&amp;m(e)(t._transitionRejection)},e.superseded=function(i,n){i=new e(t.RejectType.SUPERSEDED,"The transition has been superseded by a different transition",i);return n&amp;&amp;n.redirected&amp;&amp;(i.redirected=!0),i},e.redirected=function(t){return e.superseded(t,{redirected:!0})},e.invalid=function(r){return new e(t.RejectType.INVALID,"This transition is invalid",r)},e.ignored=function(r){return new e(t.RejectType.IGNORED,"The transition was ignored",r)},e.aborted=function(r){return new e(t.RejectType.ABORTED,"The transition has been aborted",r)},e.errored=function(r){return new e(t.RejectType.ERROR,"The transition errored",r)},e.normalize=function(t){return m(e)(t)?t:e.errored(t)},e.prototype.toString=function(){var e=(e=this.detail)&amp;&amp;e.toString!==Object.prototype.toString?e.toString():zt(e);return"Transition Rejection($id: "+this.$id+" type: "+this.type+", message: "+this.message+", detail: "+e+")"},e.prototype.toPromise=function(){return B(It(this),{_transitionRejection:this})},e}();function Nt(t,e){return e.length&lt;=t?e:e.substr(0,t-3)+"..."}function Ut(t,e){for(;e.length&lt;t;)e+=" ";return e}function Ft(t){return t.replace(/^([A-Z])/,function(t){return t.toLowerCase()}).replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function Lt(i){var n=Mt(i),r=n.match(/^(function [^ ]+\([^)]*\))/),n=r?r[1]:n,i=i.name||"";return i&amp;&amp;n.match(/function \(/)?"function "+i+n.substr(9):n}function Mt(e){e=x(e)?e.slice(-1)[0]:e;return e&amp;&amp;e.toString()||"undefined"}var mn=qt.isRejectionPromise,Gt=_([[b,y("undefined")],[E,y("null")],[H,y("[Promise]")],[mn,function(t){return t._transitionRejection.toString()}],[function(t){return O(t)&amp;&amp;!x(t)&amp;&amp;t.constructor!==Object&amp;&amp;P(t.toString)},function(t){return t.toString()}],[I,Lt],[y(!0),z]]);function zt(t){var e=[];function r(t){if(O(t)){if(-1!==e.indexOf(t))return"[circular ref]";e.push(t)}return Gt(t)}return b(t)?r(t):JSON.stringify(t,function(t,e){return r(e)}).replace(/\\"/g,'"')}function Wt(t){return function(e){if(!e)return["",""];var r=e.indexOf(t);return-1===r?[e,""]:[e.substr(0,r),e.substr(r+1)]}}function Qt(t){return t.replace(/\/[^/]*$/,"")}function Xt(t){return t?t.replace(/^#/,""):""}var Jt=new RegExp("^(?:[a-z]+:)?//[^/]+/"),Kt=Wt("#"),Yt=Wt("?"),Zt=Wt("=");function te(t){var e=new RegExp("("+t+")","g");return function(t){return t.split(e).filter(z)}}function ee(t,e){return k(Tt(t))&amp;&amp;k(e)?t.slice(0,-1).concat(Tt(t)+e):yt(t,e)}var gn={log:W,error:W,table:W},ne="undefined"!=typeof document&amp;&amp;document.documentMode&amp;&amp;9===document.documentMode?window&amp;&amp;window.console?function(t){var e=function(e){return Function.prototype.bind.call(e,t)};return{log:e(t.log),error:e(t.log),table:e(t.log)}}(window.console):gn:console.table&amp;&amp;console.error?console:function(t){var e=t.log.bind(t);return{log:e,error:t.error?t.error.bind(t):e,table:t.table?t.table.bind(t):e}}(console);function ie(t){if(!t)return"ui-view (defunct)";var e=t.creationContext?t.creationContext.name||"(root)":"(none)";return"[ui-view#"+t.id+" "+t.$type+":"+t.fqn+" ("+t.name+"@"+e+")]"}function ae(e){return T(e)?t.Category[e]:t.Category[t.Category[e]]}(Ln=t.Category||(t.Category={}))[Ln.RESOLVE=0]="RESOLVE",Ln[Ln.TRANSITION=1]="TRANSITION",Ln[Ln.HOOK=2]="HOOK",Ln[Ln.UIVIEW=3]="UIVIEW",Ln[Ln.VIEWCONFIG=4]="VIEWCONFIG";function ce(t){return"Transition #"+ue(t)+"-"+se(t)}var ue=f("$id"),se=f("router.$id"),fe=function(){function e(){this._enabled={},this.approximateDigests=0}return e.prototype._set=function(e,r){var n=this;r.length||(r=Object.keys(t.Category).map(function(t){return parseInt(t,10)}).filter(function(t){return!isNaN(t)}).map(function(e){return t.Category[e]})),r.map(ae).forEach(function(t){return n._enabled[t]=e})},e.prototype.enable=function(){for(var t=[],e=0;e&lt;arguments.length;e++)t[e]=arguments[e];this._set(!0,t)},e.prototype.disable=function(){for(var t=[],e=0;e&lt;arguments.length;e++)t[e]=arguments[e];this._set(!1,t)},e.prototype.enabled=function(t){return!!this._enabled[ae(t)]},e.prototype.traceTransitionStart=function(e){this.enabled(t.Category.TRANSITION)&amp;&amp;ne.log(ce(e)+": Started  -&gt; "+zt(e))},e.prototype.traceTransitionIgnored=function(e){this.enabled(t.Category.TRANSITION)&amp;&amp;ne.log(ce(e)+": Ignored  &lt;&gt; "+zt(e))},e.prototype.traceHookInvocation=function(a,r,o){var i;this.enabled(t.Category.HOOK)&amp;&amp;(i=f("traceData.hookType")(o)||"internal",o=f("traceData.context.state.name")(o)||f("traceData.context")(o)||"unknown",a=Lt(a.registeredHook.callback),ne.log(ce(r)+":   Hook -&gt; "+i+" context: "+o+", "+Nt(200,a)))},e.prototype.traceHookResult=function(e,r,n){this.enabled(t.Category.HOOK)&amp;&amp;ne.log(ce(r)+":   &lt;- Hook returned: "+Nt(200,zt(e)))},e.prototype.traceResolvePath=function(e,r,n){this.enabled(t.Category.RESOLVE)&amp;&amp;ne.log(ce(n)+":         Resolving "+e+" ("+r+")")},e.prototype.traceResolvableResolved=function(e,r){this.enabled(t.Category.RESOLVE)&amp;&amp;ne.log(ce(r)+":               &lt;- Resolved  "+e+" to: "+Nt(200,zt(e.data)))},e.prototype.traceError=function(e,r){this.enabled(t.Category.TRANSITION)&amp;&amp;ne.log(ce(r)+": &lt;- Rejected "+zt(r)+", reason: "+e)},e.prototype.traceSuccess=function(e,r){this.enabled(t.Category.TRANSITION)&amp;&amp;ne.log(ce(r)+": &lt;- Success  "+zt(r)+", final state: "+e.name)},e.prototype.traceUIViewEvent=function(e,r,n){void 0===n&amp;&amp;(n=""),this.enabled(t.Category.UIVIEW)&amp;&amp;ne.log("ui-view: "+Ut(30,e)+" "+ie(r)+n)},e.prototype.traceUIViewConfigUpdated=function(e,r){this.enabled(t.Category.UIVIEW)&amp;&amp;this.traceUIViewEvent("Updating",e," with ViewConfig from context='"+r+"'")},e.prototype.traceUIViewFill=function(e,r){this.enabled(t.Category.UIVIEW)&amp;&amp;this.traceUIViewEvent("Fill",e," with: "+Nt(200,r))},e.prototype.traceViewSync=function(n){var r;this.enabled(t.Category.VIEWCONFIG)&amp;&amp;(r="uiview component fqn",n=n.map(function(o){var a=o.uiView,e=o.viewConfig,o=a&amp;&amp;a.fqn,a=e&amp;&amp;e.viewDecl.$context.name+": ("+e.viewDecl.$name+")";return(e={})[r]=o,e["view config state (view name)"]=a,e}).sort(function(t,e){return(t[r]||"").localeCompare(e[r]||"")}),ne.table(n))},e.prototype.traceViewServiceEvent=function(e,r){this.enabled(t.Category.VIEWCONFIG)&amp;&amp;ne.log("VIEWCONFIG: "+e+" "+function(t){var e=t.viewDecl,r=e.$context.name||"(root)";return"[View#"+t.$id+" from '"+r+"' state]: target ui-view: '"+e.$uiViewName+"@"+e.$uiViewContextAnchor+"'"}(r))},e.prototype.traceViewServiceUIViewEvent=function(e,r){this.enabled(t.Category.VIEWCONFIG)&amp;&amp;ne.log("VIEWCONFIG: "+e+" "+ie(r))},e}(),le=new fe,he=function(){function t(t){this.pattern=/.*/,this.inherit=!0,B(this,t)}return t.prototype.is=function(t,e){return!0},t.prototype.encode=function(t,e){return t},t.prototype.decode=function(t,e){return t},t.prototype.equals=function(t,e){return t==e},t.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},t.prototype.toString=function(){return"{ParamType:"+this.name+"}"},t.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},t.prototype.$asArray=function(t,e){if(!t)return this;if("auto"===t&amp;&amp;!e)throw new Error("'auto' array mode is for query parameters only");return new pe(this,t)},t}();function pe(t,e){var r=this;function n(t){return x(t)?t:R(t)?[t]:[]}function i(t,r){return function(o){if(x(o)&amp;&amp;0===o.length)return o;o=ht(n(o),t);return!0===r?0===ct(o,function(t){return!t}).length:function(t){switch(t.length){case 0:return;case 1:return"auto"===e?t[0]:t;default:return t}}(o)}}function o(t){return function(e,r){var i=n(e),o=n(r);if(i.length!==o.length)return!1;for(var a=0;a&lt;i.length;a++)if(!t(i[a],o[a]))return!1;return!0}}["encode","decode","equals","$normalize"].forEach(function(e){var n=t[e].bind(t),a="equals"===e?o:i;r[e]=a(n)}),B(this,{dynamic:t.dynamic,name:t.name,pattern:t.pattern,inherit:t.inherit,raw:t.raw,is:i(t.is.bind(t),!0),$arrayMode:e})}var de=Object.prototype.hasOwnProperty;(xn=t.DefType||(t.DefType={}))[xn.PATH=0]="PATH",xn[xn.SEARCH=1]="SEARCH",xn[xn.CONFIG=2]="CONFIG";var ye=function(){function e(e,r,n,m,p){var a=function(u,a,n){return a=!1===n.reloadOnSearch&amp;&amp;a===t.DefType.SEARCH||void 0,a=ft([n.dynamic,a],R),a=R(a)?{dynamic:a}:{},u=function(t){function e(){return t.value}t=function(t){return 0===["value","type","squash","array","dynamic"].filter(de.bind(t||{})).length}(t)?{value:t}:t,e.__cacheable=!0;var r=I(t.value)?t.value:e;return B(t,{$$fn:r})}(n&amp;&amp;n.params&amp;&amp;n.params[u]),B(a,u)}(e,n,p);r=function(e,r,a,i,o){if(e.type&amp;&amp;r&amp;&amp;"string"!==r.name)throw new Error("Param '"+i+"' has two type configurations.");if(e.type&amp;&amp;r&amp;&amp;"string"===r.name&amp;&amp;o.type(e.type))return o.type(e.type);if(r)return r;if(e.type)return e.type instanceof he?e.type:o.type(e.type);a=a===t.DefType.CONFIG?"any":a===t.DefType.PATH?"path":a===t.DefType.SEARCH?"query":"string";return o.type(a)}(a,r,n,e,m.paramTypes);var f=(v={array:n===t.DefType.SEARCH&amp;&amp;"auto"},d=e.match(/\[\]$/)?{array:!0}:{},B(v,d,a).array);r=f?r.$asArray(f,n===t.DefType.SEARCH):r;var l=void 0!==a.value||n===t.DefType.SEARCH,h=R(a.dynamic)?!!a.dynamic:!!r.dynamic,p=R(a.raw)?!!a.raw:!!r.raw,v=function(n,e,r){n=n.squash;if(!e||!1===n)return!1;if(!R(n)||null==n)return r;if(!0===n||k(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}(a,l,m.defaultSquashPolicy()),d=function(o,n){var i=[{from:"",to:l||f?void 0:""},{from:null,to:l||f?void 0:""}],o=x(o.replace)?o.replace:[];k(n)&amp;&amp;o.push({from:n,to:void 0});var a=ht(o,s("from"));return ct(i,function(t){return-1===a.indexOf(t.from)}).concat(o)}(a,v),m=R(a.inherit)?!!a.inherit:!!r.inherit;B(this,{id:e,type:r,location:n,isOptional:l,dynamic:h,raw:p,squash:v,replace:d,inherit:m,array:f,config:a})}return e.values=function(t,e){void 0===e&amp;&amp;(e={});for(var r={},n=0,i=t;n&lt;i.length;n++){var o=i[n];r[o.id]=o.value(e[o.id])}return r},e.changed=function(t,e,r){return void 0===e&amp;&amp;(e={}),void 0===r&amp;&amp;(r={}),t.filter(function(t){return!t.type.equals(e[t.id],r[t.id])})},e.equals=function(t,r,n){return void 0===r&amp;&amp;(r={}),void 0===n&amp;&amp;(n={}),0===e.changed(t,r,n).length},e.validates=function(t,e){return void 0===e&amp;&amp;(e={}),t.map(function(t){return t.validates(e[t.id])}).reduce(vt,!0)},e.prototype.isDefaultValue=function(t){return this.isOptional&amp;&amp;this.type.equals(this.value(),t)},e.prototype.value=function(t){var e=this;return t=function(t){for(var r=0,n=e.replace;r&lt;n.length;r++){var i=n[r];if(i.from===t)return i.to}return t}(t),b(t)?function(){if(e._defaultValueCache)return e._defaultValueCache.defaultValue;if(!D.$injector)throw new Error("Injectable functions cannot be called at configuration time");var t=D.$injector.invoke(e.config.$$fn);if(null!=t&amp;&amp;!e.type.is(t))throw new Error("Default value ("+t+") for parameter '"+e.id+"' is not an instance of ParamType ("+e.type.name+")");return e.config.$$fn.__cacheable&amp;&amp;(e._defaultValueCache={defaultValue:t}),t}():this.type.$normalize(t)},e.prototype.isSearch=function(){return this.location===t.DefType.SEARCH},e.prototype.validates=function(r){if((b(r)||null===r)&amp;&amp;this.isOptional)return!0;r=this.type.$normalize(r);if(!this.type.is(r))return!1;r=this.type.encode(r);return!(k(r)&amp;&amp;!this.type.pattern.exec(r))},e.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},e}(),we=function(){function t(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=at(t.prototype,["hash","string","query","path","int","bool","date","json","any"]),this.types=Q(ht(this.defaultTypes,function(t,e){return new he(B({name:e},t))}),{})}return t.prototype.dispose=function(){this.types={}},t.prototype.type=function(t,e,r){if(!R(e))return this.types[t];if(this.types.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return this.types[t]=new he(B({name:t},e)),r&amp;&amp;(this.typeQueue.push({name:t,def:r}),this.enqueue||this._flushTypeQueue()),this},t.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var t=this.typeQueue.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");B(this.types[t.name],D.$injector.invoke(t.def))}},t}(),Mn=function(t){var r=function(t){return null!=t?t.toString():t},r={encode:r,decode:r,is:m(String),pattern:/.*/,equals:function(t,e){return t==e}};return B({},r,t)};B(we.prototype,{string:Mn({}),path:Mn({pattern:/[^/]*/}),query:Mn({}),hash:Mn({inherit:!1}),int:Mn({decode:function(t){return parseInt(t,10)},is:function(t){return!C(t)&amp;&amp;this.decode(t.toString())===t},pattern:/-?\d+/}),bool:Mn({encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:m(Boolean),pattern:/0|1/}),date:Mn({encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):void 0},decode:function(e){if(this.is(e))return e;e=this.capture.exec(e);return e?new Date(e[1],e[2]-1,e[3]):void 0},is:function(t){return t instanceof Date&amp;&amp;!isNaN(t.valueOf())},equals:function(t,e){return["getFullYear","getMonth","getDate"].reduce(function(r,n){return r&amp;&amp;t[n]()===e[n]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:Mn({encode:L,decode:F,is:m(Object),equals:G,pattern:/[^/]*/}),any:Mn({encode:z,decode:z,is:function(){return!0},equals:G})});var _e=function(){function t(t){void 0===t&amp;&amp;(t={}),B(this,t)}return t.prototype.$inherit=function(t,e,r){var n,u,i=ot(e,r),o={},a=[];for(u in i)if(i[u]&amp;&amp;i[u].params&amp;&amp;(n=Object.keys(i[u].params)).length)for(var s in n)0&lt;=a.indexOf(n[s])||(a.push(n[s]),o[n[s]]=this[n[s]]);return B({},o,t)},t}(),Se=function(){function t(n){var r;n instanceof t?(r=n,this.state=r.state,this.paramSchema=r.paramSchema.slice(),this.paramValues=B({},r.paramValues),this.resolvables=r.resolvables.slice(),this.views=r.views&amp;&amp;r.views.slice()):(n=n,this.state=n,this.paramSchema=n.parameters({inherit:!1}),this.paramValues={},this.resolvables=n.resolvables.map(function(t){return t.clone()}))}return t.prototype.clone=function(){return new t(this)},t.prototype.applyRawParams=function(t){return this.paramValues=this.paramSchema.reduce(function(e,r){return Pt(e,[r.id,r.value(t[r.id])])},{}),this},t.prototype.parameter=function(t){return ft(this.paramSchema,c("id",t))},t.prototype.equals=function(t,r){r=this.diff(t,r);return r&amp;&amp;0===r.length},t.prototype.diff=function(t,r){if(this.state!==t.state)return!1;r=r?r(this):this.paramSchema;return ye.changed(r,this.paramValues,t.paramValues)},t.clone=function(t){return t.clone()},t}(),$e=function(){function t(t,e,r,n){this._stateRegistry=t,this._identifier=e,this._identifier=e,this._params=B({},r||{}),this._options=B({},n||{}),this._definition=t.matcher.find(e,this._options.relative)}return t.prototype.name=function(){return this._definition&amp;&amp;this._definition.name||this._identifier},t.prototype.identifier=function(){return this._identifier},t.prototype.params=function(){return this._params},t.prototype.$state=function(){return this._definition},t.prototype.state=function(){return this._definition&amp;&amp;this._definition.self},t.prototype.options=function(){return this._options},t.prototype.exists=function(){return!(!this._definition||!this._definition.self)},t.prototype.valid=function(){return!this.error()},t.prototype.error=function(){var e=this.options().relative;if(this._definition||!e)return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'";e=e.name||e;return"Could not resolve '"+this.name()+"' from state '"+e+"'"},t.prototype.toString=function(){return"'"+this.name()+"'"+zt(this.params())},t.prototype.withState=function(e){return new t(this._stateRegistry,e,this._params,this._options)},t.prototype.withParams=function(n,r){void 0===r&amp;&amp;(r=!1);n=r?n:B({},this._params,n);return new t(this._stateRegistry,this._identifier,n,this._options)},t.prototype.withOptions=function(n,r){void 0===r&amp;&amp;(r=!1);n=r?n:B({},this._options,n);return new t(this._stateRegistry,this._identifier,this._params,n)},t.isDef=function(t){return t&amp;&amp;t.state&amp;&amp;(k(t.state)||O(t.state)&amp;&amp;k(t.state.name))},t}(),be=function(){function t(){}return t.makeTargetState=function(t,e){var r=Tt(e).state;return new $e(t,r,e.map(s("paramValues")).reduce(it,{}),{})},t.buildPath=function(t){var e=t.params();return t.$state().path.map(function(t){return new Se(t).applyRawParams(e)})},t.buildToPath=function(e,r){var n=t.buildPath(r);return r.options().inherit?t.inheritParams(e,n,Object.keys(r.params())):n},t.applyViewConfigs=function(e,r,n){r.filter(function(t){return K(n,t.state)}).forEach(function(n){var a=pt(n.state.views||{}),o=t.subPath(r,function(t){return t===n}),a=a.map(function(t){return e.createViewConfig(o,t)});n.views=a.reduce(mt,[])})},t.inheritParams=function(t,e,r){void 0===r&amp;&amp;(r=[]);var n=t.map(function(t){return t.paramSchema}).reduce(mt,[]).filter(function(t){return!t.inherit}).map(s("id"));return e.map(function(e){var l=at(i=B({},e&amp;&amp;e.paramValues),r),i=ut(i,r),f=ut((f=e.state,f=ft(t,c("state",f)),B({},f&amp;&amp;f.paramValues)||{}),n),l=B(i,f,l);return new Se(e.state).applyRawParams(l)})},t.treeChanges=function(e,r,n){for(var i,o,a,u,s,f=Math.min(e.length,r.length),l=0;l&lt;f&amp;&amp;e[l].state!==n&amp;&amp;(i=e[l],o=r[l],i.equals(o,t.nonDynamicParams));)l++;u=(a=e).slice(0,l),s=a.slice(l);var h=u.map(function(n,e){n=n.clone();return n.paramValues=r[e].paramValues,n}),c=r.slice(l);return{from:a,to:h.concat(c),retained:u,retainedWithToParams:h,exiting:s,entering:c}},t.matching=function(t,e,r){var n=!1;return Ct(t,e).reduce(function(t,o){var i=o[0],o=o[1];return(n=n||!i.equals(o,r))?t:t.concat(i)},[])},t.equals=function(e,r,n){return e.length===r.length&amp;&amp;t.matching(e,r,n).length===e.length},t.subPath=function(t,n){n=ft(t,n),n=t.indexOf(n);return-1===n?void 0:t.slice(0,n+1)},t.nonDynamicParams=function(t){return t.state.parameters({inherit:!1}).filter(function(t){return!t.dynamic})},t.paramValues=function(t){return t.reduce(function(t,e){return B(t,e.paramValues)},{})},t}(),Re={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT"}},Ee={when:"LAZY",async:"WAIT"},Ce=function(){function t(e,r,n,i,o){if(this.resolved=!1,this.promise=void 0,e instanceof t)B(this,e);else if(P(r)){if(C(e))throw new Error("new Resolvable(): token argument is required");if(!P(r))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=e,this.policy=i,this.resolveFn=r,this.deps=n||[],this.data=o,this.resolved=void 0!==o,this.promise=this.resolved?D.$q.when(this.data):void 0}else if(O(e)&amp;&amp;e.token&amp;&amp;(e.hasOwnProperty("resolveFn")||e.hasOwnProperty("data")))return new t(e.token,e.resolveFn,e.deps,e.policy,e.data)}return t.prototype.getPolicy=function(r){var e=this.policy||{},r=r&amp;&amp;r.resolvePolicy||{};return{when:e.when||r.when||Ee.when,async:e.async||r.async||Ee.async}},t.prototype.resolve=function(t,e){var r=this,n=D.$q,u=t.findNode(this),u=u&amp;&amp;u.state,u=this.getPolicy(u).async,u=P(u)?u:z;return this.promise=n.when().then(function(){return n.all(t.getDependencies(r).map(function(r){return r.get(t,e)}))}).then(function(t){return r.resolveFn.apply(null,t)}).then(u).then(function(t){return r.data=t,r.resolved=!0,r.resolveFn=null,le.traceResolvableResolved(r,e),r.data})},t.prototype.get=function(t,e){return this.promise||this.resolve(t,e)},t.prototype.toString=function(){return"Resolvable(token: "+zt(this.token)+", requires: ["+this.deps.map(zt)+"])"},t.prototype.clone=function(){return new t(this)},t.fromData=function(e,r){return new t(e,function(){return r},null,null,r)},t}(),Un=Re.when,Te=[Un.EAGER,Un.LAZY],ke=[Un.EAGER],Oe=function(){function t(t){this._path=t}return t.prototype.getTokens=function(){return this._path.reduce(function(t,e){return t.concat(e.resolvables.map(function(t){return t.token}))},[]).reduce(wt,[])},t.prototype.getResolvable=function(t){return Tt(this._path.map(function(t){return t.resolvables}).reduce(mt,[]).filter(function(e){return e.token===t}))},t.prototype.getPolicy=function(t){var e=this.findNode(t);return t.getPolicy(e.state)},t.prototype.subContext=function(e){return new t(be.subPath(this._path,function(t){return t.state===e}))},t.prototype.addResolvables=function(t,r){var r=ft(this._path,c("state",r)),n=t.map(function(t){return t.token});r.resolvables=r.resolvables.filter(function(t){return-1===n.indexOf(t.token)}).concat(t)},t.prototype.resolvePath=function(o,e){var r=this;void 0===o&amp;&amp;(o="LAZY");var n=(K(Te,o)?o:"LAZY")===Re.when.EAGER?ke:Te;le.traceResolvePath(this._path,o,e);function i(t,e){return function(n){return K(t,r.getPolicy(n)[e])}}o=this._path.reduce(function(t,f){var s=f.resolvables.filter(i(n,"when")),u=s.filter(i(["NOWAIT"],"async")),s=s.filter(l(i(["NOWAIT"],"async"))),c=r.subContext(f.state),f=function(t){return t.get(c,e).then(function(e){return{token:t.token,value:e}})};return u.forEach(f),t.concat(s.map(f))},[]);return D.$q.all(o)},t.prototype.injector=function(){return this._injector||(this._injector=new xe(this))},t.prototype.findNode=function(t){return ft(this._path,function(e){return K(e.resolvables,t)})},t.prototype.getDependencies=function(t){var e=this,r=this.findNode(t),n=(be.subPath(this._path,function(t){return t===r})||this._path).reduce(function(t,e){return t.concat(e.resolvables)},[]).filter(function(e){return e!==t});return t.deps.map(function(t){var r=n.filter(function(e){return e.token===t});if(r.length)return Tt(r);var i=e.injector().getNative(t);if(b(i))throw new Error("Could not find Dependency Injection token: "+zt(t));return new Ce(t,function(){return i},[],i)})},t}(),xe=function(){function t(t){this.context=t,this.native=this.get("Native Injector")||D.$injector}return t.prototype.get=function(t){var e=this.context.getResolvable(t);if(e){if("NOWAIT"===this.context.getPolicy(e).async)return e.get(this.context);if(!e.resolved)throw new Error("Resolvable async .get() not complete:"+zt(e.token));return e.data}return this.getNative(t)},t.prototype.getAsync=function(t){var e=this.context.getResolvable(t);return e?e.get(this.context):D.$q.when(this.native.get(t))},t.prototype.getNative=function(t){return this.native&amp;&amp;this.native.get(t)},t}();function je(t){return t.name}function Ve(t){return t.self.$$state=function(){return t},t.self}function Ie(t){return t.parent&amp;&amp;t.parent.data&amp;&amp;(t.data=t.self.data=Q(t.parent.data,t.data)),t.data}function De(t){return t.parent?t.parent.path.concat(t):[t]}function qe(t){var e=t.parent?B({},t.parent.includes):{};return e[t.name]=!0,e}function Ne(t){function e(t){return t.provide||t.token}var i=_([[s("resolveFn"),function(t){return new Ce(e(t),t.resolveFn,t.deps,t.policy)}],[s("useFactory"),function(t){return new Ce(e(t),t.useFactory,t.deps||t.dependencies,t.policy)}],[s("useClass"),function(t){return new Ce(e(t),function(){return new t.useClass},[],t.policy)}],[s("useValue"),function(t){return new Ce(e(t),function(){return t.useValue},[],t.policy,t.useValue)}],[s("useExisting"),function(t){return new Ce(e(t),z,[t.useExisting],t.policy)}]]),o=_([[u(s("val"),k),function(t){return new Ce(t.token,z,[t.val],t.policy)}],[u(s("val"),x),function(t){return new Ce(t.token,Tt(t.val),t.val.slice(0,-1),t.policy)}],[u(s("val"),P),function(t){return new Ce(t.token,t.val,function(t){var e=D.$injector;return t.$inject||e&amp;&amp;e.annotate(t,e.strictDi)||"deferred"}(t.val),t.policy)}]]),i=_([[m(Ce),function(t){return t}],[function(t){return!(!t.token||!t.resolveFn)},i],[function(t){return!(!t.provide&amp;&amp;!t.token||!(t.useValue||t.useFactory||t.useExisting||t.useClass))},i],[function(t){return!!(t&amp;&amp;t.val&amp;&amp;(k(t.val)||x(t.val)||P(t.val)))},o],[y(!0),function(t){throw new Error("Invalid resolve value: "+zt(t))}]]),o=t.resolve;return(x(o)?o:function(t,e){return Object.keys(t||{}).map(function(r){return{token:r,val:t[r],deps:void 0,policy:e[r]}})}(o,t.resolvePolicy||{})).map(i)}var Le=function(){function t(t,e){this.matcher=t;function i(){return t.find("")}function o(t){return""===t.name}var r,n=this;this.builders={name:[je],self:[Ve],parent:[function(e){return o(e)?null:t.find(n.parentName(e))||i()}],data:[Ie],url:[function(t,e){return function(r){var u=r.self;u&amp;&amp;u.url&amp;&amp;u.name&amp;&amp;u.name.match(/\.\*\*$/)&amp;&amp;(kt(u,a={}),a.url+="{remainder:any}",u=a);var o=r.parent,a=function(t){if(!k(t))return!1;var e="^"===t.charAt(0);return{val:e?t.substring(1):t,root:e}}(u.url),u=a?t.compile(a.val,{state:u}):u.url;if(!u)return null;if(!t.isMatcher(u))throw new Error("Invalid url '"+u+"' in state '"+r+"'");return a&amp;&amp;a.root?u:(o&amp;&amp;o.navigable||e()).url.append(u)}}(e,i)],navigable:[function(t){return function(e){return!t(e)&amp;&amp;e.url?e:e.parent?e.parent.navigable:null}}(o)],params:[(r=e.paramFactory,function(t){var e=t.url&amp;&amp;t.url.parameters({inherit:!1})||[],n=pt(lt(ut(t.params||{},e.map(s("id"))),function(e,n){return r.fromConfig(n,null,t.self)}));return e.concat(n).map(function(t){return[t.id,t]}).reduce(Pt,{})})],views:[],path:[De],includes:[qe],resolvables:[Ne]}}return t.prototype.builder=function(t,e){var r=this.builders,n=r[t]||[];return k(t)&amp;&amp;!R(e)?1&lt;n.length?n:n[0]:k(t)&amp;&amp;P(e)?(r[t]=n,r[t].push(e),function(){return r[t].splice(r[t].indexOf(e,1))&amp;&amp;null}):void 0},t.prototype.build=function(t){var i,o,e=this.matcher,r=this.builders,n=this.parentName(t);if(n&amp;&amp;!e.find(n,void 0,!1))return null;for(i in r)r.hasOwnProperty(i)&amp;&amp;(o=r[i].reduce(function(t,e){return function(r){return e(r,t)}},W),t[i]=o(t));return t},t.prototype.parentName=function(t){var e=t.name||"",r=e.split(".");if("**"===r.pop()&amp;&amp;r.pop(),r.length){if(t.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+e+")");return r.join(".")}return t.parent?k(t.parent)?t.parent:t.parent.name:""},t.prototype.name=function(r){var e=r.name;if(-1!==e.indexOf(".")||!r.parent)return e;r=k(r.parent)?r.parent:r.parent.name;return r?r+"."+e:e},t}(),Me=function(){function t(e){return t.create(e||{})}return t.create=function(e){e=t.isStateClass(e)?new e:e;var r=Q(Q(e,t.prototype));return e.$$state=function(){return r},r.self=e,r.__stateObjectCache={nameGlob:Ht.fromString(r.name)},r},t.prototype.is=function(t){return this===t||this.self===t||this.fqn()===t},t.prototype.fqn=function(){if(!(this.parent&amp;&amp;this.parent instanceof this.constructor))return this.name;var t=this.parent.fqn();return t?t+"."+this.name:this.name},t.prototype.root=function(){return this.parent&amp;&amp;this.parent.root()||this},t.prototype.parameters=function(t){return((t=nt(t,{inherit:!0,matchingKeys:null})).inherit&amp;&amp;this.parent&amp;&amp;this.parent.parameters()||[]).concat(pt(this.params)).filter(function(e){return!t.matchingKeys||t.matchingKeys.hasOwnProperty(e.id)})},t.prototype.parameter=function(t,e){return void 0===e&amp;&amp;(e={}),this.url&amp;&amp;this.url.parameter(t,e)||ft(pt(this.params),c("id",t))||e.inherit&amp;&amp;this.parent&amp;&amp;this.parent.parameter(t)},t.prototype.toString=function(){return this.fqn()},t.isStateClass=function(t){return P(t)&amp;&amp;!0===t.__uiRouterState},t.isStateDeclaration=function(t){return P(t.$$state)},t.isState=function(t){return O(t.__stateObjectCache)},t}(),Be=function(){function t(t){this._states=t}return t.prototype.isRelative=function(t){return 0===(t=t||"").indexOf(".")||0===t.indexOf("^")},t.prototype.find=function(t,o,a){if(void 0===a&amp;&amp;(a=!0),t||""===t){var n=k(t),i=n?t:t.name;this.isRelative(i)&amp;&amp;(i=this.resolvePath(i,o));o=this._states[i];if(o&amp;&amp;(n||!(n||o!==t&amp;&amp;o.self!==t)))return o;if(n&amp;&amp;a){a=pt(this._states).filter(function(t){return t.__stateObjectCache.nameGlob&amp;&amp;t.__stateObjectCache.nameGlob.matches(i)});return 1&lt;a.length&amp;&amp;ne.error("stateMatcher.find: Found multiple matches for "+i+" using glob: ",a.map(function(t){return t.name})),a[0]}}},t.prototype.resolvePath=function(t,u){if(!u)throw new Error("No reference point given for path '"+t+"'");for(var r=this.find(u),n=t.split("."),i=n.length,o=0,a=r;o&lt;i;o++)if(""!==n[o]||0!==o){if("^"!==n[o])break;if(!a.parent)throw new Error("Path '"+t+"' not valid for state '"+r.name+"'");a=a.parent}else a=r;u=n.slice(o).join(".");return a.name+(a.name&amp;&amp;u?".":"")+u},t}(),Ge=function(){function t(t,e,r,n){this.router=t,this.states=e,this.builder=r,this.listeners=n,this.queue=[]}return t.prototype.dispose=function(){this.queue=[]},t.prototype.register=function(n){var e=this.queue,r=Me.create(n),n=r.name;if(!k(n))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(n)||K(e.map(s("name")),n))throw new Error("State '"+n+"' is already defined");return e.push(r),this.flush(),r},t.prototype.flush=function(){for(var t=this,e=this.queue,r=this.states,n=this.builder,i=[],o=[],a={},u=function(e){return t.states.hasOwnProperty(e)&amp;&amp;t.states[e]},s=function(){i.length&amp;&amp;t.listeners.forEach(function(t){return t("registered",i.map(function(t){return t.self}))})};0&lt;e.length;){var c=e.shift(),f=c.name,l=n.build(c),h=o.indexOf(c);if(l){var d=u(f);if(d&amp;&amp;d.name===f)throw new Error("State '"+f+"' is already defined");d=u(f+".**");d&amp;&amp;this.router.stateRegistry.deregister(d),r[f]=c,this.attachRoute(c),0&lt;=h&amp;&amp;o.splice(h,1),i.push(c)}else{d=a[f];if(a[f]=e.length,0&lt;=h&amp;&amp;d===e.length)return e.push(c),s(),r;h&lt;0&amp;&amp;o.push(c),e.push(c)}}return s(),r},t.prototype.attachRoute=function(t){var e;!t.abstract&amp;&amp;t.url&amp;&amp;(e=this.router.urlService.rules).rule(e.urlRuleFactory.create(t))},t}(),ze=function(){function t(t){this.router=t,this.states={},this.listeners=[],this.matcher=new Be(this.states),this.builder=new Le(this.matcher,t.urlMatcherFactory),this.stateQueue=new Ge(t,this.states,this.builder,this.listeners),this._registerRoot()}return t.prototype._registerRoot=function(){(this._root=this.stateQueue.register({name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0})).navigable=null},t.prototype.dispose=function(){var t=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach(function(e){return t.get(e)&amp;&amp;t.deregister(e)})},t.prototype.onStatesChanged=function(t){return this.listeners.push(t),function(){Z(this.listeners)(t)}.bind(this)},t.prototype.root=function(){return this._root},t.prototype.register=function(t){return this.stateQueue.register(t)},t.prototype._deregisterTree=function(t){var e=this,r=this.get().map(function(t){return t.$$state()}),n=function(t){var e=r.filter(function(e){return-1!==t.indexOf(e.parent)});return 0===e.length?e:e.concat(n(e))},o=n([t]),o=[t].concat(o).reverse();return o.forEach(function(t){var r=e.router.urlService.rules;r.rules().filter(c("state",t)).forEach(function(t){return r.removeRule(t)}),delete e.states[t.name]}),o},t.prototype.deregister=function(t){var e=this.get(t);if(!e)throw new Error("Can't deregister state; not found: "+t);var r=this._deregisterTree(e.$$state());return this.listeners.forEach(function(t){return t("deregistered",r.map(function(t){return t.self}))}),r},t.prototype.get=function(t,n){var r=this;if(0===arguments.length)return Object.keys(this.states).map(function(t){return r.states[t].self});n=this.matcher.find(t,n);return n&amp;&amp;n.self||null},t.prototype.decorator=function(t,e){return this.builder.builder(t,e)},t}();(In=t.TransitionHookPhase||(t.TransitionHookPhase={}))[In.CREATE=0]="CREATE",In[In.BEFORE=1]="BEFORE",In[In.RUN=2]="RUN",In[In.SUCCESS=3]="SUCCESS",In[In.ERROR=4]="ERROR",(Dn=t.TransitionHookScope||(t.TransitionHookScope={}))[Dn.TRANSITION=0]="TRANSITION",Dn[Dn.STATE=1]="STATE";var We={current:W,transition:null,traceData:{},bind:null},Je=function(){function e(e,r,n,i){var o=this;this.transition=e,this.stateContext=r,this.registeredHook=n,this.options=i,this.isSuperseded=function(){return o.type.hookPhase===t.TransitionHookPhase.RUN&amp;&amp;!o.options.transition.isActive()},this.options=nt(i,We),this.type=n.eventType}return e.chain=function(t,e){return t.reduce(function(t,e){return t.then(function(){return e.invokeHook()})},e||D.$q.when())},e.invokeHooks=function(t,r){for(var n=0;n&lt;t.length;n++){var i=t[n].invokeHook();if(H(i)){var o=t.slice(n+1);return e.chain(o,i).then(r)}}return r()},e.runAllHooks=function(t){t.forEach(function(t){return t.invokeHook()})},e.prototype.logError=function(t){this.transition.router.stateService.defaultErrorHandler()(t)},e.prototype.invokeHook=function(){var t=this,e=this.registeredHook;if(!e._deregistered){var r=this.getNotCurrentRejection();if(r)return r;var n=this.options;le.traceHookInvocation(this,this.transition,n);var i=function(r){return e.eventType.getErrorHandler(t)(r)},o=function(r){return e.eventType.getResultHandler(t)(r)};try{var a=e.callback.call(n.bind,t.transition,t.stateContext);return!this.type.synchronous&amp;&amp;H(a)?a.catch(function(t){return qt.normalize(t).toPromise()}).then(o,i):o(a)}catch(t){return i(qt.normalize(t))}finally{e.invokeLimit&amp;&amp;++e.invokeCount&gt;=e.invokeLimit&amp;&amp;e.deregister()}}},e.prototype.handleHookResult=function(t){var e=this;return this.getNotCurrentRejection()||(H(t)?t.then(function(t){return e.handleHookResult(t)}):(le.traceHookResult(t,this.transition,this.options),!1===t?qt.aborted("Hook aborted transition").toPromise():m($e)(t)?qt.redirected(t).toPromise():void 0))},e.prototype.getNotCurrentRejection=function(){var t=this.transition.router;return t._disposed?qt.aborted("UIRouter instance #"+t.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?qt.aborted().toPromise():this.isSuperseded()?qt.superseded(this.options.current()).toPromise():void 0},e.prototype.toString=function(){var t=this.options,e=this.registeredHook;return(f("traceData.hookType")(t)||"internal")+" context: "+(f("traceData.context.state.name")(t)||f("traceData.context")(t)||"unknown")+", "+Nt(200,Mt(e.callback))},e.HANDLE_RESULT=function(t){return function(e){return t.handleHookResult(e)}},e.LOG_REJECTED_RESULT=function(t){return function(e){H(e)&amp;&amp;e.catch(function(e){return t.logError(qt.normalize(e))})}},e.LOG_ERROR=function(t){return function(e){return t.logError(e)}},e.REJECT_ERROR=function(t){return It},e.THROW_ERROR=function(t){return function(t){throw t}},e}();function Qe(t,e,r){var n=k(e)?[e]:e;return!!(P(n)?n:function(t){for(var e=n,r=0;r&lt;e.length;r++){var i=new Ht(e[r]);if(i&amp;&amp;i.matches(t.name)||!i&amp;&amp;e[r]===t.name)return!0}return!1})(t,r)}var Ke=function(){function e(t,e,r,n,i,o){void 0===o&amp;&amp;(o={}),this.tranSvc=t,this.eventType=e,this.callback=r,this.matchCriteria=n,this.removeHookFromRegistry=i,this.invokeCount=0,this._deregistered=!1,this.priority=o.priority||0,this.bind=o.bind||null,this.invokeLimit=o.invokeLimit}return e.prototype._matchingNodes=function(n,e,r){if(!0===e)return n;n=n.filter(function(t){return Qe(t.state,e,r)});return n.length?n:null},e.prototype._getDefaultMatchCriteria=function(){return lt(this.tranSvc._pluginapi._getPathTypes(),function(){return!0})},e.prototype._getMatchingNodes=function(e,r){var n=this,i=B(this._getDefaultMatchCriteria(),this.matchCriteria);return pt(this.tranSvc._pluginapi._getPathTypes()).reduce(function(o,a){var u=a.scope===t.TransitionHookScope.STATE,c=e[a.name]||[],c=u?c:[Tt(c)];return o[a.name]=n._matchingNodes(c,i[a.name],r),o},{})},e.prototype.matches=function(t,r){r=this._getMatchingNodes(t,r);return pt(r).every(z)?r:null},e.prototype.deregister=function(){this.removeHookFromRegistry(this),this._deregistered=!0},e}();function Ye(t,e,r){var n=(t._registeredHooks=t._registeredHooks||{})[r.name]=[],i=Z(n);function o(t,o,u){void 0===u&amp;&amp;(u={});u=new Ke(e,r,o,t,i,u);return n.push(u),u.deregister.bind(u)}return t[r.name]=o}var Ze=function(){function e(t){this.transition=t}return e.prototype.buildHooksForPhase=function(t){var e=this;return this.transition.router.transitionService._pluginapi._getEvents(t).map(function(t){return e.buildHooks(t)}).reduce(mt,[]).filter(z)},e.prototype.buildHooks=function(e){var r=this.transition,n=r.treeChanges(),i=this.getMatchingHooks(e,n,r);if(!i)return[];var o={transition:r,current:r.options().current};return i.map(function(i){return i.matches(n,r)[e.criteriaMatchPath.name].map(function(n){var s=B({bind:i.bind,traceData:{hookType:e.name,context:n}},o),u=e.criteriaMatchPath.scope===t.TransitionHookScope.STATE?n.state.self:null,s=new Je(r,u,i,s);return{hook:i,node:n,transitionHook:s}})}).reduce(mt,[]).sort(function(t){return void 0===t&amp;&amp;(t=!1),function(e,r){var i=t?-1:1,i=(e.node.state.path.length-r.node.state.path.length)*i;return 0!=i?i:r.hook.priority-e.hook.priority}}(e.reverseSort)).map(function(t){return t.transitionHook})},e.prototype.getMatchingHooks=function(e,r,n){var i=e.hookPhase===t.TransitionHookPhase.CREATE,o=this.transition.router.transitionService;return(i?[o]:[this.transition,o]).map(function(t){return t.getHooks(e.name)}).filter($t(x,"broken event named: "+e.name)).reduce(mt,[]).filter(function(t){return t.matches(r,n)})},e}(),Xe=s("self"),tr=function(){function e(e,a,n){var i=this;if(this._deferred=D.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new Ze(this),this.isActive=function(){return i.router.globals.transition===i},this.router=n,!(this._targetState=a).valid())throw new Error(a.error());this._options=B({current:y(this)},a.options()),this.$id=n.transitionService._transitionCount++;a=be.buildToPath(e,a);this._treeChanges=be.treeChanges(e,a,this._options.reloadState),this.createTransitionHookRegFns();a=this._hookBuilder.buildHooksForPhase(t.TransitionHookPhase.CREATE);Je.invokeHooks(a,function(){return null}),this.applyViewConfigs(n)}return e.prototype.onBefore=function(t,e,r){},e.prototype.onStart=function(t,e,r){},e.prototype.onExit=function(t,e,r){},e.prototype.onRetain=function(t,e,r){},e.prototype.onEnter=function(t,e,r){},e.prototype.onFinish=function(t,e,r){},e.prototype.onSuccess=function(t,e,r){},e.prototype.onError=function(t,e,r){},e.prototype.createTransitionHookRegFns=function(){var e=this;this.router.transitionService._pluginapi._getEvents().filter(function(e){return e.hookPhase!==t.TransitionHookPhase.CREATE}).forEach(function(t){return Ye(e,e.router.transitionService,t)})},e.prototype.getHooks=function(t){return this._registeredHooks[t]},e.prototype.applyViewConfigs=function(t){var e=this._treeChanges.entering.map(function(t){return t.state});be.applyViewConfigs(t.transitionService.$view,this._treeChanges.to,e)},e.prototype.$from=function(){return Tt(this._treeChanges.from).state},e.prototype.$to=function(){return Tt(this._treeChanges.to).state},e.prototype.from=function(){return this.$from().self},e.prototype.to=function(){return this.$to().self},e.prototype.targetState=function(){return this._targetState},e.prototype.is=function(t){return t instanceof e?this.is({to:t.$to().name,from:t.$from().name}):!(t.to&amp;&amp;!Qe(this.$to(),t.to,this)||t.from&amp;&amp;!Qe(this.$from(),t.from,this))},e.prototype.params=function(t){return void 0===t&amp;&amp;(t="to"),Object.freeze(this._treeChanges[t].map(s("paramValues")).reduce(it,{}))},e.prototype.paramsChanged=function(){var t=this.params("from"),e=this.params("to"),r=[].concat(this._treeChanges.to).concat(this._treeChanges.from).map(function(t){return t.paramSchema}).reduce(gt,[]).reduce(wt,[]);return ye.changed(r,t,e).reduce(function(t,r){return t[r.id]=e[r.id],t},{})},e.prototype.injector=function(t,r){void 0===r&amp;&amp;(r="to");r=this._treeChanges[r];return t&amp;&amp;(r=be.subPath(r,function(e){return e.state===t||e.state.name===t})),new Oe(r).injector()},e.prototype.getResolveTokens=function(t){return void 0===t&amp;&amp;(t="to"),new Oe(this._treeChanges[t]).getTokens()},e.prototype.addResolvable=function(t,i){void 0===i&amp;&amp;(i=""),t=m(Ce)(t)?t:new Ce(t);var r="string"==typeof i?i:i.name,n=this._treeChanges.to,i=ft(n,function(t){return t.state.name===r});new Oe(n).addResolvables([t],i.state)},e.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},e.prototype.originalTransition=function(){var t=this.redirectedFrom();return t&amp;&amp;t.originalTransition()||this},e.prototype.options=function(){return this._options},e.prototype.entering=function(){return ht(this._treeChanges.entering,s("state")).map(Xe)},e.prototype.exiting=function(){return ht(this._treeChanges.exiting,s("state")).map(Xe).reverse()},e.prototype.retained=function(){return ht(this._treeChanges.retained,s("state")).map(Xe)},e.prototype.views=function(r,e){void 0===r&amp;&amp;(r="entering");r=this._treeChanges[r];return(r=e?r.filter(c("state",e)):r).map(s("views")).filter(z).reduce(mt,[])},e.prototype.treeChanges=function(t){return t?this._treeChanges[t]:this._treeChanges},e.prototype.redirect=function(t){for(var e=1,r=this;null!=(r=r.redirectedFrom());)if(20&lt;++e)throw new Error("Too many consecutive Transition redirects (20+)");var a={redirectedFrom:this,source:"redirect"};"url"===this.options().source&amp;&amp;!1!==t.options().location&amp;&amp;(a.location="replace");var s=B({},this.options(),t.options(),a);t=t.withOptions(s,!0);var o,a=this.router.transitionService.create(this._treeChanges.from,t),u=this._treeChanges.entering,s=a._treeChanges.entering;return be.matching(s,u,be.nonDynamicParams).filter(l((o=t.options().reloadState,function(t){return o&amp;&amp;t.state.includes[o.name]}))).forEach(function(t,e){t.resolvables=u[e].resolvables}),a},e.prototype._changedParams=function(){var r=this._treeChanges;if(!(this._options.reload||r.exiting.length||r.entering.length||r.to.length!==r.from.length||Ct(r.to,r.from).map(function(t){return t[0].state!==t[1].state}).reduce(dt,!1))){var e=r.to.map(function(t){return t.paramSchema}),r=[r.to,r.from].map(function(t){return t.map(function(t){return t.paramValues})});return Ct(e,r[0],r[1]).map(function(n){var e=n[0],r=n[1],n=n[2];return ye.changed(e,r,n)}).reduce(mt,[])}},e.prototype.dynamic=function(){var t=this._changedParams();return!!t&amp;&amp;t.map(function(t){return t.dynamic}).reduce(dt,!1)},e.prototype.ignored=function(){return!!this._ignoredReason()},e.prototype._ignoredReason=function(){var i=this.router.globals.transition,e=this._options.reloadState,r=function(t,n){if(t.length!==n.length)return!1;n=be.matching(t,n);return t.length===n.filter(function(t){return!e||!t.state.includes[e.name]}).length},n=this.treeChanges(),i=i&amp;&amp;i.treeChanges();return i&amp;&amp;r(i.to,n.to)&amp;&amp;r(i.exiting,n.exiting)?"SameAsPending":0===n.exiting.length&amp;&amp;0===n.entering.length&amp;&amp;r(n.from,n.to)?"SameAsCurrent":void 0},e.prototype.run=function(){function n(t){return e._hookBuilder.buildHooksForPhase(t)}var e=this,r=Je.runAllHooks,i=n(t.TransitionHookPhase.BEFORE);return Je.invokeHooks(i,function(){var t=e.router.globals;return t.lastStartedTransitionId=e.$id,t.transition=e,t.transitionHistory.enqueue(e),le.traceTransitionStart(e),D.$q.when(void 0)}).then(function(){var e=n(t.TransitionHookPhase.RUN);return Je.invokeHooks(e,function(){return D.$q.when(void 0)})}).then(function(){le.traceSuccess(e.$to(),e),e.success=!0,e._deferred.resolve(e.to()),r(n(t.TransitionHookPhase.SUCCESS))},function(i){le.traceError(i,e),e.success=!1,e._deferred.reject(i),e._error=i,r(n(t.TransitionHookPhase.ERROR))}),this.promise},e.prototype.valid=function(){return!this.error()||void 0!==this.success},e.prototype.abort=function(){b(this.success)&amp;&amp;(this._aborted=!0)},e.prototype.error=function(){var t=this.$to();if(t.self.abstract)return qt.invalid("Cannot transition to abstract state '"+t.name+"'");var o=t.parameters(),r=this.params(),o=o.filter(function(t){return!t.validates(r[t.id])});if(o.length){o=o.map(function(t){return"["+t.id+":"+zt(r[t.id])+"]"}).join(", "),o="The following parameter values are not valid for state '"+t.name+"': "+o;return qt.invalid(o)}return!1===this.success?this._error:void 0},e.prototype.toString=function(){function r(t){return null!==t["#"]&amp;&amp;void 0!==t["#"]?t:ut(t,["#"])}var t=this.from(),e=this.to();return"Transition#"+this.$id+"( '"+(O(t)?t.name:t)+"'"+zt(r(this._treeChanges.from.map(s("paramValues")).reduce(it,{})))+" -&gt; "+(this.valid()?"":"(X) ")+"'"+(O(e)?e.name:e)+"'"+zt(r(this.params()))+" )"},e.diToken=e}();function er(t,e){var r=["",""],n=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&amp;");if(!e)return n;switch(e.squash){case!1:r=["(",")"+(e.isOptional?"?":"")];break;case!0:n=n.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+e.squash+"|",")?"]}return n+r[0]+e.type.pattern.source+r[1]}var fr,rr=te("/"),nr={state:{params:{}},strict:!0,caseInsensitive:!0,decodeParams:!0},ir=function(){function e(t,r,n,i){var o=this;this._cache={path:[this]},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.config=i=nt(i,nr),this.pattern=t;for(var a,u,f=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h=[],p=0,v=function(r){if(!e.nameValidator.test(r))throw new Error("Invalid parameter name '"+r+"' in pattern '"+t+"'");if(ft(o._params,c("id",r)))throw new Error("Duplicate parameter name '"+r+"' in pattern '"+t+"'")},d=function(e,n){var a=e[2]||e[3],i=n?e[4]:e[4]||("*"===e[1]?"[\\s\\S]*":null);return{id:a,regexp:i,segment:t.substring(p,e.index),type:i?r.type(i)||(i=i,Q(r.type(n?"query":"path"),{pattern:new RegExp(i,o.config.caseInsensitive?"i":void 0)})):null}};(a=f.exec(t))&amp;&amp;!(0&lt;=(u=d(a,!1)).segment.indexOf("?"));)v(u.id),this._params.push(n.fromPath(u.id,u.type,i.state)),this._segments.push(u.segment),h.push([u.segment,Tt(this._params)]),p=f.lastIndex;var m=(s=t.substring(p)).indexOf("?");if(0&lt;=m){var g=s.substring(m),s=s.substring(0,m);if(0&lt;g.length)for(p=0;a=l.exec(g);)v((u=d(a,!0)).id),this._params.push(n.fromSearch(u.id,u.type,i.state)),p=f.lastIndex}this._segments.push(s),this._compiled=h.map(function(t){return er.apply(null,t)}).concat(er(s))}return e.encodeDashes=function(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})},e.pathSegmentsAndParams=function(e){return Ct(e._segments,e._params.filter(function(e){return e.location===t.DefType.PATH}).concat(void 0)).reduce(mt,[]).filter(function(t){return""!==t&amp;&amp;R(t)})},e.queryParams=function(e){return e._params.filter(function(e){return e.location===t.DefType.SEARCH})},e.compare=function(i,o){function n(t){return t._cache.weights=t._cache.weights||function(t){return t._cache.segments=t._cache.segments||t._cache.path.map(e.pathSegmentsAndParams).reduce(mt,[]).reduce(ee,[]).map(function(t){return k(t)?rr(t):t}).reduce(mt,[])}(t).map(function(t){return"/"===t?1:k(t)?2:t instanceof ye?3:void 0})}i=n(i),o=n(o);!function(t,e){for(var n=Math.max(t.length,e.length);t.length&lt;n;)t.push(0);for(;e.length&lt;n;)e.push(0)}(i,o);for(var a,s=Ct(i,o),u=0;u&lt;s.length;u++)if(0!=(a=s[u][0]-s[u][1]))return a;return 0},e.prototype.append=function(t){return this._children.push(t),t._cache={path:this._cache.path.concat(t),parent:this,pattern:null},t},e.prototype.isRoot=function(){return this._cache.path[0]===this},e.prototype.toString=function(){return this.pattern},e.prototype._getDecodedParamValue=function(t,e){return R(t)&amp;&amp;(!this.config.decodeParams||e.type.raw||x(t)||(t=decodeURIComponent(t)),t=e.type.decode(t)),e.value(t)},e.prototype.exec=function(v,e,r,n){var i=this;void 0===e&amp;&amp;(e={});var o,a,u,c=(u=function(){return new RegExp(["^",_t(i._cache.path.map(s("_compiled"))).join(""),!1===i.config.strict?"/?":"","$"].join(""),i.config.caseInsensitive?"i":void 0)},((o=this._cache)[a="pattern"]=o[a]||u()).exec(v));if(!c)return null;var f,l,v=this.parameters(),p=v.filter(function(t){return!t.isSearch()}),v=v.filter(function(t){return t.isSearch()}),d=this._cache.path.map(function(t){return t._segments.length-1}).reduce(function(t,e){return t+e}),m={};if(d!==c.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var g=0;g&lt;d;g++){for(var y=p[g],w=c[g+1],_=0;_&lt;y.replace.length;_++)y.replace[_].from===w&amp;&amp;(w=y.replace[_].to);w&amp;&amp;!0===y.array&amp;&amp;(0,l=ht((f=function(t){return t.split("").reverse().join("")})(w).split(/-(?!\\)/),f),w=ht(l,function(t){return t.replace(/\\-/g,"-")}).reverse()),m[y.id]=this._getDecodedParamValue(w,y)}return v.forEach(function(t){for(var r=e[t.id],n=0;n&lt;t.replace.length;n++)t.replace[n].from===r&amp;&amp;(r=t.replace[n].to);m[t.id]=i._getDecodedParamValue(r,t)}),r&amp;&amp;(m["#"]=r),m},e.prototype.parameters=function(t){return void 0===t&amp;&amp;(t={}),!1===t.inherit?this._params:_t(this._cache.path.map(function(t){return t._params}))},e.prototype.parameter=function(t,e){var r=this;void 0===e&amp;&amp;(e={});var n=this._cache.parent;return function(){for(var e=0,n=r._params;e&lt;n.length;e++){var i=n[e];if(i.id===t)return i}}()||!1!==e.inherit&amp;&amp;n&amp;&amp;n.parameter(t,e)||null},e.prototype.validates=function(t){return t=t||{},this.parameters().filter(function(e){return t.hasOwnProperty(e.id)}).map(function(e){return function(t,e){return!t||t.validates(e)}(e,t[e.id])}).reduce(vt,!0)},e.prototype.format=function(t){void 0===t&amp;&amp;(t={});var u=this._cache.path,a=u.map(e.pathSegmentsAndParams).reduce(mt,[]).map(function(t){return k(t)?t:o(t)}),u=u.map(e.queryParams).reduce(mt,[]).map(o);if(a.concat(u).filter(function(t){return!1===t.isValid}).length)return null;function o(e){var r=e.value(t[e.id]),n=e.validates(r),i=e.isDefaultValue(r),o=!!i&amp;&amp;e.squash,a=e.type.encode(r);return{param:e,value:r,isValid:n,isDefaultValue:i,squash:o,encoded:a}}a=a.reduce(function(t,o){if(k(o))return t+o;var n=o.squash,i=o.encoded,o=o.param;return!0===n?t.match(/\/$/)?t.slice(0,-1):t:k(n)?t+n:!1!==n||null==i?t:x(i)?t+ht(i,e.encodeDashes).join("-"):o.raw?t+i:t+encodeURIComponent(i)},""),u=u.map(function(i){var e=i.param,r=i.squash,n=i.encoded,i=i.isDefaultValue;if(!(null==n||i&amp;&amp;!1!==r)&amp;&amp;(x(n)||(n=[n]),0!==n.length))return e.raw||(n=ht(n,encodeURIComponent)),n.map(function(t){return e.id+"="+t})}).filter(z).reduce(mt,[]).join("&amp;");return a+(u?"?"+u:"")+(t["#"]?"#"+t["#"]:"")},e.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,e}(),or=function(){return(or=Object.assign||function(t){for(var e,r=1,n=arguments.length;r&lt;n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&amp;&amp;(t[i]=e[i]);return t}).apply(this,arguments)},ar=function(){function e(t){this.router=t}return e.prototype.fromConfig=function(e,r,n){return new ye(e,r,t.DefType.CONFIG,this.router.urlService.config,n)},e.prototype.fromPath=function(e,r,n){return new ye(e,r,t.DefType.PATH,this.router.urlService.config,n)},e.prototype.fromSearch=function(e,r,n){return new ye(e,r,t.DefType.SEARCH,this.router.urlService.config,n)},e}(),ur=function(){function t(t){var e=this;this.router=t,this.paramFactory=new ar(this.router),this.UrlMatcher=ir,this.Param=ye,this.caseInsensitive=function(t){return e.router.urlService.config.caseInsensitive(t)},this.defaultSquashPolicy=function(t){return e.router.urlService.config.defaultSquashPolicy(t)},this.strictMode=function(t){return e.router.urlService.config.strictMode(t)},this.type=function(t,r,n){return e.router.urlService.config.type(t,r,n)||e}}return t.prototype.compile=function(t,e){var r=this.router.urlService.config,i=e&amp;&amp;!e.state&amp;&amp;e.params;e=i?or({state:{params:i}},e):e;i={strict:r._isStrictMode,caseInsensitive:r._isCaseInsensitive,decodeParams:r._decodeParams};return new ir(t,r.paramTypes,this.paramFactory,B(i,e))},t.prototype.isMatcher=function(t){if(!O(t))return!1;var e=!0;return M(ir.prototype,function(r,n){P(r)&amp;&amp;(e=e&amp;&amp;R(t[n])&amp;&amp;P(t[n]))}),e},t.prototype.$get=function(){var t=this.router.urlService.config;return t.paramTypes.enqueue=!1,t.paramTypes._flushTypeQueue(),this},t}(),sr=function(){function t(t){this.router=t}return t.prototype.compile=function(t){return this.router.urlMatcherFactory.compile(t)},t.prototype.create=function(a,e){var r=this,n=Me.isState,i=Me.isStateDeclaration,o=_([[k,function(t){return o(r.compile(t))}],[m(ir),function(t){return r.fromUrlMatcher(t,e)}],[p(n,i),function(t){return r.fromState(t,r.router)}],[m(RegExp),function(t){return r.fromRegExp(t,e)}],[P,function(t){return new cr(t,e)}]]),a=o(a);if(!a)throw new Error("invalid 'what' in when()");return a},t.prototype.fromUrlMatcher=function(t,e){var r=e;k(e)&amp;&amp;(e=this.router.urlMatcherFactory.compile(e)),m(ir)(e)&amp;&amp;(r=function(t){return e.format(t)});var n={urlMatcher:t,matchPriority:function(e){var r=t.parameters().filter(function(t){return t.isOptional});return r.length?r.filter(function(t){return e[t.id]}).length/r.length:1e-6},type:"URLMATCHER"};return B(new cr(function(r){r=t.exec(r.path,r.search,r.hash);return t.validates(r)&amp;&amp;r},r),n)},t.prototype.fromState=function(n,e){var r=Me.isStateDeclaration(n)?n.$$state():n,n={state:r,type:"STATE"};return B(this.fromUrlMatcher(r.url,function(t){var n=e.stateService,i=e.globals;n.href(r,t)!==n.href(i.current,i.params)&amp;&amp;n.transitionTo(r,t,{inherit:!0,source:"url"})}),n)},t.prototype.fromRegExp=function(t,e){if(t.global||t.sticky)throw new Error("Rule RegExp must not be global or sticky");var r=k(e)?function(t){return e.replace(/\$(\$|\d{1,2})/,function(e,r){return t["$"===r?0:Number(r)]})}:e,n={regexp:t,type:"REGEXP"};return B(new cr(function(e){return t.exec(e.path)},r),n)},t.isUrlRule=function(t){return t&amp;&amp;["type","match","handler"].every(function(e){return R(t[e])})},t}(),cr=function(t,e){var r=this;this.match=t,this.type="RAW",this.matchPriority=function(t){return 0-r.$id},this.handler=e||z},lr=function(){function t(t){var e=this;this.router=t,this.sync=function(t){return e.router.urlService.sync(t)},this.listen=function(t){return e.router.urlService.listen(t)},this.deferIntercept=function(t){return e.router.urlService.deferIntercept(t)},this.match=function(t){return e.router.urlService.match(t)},this.initial=function(t){return e.router.urlService.rules.initial(t)},this.otherwise=function(t){return e.router.urlService.rules.otherwise(t)},this.removeRule=function(t){return e.router.urlService.rules.removeRule(t)},this.rule=function(t){return e.router.urlService.rules.rule(t)},this.rules=function(){return e.router.urlService.rules.rules()},this.sort=function(t){return e.router.urlService.rules.sort(t)},this.when=function(t,r,n){return e.router.urlService.rules.when(t,r,n)},this.urlRuleFactory=new sr(t)}return t.prototype.update=function(t){var e=this.router.locationService;t?this.location=e.url():e.url()!==this.location&amp;&amp;e.url(this.location,!0)},t.prototype.push=function(t,e,n){n=n&amp;&amp;!!n.replace;this.router.urlService.url(t.format(e||{}),n)},t.prototype.href=function(i,s,a){var n=i.format(s);if(null==n)return null;a=a||{absolute:!1};i=this.router.urlService.config,s=i.html5Mode();if(s||null===n||(n="#"+i.hashPrefix()+n),n=function(t,e,r,n){return"/"===n?t:e?Qt(n)+t:r?n.slice(1)+t:t}(n,s,a.absolute,i.baseHref()),!a.absolute||!n)return n;a=!s&amp;&amp;n?"/":"",s=i.port(),s=80===s||443===s?"":":"+s;return[i.protocol(),"://",i.host(),s,a,n].join("")},Object.defineProperty(t.prototype,"interceptDeferred",{get:function(){return this.router.urlService.interceptDeferred},enumerable:!1,configurable:!0}),t}(),hr=function(){function t(t){var e=this;this.router=t,this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._listeners=[],this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIView:function(t){return ft(e._uiViews,function(r){return e.router.$id+"."+r.id===t})},_registeredUIViews:function(){return e._uiViews},_activeViewConfigs:function(){return e._viewConfigs},_onSync:function(t){return e._listeners.push(t),function(){return Z(e._listeners,t)}}}}return t.normalizeUIViewTarget=function(t,i){void 0===i&amp;&amp;(i="");var o=i.split("@"),n=o[0]||"$default",i=k(o[1])?o[1]:"^",o=/^(\^(?:\.\^)*)\.(.*$)/.exec(n);return o&amp;&amp;(i=o[1],n=o[2]),"!"===n.charAt(0)&amp;&amp;(n=n.substr(1),i=""),/^(\^(?:\.\^)*)$/.exec(i)?i=i.split(".").reduce(function(t,e){return t.parent},t).name:"."===i&amp;&amp;(i=t.name),{uiViewName:n,uiViewContextAnchor:i}},t.prototype._rootViewContext=function(t){return this._rootContext=t||this._rootContext},t.prototype._viewConfigFactory=function(t,e){this._viewConfigFactories[t]=e},t.prototype.createViewConfig=function(t,n){var r=this._viewConfigFactories[n.$type];if(!r)throw new Error("ViewService: No view config factory registered for type "+n.$type);n=r(t,n);return x(n)?n:[n]},t.prototype.deactivateViewConfig=function(t){le.traceViewServiceEvent("&lt;- Removing",t),Z(this._viewConfigs,t)},t.prototype.activateViewConfig=function(t){le.traceViewServiceEvent("-&gt; Registering",t),this._viewConfigs.push(t)},t.prototype.sync=function(){var e=this,r=this._uiViews.map(function(t){return[t.fqn,t]}).reduce(Pt,{});function n(t){for(var e=t.viewDecl.$context,r=0;++r&amp;&amp;e.parent;)e=e.parent;return r}var i=o(function(t,e,r,n){return e*(t(r)-t(n))}),a=this._uiViews.sort(i(function(t){var e=function(t){return t&amp;&amp;t.parent?e(t.parent)+1:1};return 1e4*t.fqn.split(".").length+e(t.creationContext)},1)).map(function(o){var a=e._viewConfigs.filter(t.matches(r,o));return 1&lt;a.length&amp;&amp;a.sort(i(n,-1)),{uiView:o,viewConfig:a[0]}}),u=a.map(function(t){return t.viewConfig}),s=this._viewConfigs.filter(function(t){return!K(u,t)}).map(function(t){return{uiView:void 0,viewConfig:t}});a.forEach(function(t){-1!==e._uiViews.indexOf(t.uiView)&amp;&amp;t.uiView.configUpdated(t.viewConfig)});var c=a.concat(s);this._listeners.forEach(function(t){return t(c)}),le.traceViewSync(c)},t.prototype.registerUIView=function(t){le.traceViewServiceUIViewEvent("-&gt; Registering",t);var e=this._uiViews;return e.filter(function(e){return e.fqn===t.fqn&amp;&amp;e.$type===t.$type}).length&amp;&amp;le.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",t),e.push(t),this.sync(),function(){-1!==e.indexOf(t)?(le.traceViewServiceUIViewEvent("&lt;- Deregistering",t),Z(e)(t)):le.traceViewServiceUIViewEvent("Tried removing non-registered uiView",t)}},t.prototype.available=function(){return this._uiViews.map(s("fqn"))},t.prototype.active=function(){return this._uiViews.filter(s("$config")).map(s("name"))},t.matches=function(t,e){return function(o){if(e.$type!==o.viewDecl.$type)return!1;var n=o.viewDecl,s=n.$uiViewName.split("."),o=e.fqn.split(".");if(!G(s,o.slice(0-s.length)))return!1;s=1-s.length||void 0,s=o.slice(0,s).join("."),s=t[s].creationContext;return n.$uiViewContextAnchor===(s&amp;&amp;s.name)}},t}(),pr=function(){function t(){this.params=new _e,this.lastStartedTransitionId=-1,this.transitionHistory=new At([],1),this.successfulTransitions=new At([],1)}return t.prototype.dispose=function(){this.transitionHistory.clear(),this.successfulTransitions.clear(),this.transition=null},t}();function vr(t){if(!(P(t)||k(t)||m($e)(t)||$e.isDef(t)))throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property");return P(t)?t:y(t)}fr=function(t,e){var r=function(t,e){return(e.priority||0)-(t.priority||0)}(t,e);return 0!==r||0!==(r=function(t,e){var r={STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1};return(r[t.type]||0)-(r[e.type]||0)}(t,e))||0!==(r=function(t,e){return t.urlMatcher&amp;&amp;e.urlMatcher?ir.compare(t.urlMatcher,e.urlMatcher):0}(t,e))?r:function(t,e){var r={STATE:!0,URLMATCHER:!0};return r[t.type]&amp;&amp;r[e.type]?0:(t.$id||0)-(e.$id||0)}(t,e)};var dr=function(){function t(t){this.router=t,this._sortFn=fr,this._rules=[],this._id=0,this.urlRuleFactory=new sr(t)}return t.prototype.dispose=function(t){this._rules=[],delete this._otherwiseFn},t.prototype.initial=function(e){e=vr(e);this.rule(this.urlRuleFactory.create(function(t,e){return 0===e.globals.transitionHistory.size()&amp;&amp;!!/^\/?$/.exec(t.path)},e))},t.prototype.otherwise=function(e){e=vr(e);this._otherwiseFn=this.urlRuleFactory.create(y(!0),e),this._sorted=!1},t.prototype.removeRule=function(t){Z(this._rules,t)},t.prototype.rule=function(t){var e=this;if(!sr.isUrlRule(t))throw new Error("invalid rule");return t.$id=this._id++,t.priority=t.priority||0,this._rules.push(t),this._sorted=!1,function(){return e.removeRule(t)}},t.prototype.rules=function(){return this.ensureSorted(),this._rules.concat(this._otherwiseFn?[this._otherwiseFn]:[])},t.prototype.sort=function(t){for(var e=this.stableSort(this._rules,this._sortFn=t||this._sortFn),r=0,n=0;n&lt;e.length;n++)e[n]._group=r,n&lt;e.length-1&amp;&amp;0!==this._sortFn(e[n],e[n+1])&amp;&amp;r++;this._rules=e,this._sorted=!0},t.prototype.ensureSorted=function(){this._sorted||this.sort()},t.prototype.stableSort=function(r,e){r=r.map(function(t,e){return{elem:t,idx:e}});return r.sort(function(t,r){var n=e(t.elem,r.elem);return 0===n?t.idx-r.idx:n}),r.map(function(t){return t.elem})},t.prototype.when=function(t,n,r){n=this.urlRuleFactory.create(t,n);return R(r&amp;&amp;r.priority)&amp;&amp;(n.priority=r.priority),this.rule(n),n},t}(),mr=function(){function t(t){var e=this;this.router=t,this.paramTypes=new we,this._decodeParams=!0,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this.dispose=function(){return e.paramTypes.dispose()},this.baseHref=function(){return e.router.locationConfig.baseHref()},this.hashPrefix=function(t){return e.router.locationConfig.hashPrefix(t)},this.host=function(){return e.router.locationConfig.host()},this.html5Mode=function(){return e.router.locationConfig.html5Mode()},this.port=function(){return e.router.locationConfig.port()},this.protocol=function(){return e.router.locationConfig.protocol()}}return t.prototype.caseInsensitive=function(t){return this._isCaseInsensitive=R(t)?t:this._isCaseInsensitive},t.prototype.defaultSquashPolicy=function(t){if(R(t)&amp;&amp;!0!==t&amp;&amp;!1!==t&amp;&amp;!k(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=R(t)?t:this._defaultSquashPolicy},t.prototype.strictMode=function(t){return this._isStrictMode=R(t)?t:this._isStrictMode},t.prototype.type=function(t,e,n){n=this.paramTypes.type(t,e,n);return R(e)?this:n},t}(),gr=function(){function t(t){var e=this;this.router=t,this.interceptDeferred=!1,this.rules=new dr(this.router),this.config=new mr(this.router),this.url=function(t,r,n){return e.router.locationService.url(t,r,n)},this.path=function(){return e.router.locationService.path()},this.search=function(){return e.router.locationService.search()},this.hash=function(){return e.router.locationService.hash()},this.onChange=function(t){return e.router.locationService.onChange(t)}}return t.prototype.dispose=function(){this.listen(!1),this.rules.dispose()},t.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},t.prototype.sync=function(i){var r,n,o;i&amp;&amp;i.defaultPrevented||(o=this.router,r=o.urlService,n=o.stateService,i={path:r.path(),search:r.search(),hash:r.hash()},o=this.match(i),_([[k,function(t){return r.url(t,!0)}],[$e.isDef,function(t){return n.go(t.state,t.params,t.options)}],[m($e),function(t){return n.go(t.state(),t.params(),t.options())}]])(o&amp;&amp;o.rule.handler(o.match,i,this.router)))},t.prototype.listen=function(t){var e=this;if(!1!==t)return this._stopListeningFn=this._stopListeningFn||this.router.urlService.onChange(function(t){return e.sync(t)});this._stopListeningFn&amp;&amp;this._stopListeningFn(),delete this._stopListeningFn},t.prototype.deferIntercept=function(t){void 0===t&amp;&amp;(t=!0),this.interceptDeferred=t},t.prototype.match=function(t){t=B({path:"",search:{},hash:""},t);for(var n,o=this.rules.rules(),a=0;a&lt;o.length&amp;&amp;(!r||r.rule._group===o[a]._group);a++)var u=(u=(n=o[a]).match(t,this.router))&amp;&amp;{match:u,rule:n,weight:n.matchPriority(u)},r=!r||u&amp;&amp;u.weight&gt;r.weight?u:r;return r},t}(),yr=0,wr=A("LocationServices",["url","path","search","hash","onChange"]),_r=A("LocationConfig",["port","protocol","host","baseHref","html5Mode","hashPrefix"]),Sr=function(){function t(t,e){void 0===t&amp;&amp;(t=wr),void 0===e&amp;&amp;(e=_r),this.locationService=t,this.locationConfig=e,this.$id=yr++,this._disposed=!1,this._disposables=[],this.trace=le,this.viewService=new hr(this),this.globals=new pr,this.transitionService=new Mr(this),this.urlMatcherFactory=new ur(this),this.urlRouter=new lr(this),this.urlService=new gr(this),this.stateRegistry=new ze(this),this.stateService=new Br(this),this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.globals),this.disposable(this.stateService),this.disposable(this.stateRegistry),this.disposable(this.transitionService),this.disposable(this.urlService),this.disposable(t),this.disposable(e)}return t.prototype.disposable=function(t){this._disposables.push(t)},t.prototype.dispose=function(t){var e=this;t&amp;&amp;P(t.dispose)?t.dispose(this):(this._disposed=!0,this._disposables.slice().forEach(function(t){try{"function"==typeof t.dispose&amp;&amp;t.dispose(e),Z(e._disposables,t)}catch(t){}}))},t.prototype.plugin=function(t,r){void 0===r&amp;&amp;(r={});r=new t(this,r);if(!r.name)throw new Error("Required property `name` missing on plugin: "+r);return this._disposables.push(r),this._plugins[r.name]=r},t.prototype.getPlugin=function(t){return t?this._plugins[t]:pt(this._plugins)},t}();function $r(t){t.addResolvable(Ce.fromData(Sr,t.router),""),t.addResolvable(Ce.fromData(tr,t),""),t.addResolvable(Ce.fromData("$transition$",t),""),t.addResolvable(Ce.fromData("$stateParams",t.params()),""),t.entering().forEach(function(e){t.addResolvable(Ce.fromData("$state$",e),e)})}function Rr(e){function r(t){return br(t.token)?Ce.fromData(t.token,null):t}(e=pt(e.treeChanges()).reduce(mt,[]).reduce(wt,[])).forEach(function(t){t.resolvables=t.resolvables.map(r)})}function Er(t){var e=t.to().redirectTo;if(e){var r=t.router.stateService;return P(e)?D.$q.when(e(t)).then(n):n(e)}function n(e){if(e)return e instanceof $e?e:k(e)?r.target(e,t.params(),t.options()):e.state||e.params?r.target(e.state||t.to(),e.params||t.params(),t.options()):void 0}}var br=K(["$transition$",tr]);function Cr(t){return function(e,r){return(0,r.$$state()[t])(e,r)}}function Or(t){return new Oe(t.treeChanges().to).resolvePath("EAGER",t).then(W)}function xr(t,e){return new Oe(t.treeChanges().to).subContext(e.$$state()).resolvePath("LAZY",t).then(W)}function jr(t){return new Oe(t.treeChanges().to).resolvePath("LAZY",t).then(W)}function Vr(r){var e=D.$q;if((r=r.views("entering")).length)return e.all(r.map(function(t){return e.when(t.load())})).then(W)}function Ir(t){var n,e=t.views("entering"),r=t.views("exiting");(e.length||r.length)&amp;&amp;(n=t.router.viewService,r.forEach(function(t){return n.deactivateViewConfig(t)}),e.forEach(function(t){return n.activateViewConfig(t)}),n.sync())}function Hr(t){function r(){e.transition===t&amp;&amp;(e.transition=null)}var e=t.router.globals;t.onSuccess({},function(){e.successfulTransitions.enqueue(t),e.$current=t.$to(),e.current=e.$current.self,kt(t.params(),e.params)},{priority:1e4}),t.promise.then(r,r)}function Ar(n){var i=n.options(),r=n.router.stateService,n=n.router.urlRouter;"url"!==i.source&amp;&amp;i.location&amp;&amp;r.$current.navigable&amp;&amp;(i={replace:"replace"===i.location},n.push(r.$current.navigable.url,r.params,i)),n.update(!0)}function Dr(t){var e=t.router,r=t.entering().filter(function(t){return!!t.$$state().lazyLoad}).map(function(e){return qr(t,e)});return D.$q.all(r).then(function(){if("url"!==t.originalTransition().options().source){var u=t.targetState();return e.stateService.target(u.identifier(),u.params(),u.options())}var a=e.urlService,u=a.match(a.parts()),a=u&amp;&amp;u.rule;if(a&amp;&amp;"STATE"===a.type){a=a.state,u=u.match;return e.stateService.target(a,u,t.options())}e.urlService.sync()})}var Pr=Cr("onExit"),Tr=Cr("onRetain"),kr=Cr("onEnter");function qr(t,e){var r=e.$$state().lazyLoad;return r._promise||(r._promise=D.$q.when(r(t,e)).then(function(e){return e&amp;&amp;Array.isArray(e.states)&amp;&amp;e.states.forEach(function(e){return t.router.stateRegistry.register(e)}),e}).then(function(t){return delete e.lazyLoad,delete e.$$state().lazyLoad,delete r._promise,t},function(t){return delete r._promise,D.$q.reject(t)}))}function Nr(t,e,r,n,i,o,a,u){void 0===i&amp;&amp;(i=!1),void 0===o&amp;&amp;(o=Je.HANDLE_RESULT),void 0===a&amp;&amp;(a=Je.REJECT_ERROR),void 0===u&amp;&amp;(u=!1),this.name=t,this.hookPhase=e,this.hookOrder=r,this.criteriaMatchPath=n,this.reverseSort=i,this.getResultHandler=o,this.getErrorHandler=a,this.synchronous=u}function Ur(r){var e=r._ignoredReason();if(e){le.traceTransitionIgnored(r);r=r.router.globals.transition;return"SameAsCurrent"===e&amp;&amp;r&amp;&amp;r.abort(),qt.ignored().toPromise()}}function Fr(t){if(!t.valid())throw new Error(t.error().toString())}function Kr(t,n){var r=n[0],n=n[1];return t.hasOwnProperty(r)?x(t[r])?t[r].push(n):t[r]=[t[r],n]:t[r]=n,t}function Yr(t){return t.split("&amp;").filter(z).map(Zt).reduce(Kr,{})}var Lr={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,supercede:!0,custom:{},current:function(){return null},source:"unknown"},Mr=function(){function e(t){this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this._router=t,this.$view=t.viewService,this._deregisterHookFns={},this._pluginapi=J(y(this),{},y(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineCorePaths(),this._defineCoreEvents(),this._registerCoreTransitionHooks(),t.globals.successfulTransitions.onEvict(Rr)}return e.prototype.onCreate=function(t,e,r){},e.prototype.onBefore=function(t,e,r){},e.prototype.onStart=function(t,e,r){},e.prototype.onExit=function(t,e,r){},e.prototype.onRetain=function(t,e,r){},e.prototype.onEnter=function(t,e,r){},e.prototype.onFinish=function(t,e,r){},e.prototype.onSuccess=function(t,e,r){},e.prototype.onError=function(t,e,r){},e.prototype.dispose=function(t){pt(this._registeredHooks).forEach(function(t){return t.forEach(function(e){e._deregistered=!0,Z(t,e)})})},e.prototype.create=function(t,e){return new tr(t,e,this._router)},e.prototype._defineCoreEvents=function(){var e=t.TransitionHookPhase,r=Je,n=this._criteriaPaths;this._defineEvent("onCreate",e.CREATE,0,n.to,!1,r.LOG_REJECTED_RESULT,r.THROW_ERROR,!0),this._defineEvent("onBefore",e.BEFORE,0,n.to),this._defineEvent("onStart",e.RUN,0,n.to),this._defineEvent("onExit",e.RUN,100,n.exiting,!0),this._defineEvent("onRetain",e.RUN,200,n.retained),this._defineEvent("onEnter",e.RUN,300,n.entering),this._defineEvent("onFinish",e.RUN,400,n.to),this._defineEvent("onSuccess",e.SUCCESS,0,n.to,!1,r.LOG_REJECTED_RESULT,r.LOG_ERROR,!0),this._defineEvent("onError",e.ERROR,0,n.to,!1,r.LOG_REJECTED_RESULT,r.LOG_ERROR,!0)},e.prototype._defineCorePaths=function(){var e=t.TransitionHookScope.STATE,r=t.TransitionHookScope.TRANSITION;this._definePathType("to",r),this._definePathType("from",r),this._definePathType("exiting",e),this._definePathType("retained",e),this._definePathType("entering",e)},e.prototype._defineEvent=function(t,e,r,n,i,o,a,s){void 0===i&amp;&amp;(i=!1),void 0===o&amp;&amp;(o=Je.HANDLE_RESULT),void 0===a&amp;&amp;(a=Je.REJECT_ERROR),void 0===s&amp;&amp;(s=!1);s=new Nr(t,e,r,n,i,o,a,s);this._eventTypes.push(s),Ye(this,this,s)},e.prototype._getEvents=function(t){return(R(t)?this._eventTypes.filter(function(e){return e.hookPhase===t}):this._eventTypes.slice()).sort(function(t,e){var r=t.hookPhase-e.hookPhase;return 0==r?t.hookOrder-e.hookOrder:r})},e.prototype._definePathType=function(t,e){this._criteriaPaths[t]={name:t,scope:e}},e.prototype._getPathTypes=function(){return this._criteriaPaths},e.prototype.getHooks=function(t){return this._registeredHooks[t]},e.prototype._registerCoreTransitionHooks=function(){var t=this._deregisterHookFns;t.addCoreResolves=this.onCreate({},$r),t.ignored=function(t){return t.onBefore({},Ur,{priority:-9999})}(this),t.invalid=function(t){return t.onBefore({},Fr,{priority:-1e4})}(this),t.redirectTo=function(t){return t.onStart({to:function(t){return!!t.redirectTo}},Er)}(this),t.onExit=function(t){return t.onExit({exiting:function(t){return!!t.onExit}},Pr)}(this),t.onRetain=function(t){return t.onRetain({retained:function(t){return!!t.onRetain}},Tr)}(this),t.onEnter=function(t){return t.onEnter({entering:function(t){return!!t.onEnter}},kr)}(this),t.eagerResolve=function(t){return t.onStart({},Or,{priority:1e3})}(this),t.lazyResolve=function(t){return t.onEnter({entering:y(!0)},xr,{priority:1e3})}(this),t.resolveAll=function(t){return t.onFinish({},jr,{priority:1e3})}(this),t.loadViews=function(t){return t.onFinish({},Vr)}(this),t.activateViews=function(t){return t.onSuccess({},Ir)}(this),t.updateGlobals=function(t){return t.onCreate({},Hr)}(this),t.updateUrl=function(t){return t.onSuccess({},Ar,{priority:9999})}(this),t.lazyLoad=function(t){return t.onBefore({entering:function(t){return!!t.lazyLoad}},Dr)}(this)},e}(),Br=function(){function e(r){this.router=r,this.invalidCallbacks=[],this._defaultErrorHandler=function(t){t instanceof Error&amp;&amp;t.stack?(console.error(t),console.error(t.stack)):t instanceof qt?(console.error(t.toString()),t.detail&amp;&amp;t.detail.stack&amp;&amp;console.error(t.detail.stack)):console.error(t)};r=Object.keys(e.prototype).filter(l(K(["current","$current","params","transition"])));J(y(e.prototype),this,y(this),r)}return Object.defineProperty(e.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this.defaultErrorHandler(W),this.invalidCallbacks=[]},e.prototype._handleInvalidTargetState=function(t,e){function o(){return i.transitionHistory.peekTail()}function c(e){if(e instanceof $e){e=e;return(e=r.target(e.identifier(),e.params(),e.options())).valid()?o()!==a?qt.superseded().toPromise():r.transitionTo(e.identifier(),e.params(),e.options()):qt.invalid(e.error()).toPromise()}}var r=this,n=be.makeTargetState(this.router.stateRegistry,t),i=this.router.globals,a=o(),u=new At(this.invalidCallbacks.slice()),s=new Oe(t).injector();return function t(){var r=u.dequeue();return void 0===r?qt.invalid(e.error()).toPromise():D.$q.when(r(e,n,s)).then(c).then(function(e){return e||t()})}()},e.prototype.onInvalid=function(t){return this.invalidCallbacks.push(t),function(){Z(this.invalidCallbacks)(t)}.bind(this)},e.prototype.reload=function(t){return this.transitionTo(this.current,this.params,{reload:!R(t)||t,inherit:!1,notify:!1})},e.prototype.go=function(t,e,n){n=nt(n,{relative:this.$current,inherit:!0},Lr);return this.transitionTo(t,e,n)},e.prototype.target=function(t,e,r){if(void 0===r&amp;&amp;(r={}),O(r.reload)&amp;&amp;!r.reload.name)throw new Error("Invalid reload state object");var n=this.router.stateRegistry;if(r.reloadState=!0===r.reload?n.root():n.matcher.find(r.reload,r.relative),r.reload&amp;&amp;!r.reloadState)throw new Error("No such reload state '"+(k(r.reload)?r.reload:r.reload.name)+"'");return new $e(this.router.stateRegistry,t,e,r)},e.prototype.getCurrentPath=function(){var e=this.router.globals.successfulTransitions.peekTail();return e?e.treeChanges().to:[new Se(this.router.stateRegistry.root())]},e.prototype.transitionTo=function(h,l,n){var i=this;void 0===l&amp;&amp;(l={}),void 0===n&amp;&amp;(n={});var o=this.router,a=o.globals;n=nt(n,Lr);function u(){return a.transition}n=B(n,{current:u});h=this.target(h,l,n),l=this.getCurrentPath();if(!h.exists())return this._handleInvalidTargetState(l,h);if(!h.valid())return It(h.error());if(!1===n.supercede&amp;&amp;u())return qt.ignored("Another transition is in progress and supercede has been set to false in TransitionOptions for the transition. So the transition was ignored in favour of the existing one in progress.").toPromise();var f=function(e){return function(r){if(r instanceof qt){var n=o.globals.lastStartedTransitionId&lt;=e.$id;if(r.type===t.RejectType.IGNORED)return n&amp;&amp;o.urlRouter.update(),D.$q.when(a.current);var s=r.detail;if(r.type===t.RejectType.SUPERSEDED&amp;&amp;r.redirected&amp;&amp;s instanceof $e){s=e.redirect(s);return s.run().catch(f(s))}if(r.type===t.RejectType.ABORTED)return n&amp;&amp;o.urlRouter.update(),D.$q.reject(r)}return i.defaultErrorHandler()(r),D.$q.reject(r)}},l=this.router.transitionService.create(l,h),h=l.run().catch(f(l));return Vt(h),B(h,{transition:l})},e.prototype.is=function(t,e,i){i=nt(i,{relative:this.$current});i=this.router.stateRegistry.matcher.find(t,i.relative);if(R(i)){if(this.$current!==i)return!1;if(!e)return!0;i=i.parameters({inherit:!0,matchingKeys:e});return ye.equals(i,ye.values(i,e),this.params)}},e.prototype.includes=function(a,e,o){o=nt(o,{relative:this.$current});var n=k(a)&amp;&amp;Ht.fromString(a);if(n){if(!n.matches(this.$current.name))return!1;a=this.$current.name}a=this.router.stateRegistry.matcher.find(a,o.relative),o=this.$current.includes;if(R(a)){if(!R(o[a.name]))return!1;if(!e)return!0;a=a.parameters({inherit:!0,matchingKeys:e});return ye.equals(a,ye.values(a,e),this.params)}},e.prototype.href=function(i,e,r){r=nt(r,{lossy:!0,inherit:!0,absolute:!1,relative:this.$current}),e=e||{};i=this.router.stateRegistry.matcher.find(i,r.relative);if(!R(i))return null;r.inherit&amp;&amp;(e=this.params.$inherit(e,this.$current,i));i=i&amp;&amp;r.lossy?i.navigable:i;return i&amp;&amp;void 0!==i.url&amp;&amp;null!==i.url?this.router.urlRouter.href(i.url,e,{absolute:r.absolute}):null},e.prototype.defaultErrorHandler=function(t){return this._defaultErrorHandler=t||this._defaultErrorHandler},e.prototype.get=function(t,e){var r=this.router.stateRegistry;return 0===arguments.length?r.get():r.get(t,e||this.$current)},e.prototype.lazyLoad=function(i,e){var r=this.get(i);if(!r||!r.lazyLoad)throw new Error("Can not lazy load "+i);var n=this.getCurrentPath(),i=be.makeTargetState(this.router.stateRegistry,n);return qr(e=e||this.router.transitionService.create(n,i),r)},e}(),Gr={when:function(t){return new Promise(function(e,r){return e(t)})},reject:function(t){return new Promise(function(e,r){r(t)})},defer:function(){var t={};return t.promise=new Promise(function(e,r){t.resolve=e,t.reject=r}),t},all:function(t){if(x(t))return Promise.all(t);if(O(t)){var e=Object.keys(t).map(function(e){return t[e].then(function(t){return{key:e,val:t}})});return Gr.all(e).then(function(t){return t.reduce(function(t,e){return t[e.key]=e.val,t},{})})}}},zr={},Wr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Jr=/([^\s,]+)/g,Qr={get:function(t){return zr[t]},has:function(t){return null!=Qr.get(t)},invoke:function(t,e,a){var n=B({},zr,a||{}),i=Qr.annotate(t),a=$t(function(t){return n.hasOwnProperty(t)},function(t){return"DI can't find injectable: '"+t+"'"}),a=i.filter(a).map(function(t){return n[t]});return(P(t)?t:t.slice(-1)[0]).apply(e,a)},annotate:function(e){if(!I(e))throw new Error("Not an injectable function: "+e);if(e&amp;&amp;e.$inject)return e.$inject;if(x(e))return e.slice(0,-1);e=e.toString().replace(Wr,"");return e.slice(e.indexOf("(")+1,e.indexOf(")")).match(Jr)||[]}};function Zr(t){var o=function(t){return t||""},i=Kt(t).map(o),n=i[0],i=i[1],o=Yt(n).map(o);return{path:o[0],search:o[1],hash:i,url:t}}function Xr(i){var e=i.path(),r=i.search(),n=i.hash(),i=Object.keys(r).map(function(t){var e=r[t];return(x(e)?e:[e]).map(function(e){return t+"="+e})}).reduce(mt,[]).join("&amp;");return e+(i?"?"+i:"")+(n?"#"+n:"")}function tn(t,e,r,n){return function(i){var o=i.locationService=new r(i),a=i.locationConfig=new n(i,e);return{name:t,service:o,configuration:a,dispose:function(t){t.dispose(o),t.dispose(a)}}}}var en,rn=function(){function t(t,e){var r=this;this.fireAfterUpdate=e,this._listeners=[],this._listener=function(t){return r._listeners.forEach(function(e){return e(t)})},this.hash=function(){return Zr(r._get()).hash},this.path=function(){return Zr(r._get()).path},this.search=function(){return Yr(Zr(r._get()).search)},this._location=N.location,this._history=N.history}return t.prototype.url=function(t,e){return void 0===e&amp;&amp;(e=!0),R(t)&amp;&amp;t!==this._get()&amp;&amp;(this._set(null,null,t,e),this.fireAfterUpdate&amp;&amp;this._listeners.forEach(function(e){return e({url:t})})),Xr(this)},t.prototype.onChange=function(t){var e=this;return this._listeners.push(t),function(){return Z(e._listeners,t)}},t.prototype.dispose=function(t){rt(this._listeners)},t}(),nn=(en=function(t,e){return(en=Object.setPrototypeOf||{__proto__:[]}instanceof Array&amp;&amp;function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&amp;&amp;(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}en(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),on=function(t){function e(r){r=t.call(this,r,!1)||this;return N.addEventListener("hashchange",r._listener,!1),r}return nn(e,t),e.prototype._get=function(){return Xt(this._location.hash)},e.prototype._set=function(t,e,r,n){this._location.hash=r},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e),N.removeEventListener("hashchange",this._listener)},e}(rn),an=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&amp;&amp;function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&amp;&amp;(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),un=function(t){function e(e){return t.call(this,e,!0)||this}return an(e,t),e.prototype._get=function(){return this._url},e.prototype._set=function(t,e,r,n){this._url=r},e}(rn),sn=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&amp;&amp;function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&amp;&amp;(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),cn=function(t){function e(e){var r=t.call(this,e,!0)||this;return r._config=e.urlService.config,N.addEventListener("popstate",r._listener,!1),r}return sn(e,t),e.prototype._getBasePrefix=function(){return Qt(this._config.baseHref())},e.prototype._get=function(){var a=this._location,e=a.pathname,r=a.hash,n=a.search,n=Yt(n)[1],r=Kt(r)[1],i=this._getBasePrefix(),o=e===this._config.baseHref(),a=e.substr(0,i.length)===i;return(e=o?"/":a?e.substring(i.length):e)+(n?"?"+n:"")+(r?"#"+r:"")},e.prototype._set=function(t,e,a,n){var i=this._getBasePrefix(),o=a&amp;&amp;"/"!==a[0]?"/":"",a=""===a||"/"===a?this._config.baseHref():i+o+a;n?this._history.replaceState(t,e,a):this._history.pushState(t,e,a)},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e),N.removeEventListener("popstate",this._listener)},e}(rn),fn=function(){var t=this;this.dispose=W,this._baseHref="",this._port=80,this._protocol="http",this._host="localhost",this._hashPrefix="",this.port=function(){return t._port},this.protocol=function(){return t._protocol},this.host=function(){return t._host},this.baseHref=function(){return t._baseHref},this.html5Mode=function(){return!1},this.hashPrefix=function(e){return R(e)?t._hashPrefix=e:t._hashPrefix}},ln=function(){function t(t,e){void 0===e&amp;&amp;(e=!1),this._isHtml5=e,this._baseHref=void 0,this._hashPrefix=""}return t.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},t.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},t.prototype.host=function(){return location.hostname},t.prototype.html5Mode=function(){return this._isHtml5},t.prototype.hashPrefix=function(t){return R(t)?this._hashPrefix=t:this._hashPrefix},t.prototype.baseHref=function(t){return R(t)&amp;&amp;(this._baseHref=t),b(this._baseHref)&amp;&amp;(this._baseHref=this.getBaseHref()),this._baseHref},t.prototype.getBaseHref=function(){var t=document.getElementsByTagName("base")[0];return t&amp;&amp;t.href?t.href.replace(/^([^/:]*:)?\/\/[^/]*/,""):!this._isHtml5&amp;&amp;location.pathname||"/"},t.prototype.dispose=function(){},t}();function hn(t){return D.$injector=Qr,{name:"vanilla.services",$q:D.$q=Gr,$injector:Qr,dispose:function(){return null}}}var pn=tn("vanilla.hashBangLocation",!1,on,ln),vn=tn("vanilla.pushStateLocation",!0,cn,ln),dn=tn("vanilla.memoryLocation",!1,un,fn),mn=function(){function t(){}return t.prototype.dispose=function(t){},t}(),gn=Object.freeze({__proto__:null,root:N,fromJson:F,toJson:L,forEach:M,extend:B,equals:G,identity:z,noop:W,createProxyFunctions:J,inherit:Q,inArray:K,_inArray:Y,removeFrom:Z,_removeFrom:X,pushTo:tt,_pushTo:et,deregAll:rt,defaults:nt,mergeR:it,ancestors:ot,pick:at,omit:ut,pluck:st,filter:ct,find:ft,mapObj:lt,map:ht,values:pt,allTrueR:vt,anyTrueR:dt,unnestR:mt,flattenR:gt,pushR:yt,uniqR:wt,unnest:_t,flatten:St,assertPredicate:$t,assertMap:bt,assertFn:Rt,pairs:Et,arrayTuples:Ct,applyPairs:Pt,tail:Tt,copy:kt,_extend:Ot,silenceUncaughtInPromise:Vt,silentRejection:It,makeStub:A,services:D,Glob:Ht,curry:o,compose:a,pipe:u,prop:s,propEq:c,parse:f,not:l,and:h,or:p,all:v,any:d,is:m,eq:g,val:y,invoke:w,pattern:_,isUndefined:b,isDefined:R,isNull:E,isNullOrUndefined:C,isFunction:P,isNumber:T,isString:k,isObject:O,isArray:x,isDate:j,isRegExp:V,isInjectable:I,isPromise:H,Queue:At,maxLength:Nt,padString:Ut,kebobString:Ft,functionToString:Lt,fnToString:Mt,stringify:zt,beforeAfterSubstr:Wt,hostRegex:Jt,stripLastPathElement:Qt,splitHash:Kt,splitQuery:Yt,splitEqual:Zt,trimHashVal:Xt,splitOnDelim:te,joinNeighborsR:ee,get Category(){return t.Category},Trace:fe,trace:le,get DefType(){return t.DefType},Param:ye,ParamTypes:we,StateParams:_e,ParamType:he,PathNode:Se,PathUtils:be,resolvePolicies:Re,defaultResolvePolicy:Ee,Resolvable:Ce,NATIVE_INJECTOR_TOKEN:"Native Injector",ResolveContext:Oe,resolvablesBuilder:Ne,StateBuilder:Le,StateObject:Me,StateMatcher:Be,StateQueueManager:Ge,StateRegistry:ze,StateService:Br,TargetState:$e,get TransitionHookPhase(){return t.TransitionHookPhase},get TransitionHookScope(){return t.TransitionHookScope},HookBuilder:Ze,matchState:Qe,RegisteredHook:Ke,makeEvent:Ye,get RejectType(){return t.RejectType},Rejection:qt,Transition:tr,TransitionHook:Je,TransitionEventType:Nr,defaultTransOpts:Lr,TransitionService:Mr,UrlRules:dr,UrlConfig:mr,UrlMatcher:ir,ParamFactory:ar,UrlMatcherFactory:ur,UrlRouter:lr,UrlRuleFactory:sr,BaseUrlRule:cr,UrlService:gr,ViewService:hr,UIRouterGlobals:pr,UIRouter:Sr,$q:Gr,$injector:Qr,BaseLocationServices:rn,HashLocationService:on,MemoryLocationService:un,PushStateLocationService:cn,MemoryLocationConfig:fn,BrowserLocationConfig:ln,keyValsToObjectR:Kr,getParams:Yr,parseUrl:Zr,buildUrl:Xr,locationPluginFactory:tn,servicesPlugin:hn,hashLocationPlugin:pn,pushStateLocationPlugin:vn,memoryLocationPlugin:dn,UIRouterPluginBase:mn});function yn(){var t=null;return function(e,r){return t=t||D.$injector.get("$templateFactory"),[new $n(e,r,t)]}}var wn=function(t,e){return t.reduce(function(t,r){return t||R(e[r])},!1)};function _n(t){if(!t.parent)return{};var e=["component","bindings","componentProvider"],r=["templateProvider","templateUrl","template","notify","async"].concat(["controller","controllerProvider","controllerAs","resolveAs"]),o=e.concat(r);if(R(t.views)&amp;&amp;wn(o,t))throw new Error("State '"+t.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "+o.filter(function(e){return R(t[e])}).join(", "));var i={},o=t.views||{$default:at(t,o)};return M(o,function(n,o){if(o=o||"$default",k(n)&amp;&amp;(n={component:n}),n=B({},n),wn(e,n)&amp;&amp;wn(r,n))throw new Error("Cannot combine: "+e.join("|")+" with: "+r.join("|")+" in stateview: '"+o+"@"+t.name+"'");n.resolveAs=n.resolveAs||"$resolve",n.$type="ng1",n.$context=t,n.$name=o;var a=hr.normalizeUIViewTarget(n.$context,n.$name);n.$uiViewName=a.uiViewName,n.$uiViewContextAnchor=a.uiViewContextAnchor,i[o]=n}),i}function Pn(t){return function(e){var r=e[t],n="onExit"===t?"from":"to";return r?function(o,e){var i=new Oe(o.treeChanges(n)).subContext(e.$$state()),o=B(Bn(i),{$state$:e,$transition$:o});return D.$injector.invoke(r,this,o)}:void 0}}var Sn=0,$n=function(){function t(t,e,r){var n=this;this.path=t,this.viewDecl=e,this.factory=r,this.$id=Sn++,this.loaded=!1,this.getTemplate=function(t,e){return n.component?n.factory.makeComponentTemplate(t,e,n.component,n.viewDecl.bindings):n.template}}return t.prototype.load=function(){var t=this,e=D.$q,i=new Oe(this.path),n=this.path.reduce(function(t,e){return B(t,e.paramValues)},{}),i={template:e.when(this.factory.fromConfig(this.viewDecl,n,i)),controller:e.when(this.getController(i))};return e.all(i).then(function(e){return le.traceViewServiceEvent("Loaded",t),t.controller=e.controller,B(t,e.template),t})},t.prototype.getController=function(t){var n=this.viewDecl.controllerProvider;if(!I(n))return this.viewDecl.controller;var r=D.$injector.annotate(n),n=x(n)?Tt(n):n;return new Ce("",n,r).get(t)},t}(),bn=function(){function t(){var t=this;this._useHttp=n.version.minor&lt;3,this.$get=["$http","$templateCache","$injector",function(e,r,n){return t.$templateRequest=n.has&amp;&amp;n.has("$templateRequest")&amp;&amp;n.get("$templateRequest"),t.$http=e,t.$templateCache=r,t}]}return t.prototype.useHttpService=function(t){this._useHttp=t},t.prototype.fromConfig=function(t,e,r){function n(t){return D.$q.when(t).then(function(t){return{template:t}})}function i(t){return D.$q.when(t).then(function(t){return{component:t}})}return R(t.template)?n(this.fromString(t.template,e)):R(t.templateUrl)?n(this.fromUrl(t.templateUrl,e)):R(t.templateProvider)?n(this.fromProvider(t.templateProvider,e,r)):R(t.component)?i(t.component):R(t.componentProvider)?i(this.fromComponentProvider(t.componentProvider,e,r)):n("&lt;ui-view&gt;&lt;/ui-view&gt;")},t.prototype.fromString=function(t,e){return P(t)?t(e):t},t.prototype.fromUrl=function(t,e){return P(t)&amp;&amp;(t=t(e)),null==t?null:this._useHttp?this.$http.get(t,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then(function(t){return t.data}):this.$templateRequest(t)},t.prototype.fromProvider=function(i,e,r){var n=D.$injector.annotate(i),i=x(i)?Tt(i):i;return new Ce("",i,n).get(r)},t.prototype.fromComponentProvider=function(i,e,r){var n=D.$injector.annotate(i),i=x(i)?Tt(i):i;return new Ce("",i,n).get(r)},t.prototype.makeComponentTemplate=function(t,e,s,i){i=i||{};function a(e){return e=Ft(e),/^(x|data)-/.exec(e)?"x-"+e:e}var o=3&lt;=n.version.minor?"::":"",u=function(t){var e=D.$injector.get(t+"Directive");if(!e||!e.length)throw new Error("Unable to find component named '"+t+"'");return e.map(Rn).reduce(mt,[])}(s).map(function(c){var h=c.name,l=c.type,s=a(h);if(t.attr(s)&amp;&amp;!i[h])return s+"='"+t.attr(s)+"'";c=i[h]||h;if("@"===l)return s+"='{{"+o+"$resolve."+c+"}}'";if("&amp;"!==l)return s+"='"+o+"$resolve."+c+"'";h=e.getResolvable(c),l=h&amp;&amp;h.data,h=l&amp;&amp;D.$injector.annotate(l)||[];return s+"='$resolve."+c+(x(l)?"["+(l.length-1)+"]":"")+"("+h.join(",")+")'"}).join(" "),s=a(s);return"&lt;"+s+" "+u+"&gt;&lt;/"+s+"&gt;"},t}(),Rn=function(t){return O(t.bindToController)?En(t.bindToController):En(t.scope)},En=function(t){return Object.keys(t||{}).map(function(e){return[e,/^([=&lt;@&amp;])[?]?(.*)/.exec(t[e])]}).filter(function(t){return R(t)&amp;&amp;x(t[1])}).map(function(t){return{name:t[1][2]||t[0],type:t[1][1]}})},Cn=function(){function t(e,r){this.stateRegistry=e,this.stateService=r,J(y(t.prototype),this,y(this))}return t.prototype.decorator=function(t,e){return this.stateRegistry.decorator(t,e)||this},t.prototype.state=function(t,e){return O(t)?e=t:e.name=t,this.stateRegistry.register(e),this},t.prototype.onInvalid=function(t){return this.stateService.onInvalid(t)},t}(),Tn=function(){function t(e){this._urlListeners=[],this.$locationProvider=e;e=y(e);J(e,this,e,["hashPrefix"])}return t.monkeyPatchPathParameterType=function(e){e=e.urlMatcherFactory.type("path");e.encode=function(t){return null!=t?t.toString().replace(/(~|\/)/g,function(t){return{"~":"~~","/":"~2F"}[t]}):t},e.decode=function(t){return null!=t?t.toString().replace(/(~~|~2F)/g,function(t){return{"~~":"~","~2F":"/"}[t]}):t}},t.prototype.dispose=function(){},t.prototype.onChange=function(t){var e=this;return this._urlListeners.push(t),function(){return Z(e._urlListeners)(t)}},t.prototype.html5Mode=function(){var t=this.$locationProvider.html5Mode();return(t=O(t)?t.enabled:t)&amp;&amp;this.$sniffer.history},t.prototype.baseHref=function(){return this._baseHref||(this._baseHref=this.$browser.baseHref()||this.$window.location.pathname)},t.prototype.url=function(t,e,r){return void 0===e&amp;&amp;(e=!1),R(t)&amp;&amp;this.$location.url(t),e&amp;&amp;this.$location.replace(),r&amp;&amp;this.$location.state(r),this.$location.url()},t.prototype._runtimeServices=function(t,a,r,n,i){var o=this;this.$location=a,this.$sniffer=r,this.$browser=n,this.$window=i,t.$on("$locationChangeSuccess",function(t){return o._urlListeners.forEach(function(e){return e(t)})});a=y(a);J(a,this,a,["replace","path","search","hash"]),J(a,this,a,["port","protocol","host"])},t}(),kn=function(){function t(t){this.router=t}return t.injectableHandler=function(t,e){return function(r){return D.$injector.invoke(e,null,{$match:r,$stateParams:t.globals.params})}},t.prototype.$get=function(){var t=this.router.urlService;return this.router.urlRouter.update(!0),t.interceptDeferred||t.listen(),this.router.urlRouter},t.prototype.rule=function(t){var e=this;if(!P(t))throw new Error("'rule' must be a function");var r=new cr(function(){return t(D.$injector,e.router.locationService)},z);return this.router.urlService.rules.rule(r),this},t.prototype.otherwise=function(t){var e=this,r=this.router.urlService.rules;if(k(t))r.otherwise(t);else{if(!P(t))throw new Error("'rule' must be a string or function");r.otherwise(function(){return t(D.$injector,e.router.locationService)})}return this},t.prototype.when=function(e,r){return(x(r)||P(r))&amp;&amp;(r=t.injectableHandler(this.router,r)),this.router.urlService.rules.when(e,r),this},t.prototype.deferIntercept=function(t){this.router.urlService.deferIntercept(t)},t}();n.module("ui.router.angular1",[]);var Ln=n.module("ui.router.init",["ng"]),xn=n.module("ui.router.util",["ui.router.init"]),Mn=n.module("ui.router.router",["ui.router.util"]),Un=n.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),In=n.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),Hn=(n.module("ui.router.compat",["ui.router"]),null);function An(t){(Hn=this.router=new Sr).stateProvider=new Cn(Hn.stateRegistry,Hn.stateService),Hn.stateRegistry.decorator("views",_n),Hn.stateRegistry.decorator("onExit",Pn("onExit")),Hn.stateRegistry.decorator("onRetain",Pn("onRetain")),Hn.stateRegistry.decorator("onEnter",Pn("onEnter")),Hn.viewService._pluginapi._viewConfigFactory("ng1",yn()),Hn.urlService.config._decodeParams=!1;var e=Hn.locationService=Hn.locationConfig=new Tn(t);function r(t,r,n,i,o,a,u){return e._runtimeServices(o,t,i,r,n),delete Hn.router,delete Hn.$get,Hn}return Tn.monkeyPatchPathParameterType(Hn),((Hn.router=Hn).$get=r).$inject=["$location","$browser","$window","$sniffer","$rootScope","$http","$templateCache"],Hn}An.$inject=["$locationProvider"];var Dn=function(t){return["$uiRouterProvider",function(e){var r=e.router[t];return r.$get=function(){return r},r}]};function qn(t,e,r){if(D.$injector=t,D.$q=e,!Object.prototype.hasOwnProperty.call(t,"strictDi"))try{t.invoke(function(t){})}catch(e){t.strictDi=!!/strict mode/.exec(e&amp;&amp;e.toString())}r.stateRegistry.get().map(function(t){return t.$$state().resolvables}).reduce(mt,[]).filter(function(t){return"deferred"===t.deps}).forEach(function(e){return e.deps=t.annotate(e.resolveFn,t.strictDi)})}function Nn(t){t.$watch(function(){le.approximateDigests++})}qn.$inject=["$injector","$q","$uiRouter"],Nn.$inject=["$rootScope"],Ln.provider("$uiRouter",An),Mn.provider("$urlRouter",["$uiRouterProvider",function(t){return t.urlRouterProvider=new kn(t)}]),xn.provider("$urlService",Dn("urlService")),xn.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return Hn.urlMatcherFactory}]),xn.provider("$templateFactory",function(){return new bn}),Un.provider("$stateRegistry",Dn("stateRegistry")),Un.provider("$uiRouterGlobals",Dn("globals")),Un.provider("$transitions",Dn("transitionService")),Un.provider("$state",["$uiRouterProvider",function(){return B(Hn.stateProvider,{$get:function(){return Hn.stateService}})}]),Un.factory("$stateParams",["$uiRouter",function(t){return t.globals.params}]),In.factory("$view",function(){return Hn.viewService}),In.service("$trace",function(){return le}),In.run(Nn),xn.run(["$urlMatcherFactory",function(t){}]),Un.run(["$state",function(t){}]),Mn.run(["$urlRouter",function(t){}]),Ln.run(qn);var Bn=function(t){return t.getTokens().filter(k).map(function(e){var r=t.getResolvable(e);return[e,"NOWAIT"===t.getPolicy(r).async?r.promise:r.data]}).reduce(Pt,{})};function Gn(t){var r=t.match(/^\s*({[^}]*})\s*$/);r&amp;&amp;(t="("+r[1]+")");r=t.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/);if(!r||4!==r.length)throw new Error("Invalid state ref '"+t+"'");return{state:r[1]||null,paramExpr:r[3]||null}}function zn(r){r=r.parent().inheritedData("$uiView"),r=f("$cfg.path")(r);return r?Tt(r).state.name:void 0}function Wn(o,i,r){var n=r.uiState||o.current.name,i=B(function(t,e){return{relative:zn(t)||e.$current,inherit:!0,source:"sref"}}(i,o),r.uiStateOpts||{}),o=o.href(n,r.uiStateParams,i);return{uiState:n,uiStateParams:r.uiStateParams,uiStateOpts:i,href:o}}function Jn(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),r="FORM"===t[0].nodeName;return{attr:r?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!r}}function Qn(t,e,r,n,i){return function(o){var s,c,a=o.which||o.button,u=i();1&lt;a||o.ctrlKey||o.metaKey||o.shiftKey||o.altKey||t.attr("target")||(s=r(function(){t.attr("disabled")||e.go(u.uiState,u.uiStateParams,u.uiStateOpts)}),o.preventDefault(),c=n.isAnchor&amp;&amp;!u.href?1:0,o.preventDefault=function(){c--&lt;=0&amp;&amp;r.cancel(s)})}}function Kn(t,e,r,n){var i;n&amp;&amp;(i=n.events),x(i)||(i=["click"]);for(var o=t.on?"on":"bind",a=0,u=i;a&lt;u.length;a++){var s=u[a];t[o](s,r)}e.$on("$destroy",function(){for(var e=t.off?"off":"unbind",n=0,o=i;n&lt;o.length;n++){var a=o[n];t[e](a,r)}})}function Yn(t){var e=function(e,r,n){return t.is(e,r,n)};return e.$stateful=!0,e}function Zn(t){var e=function(e,r,n){return t.includes(e,r,n)};return e.$stateful=!0,e}function Xn(t,e,r,i,o){var a=f("viewDecl.controllerAs"),u=f("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(i){var s=i.html();return i.empty(),function(i,c){var m=c.data("$uiView");if(!m)return c.html(s),void t(c.contents())(i);var l=m.$cfg||{viewDecl:{},getTemplate:W},g=l.path&amp;&amp;new Oe(l.path);c.html(l.getTemplate(c,g)||s),le.traceUIViewFill(m.$uiView,c.html());var w,_,S,p=t(c.contents()),v=l.controller,d=a(l),m=u(l),g=g&amp;&amp;Bn(g);i[m]=g,v&amp;&amp;(w=e(v,B({},g,{$scope:i,$element:c})),d&amp;&amp;(i[d]=w,i[d][m]=g),c.data("$ngControllerController",w),c.children().data("$ngControllerController",w),ri(o,r,w,i,l)),k(l.component)&amp;&amp;(w=Ft(l.component),_=new RegExp("^(x-|data-)?"+w+"$","i"),S=i.$watch(function(){var t=[].slice.call(c[0].children).filter(function(t){return t&amp;&amp;t.tagName&amp;&amp;_.exec(t.tagName)});return t&amp;&amp;n.element(t).data("$"+l.component+"Controller")},function(t){t&amp;&amp;(ri(o,r,t,i,l),S())})),p(i)}}}}Un=["$uiRouter","$timeout",function(t,e){var r=t.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,o,v){function l(){return Wn(r,i,f)}var u=Jn(i),s=v[1]||v[0],c=null,f={},v=Gn(o.uiSref);function p(){var t=l();c&amp;&amp;c(),s&amp;&amp;(c=s.$$addStateInfo(t.uiState,t.uiStateParams)),null!=t.href&amp;&amp;o.$set(u.attr,t.href)}f.uiState=v.state,f.uiStateOpts=o.uiSrefOpts?n.$eval(o.uiSrefOpts):{},v.paramExpr&amp;&amp;(n.$watch(v.paramExpr,function(t){f.uiStateParams=B({},t),p()},!0),f.uiStateParams=B({},n.$eval(v.paramExpr))),p(),n.$on("$destroy",t.stateRegistry.onStatesChanged(p)),n.$on("$destroy",t.transitionService.onSuccess({},p)),u.clickable&amp;&amp;(v=Qn(i,r,e,u,l),Kn(i,n,v,f.uiStateOpts))}}}],Mn=["$uiRouter","$timeout",function(t,e){var r=t.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,o,u){function h(){return Wn(r,i,l)}var s=Jn(i),c=u[1]||u[0],f=null,l={},u=["uiState","uiStateParams","uiStateOpts"],v=u.reduce(function(t,e){return t[e]=W,t},{});function d(){var t=h();f&amp;&amp;f(),c&amp;&amp;(f=c.$$addStateInfo(t.uiState,t.uiStateParams)),null!=t.href&amp;&amp;o.$set(s.attr,t.href)}u.forEach(function(t){l[t]=o[t]?n.$eval(o[t]):null,o.$observe(t,function(e){v[t](),v[t]=n.$watch(e,function(e){l[t]=e,d()},!0)})}),d(),n.$on("$destroy",t.stateRegistry.onStatesChanged(d)),n.$on("$destroy",t.transitionService.onSuccess({},d)),s.clickable&amp;&amp;(u=Qn(i,r,e,s,h),Kn(i,n,u,l.uiStateOpts))}}}],Ln=["$state","$stateParams","$interpolate","$uiRouter",function(t,e,r,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(e,i,o){var u,s,c,f,l=[],a=r(o.uiSrefActiveEq||"",!1)(e);try{u=e.$eval(o.uiSrefActive)}catch(t){}function h(t){t.promise.then(m,W)}function v(t){O(t)&amp;&amp;(l=[],M(t,function(t,r){var n=function(n,r){n=Gn(n);d(n.state,e.$eval(n.paramExpr),r)};k(t)?n(t,r):x(t)&amp;&amp;M(t,function(t){n(t,r)})}))}function d(e,r,n){var o={state:t.get(e,zn(i))||{name:e},params:r,activeClass:n};return l.push(o),function(){Z(l)(o)}}function m(){function r(t){return t.split(/\s/).filter(z)}var s=function(t){return t.map(function(t){return t.activeClass}).map(r).reduce(mt,[])},o=s(l).concat(r(a)).reduce(wt,[]),u=s(l.filter(function(e){return t.includes(e.state.name,e.params)})),s=l.filter(function(e){return t.is(e.state.name,e.params)}).length?r(a):[],c=u.concat(s).reduce(wt,[]),f=o.filter(function(t){return!K(c,t)});e.$evalAsync(function(){c.forEach(function(t){return i.addClass(t)}),f.forEach(function(t){return i.removeClass(t)})})}v(u=u||r(o.uiSrefActive||"",!1)(e)),this.$$addStateInfo=function(t,r){if(!(O(u)&amp;&amp;0&lt;l.length)){r=d(t,r,u);return m(),r}},e.$on("$destroy",(s=n.stateRegistry.onStatesChanged(function(){v(u)}),c=n.transitionService.onStart({},h),f=e.$on("$stateChangeSuccess",m),function(){s(),c(),f()})),n.globals.transition&amp;&amp;h(n.globals.transition),m()}]}}],n.module("ui.router.state").directive("uiSref",Un).directive("uiSrefActive",Ln).directive("uiSrefActiveEq",Ln).directive("uiState",Mn),Yn.$inject=["$state"],Zn.$inject=["$state"],n.module("ui.router.state").filter("isState",Yn).filter("includedByState",Zn),Mn=["$view","$animate","$uiViewScroll","$interpolate","$q",function(t,e,r,i,o){var a={$cfg:{viewDecl:{$context:t._pluginapi._rootViewContext()}},$uiView:{}},u={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(s,c,l){return function(s,c,h){var p,v,d,m,g=h.onload||"",y=h.autoscroll,w_enter=function(t,r,i){2&lt;n.version.minor?e.enter(t,null,r).then(i):e.enter(t,null,r,i)},w_leave=function(t,r){2&lt;n.version.minor?e.leave(t).then(r):e.leave(t,r)},_=c.inheritedData("$uiView")||a,S=i(h.uiView||h.name||"")(s)||"$default",$={$type:"ng1",id:u.count++,name:S,fqn:_.$uiView.fqn?_.$uiView.fqn+"."+S:S,config:null,configUpdated:function(t){(!t||t instanceof $n)&amp;&amp;m!==t&amp;&amp;(le.traceUIViewConfigUpdated($,t&amp;&amp;t.viewDecl&amp;&amp;t.viewDecl.$context),E(m=t))},get creationContext(){var t=f("$cfg.viewDecl.$context")(_),e=f("$uiView.creationContext")(_);return t||e}};le.traceUIViewEvent("Linking",$),c.data("$uiView",{$uiView:$}),E();var b=t.registerUIView($);function E(t){var e=s.$new(),n=o.defer(),i=o.defer(),a={$cfg:t,$uiView:$},u={$animEnter:n.promise,$animLeave:i.promise,$$animLeave:i};e.$emit("$viewContentLoading",S),v=l(e,function(t){t.data("$uiViewAnim",u),t.data("$uiView",a),w_enter(t,c,function(){n.resolve(),d&amp;&amp;d.$emit("$viewContentAnimationEnded"),(R(y)&amp;&amp;!y||s.$eval(y))&amp;&amp;r(t)}),function(){var t;p&amp;&amp;(le.traceUIViewEvent("Removing (previous) el",p.data("$uiView")),p.remove(),p=null),d&amp;&amp;(le.traceUIViewEvent("Destroying scope",$),d.$destroy(),d=null),v&amp;&amp;(t=v.data("$uiViewAnim"),le.traceUIViewEvent("Animate out",t),w_leave(v,function(){t.$$animLeave.resolve(),p=null}),p=v,v=null)}()}),(d=e).$emit("$viewContentLoaded",t||m),d.$eval(g)}s.$on("$destroy",function(){le.traceUIViewEvent("Destroying/Unregistering",$),b()})}}};return u}],Xn.$inject=["$compile","$controller","$transitions","$view","$q"];var ti="function"==typeof n.module("ui.router").component,ei=0;function ri(t,e,r,n,f){!P(r.$onInit)||(f.viewDecl.component||f.viewDecl.componentProvider)&amp;&amp;ti||r.$onInit();var u,s,c,o=Tt(f.path).state.self,a={bind:r};P(r.uiOnParamsChanged)&amp;&amp;(u=new Oe(f.path).getResolvable("$transition$").data,n.$on("$destroy",e.onSuccess({},function(t){var e,n,i,s,f,l;t!==u&amp;&amp;-1===t.exiting().indexOf(o)&amp;&amp;(e=t.params("to"),n=t.params("from"),i=function(t){return t.paramSchema},l=t.treeChanges("to").map(i).reduce(mt,[]),s=t.treeChanges("from").map(i).reduce(mt,[]),(l=l.filter(function(t){var r=s.indexOf(t);return-1===r||!s[r].type.equals(e[t.id],n[t.id])})).length&amp;&amp;(f=l.map(function(t){return t.id}),l=ct(e,function(t,e){return-1!==f.indexOf(e)}),r.uiOnParamsChanged(l,t)))},a))),P(r.uiCanExit)&amp;&amp;(s=ei++,c=function(t){return!!t&amp;&amp;(t._uiCanExitIds&amp;&amp;!0===t._uiCanExitIds[s]||c(t.redirectedFrom()))},f={exiting:o.name},n.$on("$destroy",e.onBefore(f,function(e){var n,i=e._uiCanExitIds=e._uiCanExitIds||{};return c(e)||(n=t.when(r.uiCanExit(e))).then(function(t){return i[s]=!1!==t}),n},a)))}n.module("ui.router.state").directive("uiView",Mn),n.module("ui.router.state").directive("uiView",Xn),n.module("ui.router.state").provider("$uiViewScroll",function(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,r){return t?e:function(t){return r(function(){t[0].scrollIntoView()},0,!1)}}]}),t.$injector=Qr,t.$q=Gr,t.BaseLocationServices=rn,t.BaseUrlRule=cr,t.BrowserLocationConfig=ln,t.Glob=Ht,t.HashLocationService=on,t.HookBuilder=Ze,t.MemoryLocationConfig=fn,t.MemoryLocationService=un,t.NATIVE_INJECTOR_TOKEN="Native Injector",t.Ng1ViewConfig=$n,t.Param=ye,t.ParamFactory=ar,t.ParamType=he,t.ParamTypes=we,t.PathNode=Se,t.PathUtils=be,t.PushStateLocationService=cn,t.Queue=At,t.RegisteredHook=Ke,t.Rejection=qt,t.Resolvable=Ce,t.ResolveContext=Oe,t.StateBuilder=Le,t.StateMatcher=Be,t.StateObject=Me,t.StateParams=_e,t.StateProvider=Cn,t.StateQueueManager=Ge,t.StateRegistry=ze,t.StateService=Br,t.TargetState=$e,t.Trace=fe,t.Transition=tr,t.TransitionEventType=Nr,t.TransitionHook=Je,t.TransitionService=Mr,t.UIRouter=Sr,t.UIRouterGlobals=pr,t.UIRouterPluginBase=mn,t.UrlConfig=mr,t.UrlMatcher=ir,t.UrlMatcherFactory=ur,t.UrlRouter=lr,t.UrlRouterProvider=kn,t.UrlRuleFactory=sr,t.UrlRules=dr,t.UrlService=gr,t.ViewService=hr,t._extend=Ot,t._inArray=Y,t._pushTo=et,t._removeFrom=X,t.all=v,t.allTrueR=vt,t.ancestors=ot,t.and=h,t.any=d,t.anyTrueR=dt,t.applyPairs=Pt,t.arrayTuples=Ct,t.assertFn=Rt,t.assertMap=bt,t.assertPredicate=$t,t.beforeAfterSubstr=Wt,t.buildUrl=Xr,t.compose=a,t.copy=kt,t.core=gn,t.createProxyFunctions=J,t.curry=o,t.default="ui.router",t.defaultResolvePolicy=Ee,t.defaultTransOpts=Lr,t.defaults=nt,t.deregAll=rt,t.eq=g,t.equals=G,t.extend=B,t.filter=ct,t.find=ft,t.flatten=St,t.flattenR=gt,t.fnToString=Mt,t.forEach=M,t.fromJson=F,t.functionToString=Lt,t.getLocals=Bn,t.getNg1ViewConfigFactory=yn,t.getParams=Yr,t.hashLocationPlugin=pn,t.hostRegex=Jt,t.identity=z,t.inArray=K,t.inherit=Q,t.invoke=w,t.is=m,t.isArray=x,t.isDate=j,t.isDefined=R,t.isFunction=P,t.isInjectable=I,t.isNull=E,t.isNullOrUndefined=C,t.isNumber=T,t.isObject=O,t.isPromise=H,t.isRegExp=V,t.isString=k,t.isUndefined=b,t.joinNeighborsR=ee,t.kebobString=Ft,t.keyValsToObjectR=Kr,t.locationPluginFactory=tn,t.makeEvent=Ye,t.makeStub=A,t.map=ht,t.mapObj=lt,t.matchState=Qe,t.maxLength=Nt,t.memoryLocationPlugin=dn,t.mergeR=it,t.ng1ViewsBuilder=_n,t.noop=W,t.not=l,t.omit=ut,t.or=p,t.padString=Ut,t.pairs=Et,t.parse=f,t.parseUrl=Zr,t.pattern=_,t.pick=at,t.pipe=u,t.pluck=st,t.prop=s,t.propEq=c,t.pushR=yt,t.pushStateLocationPlugin=vn,t.pushTo=tt,t.removeFrom=Z,t.resolvablesBuilder=Ne,t.resolvePolicies=Re,t.root=N,t.services=D,t.servicesPlugin=hn,t.silenceUncaughtInPromise=Vt,t.silentRejection=It,t.splitEqual=Zt,t.splitHash=Kt,t.splitOnDelim=te,t.splitQuery=Yt,t.stringify=zt,t.stripLastPathElement=Qt,t.tail=Tt,t.toJson=L,t.trace=le,t.trimHashVal=Xt,t.uniqR=wt,t.unnest=_t,t.unnestR=mt,t.val=y,t.values=pt,t.watchDigests=Nn,Object.defineProperty(t,"__esModule",{value:!0})});var app=angular.module("app",["ngRoute","ui.router","ngSanitize"]);app.run(function($rootScope,$location,$stateParams){$rootScope.dark=!1,$rootScope.page=null,$rootScope.page_id=null,$rootScope.page_key=null,$rootScope.loaded=!1,$rootScope.user=null,$rootScope.logged_in=!1,$rootScope.groups=null,$rootScope.groups=null,$rootScope.lists=null,$rootScope.list=null,$rootScope.applyScope=function(){$rootScope.$$phase||$rootScope.$apply()},$rootScope.init=function(){consoleLog("app::init()")},$rootScope.load=function(){post_silent("user/get",{},0,function(user){consoleLog(user),$rootScope.logged_in=!!user,$rootScope.user=user,$rootScope.loadSettings(),!$rootScope.logged_in&amp;&amp;$rootScope.page_key&amp;&amp;"list"==$rootScope.page?$rootScope.guest_access=!0:$rootScope.logged_in?$rootScope.page&amp;&amp;"login"!=$rootScope.page||$rootScope.redirect("lists"):$rootScope.redirect("login"),$rootScope.loaded=!0,$rootScope.applyScope(),$rootScope.logged_in&amp;&amp;$rootScope.setGTagUserID()})},$rootScope.loadSettings=function(){$rootScope.logged_in&amp;&amp;$rootScope.user.settings&amp;&amp;($rootScope.dark=$rootScope.user.settings.dark,$rootScope.settings=$rootScope.user.settings)},$rootScope.enabledNotifs=function(){return!0},$rootScope.setGTagUserID=function(){gtag("set",{user_id:$rootScope.user.id})},$rootScope.toggleLight=function(){$rootScope.dark=!$rootScope.dark,post_silent("settings/light",{state:$rootScope.dark?"off":"on"})},$rootScope.loadList=function(){consoleLog("loadList()"),$rootScope.list.sublists||($rootScope.list=$rootScope.list_data[$rootScope.list.id],$rootScope.applyScope())},$rootScope.levelUp=function(n,post){$rootScope.user.level&lt;n&amp;&amp;($rootScope.user.level=n,post&amp;&amp;post_silent("user/level-up",{level:n}))},$rootScope.setState=function(page,id,key){consoleLog("setState(): "+page+" / "+id),$rootScope.page=page||!1,$rootScope.page_id=id,$rootScope.page_key=key,$rootScope.loaded||$rootScope.load(),setPage()},$rootScope.findByID=function(arr,id){for(var i in arr)if(arr[i].id==id)return arr[i]},$rootScope.isPage=function(p){return p==$rootScope.page},$rootScope.initFocus=function(){isDesktop()&amp;&amp;setTimeout(function(){$("INPUT.autofocus").focus()},100)},$rootScope.messages_active=!1,$rootScope.messages=null,$rootScope.message_n=null,$rootScope.loadMessage=function(messages){$rootScope.messages_active=!0,$rootScope.messages=messages,$rootScope.message_n=-1,$rootScope.prev_onhashchange=window.onhashchange||null,window.onhashchange=function(){var n;"#message"!=window.location.hash.substring(0,"#message".length)?($rootScope.closeMessage(),$rootScope.applyScope()):(n=window.location.hash.substring("#message-".length))==$rootScope.message_n&amp;&amp;$rootScope.messages_active||($rootScope.selectMessage(n),$rootScope.applyScope())},$rootScope.nextMessage()},$rootScope.selectMessage=function(n){n&lt;$rootScope.messages.length?($rootScope.messages_active=!0,$rootScope.message_n=n):location.hash=""},$rootScope.nextMessage=function(){$rootScope.message_n==$rootScope.messages.length-1?location.hash="":($rootScope.message_n++,location.hash="message-"+$rootScope.message_n)},$rootScope.closeMessage=function(){$rootScope.messages_active=!1,$rootScope.prev_onhashchange&amp;&amp;(window.onhashchange=$rootScope.prev_onhashchange)},$rootScope.welcomeMessage=function(){localData("viewed-intro")?$rootScope.loadMessage([["Hey, it’s Hak again, the designer &amp; developer of Priority List ✌️","I see you've already checked out the introduction, so let's dive straight into it!"]]):$rootScope.loadMessage([["Hi, my name’s Hak, the designer &amp; developer of Priority List ✌️","This entire 'Priority List' concept and the algorithms behind it is something I've been using for 10+ years.","However, it's NOT an everyday to-do list app..."],["Priority List combines the power of Eisenhower &amp; Priority Matrix principles into beautifully simple task lists, automatically ordered in terms of priority.","If used correctly, high-stress projects will be a thing of the past."],["Let's dive in..."]]),$rootScope.levelUp(1,!0),$rootScope.applyScope()},$rootScope.mini_notif={},$rootScope.mini_notif.timeout={},$rootScope.mini_notif=function(message){$rootScope.mini_notif.active=!0,$rootScope.mini_notif.message=message,$rootScope.applyScope(),clearTimeout($rootScope.mini_notif.timeout),$rootScope.mini_notif.timeout=setTimeout(function(){$rootScope.mini_notif.active=!1,$rootScope.applyScope()},2e3)},$rootScope.goto=function(url){consoleLog("goto(): "+url),$location.url("/"+url)},$rootScope.redirect=function(url){consoleLog("redirect(): "+url),$location.replace(),$location.url("/"+url)},$rootScope.gotoHome=function(){consoleLog("gotoHome()"),$rootScope.goto("lists")},$rootScope.gotoList=function(id){consoleLog("gotoList(): "+id),$rootScope.goto("list/"+id)},$rootScope.gotoMenu=function(){consoleLog("gotoMenu()"),$rootScope.goto("menu")},$rootScope.gotoSettings=function(){consoleLog("gotoSettings()"),$rootScope.goto("settings")},$rootScope.gotoNotifications=function(){consoleLog("gotoNotifications()"),$rootScope.enabledNotifs()?$rootScope.goto("notifications"):$rootScope.goto("coming-soon")},$rootScope.gotoRoot=function(url){consoleLog("gotoRoot()"),window.location=url},$rootScope.goBack=function(){history.back()},$rootScope.goBackHash=function(){window.location.hash&amp;&amp;history.back()},$rootScope.twoDecimals=function(val){return(val=parseFloat(val)).toFixed(2)},$rootScope.nltobr=function(str){return nltobr(str)},$rootScope.setPage=function(){setPage()},$rootScope.isDesktop=function(){return isDesktop()},$rootScope.isMobile=function(){return isMobile()},$rootScope.init()});var enter_last_processed=0;function enter_key_not_processed(){var now=Date.now(),processed=now-enter_last_processed&lt;1e3;return processed||(enter_last_processed=now),!processed}app.directive("onEnter",function(){return function(scope,element,attrs){element.bind("keydown keypress keyup",function(e){var key=e.which||e.keyCode||0;if(13!==key||e.shiftKey){if(isMobile()&amp;&amp;229==key&amp;&amp;"blurItemInput()"==attrs.onEnter&amp;&amp;$("textarea:focus")){var text=$("textarea:focus").val();if(containsItem(["\n","\r","\r\n"],text[text.length-1])&amp;&amp;enter_key_not_processed()){for(;containsItem(["\n","\r","\r\n"],text[text.length-1]);)text=text.substring(0,text.length-1);$("textarea:focus").val(text),scope.$eval(attrs.onEnter)}}}else e.preventDefault(),enter_key_not_processed()&amp;&amp;scope.$apply(function(){scope.$eval(attrs.onEnter)})})}}),app.directive("elastic",["$timeout",function($timeout){return{restrict:"A",link:function($scope,element){$scope.initialHeight=$scope.initialHeight||element[0].style.height;function resize(){element[0].style.height=$scope.initialHeight,element[0].style.height=element[0].scrollHeight+"px"}element.on("input change",resize),$timeout(resize,0)}}}]);var rightclick_event_fired=0,rightclick_event_target=null;function rightClickEventFired(target){rightclick_event_target=target,rightclick_event_fired=(new Date).getTime()}function hasRightClickEventFired(target){return rightclick_event_target==target&amp;&amp;rightclick_event_fired+510&gt;(new Date).getTime()}var rightclick_touch_start=0,rightclick_touch_target=null,rightclick_touch_end=0,rightclick_touch_fired=0,secureFunction;function rightClickTouchStart(target){rightclick_touch_target=target,rightclick_touch_start=(new Date).getTime(),rightclick_touch_fired=rightclick_touch_end=0}function hasRightClickTouchCompleted(target){return rightclick_touch_target==target&amp;&amp;rightclick_touch_start+500&lt;(new Date).getTime()}function rightClickTouchFired(){rightclick_touch_fired=(new Date).getTime()}function hasRightClickTouchFired(target){return rightclick_touch_target==target&amp;&amp;!!rightclick_touch_fired}function dragObject(e){consoleLog("dragObject()");var elem=e.target,scope=pullScope(elem),is_item=!!elem.getAttribute("data-item-id");scope.logged_in?is_item?scope.dragItem(elem.getAttribute("data-item-id")):scope.dragSublist(elem.getAttribute("data-sublist-id")):(e.preventDefault(),e.stopPropagation())}function endDragObject(scope){scope.preventDefault(),consoleLog("endDragObject()");scope=pullScope(scope.target);scope&amp;&amp;scope.endDragObject()}function allowObjectDrop(scope){scope.preventDefault(),consoleLog("allowObjectDrop()");var column=scope.target,scope=pullScope(column),column=$(column).parents(".column");scope.allowObjectDrop(column.attr("data-sublist-id"))}function resetObjectDrop(e){e.preventDefault(),consoleLog("resetObjectDrop()"),pullScope(e.target).resetObjectDrop()}function dropObject(scope){consoleLog("dropObject()");var column=scope.target,scope=pullScope(column),column=$(column).parents(".column");scope.dropObject(column.attr("data-sublist-id"))}function dateToStr(n){var y=n.toDateString().split(" "),d=y[0],m=y[1],n=y[2],y=y[3];return(y==(new Date).getFullYear()?[d,n,m]:[d,n,m,y]).join(" ")}function setPage(){initTooltips(),setTimeout(function(){},100)}function pullScope(id){return angular.element($(id)).scope()}function applyScope(id){pullScope(id).$apply()}function runAngular(id,query){var scope=pullScope(id);scope.$apply(function(){eval(query)})}function formatPerc(val){return val.toFixed(1)+"%"}function formatNumbersWithCommas(x){return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function pad(n,width){return(n+="").length&gt;=width?n:new Array(width-n.length+1).join("0")+n}function nth(d){if(3&lt;d&amp;&amp;d&lt;21)return"th";switch(d%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}function capitalize(str){return str.replace(/\w\S*/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase()})}function nltobr(str){return str=(str=(str=(str=str.replace(/&lt;/g,"&amp;lt;")).replace(/&gt;r/g,"&amp;gt;")).replace(/\r/g,"")).replace(/\n/g,"&lt;br&gt;")}function days_between(differenceMs,date2){differenceMs=date2-differenceMs;return Math.ceil(differenceMs/864e5)}function containsStr(a,b){return-1!==a.indexOf(b)}function containsItem(arr,item){return-1!==arr.indexOf(item)}function moveItem(arr,from,to){return arr.splice(arr.indexOf(to),0,arr.splice(arr.indexOf(from),1)[0]),arr}function removeItem(arr,item){return containsItem(arr,item)?arr.splice(arr.indexOf(item),1):console.error("removeItem(): Item Not Found In Array"),arr}function insertSpace(str,index){return str.length&lt;=index||" "==str[index]?str:str.substr(0,index)+" "+str.substr(index)}function replaceItemByID(arr,old,replacement){for(i=0;i&lt;arr.length;i++)if(arr[i].ID==old.ID)return arr[i]=replacement,arr}function objectSize(obj){return Object.keys(obj).length}function emptyObject(obj){return 0==Object.keys(obj).length}function objectToArray(obj){return Object.values(obj)}function optionalArg(arg,def){return void 0===arg?def:arg}function isset(arg){return void 0!==arg}function avgNums(arr){if(0==arr.length)return 0;var i,sum=0;for(i in arr)sum+=parseFloat(arr[i]);return sum/arr.length}function clone(src){return consoleLog("Cloning:"),consoleLog(src),JSON.parse(JSON.stringify(src))}function setInputFilter(textbox,inputFilter,preFilter){["input","keydown","keyup","mousedown","mouseup","select","contextmenu","drop"].forEach(function(event){textbox.addEventListener(event,function(){var s,e;(preFilter=optionalArg(preFilter,function(v){return v}))(this.value)!=this.value&amp;&amp;(e=preFilter(this.value).length-this.value.length,s=this.selectionStart+e,e=this.selectionEnd+e,this.value=preFilter(this.value),this.setSelectionRange(s,e)),inputFilter(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")?(this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""})})}function goto(URL){consoleLog("Loading URL: "+URL),window.location.href=URL}function goto_blank(URL){consoleLog("Opening URL: "+URL),window.open(URL,"_blank")}function getHost(){return window.location.protocol+"//"+window.location.host}function isDesktop(){return!isMobile()}function isMobile(){return $(window).outerWidth()&lt;1100||$("body").hasClass("mobile-device")}function initPopups(){initPopupButtons(),$(".secure-click").click(function(){submitSecureFunc()}),initFeedbackPopup(),initPopupLinks(),initTooltips()}function initPopupButtons(){$(".popup .close").unbind("click"),$(".popup .close").click(function(){closePopup($(this).parents(".popup"))}),$(".popup .btn--close").unbind("click"),$(".popup .btn--close").click(function(){closePopup($(this).parents(".popup"))})}function initPopupLinks(){$(".notify-me").unbind(),$(".notify-me").click(function(){return closePopups(),subscribe_popup(),$(".subscribe-name").focus(),!1}),$(".show-faq").unbind(),$(".show-faq").click(function(){return closePopups(),showPopup("faq."+$(this).attr("data-faq")),!1})}function showPopup(c,blur){blur=optionalArg(blur,!0),$(".popup."+c).hasClass("show")||($(".popup."+c).stop().fadeIn(300),$(".popup."+c).addClass("show"),blur&amp;&amp;addPopupBlur(),initPopupButtons(),initPopupLinks(),"undefined"!=typeof initMobilePopup&amp;&amp;initMobilePopup())}function closePopup(p){p.removeClass("show"),p.stop().fadeOut(200),removePopupBlur()}function closePopups(){$(".popup").removeClass("show"),$(".popup").stop().fadeOut(200),removePopupBlur();var video=document.getElementById("video-iframe");video&amp;&amp;(video.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*"),ga("send","event","Video","pause"))}function addPopupBlur(){$("body").addClass("popup-open")}function removePopupBlur(){0==$(".popup.show:not(.no-blur)").length&amp;&amp;($("body").removeClass("popup-open").addClass("popup-close"),setTimeout(function(){$("body").removeClass("popup-close")},250))}function alert_popup(title,msg,func){$(".popup.message .title").html(title),$(".popup.message .text").html(msg),showPopup("message"),$(".popup.message .close").unbind(),$(".popup.message .close").click(function(){closePopup($(".popup.message")),func&amp;&amp;func()})}function error_popup(msg,func){$(".popup.error .text").html(msg),showPopup("error"),$(".popup.error .close").unbind(),$(".popup.error .close").click(function(){closePopup($(".popup.error")),func&amp;&amp;func()})}function confirm_popup(msg,func){$(".popup.confirm .text").html(msg),initConfirm(func),showPopup("confirm")}function confirm_popup_secured(msg,func){$(".popup.confirm .text").html(msg),initConfirm(func,!0),showPopup("confirm")}function feedback_popup(){showPopup("feedback")}function subscribe_popup(){showPopup("subscribe")}function loading_popup(blur){blur=optionalArg(blur,!0),$(".popup.loader").removeClass("complete"),showPopup("loader",blur)}function loaded_popup(){$(".popup.loader").addClass("complete")}function loader_close(){closePopup($(".popup.loader"))}function initFeedbackPopup(){$(".feedback-btn").click(function(){return feedback_popup(),$(".feedback-msg").focus(),!1}),$(".feedback.popup .submit.btn").click(function(){submitFeedback()})}function submitFeedback(){if(""==$(".feedback.popup TEXTAREA.message").val())return error_popup("Please enter a message"),!1;post("contact/send",{Name:"&lt;?php echo userData('FirstName'); ?&gt;",Email:"&lt;?php echo userData('Email'); ?&gt;",Message:"(Feedback) "+$(".feedback.popup TEXTAREA.feedback-msg").val()},function(d){closePopups(),$(".feedback.popup TEXTAREA.feedback-msg").val(""),alert_popup("Thank You","Thanks for getting in touch, we'll get on it right away.")})}function initConfirm(func,secure){$(".confirm-yes").unbind(),$(".confirm-yes").click(function(){closePopups(),secure?secureClick(func):func()})}function secureClick(secureFunc){secureFunction=secureFunc,showPopup("secure"),$(".secure-pass").focus()}function submitSecureFunc(){""!=$("INPUT.secure-pass").val()?(closePopups(),secureFunction($("INPUT.secure-pass").val()),$("INPUT.secure-pass").val("")):$(".secure-pass").focus()}function getTimezone(y,m,ZONE){ZONE=new Date(parseInt(y),parseInt(m)-1,parseInt(ZONE)).getTimezoneOffset();return(ZONE&lt;0?"+":"-")+pad(parseInt(Math.abs(ZONE/60)),2)+pad(Math.abs(ZONE%60),2)}app.directive("ngLeftClick",function(){return function(scope,element,attrs){element.bind("click",function(e){consoleLog("click"),consoleLog(rightclick_touch_fired),hasRightClickTouchFired(element[0])||scope.$apply(function(){scope.$eval(attrs.ngLeftClick)})})}}),app.directive("ngRightClick",function(){return function(scope,element,attrs){element.bind("contextmenu",function(e){consoleLog("contextmenu"),e.preventDefault(),hasRightClickTouchCompleted(element[0])||(rightClickEventFired(element[0]),scope.$apply(function(){scope.$eval(attrs.ngRightClick)}))}),element.bind(isMobile()?"touchstart":"mousedown",function(e){consoleLog(isMobile()?"touchstart":"mousedown"),rightClickTouchStart(element[0]),function loop(){hasRightClickTouchCompleted(element[0])?hasRightClickEventFired(element[0])||(rightClickTouchFired(),scope.$apply(function(){scope.$eval(attrs.ngRightClick)})):rightclick_touch_end||setTimeout(loop,1)}()}),element.bind(isMobile()?"touchend touchcancel touchmove":"mouseup mousemove",function(e){consoleLog(isMobile()?"touchend":"mouseup"),rightclick_touch_end=(new Date).getTime()})}}),app.controller("account",function($scope,$rootScope,$stateParams){$scope.applyScope=function(){$rootScope.$$phase||$rootScope.$apply(),$scope.$$phase||$scope.$apply()},$scope.init=function(){$scope.account=clone($rootScope.user)},$scope.save=function(){var account=$scope.account,user=$rootScope.user;account.firstname!=user.firstname||account.lastname!=user.lastname||account.username!=user.username?post("user/update",{firstname:account.firstname,lastname:account.lastname,username:account.username},function(data){$rootScope.user=data,closePopups(),$rootScope.goBack(),$rootScope.applyScope()}):$rootScope.goBack()},$scope.init()}),app.controller("faqs",function($scope,$rootScope,$stateParams){$scope.applyScope=function(){$rootScope.$$phase||$rootScope.$apply(),$scope.$$phase||$scope.$apply()},$scope.init=function(){consoleLog("faqs::init()"),$rootScope.faqs||post_silent("faqs/pull",{},0,function(data){$rootScope.faqs=data,$scope.applyScope()})},$scope.showing=null,$scope.show=function(id){$scope.showing=$scope.showing!=id?id:null},$scope.init()}),app.controller("list",function($scope,$rootScope,$stateParams){$scope.loaded_data=!1,$scope.applyScope=function(){$rootScope.$$phase||$rootScope.$apply(),$scope.$$phase||$scope.$apply()},$scope.init=function(){consoleLog("list::init()"),$scope.load(),window.onhashchange=function(){"#subtasks"!=window.location.hash&amp;&amp;"#item-editor"!=window.location.hash&amp;&amp;$scope.closeSubitems(),"#item-editor"!=window.location.hash&amp;&amp;"#sublist-editor"!=window.location.hash&amp;&amp;$scope.closeItem(),"#sublist-editor"!=window.location.hash&amp;&amp;"#reorder-sublist"!=window.location.hash&amp;&amp;$scope.closeSublist(),"#reorder-sublist"!=window.location.hash&amp;&amp;$scope.closeSublistReorder(),"#share-manager"!=window.location.hash&amp;&amp;$scope.closeShare(),"#notes"!=window.location.hash&amp;&amp;$scope.closeNotes()}},$scope.load=function(){consoleLog("list::load()"),$rootScope.page_id?$scope.loadList():setTimeout(function(){$scope.load()},10)},$scope.loadList=function(){post_silent("list/pull",{id:$rootScope.page_id,key:$rootScope.page_key},0,function(data){$rootScope.list=data,$scope.completeLoad()},!0)},$scope.completeLoad=function(){$scope.loaded_data=!0,$scope.applyScope(),$scope.liveList(),consoleLog("list-&gt;loaded")},$scope.list_reload=null,$scope.liveList=function(){consoleLog("list-&gt;liveList()"),clearTimeout($scope.list_reload);var interval=$scope.topUrgentScore();interval?(consoleLog("list-&gt;liveList: Active"),$scope.list_reload=setTimeout(function(){$(".view.list").length&amp;&amp;$scope.loadList()},60*interval*1e3)):consoleLog("list-&gt;liveList: NOT Active")},$scope.topUrgentScore=function(){var i,quickest=0;for(i in $rootScope.list.sublists)for(var j in $rootScope.list.sublists[i].items){var item=$rootScope.list.sublists[i].items[j],mins=$scope.tMinutes(item.score_t);item.deadline&amp;&amp;2!=item.state&amp;&amp;(!quickest||mins&lt;quickest)&amp;&amp;(quickest=item.score_u?mins:60)}return quickest},$scope.toggleFocus=function(){$rootScope.list.focus=!$rootScope.list.focus,$scope.show_more=[],$scope.show_ticked=[],$rootScope.list.focus?post_silent("list/focus",{id:$rootScope.list.id}):post_silent("list/unfocus",{id:$rootScope.list.id}),$rootScope.mini_notif("Focus Mode: &lt;b&gt;"+($rootScope.list.focus?"On":"Off")+"&lt;/b&gt;")},$scope.show_more=[],$scope.showMore=function(sublist){containsItem($scope.show_more,sublist.id)?removeItem($scope.show_more,sublist.id):$scope.show_more.push(sublist.id)},$scope.showingMore=function(sublist){return containsItem($scope.show_more,sublist.id)},$scope.show_ticked=[],$scope.showTicked=function(sublist){containsItem($scope.show_ticked,sublist.id)?removeItem($scope.show_ticked,sublist.id):$scope.show_ticked.push(sublist.id)},$scope.showingTicked=function(sublist){return containsItem($scope.show_ticked,sublist.id)},$scope.getItems=function(items){if($rootScope.list.focus){_items=[];for(i in items)3==items[i].state&amp;&amp;_items.push(items[i]);for(i in items)1==items[i].state&amp;&amp;_items.push(items[i])}else{var i,_items=[];for(i in items)2!=items[i].state&amp;&amp;_items.push(items[i]);for(i in items)items[i].ticked_now&amp;&amp;2==items[i].state&amp;&amp;_items.push(items[i]);for(i in items)items[i].ticked_now||2!=items[i].state||_items.push(items[i])}return $scope.processItemDependencies(_items)},$scope.processItemDependencies=function(items){var _items=[];for(i in items)delete items[i].is_dependent,delete items[i].first_dependent,delete items[i].last_dependent,delete items[i].has_dependents,delete items[i].dependents;for(i in items){if(2!=items[i].state){var j,dependents=[];for(j in items)2==items[j].state||items[j].dependency_id!=items[i].id||items[j].has_dependents&amp;&amp;containsItem(items[j].dependents,items[i])||(items[j].is_dependent=!0,dependents.push(items[j]));dependents.length&amp;&amp;(dependents[0].first_dependent=!0,dependents[dependents.length-1].last_dependent=!0,items[i].has_dependents=!0,items[i].dependents=dependents)}_items.push(items[i])}var i,__items=[];for(i in _items)_items[i].is_dependent||(__items.push(_items[i]),_items[i].has_dependents&amp;&amp;(__items=__items.concat($scope.recurseDependencies(_items[i].id,_items[i].dependents))));return __items},$scope.recurseDependencies=function(parent_id,items){var i,_items=[];for(i in items)items[i].id!=parent_id&amp;&amp;(_items.push(items[i]),items[i].has_dependents&amp;&amp;(_items=_items.concat($scope.recurseDependencies(parent_id,items[i].dependents))));return _items},$scope.getAllDependents=function(items,item_id){return $scope.getAllDependents_recurse(items,item_id,!1)},$scope.getAllDependents_recurse=function(items,item_id,parent_id){var i,_items=[];for(i in items)2==items[i].state||items[i].dependency_id!=item_id||parent_id&amp;&amp;items[i].id==parent_id||(_items.push(items[i]),_items=_items.concat($scope.getAllDependents_recurse(items,items[i].id,parent_id||item_id)));return _items},$scope.tickedNow=function(sublist){var i,items=sublist.items,n=0;for(i in items)items[i].ticked_now&amp;&amp;2==items[i].state&amp;&amp;n++;return n},$scope.selected_item=null,$scope.selected_sublist_id=null,$scope.addItem=function(){$scope.openItem({id:0,sublist_id:$scope.defaultSublist(),name:"",score_i:5,score_t:5,critical:0})},$scope.addItemToSublist=function(sublist,e){e&amp;&amp;e.stopPropagation(),$scope.selected_sublist_id=sublist.id,$scope.addItem(),$scope.selected_sublist_id=null},$scope.openItem=function(item,sublist){sublist&amp;&amp;(item.sublist_id=sublist.id),location.hash="item-editor",$scope.selected_item=clone(item),$scope.updateTValue(),$scope.updateIValue(),$scope.selected_item.has_dependency=!!item.dependency_id},$scope.closeItem=function(){$scope.selected_item=null,closePopups()},$scope.toggleUrgency=function(){$scope.selected_item.deadline?delete $scope.selected_item.deadline:$scope.selected_item.deadline={}},$scope.selectTime=function(time){$scope.selected_item.deadline.time=time},$scope.sublistLabel=function(){if($scope.selected_item.sublist_id)for(var i in $rootScope.list.sublists)if($rootScope.list.sublists[i].id==$scope.selected_item.sublist_id)return""==$rootScope.list.sublists[i].name?"General":$rootScope.list.sublists[i].name;return"Select Sublist"},$scope.selectSublist=function(id){$scope.selected_sublist_id=id,$scope.selected_item.sublist_id=id},$scope.defaultSublist=function(){if($scope.selected_sublist_id)return $scope.selected_sublist_id;if(1==$rootScope.list.sublists.length)return $rootScope.list.sublists[0].id;if(isMobile()){var open_sublists=0;for(i in $rootScope.list.sublists)$rootScope.list.sublists[i].show&amp;&amp;open_sublists++;if(1==open_sublists)for(var i in $rootScope.list.sublists)if($rootScope.list.sublists[i].show)return $rootScope.list.sublists[i].id}return 0},$scope.dependencyLabel=function(){if($scope.selected_item.dependency_id){var dependency=$scope.getItemFromSublist($scope.selected_item.dependency_id,$scope.getSublist($scope.selected_item.sublist_id));if(dependency)return dependency.name}return"This task is dependent on..."},$scope.selectDependency=function(id){$scope.selected_item.dependency_id=id},$scope.toggleDependency=function(){$scope.selected_item.has_dependency=!$scope.selected_item.has_dependency},$scope.toggleSublist=function(s){s.show=!s.show,s.show?post_silent("sublist/show",{id:s.id}):post_silent("sublist/hide",{id:s.id}),containsItem($scope.show_more,s.id)&amp;&amp;removeItem($scope.show_more,s.id),containsItem($scope.show_ticked,s.id)&amp;&amp;removeItem($scope.show_ticked,s.id)},$scope.saveItem=function(){var item=$scope.selected_item;item.id?post("item/update",{id:item.id,sublist_id:item.sublist_id,name:item.name,score_i:item.score_i,score_t:item.score_t,d_date:item.deadline&amp;&amp;item.deadline.date?item.deadline.date:null,d_time:item.deadline&amp;&amp;item.deadline.time?item.deadline.time:null,d_zone:$scope.getTimezone(item),dependency_id:item.has_dependency&amp;&amp;item.dependency_id?item.dependency_id:null,subitem:$rootScope.selected_subitems?1:0},function(data){$rootScope.selected_subitems?$scope.subitems().updateSublist(data):($rootScope.list=data,$scope.liveList()),$scope.goBackHash(),$scope.closeItem(),$scope.applyScope()},!1):post("item/add",{sublist_id:item.sublist_id,name:item.name,score_i:item.score_i,score_t:item.score_t,d_date:item.deadline&amp;&amp;item.deadline.date?item.deadline.date:null,d_time:item.deadline&amp;&amp;item.deadline.time?item.deadline.time:null,d_zone:$scope.getTimezone(item),dependency_id:item.has_dependency&amp;&amp;item.dependency_id?item.dependency_id:null},function(data){$rootScope.selected_subitems?($rootScope.selected_subitems.total++,$scope.subitems().updateSublist(data)):($rootScope.levelUp(3),$scope.updateSublist(data),$scope.liveList(),$rootScope.list.total++),$scope.goBackHash(),$scope.closeItem(),$scope.applyScope()},!1)},$scope.moveItem=function(item,sublist){post_silent("item/move",{id:item.id,sublist_id:sublist.id},0,function(data){$scope.updateSublist(data),$scope.liveList(),$scope.applyScope()})},$scope.updateSublist=function(sublist){for(var i in $rootScope.list.sublists)$rootScope.list.sublists[i].id==sublist.id&amp;&amp;($rootScope.list.sublists[i]=sublist)},$scope.tick=function(sublist,item){2!=item.state?(item.ticked_now=!0,item.state=2,sublist.ticked++,$rootScope.selected_subitems?$rootScope.selected_subitems.ticked++:$rootScope.list.ticked++,item.score_u&amp;&amp;8&lt;item.score_u&amp;&amp;(sublist.urgent--,$rootScope.selected_subitems||$rootScope.list.urgent--),post_silent("item/tick",{id:item.id},0,function(){(item.dependency_id||$rootScope.selected_subitems)&amp;&amp;$scope.loadList()})):(item.state=1,sublist.ticked--,$rootScope.selected_subitems?$rootScope.selected_subitems.ticked--:$rootScope.list.ticked--,item.score_u&amp;&amp;8&lt;item.score_u&amp;&amp;(sublist.urgent||(sublist.urgent=0),sublist.urgent++,$rootScope.selected_subitems||$rootScope.list.urgent++),post_silent("item/untick",{id:item.id},0,function(){(item.dependency_id||$rootScope.selected_subitems)&amp;&amp;$scope.loadList()})),$scope.liveList()},$scope.mark=function(sublist,item){item.anim_updated=!0,setTimeout(function(){item.anim_updated=!1},600),2==item.state&amp;&amp;(sublist.ticked--,$rootScope.selected_subitems?$rootScope.selected_subitems.ticked--:$rootScope.list.ticked--,item.score_u&amp;&amp;8&lt;item.score_u&amp;&amp;(sublist.urgent||(sublist.urgent=0),sublist.urgent++,$rootScope.selected_subitems||$rootScope.list.urgent++)),3!=item.state?(item.state=3,post_silent("item/mark",{id:item.id})):(item.state=1,post_silent("item/unmark",{id:item.id})),$scope.liveList()},$scope.isItemInputFocus=function(){return isMobile()&amp;&amp;!!$(".item textarea:focus").length},$scope.blurItemInput=function(){$("textarea:focus").blur()},$scope.checkItemName=function(sublist,item){""==item.name?$scope.deleteItem(sublist,item):$scope.updateItemName(item)},$scope.updateItemName=function(item){item.prev_name!=item.name&amp;&amp;post_silent("item/update-name",{id:item.id,name:item.name})},$scope.deleteItem=function(sublist,item){post_silent("item/delete",{id:(item=$scope.getItemFromSublist(item.id,sublist)).id},0,function(){(item.dependency_id||$rootScope.selected_subitems)&amp;&amp;$scope.loadList()}),removeItem(sublist.items,item),sublist.total--,$rootScope.selected_subitems?$rootScope.selected_subitems.total--:$rootScope.list.total--,2==item.state&amp;&amp;(sublist.ticked--,$rootScope.selected_subitems?$rootScope.selected_subitems.ticked--:$rootScope.list.ticked--),item.score_u&amp;&amp;8&lt;item.score_u&amp;&amp;(sublist.urgent--,$rootScope.selected_subitems||$rootScope.list.urgent--),$scope.liveList(),$scope.closeItem()},$scope.deleteItem_confirm=function(item){var sublist=$rootScope.selected_subitems?$scope.subitems().sublist:$scope.getItemSublist(item.id);confirm_popup("You wish to DELETE this task?",function(){$scope.deleteItem(sublist,item),$scope.applyScope()})},$scope.getSublist=function(id){if($rootScope.selected_subitems&amp;&amp;$scope.subitems().sublist.id==id)return $scope.subitems().sublist;for(var i in $rootScope.list.sublists)if($rootScope.list.sublists[i].id==id)return $rootScope.list.sublists[i]},$scope.getItem=function(id){for(var i in $rootScope.list.sublists)for(var j in $rootScope.list.sublists[i].items)if($rootScope.list.sublists[i].items[j].id==id)return $rootScope.list.sublists[i].items[j]},$scope.getItemFromSublist=function(id,sublist){for(var i in sublist.items)if(sublist.items[i].id==id)return sublist.items[i]},$scope.getItemSublist=function(id){for(var i in $rootScope.list.sublists)for(var j in $rootScope.list.sublists[i].items)if($rootScope.list.sublists[i].items[j].id==id)return $rootScope.list.sublists[i]},$scope.getDependencyOptions=function(item_id,sublist_id){var sublists=$rootScope.list.sublists;$rootScope.selected_subitems&amp;&amp;(sublists=[$scope.subitems().sublist]);var i,items=[];for(i in sublists)if(sublists[i].id==sublist_id)for(var j in sublists[i].items)item_id!=sublists[i].items[j].id&amp;&amp;2!=sublists[i].items[j].state&amp;&amp;items.push(sublists[i].items[j]);return items},$rootScope.selected_subitems=!1,$scope.openSubitems=function(item){location.hash="subtasks",$rootScope.selected_subitems=item},$scope.closeSubitems=function(){$rootScope.selected_subitems=!1},$scope.subitems=function(){return pullScope(".subview.subitems")},$scope.reorder_sublist=!1,$scope.reorderSublist=function(){location.hash="reorder-sublist",$scope.reorder_sublist=!0},$scope.closeSublistReorder=function(){var sublist,original;$scope.reorder_sublist&amp;&amp;(sublist=$scope.selected_sublist,original=$scope.getSublist(sublist.id),sublist.name==original.name&amp;&amp;($scope.goBackHash(),$scope.closeSublist())),$scope.reorder_sublist=!1},$scope.reorderItemBefore=function(s){var i,before=!0;for(i in $scope.list.sublists){var curr_id=$scope.list.sublists[i].id;if(curr_id==s.id)return before;before=before&amp;&amp;curr_id!=$scope.selected_sublist.id}return before},$scope.reorderItemAfter=function(s){var i,after=!1;for(i in $scope.list.sublists){var curr_id=$scope.list.sublists[i].id;if(curr_id==s.id)return after;after=after||curr_id==$scope.selected_sublist.id}return after},$scope.processSublistReorder=function(target){var sublist=$scope.getSublist($scope.selected_sublist.id);$scope.moveSublist(sublist,target),$scope.goBackHash(),$scope.closeSublistReorder(),$scope.applyScope()},$scope.selected_sublist=null,$scope.addSublist=function(){$scope.openSublist({id:0,list_id:$rootScope.list.id,name:""})},$scope.openSublist=function(sublist,e){e&amp;&amp;e.stopPropagation(),location.hash="sublist-editor",$scope.selected_sublist=clone(sublist)},$scope.closeSublist=function(){$scope.selected_sublist=null,closePopups()},$scope.saveSublist=function(){var sublist=$scope.selected_sublist;sublist.id?post("sublist/update",{id:sublist.id,name:sublist.name},function(data){$scope.updateList(data),$scope.goBackHash(),$scope.closeSublist(),$scope.applyScope()},!1):post("sublist/add",{list_id:sublist.list_id,name:sublist.name},function(data){$scope.updateList(data),$scope.goBackHash(),$scope.closeSublist(),$scope.applyScope()},!1)},$scope.deleteSublist=function(sublist){confirm_popup("You wish to DELETE the '"+(sublist=$scope.getSublist(sublist.id)).name+"' sublist?",function(){post_silent("sublist/delete",{id:sublist.id}),removeItem($rootScope.list.sublists,sublist),$scope.closeSublist(),$scope.applyScope()})},$scope.updateList=function(list){var new_sublist=$rootScope.list.sublists.length!=list.sublists.length;if($rootScope.list=list,new_sublist){var i,new_sublist_id=0;for(i in list.sublists)list.sublists[i].id&gt;new_sublist_id&amp;&amp;(new_sublist_id=list.sublists[i].id);$scope.selected_item?$scope.selectSublist(new_sublist_id):$scope.selected_sublist_id=new_sublist_id}},$scope.sublistTotalCategory=function(sublist){var i,ticked=sublist.ticked,remaining=sublist.total-sublist.ticked,marked=0,urgent=0;for(i in sublist.items){var item=sublist.items[i];3==item.state&amp;&amp;marked++,2!=item.state&amp;&amp;item.score_u&amp;&amp;8&lt;item.score_u&amp;&amp;urgent++}return urgent?"urgent":marked?"marked":ticked&amp;&amp;0==remaining?"completed":"remaining"},$scope.sublistTotalTime=function(sublist){var c=$scope.sublistTotalCategory(sublist),items=[];if("urgent"==c)for(var i in sublist.items)2!=sublist.items[i].state&amp;&amp;sublist.items[i].score_u&amp;&amp;8&lt;sublist.items[i].score_u&amp;&amp;items.push(sublist.items[i]);if("marked"==c)for(var i in sublist.items)3==sublist.items[i].state&amp;&amp;items.push(sublist.items[i]);if("completed"==c)for(var i in sublist.items)2==sublist.items[i].state&amp;&amp;items.push(sublist.items[i]);if("remaining"==c)for(var i in sublist.items)1==sublist.items[i].state&amp;&amp;items.push(sublist.items[i]);return $scope.totalDuration(items)},$scope.totalDuration=function(items){if(1==items.length)return(parts=$scope.tValue(items[0].score_t).split(" "))[0]+" &lt;i&gt;"+capitalize(parts[1])+"&lt;/i&gt;";var m=0;for(i in items)m+=$scope.tMinutes(items[i].score_t);var h=Math.floor(m/60),d=Math.floor(h/24),w=Math.floor(d/7),mt=Math.floor(w/4);m-=60*h,h-=24*d,d-=7*w;var parts,i,ps=[];for(i in parts=[mt,w-=4*mt,d,h,m])parts[i]&amp;&amp;ps.push(parts[i]);var pn=ps.length,worded="";return mt&amp;&amp;(worded+=mt+"&lt;i&gt;"+(1&lt;pn?"M ":" Month"+(1==mt?" ":"s "))+"&lt;/i&gt;"),w&amp;&amp;(worded+=w+"&lt;i&gt;"+(1&lt;pn?"W ":" Week"+(1==w?" ":"s "))+"&lt;/i&gt;"),d&amp;&amp;(worded+=d+"&lt;i&gt;"+(1&lt;pn?"D ":" Day"+(1==d?" ":"s "))+"&lt;/i&gt;"),h&amp;&amp;(worded+=h+"&lt;i&gt;"+(1&lt;pn?"H ":" Hour"+(1==h?" ":"s "))+"&lt;/i&gt;"),!mt&amp;&amp;m&amp;&amp;(worded+=m+"&lt;i&gt;"+(1&lt;pn?"M ":" Min"+(1==m?" ":"s "))+"&lt;/i&gt;"),worded?worded.trim():0},$scope.updateIValue=function(){$scope.selected_item.score_i_value=$scope.iValues($scope.selected_item.score_i)},$scope.showIValues=function(){return!!$scope.selected_item.id||5!=$scope.selected_item.score_i||$scope.selected_item.edited_i_score},$scope.iValues=function(n){switch(5!=n&amp;&amp;($scope.selected_item.edited_i_score=!0),n){case 0:return"Completely Unnecessary";case 1:return"Potentially Not Needed";case 2:return"Can Wait";case 3:return"Tiny Impact";case 4:return"Low Importance";case 5:return"Neutral";case 6:return"Fairly Important";case 7:return"Must-Do";case 8:return"Really Important";case 9:return"Extremely Important";case 10:return"Critical"}},$scope.updateTValue=function(){$scope.selected_item.score_t_value=$scope.tValues($scope.selected_item.score_t)},$scope.showTValues=function(){return!!$scope.selected_item.id||5!=$scope.selected_item.score_t||$scope.selected_item.edited_t_score},$scope.tValues=function(n){return 5!=n&amp;&amp;($scope.selected_item.edited_t_score=!0),$scope.tValue(n)},$scope.tValue=function(n){switch(n){case 0:return"1+ weeks";case 1:return"4-6 days";case 2:return"2-3 days";case 3:return"1 day";case 4:return"4-6 hours";case 5:return"2-3 hours";case 6:return"1 hour";case 7:return"30 mins";case 8:return"15 mins";case 9:return"5 mins";case 10:return"1 min"}},$scope.tMinutes=function(n){switch(n){case 0:return 10080;case 1:return 8640;case 2:return 2880;case 3:return 1440;case 4:return 360;case 5:return 180;case 6:return 60;case 7:return 30;case 8:return 15;case 9:return 5;case 10:return 1}},$scope.uValue=function(weeks){var months=$scope.getTimezone(weeks),weeks_r=new Date(weeks.deadline.date+"T00:00:00"+months),days=new Date;days.setDate(days.getDate()-1);var months_r=new Date,months=new Date;months.setDate(months.getDate()+1);weeks=!!weeks.deadline.time&amp;&amp;"00:00"!=weeks.deadline.time?" at "+weeks.deadline.time:"";if(date_deadline=dateToStr(weeks_r),date_yesterday=dateToStr(days),date_today=dateToStr(months_r),date_tomorrow=dateToStr(months),date_deadline==date_yesterday)return"Yesterday"+weeks;if(date_deadline==date_today)return"Today"+weeks;if(date_deadline==date_tomorrow)return"Tomorrow"+weeks;days=days_between(months_r,weeks_r),months=days/7/4,weeks=days/7,months_r=0&lt;months?Math.floor(months):Math.ceil(months),weeks_r=0&lt;weeks?Math.floor(weeks):Math.ceil(weeks);return 0&lt;Math.abs(months_r)?$scope.uValueWorded(months_r,"Month",Math.abs(months_r)&lt;Math.abs(months)?"+":""):0&lt;Math.abs(weeks_r)?$scope.uValueWorded(weeks_r,"Week",Math.abs(weeks_r)&lt;Math.abs(weeks)?"+":""):$scope.uValueWorded(days,"Day")},$scope.uValueWorded=function(n,str,offset){return offset=offset||"",(0&lt;=n?"In ":"")+Math.abs(n)+offset+" "+str+(1!=Math.abs(n)?"s":"")+(n&lt;0?" Ago":"")},$scope.deadlineLabel=function(){if($scope.selected_item.deadline&amp;&amp;$scope.selected_item.deadline.date){var tomorrow=$scope.getTimezone($scope.selected_item),date=new Date($scope.selected_item.deadline.date+"T00:00:00"+tomorrow),yesterday=new Date;yesterday.setDate(yesterday.getDate()-1);var today=new Date,tomorrow=new Date;return tomorrow.setDate(tomorrow.getDate()+1),date=dateToStr(date),yesterday=dateToStr(yesterday),today=dateToStr(today),tomorrow=dateToStr(tomorrow),date==yesterday?"Yesterday":date==today?"Today":date==tomorrow?"Tomorrow":date}return"Select Deadline"},$scope.initDatePicker=function(){$(".editor .urgency INPUT").datepicker({showAnim:"",dateFormat:"yy-mm-dd",firstDay:1}),$(".editor .urgency INPUT").focus(function(){$(this).blur()})},$scope.getTimezone=function(d){if(d.deadline&amp;&amp;d.deadline.date){d=d.deadline.date.split("-");return getTimezone(d[0],d[1],d[2])}return null},$scope.show_share=!1,$scope.share=function(){location.hash="share-manager",$scope.show_share=!0},$scope.closeShare=function(){$scope.show_share=!1},$scope.show_notes=!1,$scope.edit_notes=!1,$rootScope.list_notes="",$scope.showNotes=function(){location.hash="notes",$scope.show_notes=!0,$scope.edit_notes=!1,$scope.linkifyNotes()},$scope.linkifyNotes=function(){setTimeout(function(){$(".list-notes .textbox P").linkify({target:"_blank"})},10)},$scope.editNotes=function(){$scope.edit_notes=!0,$rootScope.list_notes=clone($rootScope.list.notes),setTimeout(function(){$(".list-notes TEXTAREA").focus(),$(".list-notes TEXTAREA")[0].setSelectionRange(0,0),$(".list-notes .textbox TEXTAREA").scrollTop(0)},10)},$scope.saveNotes=function(){$rootScope.list.notes!=$rootScope.list_notes&amp;&amp;($rootScope.list.notes=$rootScope.list_notes,post_silent("list/notes",{id:$rootScope.list.id,notes:$rootScope.list.notes})),$scope.cancelNotes()},$scope.cancelNotes=function(){$scope.show_notes&amp;&amp;($scope.edit_notes&amp;&amp;$rootScope.list.notes!=$rootScope.list_notes?confirm_popup("Cancel edits? You'll lose any unsaved changes.",function(){$rootScope.list_notes=$rootScope.list.notes,$scope.edit_notes=!1,$scope.applyScope(),$scope.linkifyNotes(),setTimeout(function(){$(".list-notes .textbox P").scrollTop(0)},10)}):($scope.edit_notes=!1,$scope.linkifyNotes(),setTimeout(function(){$(".list-notes .textbox P").scrollTop(0)},10)))},$scope.closeNotes=function(){$scope.show_notes&amp;&amp;($scope.edit_notes&amp;&amp;$rootScope.list.notes!=$rootScope.list_notes?(location.hash="notes",setTimeout(function(){confirm_popup("Close notes? You'll lose any unsaved changes.",function(){$rootScope.list_notes=$rootScope.list.notes,$scope.show_notes=!1,$scope.goBackHash(),$scope.applyScope()})},10)):$scope.show_notes=!1)},$scope.scrollDrag=!1,$scope.captureScrollDrag=function(){var slider,draggers;isDesktop()&amp;&amp;(slider=document.querySelector(".sublists.multi-column"),draggers=document.querySelectorAll(".sublists.multi-column .scroll-dragger"),$scope.slider_is_down=!1,$scope.slider_start_x,$scope.slider_scroll_left,draggers.forEach(function(dragger){dragger.classList.contains("tracking-scroll")||(dragger.classList.add("tracking-scroll"),dragger.addEventListener("mousedown",function(e){$scope.slider_is_down=!0,$scope.slider_start_x=e.pageX-slider.offsetLeft,$scope.slider_scroll_left=slider.scrollLeft}),dragger.addEventListener("mouseleave",function(){}),dragger.addEventListener("mouseup",function(){$scope.slider_is_down=!1,setTimeout(function(){$scope.scrollDrag=!1},10)}),dragger.addEventListener("mousemove",function(walk){$scope.slider_is_down&amp;&amp;(walk.preventDefault(),walk=walk.pageX-slider.offsetLeft-$scope.slider_start_x,slider.scrollLeft=$scope.slider_scroll_left-walk,$scope.scrollDrag=!0)}))}))},$scope.allowObjectDrop=function(sublist_id){$scope.dragged_item?$scope.allowItemDrop(sublist_id):$scope.allowSublistDrop(sublist_id)},$scope.resetObjectDrop=function(){$scope.dragged_item_target=null,$scope.dragged_sublist_target=null,$scope.applyScope()},$scope.endDragObject=function(){$scope.dragged_item=null,$scope.dragged_item_target=null,$scope.dragged_sublist=null,$scope.dragged_sublist_target=null,clearInterval($scope.dragscroller),$("TEXTAREA:focus").blur(),$scope.applyScope()},$scope.dropObject=function(sublist_id){$scope.dragged_item?$scope.dropItem(sublist_id):$scope.dropSublist(sublist_id)},$scope.dragged_sublist=null,$scope.dragged_sublist_target=null,$scope.dragSublist=function(sublist_id){$scope.setAutoScroll(),$scope.dragged_sublist=$scope.getSublist(sublist_id)},$scope.allowSublistDrop=function(sublist_id){$scope.dragged_sublist_target=sublist_id,$scope.applyScope()},$scope.dropSublist=function(target){var sublist=$scope.dragged_sublist,target=$scope.getSublist(target);console.log(sublist),console.log(target),sublist.id!=target.id&amp;&amp;$scope.moveSublist(sublist,target),$scope.endDragObject()},$scope.moveSublist=function(sublist,target){moveItem($rootScope.list.sublists,sublist,target);var ids=[];for(i in $rootScope.list.sublists)ids.push($rootScope.list.sublists[i].id);post_silent("sublist/reorder",{id:$rootScope.list.id,ids:ids.join(",")})},$scope.dragged_item=null,$scope.dragged_item_target=null,$scope.dragItem=function(item_id){$scope.setAutoScroll(),$scope.dragged_item=$scope.getItem(item_id)},$scope.allowItemDrop=function(sublist_id){$scope.dragged_item_target=sublist_id,$scope.applyScope()},$scope.dropItem=function(new_sublist){var item=$scope.dragged_item,old_sublist=$scope.getItemSublist(item.id),new_sublist=$scope.getSublist(new_sublist);if(console.log(old_sublist),console.log(new_sublist),new_sublist.id!=old_sublist.id){var i,items=[item];for(i in items=items.concat($scope.getAllDependents(old_sublist.items,item.id)))removeItem(old_sublist.items,items[i]),old_sublist.total--,2==items[i].state&amp;&amp;old_sublist.ticked--,items[i].score_u&amp;&amp;8&lt;items[i].score_u&amp;&amp;old_sublist.urgent--;new_sublist.updating=!0,$scope.moveItem(item,new_sublist)}$scope.endDragObject()},$scope.setAutoScroll=function(){var slider=document.querySelector(".sublists.multi-column");slider.classList.contains("tracking-drag")||(slider.classList.add("tracking-drag"),slider.addEventListener("drag",function(x){var walk;($scope.dragged_item||$scope.dragged_sublist)&amp;&amp;(x.preventDefault(),walk=0,(x=x.pageX)&lt;120&amp;&amp;(walk=-1),x&gt;$(slider).outerWidth()-120&amp;&amp;(walk=1),x&lt;60&amp;&amp;(walk=-4),x&gt;$(slider).outerWidth()-60&amp;&amp;(walk=4),0==walk&amp;&amp;clearInterval($scope.dragscroller),walk!=$scope.dragscroll_walk&amp;&amp;($scope.dragscroll_walk=walk,clearInterval($scope.dragscroller),$scope.dragscroller=setInterval(function(){$scope.dragscroll()},5)))}))},$scope.dragscroll_walk=0,$scope.dragscroll=function(){var slider=document.querySelector(".sublists.multi-column");slider.scrollLeft=slider.scrollLeft+$scope.dragscroll_walk,console.log("scrolling")},$scope.init()}),app.controller("lists",function($scope,$rootScope,$stateParams){$scope.loaded_data=!1,$scope.applyScope=function(){$rootScope.$$phase||$rootScope.$apply(),$scope.$$phase||$scope.$apply()},$scope.init=function(){consoleLog("lists::init()"),$scope.loadData(),window.onhashchange=function(){"#editor"!=window.location.hash&amp;&amp;$scope.closeList()}},$scope.load_data=[{api:"groups/pull",loaded:!1,v:"groups"},{api:"notifications/count",loaded:!1,v:"notif_counts"}],$scope.loadData=function(){for(var i in $rootScope.groups=null,$rootScope.group=null,$rootScope.lists=null,$scope.load_data)$scope.loadDataPoint(i)},$scope.loadDataPoint=function(i){var post=$scope.load_data[i];post_silent(post.api,{},0,function(data){$rootScope[post.v]=data,$scope.load_data[i].loaded=!0,$scope.completeLoad()})},$scope.completeLoad=function(){for(var i in $scope.load_data)if(!$scope.load_data[i].loaded)return;$scope.parseData(),$scope.loaded_data=!0,$scope.applyScope(),consoleLog("lists-&gt;loaded"),$rootScope.user.level&lt;1&amp;&amp;$rootScope.welcomeMessage()},$scope.parseData=function(){$rootScope.list=null,$rootScope.groups.length&amp;&amp;($rootScope.group=$rootScope.groups[0]),$rootScope.group.lists.length&amp;&amp;($rootScope.lists=$rootScope.group.lists)},$scope.selected_list=null,$scope.addList=function(){$scope.openList({id:0,group_id:$rootScope.group.id,name:""})},$scope.openList=function(list,e){e&amp;&amp;e.stopPropagation(),e&amp;&amp;e.preventDefault(),location.hash="editor",$scope.selected_list=clone(list)},$scope.closeList=function(){$scope.selected_list=null,closePopups()},$scope.saveList=function(){var list=$scope.selected_list;list.id?post("list/update",{id:list.id,name:list.name},function(data){$scope.updateList(list),$scope.goBackHash(),$scope.closeList(),$scope.applyScope()},!1):post("list/add",{group_id:list.group_id,name:list.name},function(data){$rootScope.levelUp(2),$scope.updateGroups(data),$scope.goBackHash(),$scope.closeList(),$scope.applyScope()},!1)},$scope.deleteList=function(list){confirm_popup("You wish to DELETE the '"+list.name+"' priority list?",function(){for(var i in post_silent("list/delete",{id:list.id}),$rootScope.group.lists)$rootScope.group.lists[i].id==list.id&amp;&amp;removeItem($rootScope.group.lists,$rootScope.group.lists[i]);0==$rootScope.group.lists&amp;&amp;($rootScope.group.lists=null),$rootScope.lists=$rootScope.group.lists,$scope.closeList(),$scope.applyScope()})},$scope.removeAccess=function(list,e){e&amp;&amp;e.stopPropagation(),e&amp;&amp;e.preventDefault(),confirm_popup("You wish to remove your access to this priority list?",function(){for(var i in post_silent("access/remove",{id:list.id,user_id:$rootScope.user.id}),$rootScope.group.lists)$rootScope.group.lists[i].id==list.id&amp;&amp;removeItem($rootScope.group.lists,$rootScope.group.lists[i]);0==$rootScope.group.lists&amp;&amp;($rootScope.group.lists=null),$rootScope.lists=$rootScope.group.lists,$scope.closeList(),$scope.applyScope()})},$scope.starList=function(list,e){e&amp;&amp;e.stopPropagation(),e&amp;&amp;e.preventDefault(),list.starred?post_silent("list/unstar",{id:list.id}):post_silent("list/star",{id:list.id}),list.starred=!list.starred},$scope.updateList=function(list){for(var i in $rootScope.lists)$rootScope.lists[i].id==list.id&amp;&amp;($rootScope.lists[i]=list)},$scope.updateGroups=function(groups){if($rootScope.groups=groups,$rootScope.group)for(var i in $rootScope.groups)$rootScope.groups[i].id==$rootScope.group.id&amp;&amp;($rootScope.group=$rootScope.groups[i]);else $rootScope.group=$rootScope.groups[0];$rootScope.group.lists.length&amp;&amp;($rootScope.lists=$rootScope.group.lists)},$scope.init()}),app.controller("login",function($scope,$rootScope,$stateParams){$scope.code="",$scope.applyScope=function(){$rootScope.$$phase||$rootScope.$apply(),$scope.$$phase||$scope.$apply()},$scope.init=function(){consoleLog("login::init()")},$scope.login=function(){$rootScope.email?post("user/login",{email:$rootScope.email},function(data){data&amp;&amp;data.signup?$rootScope.goto("signup"):$rootScope.goto("verify"),$scope.applyScope()},!1):error_popup("Email Required")},$scope.signup=function(){"signup"==$rootScope.page?$rootScope.name.split(" ").length&lt;2?error_popup("Please Enter Your Full Name"):($rootScope.goto("username"),$scope.applyScope()):"username"==$rootScope.page&amp;&amp;post("user/signup",{email:$rootScope.email,name:$rootScope.name,username:$rootScope.username,zone:ZONE},function(data){$rootScope.goto("verify"),$scope.applyScope()},!1)},$scope.focus=function(n){$("INPUT.code").focus(),$scope.code=$scope.code.substr(0,n-1)},$scope.blur=function(){$("INPUT.code").blur()},$scope.setFocus=function(){$scope.in_focus=!0},$scope.setBlur=function(){$scope.in_focus=!1},$scope.class=function(n){return $scope.in_focus&amp;&amp;$scope.code.length+1==n?"selected":$scope.value(n)?"filled":"empty"},$scope.value=function(n){return $scope.code.length&lt;n?"":$scope.code.substr(n-1,1)},$scope.onChange=function(){$scope.format(),$scope.isComplete()&amp;&amp;$scope.execute()},$scope.format=function(){$scope.code=$scope.code.toUpperCase()},$scope.isComplete=function(){return 6==$scope.code.length},$scope.execute=function(){$scope.blur(),$scope.search()},$scope.search=function(){setTimeout(function(){var code=$scope.code;$scope.reset(),post("user/verify",{email:$rootScope.email,code:code},function(user){user.rkey&amp;&amp;postReactNativeMessage("rkey",user.rkey);user=user.user;consoleLog(user),$rootScope.logged_in=!0,$rootScope.user=user,$rootScope.loadSettings(),$rootScope.setGTagUserID(),$rootScope.goto("lists"),$scope.applyScope(),closePopups()})},300)},$scope.reset=function(){$scope.code="",$scope.applyScope()}}),app.controller("logout",function($scope,$rootScope,$stateParams){$scope.applyScope=function(){$rootScope.$$phase||$rootScope.$apply(),$scope.$$phase||$scope.$apply()},$scope.init=function(){consoleLog("logout::init()"),$scope.logout()},$scope.logout=function(){post("user/logout",{},function(){$rootScope.user=null,$rootScope.goto("login"),$scope.applyScope()},!1)},$scope.init()}),app.controller("menu",function($scope,$rootScope,$stateParams){$scope.applyScope=function(){$rootScope.$$phase||$rootScope.$apply(),$scope.$$phase||$scope.$apply()},$scope.logout=function(){confirm_popup("Are you sure you want to logout?",function(){$rootScope.goto("logout"),$rootScope.applyScope()})}}),app.controller("notifications",function($scope,$rootScope,$stateParams){$scope.loaded_data=!1,$scope.applyScope=function(){$rootScope.$$phase||$rootScope.$apply(),$scope.$$phase||$scope.$apply()},$scope.load=function(){post_silent("notifications/all",{},0,function(data){$rootScope.notifications=data.all,$rootScope.deadlines=data.deadlines,$scope.completeLoad()},!0)},$scope.completeLoad=function(){$scope.loaded_data=!0,$scope.applyScope(),consoleLog("notifications-&gt;loaded")},$scope.open=function(notif,e){post_silent("notifications/open",{id:notif.id})},$scope.clear=function(notif,e){e&amp;&amp;e.stopPropagation(),e&amp;&amp;e.preventDefault(),post_silent("notifications/clear",{id:notif.id}),removeItem($rootScope.notifications,notif)},$scope.clearAll=function(){confirm_popup("Are you sure you want to clear all notifications?",function(){post_silent("notifications/clear-all"),$rootScope.notifications=[],$rootScope.applyScope()})},$scope.load()}),app.controller("reel",function($scope,$rootScope,$stateParams){$scope.guide,$scope.max,$scope.time,$scope.times,$scope.n=1,$scope.guides={intro:{max:17,time:7,times:{3:2}},controls:{max:11,time:7,times:{3:10,8:10,9:10,10:10}},uses:{max:7,time:45,times:{1:10,6:15}}},$scope.applyScope=function(){$rootScope.$$phase||$rootScope.$apply(),$scope.$$phase||$scope.$apply()},$scope.init=function(){consoleLog("reel::init()"),$scope.guide=$rootScope.page_id,$scope.max=$scope.guides[$scope.guide].max,$scope.time=$scope.guides[$scope.guide].time,$scope.times=$scope.guides[$scope.guide].times,"intro"==$scope.guide&amp;&amp;localData("viewed-intro",!0),$scope.play()},$rootScope.reel_player,$scope.play=function(){$scope.setTime(),clearTimeout($rootScope.reel_player),$scope.n&lt;=$scope.max&amp;&amp;($rootScope.reel_player=setTimeout(function(){$(".view.reel").length&amp;&amp;$scope.n&lt;=$scope.max&amp;&amp;($scope.right(),$scope.applyScope())},1e3*$scope.time))},$scope.setTime=function(){$scope.n==$scope.max?$scope.time=3:$scope.times[$scope.n]?$scope.time=$scope.times[$scope.n]:$scope.time=$scope.guides[$scope.guide].time},$scope.left=function(){1&lt;$scope.n&amp;&amp;$scope.n--,$scope.play()},$scope.right=function(){$scope.n&lt;$scope.max?($scope.n++,$scope.play()):$scope.n==$scope.max&amp;&amp;(clearTimeout($rootScope.reel_player),$scope.goBack())}}),app.controller("select-option",function($scope,$rootScope){$scope.show_options=!1,$scope.show=function(){$scope.show_options=!0},$scope.hide=function(){$scope.show_options=!1},$scope.toggle=function(){$scope.show_options=!$scope.show_options,setTimeout(function(){$(".time .options")&amp;&amp;$(".time .options").scrollTop(900)},10)}}),app.controller("settings",function($scope,$rootScope,$stateParams){$scope.applyScope=function(){$rootScope.$$phase||$rootScope.$apply(),$scope.$$phase||$scope.$apply()},$scope.toggleNotification=function(str){var v="notif_"+str;$rootScope.settings[v]=!$rootScope.settings[v],post_silent("settings/notif",{notif:str,value:$rootScope.settings[v]?"1":"0"})}}),app.controller("share-manager",function($scope,$rootScope,$stateParams){$scope.loaded_data=!1,$scope.access={},$scope.applyScope=function(){$rootScope.$$phase||$rootScope.$apply(),$scope.$$phase||$scope.$apply()},$scope.init=function(){consoleLog("share::init()"),$scope.load()},$scope.load=function(){consoleLog("share::load()"),$rootScope.access=null,post_silent("access/pull",{id:$rootScope.list.id},0,function(data){$scope.access=data,$scope.loaded_data=!0,$scope.applyScope(),consoleLog("share-&gt;loaded")})},$scope.accessLabel=function(user){switch(user.access){case 1:return"Editor";case 2:return"Viewer"}},$scope.updateAccess=function(user,access){user.access!=access&amp;&amp;(user.access=access,post_silent("access/update",{id:$rootScope.list.id,user_id:user.id,access:access}))},$scope.removeAccess=function(user){$rootScope.user.id!=user.id?confirm_popup("You wish to REMOVE this user's access to this priority list?",function(){removeItem($scope.access.users,user),post_silent("access/remove",{id:$rootScope.list.id,user_id:user.id}),$scope.applyScope()}):confirm_popup("You wish to remove YOUR access to this priority list?",function(){post("access/remove",{id:$rootScope.list.id,user_id:user.id},function(data){loading_popup(),window.location.href="/"},!1)})},$rootScope.access_email="",$scope.addUser=function(){$rootScope.access_email?post("access/add",{id:$rootScope.list.id,email:$rootScope.access_email},function(data){$rootScope.access_email="",$scope.access=data,$scope.applyScope()},!1):error_popup("Email Required")},$scope.toggleShare=function(){$scope.access.public=!$scope.access.public,$scope.access.public?post_silent("access/public",{id:$rootScope.list.id}):post_silent("access/private",{id:$rootScope.list.id})},$scope.copy=function(copyText){copyText=document.getElementById(copyText);copyText.select(),copyText.setSelectionRange(0,99999),navigator.clipboard.writeText(copyText.value),alert_popup("Copied","Link Copied To Clipboard")},$scope.init()}),app.controller("subitems",function($scope,$rootScope,$stateParams){$scope.loaded_data=!1,$scope.sublist={},$scope.applyScope=function(){$rootScope.$$phase||$rootScope.$apply(),$scope.$$phase||$scope.$apply()},$scope.init=function(){consoleLog("subitems::init()"),$scope.load()},$scope.load=function(){consoleLog("subitems::load()"),$rootScope.selected_subitems.total||($rootScope.selected_subitems.total=0,$rootScope.selected_subitems.ticked=0),post_silent("subitems/pull",{id:$rootScope.selected_subitems.id,key:$rootScope.page_key},0,function(data){$scope.sublist=data,$scope.loaded_data=!0,$scope.applyScope(),consoleLog("subitems-&gt;loaded")})},$scope.updateSublist=function(sublist){$scope.sublist=sublist},$scope.init()}),app.config(function($stateProvider,$urlRouterProvider,$locationProvider){$locationProvider.html5Mode(!0),$urlRouterProvider.otherwise(""),$stateProvider.state("app",{url:"",template:"&lt;div ui-view&gt;&lt;/div&gt;"}).state("app.page",{url:"/:page",template:"",controller:function($rootScope,$stateParams){$rootScope.setState($stateParams.page,null)}}).state("app.pageid",{url:"/:page/:id",template:"",controller:function($rootScope,$stateParams){$rootScope.setState($stateParams.page,$stateParams.id)}}).state("app.guest",{url:"/:page/:id/:key",template:"",controller:function($rootScope,$stateParams){$rootScope.setState($stateParams.page,$stateParams.id,$stateParams.key)}})}),$(function(){setPage()}),window.onresize=function(){pullScope("#App").applyScope()},function(){"use strict";var _typeof="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&amp;&amp;"function"==typeof Symbol&amp;&amp;obj.constructor===Symbol&amp;&amp;obj!==Symbol.prototype?"symbol":typeof obj};!function(exports){function inherits(parent,child){var p,props=2&lt;arguments.length&amp;&amp;void 0!==arguments[2]?arguments[2]:{},extended=Object.create(parent.prototype);for(p in props)extended[p]=props[p];return(extended.constructor=child).prototype=extended,child}var defaults={defaultProtocol:"http",events:null,format:noop,formatHref:noop,nl2br:!1,tagName:"a",target:function(href,type){return"url"===type?"_blank":null},validate:!0,ignoreTags:[],attributes:null,className:"linkified"};function Options(opts){opts=opts||{},this.defaultProtocol=(opts.hasOwnProperty("defaultProtocol")?opts:defaults).defaultProtocol,this.events=(opts.hasOwnProperty("events")?opts:defaults).events,this.format=(opts.hasOwnProperty("format")?opts:defaults).format,this.formatHref=(opts.hasOwnProperty("formatHref")?opts:defaults).formatHref,this.nl2br=(opts.hasOwnProperty("nl2br")?opts:defaults).nl2br,this.tagName=(opts.hasOwnProperty("tagName")?opts:defaults).tagName,this.target=(opts.hasOwnProperty("target")?opts:defaults).target,this.validate=(opts.hasOwnProperty("validate")?opts:defaults).validate,this.ignoreTags=[],this.attributes=opts.attributes||opts.linkAttributes||defaults.attributes,this.className=opts.hasOwnProperty("className")?opts.className:opts.linkClass||defaults.className;for(var ignoredTags=(opts.hasOwnProperty("ignoreTags")?opts:defaults).ignoreTags,i=0;i&lt;ignoredTags.length;i++)this.ignoreTags.push(ignoredTags[i].toUpperCase())}function noop(val){return val}Options.prototype={resolve:function(token){var href=token.toHref(this.defaultProtocol);return{formatted:this.get("format",token.toString(),token),formattedHref:this.get("formatHref",href,token),tagName:this.get("tagName",href,token),className:this.get("className",href,token),target:this.get("target",href,token),events:this.getObject("events",href,token),attributes:this.getObject("attributes",href,token)}},check:function(token){return this.get("validate",token.toString(),token)},get:function(key,operator,token){var optionValue=void 0,option=this[key];if(!option)return option;switch(void 0===option?"undefined":_typeof(option)){case"function":return option(operator,token.type);case"object":return"function"==typeof(optionValue=option.hasOwnProperty(token.type)?option[token.type]:defaults[key])?optionValue(operator,token.type):optionValue}return option},getObject:function(option,operator,token){option=this[option];return"function"==typeof option?option(operator,token.type):option}};var options=Object.freeze({defaults:defaults,Options:Options,contains:function(arr,value){for(var i=0;i&lt;arr.length;i++)if(arr[i]===value)return!0;return!1}});function createStateClass(){return function(tClass){this.j=[],this.T=tClass||null}}(S_URL=createStateClass()).prototype={defaultTransition:!1,on:function(symbol,state){if(symbol instanceof Array){for(var i=0;i&lt;symbol.length;i++)this.j.push([symbol[i],state]);return this}return this.j.push([symbol,state]),this},next:function(item){for(var i=0;i&lt;this.j.length;i++){var state=this.j[i],symbol=state[0],state=state[1];if(this.test(item,symbol))return state}return this.defaultTransition},accepts:function(){return!!this.T},test:function(item,symbol){return item===symbol},emit:function(){return this.T}};var CharacterState=inherits(S_URL,createStateClass(),{test:function(character,charOrRegExp){return character===charOrRegExp||charOrRegExp instanceof RegExp&amp;&amp;charOrRegExp.test(character)}}),TokenState=inherits(S_URL,createStateClass(),{jump:function(token,state){var tClass=1&lt;arguments.length&amp;&amp;void 0!==state?state:null,state=this.next(new token(""));return state===this.defaultTransition?(state=new this.constructor(tClass),this.on(token,state)):tClass&amp;&amp;(state.T=tClass),state},test:function(token,tokenClass){return token instanceof tokenClass}});function stateify(str,start,endToken,defaultToken){for(var i=0,len=str.length,state=start,newStates=[],nextState=void 0;i&lt;len&amp;&amp;(nextState=state.next(str[i]));)state=nextState,i++;if(len&lt;=i)return[];for(;i&lt;len-1;)nextState=new CharacterState(defaultToken),newStates.push(nextState),state.on(str[i],nextState),state=nextState,i++;return nextState=new CharacterState(endToken),newStates.push(nextState),state.on(str[len-1],nextState),newStates}function createTokenClass(){return function(value){value&amp;&amp;(this.v=value)}}var TextToken=createTokenClass();function inheritsToken(value){return inherits(TextToken,createTokenClass(),value?{v:value}:{})}TextToken.prototype={toString:function(){return this.v+""}};var DOMAIN=inheritsToken(),AT=inheritsToken("@"),COLON=inheritsToken(":"),DOT=inheritsToken("."),qsNonAccepting=inheritsToken(),LOCALHOST=inheritsToken(),NL=inheritsToken("\n"),NUM=inheritsToken(),PLUS=inheritsToken("+"),POUND=inheritsToken("#"),PROTOCOL=inheritsToken(),MAILTO=inheritsToken("mailto:"),QUERY=inheritsToken("?"),SLASH=inheritsToken("/"),UNDERSCORE=inheritsToken("_"),SYM=inheritsToken(),TLD=inheritsToken(),S_URL_NON_ACCEPTING=inheritsToken(),OPENBRACE=inheritsToken("{"),OPENBRACKET=inheritsToken("["),OPENANGLEBRACKET=inheritsToken("&lt;"),OPENPAREN=inheritsToken("("),CLOSEBRACE=inheritsToken("}"),CLOSEBRACKET=inheritsToken("]"),CLOSEANGLEBRACKET=inheritsToken("&gt;"),CLOSEPAREN=inheritsToken(")"),localpartAccepting=inheritsToken("&amp;"),S_MAILTO_EMAIL=Object.freeze({Base:TextToken,DOMAIN:DOMAIN,AT:AT,COLON:COLON,DOT:DOT,PUNCTUATION:qsNonAccepting,LOCALHOST:LOCALHOST,NL:NL,NUM:NUM,PLUS:PLUS,POUND:POUND,QUERY:QUERY,PROTOCOL:PROTOCOL,MAILTO:MAILTO,SLASH:SLASH,UNDERSCORE:UNDERSCORE,SYM:SYM,TLD:TLD,WS:S_URL_NON_ACCEPTING,OPENBRACE:OPENBRACE,OPENBRACKET:OPENBRACKET,OPENANGLEBRACKET:OPENANGLEBRACKET,OPENPAREN:OPENPAREN,CLOSEBRACE:CLOSEBRACE,CLOSEBRACKET:CLOSEBRACKET,CLOSEANGLEBRACKET:CLOSEANGLEBRACKET,CLOSEPAREN:CLOSEPAREN,AMPERSAND:localpartAccepting}),tlds="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),S_EMAIL_COLON="0123456789".split(""),ALPHANUM="0123456789abcdefghijklmnopqrstuvwxyz".split(""),S_URL_OPENBRACE=[" ","\f","\r","\t","\v"," "," ","᠎"],domainStates=[],S_START=(qsAccepting=function(tokenClass){return new CharacterState(tokenClass)})(),S_EMAIL=qsAccepting(NUM),S_DOMAIN=qsAccepting(DOMAIN),S_DOMAIN_HYPHEN=qsAccepting(),S_URL_OPENBRACKET=qsAccepting(S_URL_NON_ACCEPTING);S_START.on("@",qsAccepting(AT)).on(".",qsAccepting(DOT)).on("+",qsAccepting(PLUS)).on("#",qsAccepting(POUND)).on("?",qsAccepting(QUERY)).on("/",qsAccepting(SLASH)).on("_",qsAccepting(UNDERSCORE)).on(":",qsAccepting(COLON)).on("{",qsAccepting(OPENBRACE)).on("[",qsAccepting(OPENBRACKET)).on("&lt;",qsAccepting(OPENANGLEBRACKET)).on("(",qsAccepting(OPENPAREN)).on("}",qsAccepting(CLOSEBRACE)).on("]",qsAccepting(CLOSEBRACKET)).on("&gt;",qsAccepting(CLOSEANGLEBRACKET)).on(")",qsAccepting(CLOSEPAREN)).on("&amp;",qsAccepting(localpartAccepting)).on([",",";","!",'"',"'"],qsAccepting(qsNonAccepting)),S_START.on("\n",qsAccepting(NL)).on(S_URL_OPENBRACE,S_URL_OPENBRACKET),S_URL_OPENBRACKET.on(S_URL_OPENBRACE,S_URL_OPENBRACKET);for(var i=0;i&lt;tlds.length;i++){var newStates=stateify(tlds[i],S_START,TLD,DOMAIN);domainStates.push.apply(domainStates,newStates)}var S_URL_OPENANGLEBRACKET=stateify("file",S_START,DOMAIN,DOMAIN),S_URL_OPENPAREN=stateify("ftp",S_START,DOMAIN,DOMAIN),S_URL_OPENBRACE_Q=stateify("http",S_START,DOMAIN,DOMAIN),S_URL_OPENBRACKET_Q=stateify("mailto",S_START,DOMAIN,DOMAIN);domainStates.push.apply(domainStates,S_URL_OPENANGLEBRACKET),domainStates.push.apply(domainStates,S_URL_OPENPAREN),domainStates.push.apply(domainStates,S_URL_OPENBRACE_Q),domainStates.push.apply(domainStates,S_URL_OPENBRACKET_Q);var S_URL_OPENBRACE_SYMS=S_URL_OPENANGLEBRACKET.pop(),S_URL_OPENANGLEBRACKET_Q=S_URL_OPENPAREN.pop(),S_URL_OPENPAREN_Q=S_URL_OPENBRACE_Q.pop(),S_URL_OPENPAREN_SYMS=S_URL_OPENBRACKET_Q.pop(),S_URL_OPENBRACKET_SYMS=qsAccepting(DOMAIN),S_URL_OPENANGLEBRACKET_SYMS=qsAccepting(PROTOCOL),S_EMAIL_DOMAIN=qsAccepting(MAILTO);S_URL_OPENANGLEBRACKET_Q.on("s",S_URL_OPENBRACKET_SYMS).on(":",S_URL_OPENANGLEBRACKET_SYMS),S_URL_OPENPAREN_Q.on("s",S_URL_OPENBRACKET_SYMS).on(":",S_URL_OPENANGLEBRACKET_SYMS),domainStates.push(S_URL_OPENBRACKET_SYMS),S_URL_OPENBRACE_SYMS.on(":",S_URL_OPENANGLEBRACKET_SYMS),S_URL_OPENBRACKET_SYMS.on(":",S_URL_OPENANGLEBRACKET_SYMS),S_URL_OPENPAREN_SYMS.on(":",S_EMAIL_DOMAIN);var S_EMAIL_DOMAIN_DOT=stateify("localhost",S_START,LOCALHOST,DOMAIN);domainStates.push.apply(domainStates,S_EMAIL_DOMAIN_DOT),S_START.on(S_EMAIL_COLON,S_EMAIL),S_EMAIL.on("-",S_DOMAIN_HYPHEN).on(S_EMAIL_COLON,S_EMAIL).on(ALPHANUM,S_DOMAIN),S_DOMAIN.on("-",S_DOMAIN_HYPHEN).on(ALPHANUM,S_DOMAIN);for(var _i=0;_i&lt;domainStates.length;_i++)domainStates[_i].on("-",S_DOMAIN_HYPHEN).on(ALPHANUM,S_DOMAIN);S_DOMAIN_HYPHEN.on("-",S_DOMAIN_HYPHEN).on(S_EMAIL_COLON,S_DOMAIN).on(ALPHANUM,S_DOMAIN),S_START.defaultTransition=qsAccepting(SYM);var run=function(str){for(var lowerStr=str.replace(/[A-Z]/g,function(c){return c.toLowerCase()}),len=str.length,tokens=[],cursor=0;cursor&lt;len;){for(var TOKEN,state=S_START,nextState=null,tokenLength=0,latestAccepting=null,sinceAccepts=-1;cursor&lt;len&amp;&amp;(nextState=state.next(lowerStr[cursor]));)(state=nextState).accepts()?(sinceAccepts=0,latestAccepting=state):0&lt;=sinceAccepts&amp;&amp;sinceAccepts++,tokenLength++,cursor++;sinceAccepts&lt;0||(cursor-=sinceAccepts,tokenLength-=sinceAccepts,TOKEN=latestAccepting.emit(),tokens.push(new TOKEN(str.substr(cursor-tokenLength,tokenLength))))}return tokens},scanner=Object.freeze({State:CharacterState,TOKENS:S_MAILTO_EMAIL,run:run,start:S_START});(S_MAILTO_EMAIL_NON_ACCEPTING=createTokenClass()).prototype={type:"token",isLink:!1,toString:function(){for(var result=[],_i2=0;_i2&lt;this.v.length;_i2++)result.push(this.v[_i2].toString());return result.join("")},toHref:function(){return this.toString()},toObject:function(protocol){protocol=0&lt;arguments.length&amp;&amp;void 0!==protocol?protocol:"http";return{type:this.type,value:this.toString(),href:this.toHref(protocol)}}};var S_LOCALPART_DOT=inherits(S_MAILTO_EMAIL_NON_ACCEPTING,createTokenClass(),{type:"email",isLink:!0}),S_LOCALPART_AT=inherits(S_MAILTO_EMAIL_NON_ACCEPTING,createTokenClass(),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),TEXT=inherits(S_MAILTO_EMAIL_NON_ACCEPTING,createTokenClass(),{type:"text"}),S_NL=inherits(S_MAILTO_EMAIL_NON_ACCEPTING,createTokenClass(),{type:"nl"}),S_LOCALPART=inherits(S_MAILTO_EMAIL_NON_ACCEPTING,createTokenClass(),{type:"url",isLink:!0,toHref:function(protocol){for(var token,protocol=0&lt;arguments.length&amp;&amp;void 0!==protocol?protocol:"http",hasProtocol=!1,hasSlashSlash=!1,tokens=this.v,result=[],i=0;tokens[i]instanceof PROTOCOL;)hasProtocol=!0,result.push(tokens[i].toString().toLowerCase()),i++;for(;tokens[i]instanceof SLASH;)hasSlashSlash=!0,result.push(tokens[i].toString()),i++;for(;(token=tokens[i])instanceof DOMAIN||token instanceof TLD;)result.push(tokens[i].toString().toLowerCase()),i++;for(;i&lt;tokens.length;i++)result.push(tokens[i].toString());return result=result.join(""),hasProtocol||hasSlashSlash||(result=protocol+"://"+result),result},hasProtocol:function(){return this.v[0]instanceof PROTOCOL}}),parser=Object.freeze({Base:S_MAILTO_EMAIL_NON_ACCEPTING,MAILTOEMAIL:S_LOCALPART_DOT,EMAIL:S_LOCALPART_AT,NL:S_NL,TEXT:TEXT,URL:S_LOCALPART}),makeState$1=function(tokenClass){return new TokenState(tokenClass)},S_START$1=makeState$1(),S_PROTOCOL=makeState$1(),S_MAILTO$1=makeState$1(),S_PROTOCOL_SLASH=makeState$1(),S_PROTOCOL_SLASH_SLASH=makeState$1(),S_DOMAIN$1=makeState$1(),S_DOMAIN_DOT=makeState$1(),S_TLD=makeState$1(S_LOCALPART),S_TLD_COLON=makeState$1(),S_TLD_PORT=makeState$1(S_LOCALPART),S_URL=makeState$1(S_LOCALPART),S_URL_NON_ACCEPTING=makeState$1(),S_URL_OPENBRACE=makeState$1(),S_URL_OPENBRACKET=makeState$1(),S_URL_OPENANGLEBRACKET=makeState$1(),S_URL_OPENPAREN=makeState$1(),S_URL_OPENBRACE_Q=makeState$1(S_LOCALPART),S_URL_OPENBRACKET_Q=makeState$1(S_LOCALPART),S_URL_OPENANGLEBRACKET_Q=makeState$1(S_LOCALPART),S_URL_OPENPAREN_Q=makeState$1(S_LOCALPART),S_URL_OPENBRACE_SYMS=makeState$1(),S_URL_OPENBRACKET_SYMS=makeState$1(),S_URL_OPENANGLEBRACKET_SYMS=makeState$1(),S_URL_OPENPAREN_SYMS=makeState$1(),S_EMAIL_DOMAIN=makeState$1(),S_EMAIL_DOMAIN_DOT=makeState$1(),S_EMAIL=makeState$1(S_LOCALPART_AT),S_EMAIL_COLON=makeState$1(),qsAccepting=makeState$1(S_LOCALPART_AT),S_MAILTO_EMAIL=makeState$1(S_LOCALPART_DOT),S_MAILTO_EMAIL_NON_ACCEPTING=makeState$1(),S_LOCALPART=makeState$1(),S_LOCALPART_AT=makeState$1(),S_LOCALPART_DOT=makeState$1(),S_NL=makeState$1(S_NL);S_START$1.on(NL,S_NL).on(PROTOCOL,S_PROTOCOL).on(MAILTO,S_MAILTO$1).on(SLASH,S_PROTOCOL_SLASH),S_PROTOCOL.on(SLASH,S_PROTOCOL_SLASH),S_PROTOCOL_SLASH.on(SLASH,S_PROTOCOL_SLASH_SLASH),S_START$1.on(TLD,S_DOMAIN$1).on(DOMAIN,S_DOMAIN$1).on(LOCALHOST,S_TLD).on(NUM,S_DOMAIN$1),S_PROTOCOL_SLASH_SLASH.on(TLD,S_URL).on(DOMAIN,S_URL).on(NUM,S_URL).on(LOCALHOST,S_URL),S_DOMAIN$1.on(DOT,S_DOMAIN_DOT),S_EMAIL_DOMAIN.on(DOT,S_EMAIL_DOMAIN_DOT),S_DOMAIN_DOT.on(TLD,S_TLD).on(DOMAIN,S_DOMAIN$1).on(NUM,S_DOMAIN$1).on(LOCALHOST,S_DOMAIN$1),S_EMAIL_DOMAIN_DOT.on(TLD,S_EMAIL).on(DOMAIN,S_EMAIL_DOMAIN).on(NUM,S_EMAIL_DOMAIN).on(LOCALHOST,S_EMAIL_DOMAIN),S_TLD.on(DOT,S_DOMAIN_DOT),S_EMAIL.on(DOT,S_EMAIL_DOMAIN_DOT),S_TLD.on(COLON,S_TLD_COLON).on(SLASH,S_URL),S_TLD_COLON.on(NUM,S_TLD_PORT),S_TLD_PORT.on(SLASH,S_URL),S_EMAIL.on(COLON,S_EMAIL_COLON),S_EMAIL_COLON.on(NUM,qsAccepting),qsAccepting=[DOMAIN,AT,LOCALHOST,NUM,PLUS,POUND,PROTOCOL,SLASH,TLD,UNDERSCORE,SYM,localpartAccepting],qsNonAccepting=[COLON,DOT,QUERY,qsNonAccepting,CLOSEBRACE,CLOSEBRACKET,CLOSEANGLEBRACKET,CLOSEPAREN,OPENBRACE,OPENBRACKET,OPENANGLEBRACKET,OPENPAREN],S_URL.on(OPENBRACE,S_URL_OPENBRACE).on(OPENBRACKET,S_URL_OPENBRACKET).on(OPENANGLEBRACKET,S_URL_OPENANGLEBRACKET).on(OPENPAREN,S_URL_OPENPAREN),S_URL_NON_ACCEPTING.on(OPENBRACE,S_URL_OPENBRACE).on(OPENBRACKET,S_URL_OPENBRACKET).on(OPENANGLEBRACKET,S_URL_OPENANGLEBRACKET).on(OPENPAREN,S_URL_OPENPAREN),S_URL_OPENBRACE.on(CLOSEBRACE,S_URL),S_URL_OPENBRACKET.on(CLOSEBRACKET,S_URL),S_URL_OPENANGLEBRACKET.on(CLOSEANGLEBRACKET,S_URL),S_URL_OPENPAREN.on(CLOSEPAREN,S_URL),S_URL_OPENBRACE_Q.on(CLOSEBRACE,S_URL),S_URL_OPENBRACKET_Q.on(CLOSEBRACKET,S_URL),S_URL_OPENANGLEBRACKET_Q.on(CLOSEANGLEBRACKET,S_URL),S_URL_OPENPAREN_Q.on(CLOSEPAREN,S_URL),S_URL_OPENBRACE_SYMS.on(CLOSEBRACE,S_URL),S_URL_OPENBRACKET_SYMS.on(CLOSEBRACKET,S_URL),S_URL_OPENANGLEBRACKET_SYMS.on(CLOSEANGLEBRACKET,S_URL),S_URL_OPENPAREN_SYMS.on(CLOSEPAREN,S_URL),S_URL_OPENBRACE.on(qsAccepting,S_URL_OPENBRACE_Q),S_URL_OPENBRACKET.on(qsAccepting,S_URL_OPENBRACKET_Q),S_URL_OPENANGLEBRACKET.on(qsAccepting,S_URL_OPENANGLEBRACKET_Q),S_URL_OPENPAREN.on(qsAccepting,S_URL_OPENPAREN_Q),S_URL_OPENBRACE.on(qsNonAccepting,S_URL_OPENBRACE_SYMS),S_URL_OPENBRACKET.on(qsNonAccepting,S_URL_OPENBRACKET_SYMS),S_URL_OPENANGLEBRACKET.on(qsNonAccepting,S_URL_OPENANGLEBRACKET_SYMS),S_URL_OPENPAREN.on(qsNonAccepting,S_URL_OPENPAREN_SYMS),S_URL_OPENBRACE_Q.on(qsAccepting,S_URL_OPENBRACE_Q),S_URL_OPENBRACKET_Q.on(qsAccepting,S_URL_OPENBRACKET_Q),S_URL_OPENANGLEBRACKET_Q.on(qsAccepting,S_URL_OPENANGLEBRACKET_Q),S_URL_OPENPAREN_Q.on(qsAccepting,S_URL_OPENPAREN_Q),S_URL_OPENBRACE_Q.on(qsNonAccepting,S_URL_OPENBRACE_Q),S_URL_OPENBRACKET_Q.on(qsNonAccepting,S_URL_OPENBRACKET_Q),S_URL_OPENANGLEBRACKET_Q.on(qsNonAccepting,S_URL_OPENANGLEBRACKET_Q),S_URL_OPENPAREN_Q.on(qsNonAccepting,S_URL_OPENPAREN_Q),S_URL_OPENBRACE_SYMS.on(qsAccepting,S_URL_OPENBRACE_Q),S_URL_OPENBRACKET_SYMS.on(qsAccepting,S_URL_OPENBRACKET_Q),S_URL_OPENANGLEBRACKET_SYMS.on(qsAccepting,S_URL_OPENANGLEBRACKET_Q),S_URL_OPENPAREN_SYMS.on(qsAccepting,S_URL_OPENPAREN_Q),S_URL_OPENBRACE_SYMS.on(qsNonAccepting,S_URL_OPENBRACE_SYMS),S_URL_OPENBRACKET_SYMS.on(qsNonAccepting,S_URL_OPENBRACKET_SYMS),S_URL_OPENANGLEBRACKET_SYMS.on(qsNonAccepting,S_URL_OPENANGLEBRACKET_SYMS),S_URL_OPENPAREN_SYMS.on(qsNonAccepting,S_URL_OPENPAREN_SYMS),S_URL.on(qsAccepting,S_URL),S_URL_NON_ACCEPTING.on(qsAccepting,S_URL),S_URL.on(qsNonAccepting,S_URL_NON_ACCEPTING),S_URL_NON_ACCEPTING.on(qsNonAccepting,S_URL_NON_ACCEPTING),S_MAILTO$1.on(TLD,S_MAILTO_EMAIL).on(DOMAIN,S_MAILTO_EMAIL).on(NUM,S_MAILTO_EMAIL).on(LOCALHOST,S_MAILTO_EMAIL),S_MAILTO_EMAIL.on(qsAccepting,S_MAILTO_EMAIL).on(qsNonAccepting,S_MAILTO_EMAIL_NON_ACCEPTING),S_MAILTO_EMAIL_NON_ACCEPTING.on(qsAccepting,S_MAILTO_EMAIL).on(qsNonAccepting,S_MAILTO_EMAIL_NON_ACCEPTING),localpartAccepting=[DOMAIN,NUM,PLUS,POUND,QUERY,UNDERSCORE,SYM,localpartAccepting,TLD],S_DOMAIN$1.on(localpartAccepting,S_LOCALPART).on(AT,S_LOCALPART_AT),S_TLD.on(localpartAccepting,S_LOCALPART).on(AT,S_LOCALPART_AT),S_DOMAIN_DOT.on(localpartAccepting,S_LOCALPART),S_LOCALPART.on(localpartAccepting,S_LOCALPART).on(AT,S_LOCALPART_AT).on(DOT,S_LOCALPART_DOT),S_LOCALPART_DOT.on(localpartAccepting,S_LOCALPART),S_LOCALPART_AT.on(TLD,S_EMAIL_DOMAIN).on(DOMAIN,S_EMAIL_DOMAIN).on(LOCALHOST,S_EMAIL);var run$1=function(tokens){for(var len=tokens.length,cursor=0,multis=[],textTokens=[];cursor&lt;len;){for(var state=S_START$1,secondState=null,nextState=null,multiLength=0,latestAccepting=null,sinceAccepts=-1;cursor&lt;len&amp;&amp;!(secondState=state.next(tokens[cursor]));)textTokens.push(tokens[cursor++]);for(;cursor&lt;len&amp;&amp;(nextState=secondState||state.next(tokens[cursor]));)secondState=null,(state=nextState).accepts()?(sinceAccepts=0,latestAccepting=state):0&lt;=sinceAccepts&amp;&amp;sinceAccepts++,cursor++,multiLength++;if(sinceAccepts&lt;0)for(var _i3=cursor-multiLength;_i3&lt;cursor;_i3++)textTokens.push(tokens[_i3]);else{0&lt;textTokens.length&amp;&amp;(multis.push(new TEXT(textTokens)),textTokens=[]),cursor-=sinceAccepts,multiLength-=sinceAccepts;var MULTI=latestAccepting.emit();multis.push(new MULTI(tokens.slice(cursor-multiLength,cursor)))}}return 0&lt;textTokens.length&amp;&amp;multis.push(new TEXT(textTokens)),multis},parser=Object.freeze({State:TokenState,TOKENS:parser,run:run$1,start:S_START$1});Array.isArray||(Array.isArray=function(arg){return"[object Array]"===Object.prototype.toString.call(arg)});var tokenize=function(str){return run$1(run(str))};exports.find=function(str,argument_1){for(var type=1&lt;arguments.length&amp;&amp;void 0!==argument_1?argument_1:null,tokens=tokenize(str),filtered=[],i=0;i&lt;tokens.length;i++){var token=tokens[i];!token.isLink||type&amp;&amp;token.type!==type||filtered.push(token.toObject())}return filtered},exports.inherits=inherits,exports.options=options,exports.parser=parser,exports.scanner=scanner,exports.test=function(tokens,type){type=1&lt;arguments.length&amp;&amp;void 0!==type?type:null,tokens=tokenize(tokens);return 1===tokens.length&amp;&amp;tokens[0].isLink&amp;&amp;(!type||tokens[0].type===type)},exports.tokenize=tokenize}(self.linkify=self.linkify||{})}(),function(window,linkifyJquery,$){linkifyJquery=function(linkify){"use strict";var tokenize=linkify.tokenize,options=linkify.options,Options=options.Options,TEXT_TOKEN=linkify.parser.TOKENS.TEXT,HTML_NODE=1,TXT_NODE=3;function linkifyElementHelper(element,opts,doc){if(!element||element.nodeType!==HTML_NODE)throw new Error("Cannot linkify "+element+" - Invalid DOM Node type");var ignoreTags=opts.ignoreTags;if("A"===element.tagName||options.contains(ignoreTags,element.tagName))return element;for(var childElement=element.firstChild;childElement;){var str,tokens,nodes;switch(childElement.nodeType){case HTML_NODE:linkifyElementHelper(childElement,opts,doc);break;case TXT_NODE:if(str=childElement.nodeValue,0===(tokens=tokenize(str)).length||1===tokens.length&amp;&amp;tokens[0]instanceof TEXT_TOKEN)break;(function(parent,newChildren){var lastNewChild=newChildren[newChildren.length-1];parent.replaceChild(lastNewChild,childElement);for(var i=newChildren.length-2;0&lt;=i;i--)parent.insertBefore(newChildren[i],lastNewChild),lastNewChild=newChildren[i]})(element,nodes=function(tokens,opts,doc){for(var _ref,result=[],_iterator=tokens,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){if(_isArray){if(_i&gt;=_iterator.length)break;_ref=_iterator[_i++]}else{if((_i=_iterator.next()).done)break;_ref=_i.value}var token=_ref;if("nl"===token.type&amp;&amp;opts.nl2br)result.push(doc.createElement("br"));else if(token.isLink&amp;&amp;opts.check(token)){var _opts$resolve=opts.resolve(token),formatted=_opts$resolve.formatted,formattedHref=_opts$resolve.formattedHref,tagName=_opts$resolve.tagName,className=_opts$resolve.className,target=_opts$resolve.target,events=_opts$resolve.events,attributes=_opts$resolve.attributes,link=doc.createElement(tagName);if(link.setAttribute("href",formattedHref),className&amp;&amp;link.setAttribute("class",className),target&amp;&amp;link.setAttribute("target",target),attributes)for(var attr in attributes)link.setAttribute(attr,attributes[attr]);if(events)for(var event in events)link.addEventListener?link.addEventListener(event,events[event]):link.attachEvent&amp;&amp;link.attachEvent("on"+event,events[event]);link.appendChild(doc.createTextNode(formatted)),result.push(link)}else result.push(doc.createTextNode(token.toString()))}return result}(tokens,opts,doc)),childElement=nodes[nodes.length-1]}childElement=childElement.nextSibling}return element}function linkifyElement(element,opts){var doc=2&lt;arguments.length&amp;&amp;void 0!==arguments[2]&amp;&amp;arguments[2];try{doc=doc||document||window&amp;&amp;window.document||global&amp;&amp;global.document}catch(e){}if(!doc)throw new Error("Cannot find document implementation. If you are in a non-browser environment like Node.js, pass the document implementation as the third argument to linkifyElement.");return linkifyElementHelper(element,opts=new Options(opts),doc)}linkifyElement.helper=linkifyElementHelper,linkifyElement.normalize=function(opts){return new Options(opts)};try{window.linkifyElement=linkifyElement}catch(e){}return function($){var doc=1&lt;arguments.length&amp;&amp;void 0!==arguments[1]&amp;&amp;arguments[1];$.fn=$.fn||{};try{doc=doc||document||window&amp;&amp;window.document||global&amp;&amp;global.document}catch(e){}if(!doc)throw new Error("Cannot find document implementation. If you are in a non-browser environment like Node.js, pass the document implementation as the second argument to linkify/jquery");"function"!=typeof $.fn.linkify&amp;&amp;($.fn.linkify=function(opts){return opts=linkifyElement.normalize(opts),this.each(function(){linkifyElement.helper(this,opts,doc)})},$(doc).ready(function(){$("[data-linkify]").each(function(){var $this=$(this),data=$this.data(),target=data.linkify,options=data.linkifyNlbr,options={nl2br:!!options&amp;&amp;0!==options&amp;&amp;"false"!==options};"linkifyAttributes"in data&amp;&amp;(options.attributes=data.linkifyAttributes),"linkifyDefaultProtocol"in data&amp;&amp;(options.defaultProtocol=data.linkifyDefaultProtocol),"linkifyEvents"in data&amp;&amp;(options.events=data.linkifyEvents),"linkifyFormat"in data&amp;&amp;(options.format=data.linkifyFormat),"linkifyFormatHref"in data&amp;&amp;(options.formatHref=data.linkifyFormatHref),"linkifyTagname"in data&amp;&amp;(options.tagName=data.linkifyTagname),"linkifyTarget"in data&amp;&amp;(options.target=data.linkifyTarget),"linkifyValidate"in data&amp;&amp;(options.validate=data.linkifyValidate),"linkifyIgnoreTags"in data&amp;&amp;(options.ignoreTags=data.linkifyIgnoreTags),"linkifyClassName"in data?options.className=data.linkifyClassName:"linkifyLinkclass"in data&amp;&amp;(options.className=data.linkifyLinkclass),options=linkifyElement.normalize(options),("this"===target?$this:$this.find(target)).linkify(options)})}))}}(linkifyJquery),"function"!=typeof $.fn.linkify&amp;&amp;linkifyJquery($)}(window,linkify,jQuery),$(function(){initPopups()});var ZONE=getTimezone((new Date).getFullYear(),1,1);function formData(form){var data={};return $(".form."+form+" INPUT,.form."+form+" TEXTAREA,.form."+form+" SELECT").each(function(){$(this)[0].hasAttribute("data-key")&amp;&amp;(data[$(this).attr("data-key")]=$(this).val())}),data}function post(db,data,onComplete,tick){postTo("/api/"+db,data,onComplete,tick)}function postTo(db,data,onComplete,tick){var showTick=!0;void 0!==tick&amp;&amp;(showTick=!1);var loader="no-loader"!=tick;loader&amp;&amp;loading_popup(),consoleLog("posting to "+db+"..."),consoleLog(data),$.ajax({type:"POST",url:db,data:data,dataType:"text",complete:function(){consoleLog("..."+db+" posted.")},success:function(data){var d=getJSON(data);consoleLog(d),"success"==d.result?(showTick?(loaded_popup(),setTimeout(function(){onComplete(d.data)},1100)):(loader&amp;&amp;loader_close(),onComplete(d.data)),showTick=!0):"error"!=d.result?(loader&amp;&amp;loader_close(),error_popup("An unknown error occurred, please try again."),console.error("SERVER ERROR: "+data)):(loader&amp;&amp;loader_close(),error_popup(d.errorType))},error:function(error){loader&amp;&amp;loader_close(),error_popup("An unknown error occurred, please try again."),console.error("CLIENT ERROR: Could not connect to the server. "+error.responseText)}})}function post_silent(db,data,attempt,onComplete,reset){void 0!==attempt&amp;&amp;(attempt=0),void 0===onComplete&amp;&amp;(onComplete=blank),void 0===reset&amp;&amp;(reset=!1),consoleLog("posting..."),consoleLog(data),$.ajax({type:"POST",url:"/api/"+db,data:data,dataType:"text",complete:function(){consoleLog("...posted.")},success:function(d){d=getJSON(d);consoleLog(d),"success"==d.result?onComplete(d.data):(console.error("ERROR: "+d.errorType),reset&amp;&amp;(window.location.href="/"))},error:function(error){attempt&lt;3&amp;&amp;setTimeout(function(){post_silent(db,data,attempt++,onComplete)},500),console.error("ERROR: JS - "+error.responseText)}})}function post_one(db,data){postTo_one("/api/"+db,data)}function postTo_one(db,data){consoleLog(data),$.ajax({type:"POST",url:db,data:data,dataType:"text"})}function blank(){}function post_raw(url,data,onComplete){consoleLog("posting..."),$.ajax({type:"POST",url:url,data:data,dataType:"text",complete:function(){consoleLog("...posted.")},success:function(data){consoleLog(getJSON(data)),onComplete(getJSON(data))},error:function(error){console.error("ERROR: Could not connect to the server. "+error.responseText)}})}var logged_refferer=!1;function logReferrer(){is_store&amp;&amp;!logged_refferer&amp;&amp;document.referrer&amp;&amp;document.referrer.indexOf("https://prioritylist.app")}function consoleLog(msg){"undefined"!=typeof DEV&amp;&amp;DEV&amp;&amp;console.log(msg)}function getJSON(str){try{JSON.parse(str)}catch(e){return{}}return $.parseJSON(str)}function localData(key,val){if("undefined"!=typeof Storage){if(!val)return JSON.parse(localStorage.getItem(key));localStorage.setItem(key,JSON.stringify(val))}}function sessionData(key,val){if("undefined"!=typeof Storage){if(!val&amp;&amp;!1!==val&amp;&amp;0!==val)return JSON.parse(sessionStorage.getItem(key));sessionStorage.setItem(key,JSON.stringify(val))}}function decodeHTML(str){var textArea=document.createElement("textarea");textArea.innerHTML=str;str=textArea.value;return textArea.remove(),str}function postReactNativeMessage(key,value){var json={};json[key]=value;json=JSON.stringify(json);window.ReactNativeWebView&amp;&amp;window.ReactNativeWebView.postMessage(json)}function initTooltips(){hideTooltip(),$("[data-t]:not(.btn)").unbind("hover"),$("[data-t]").hover(function(){offset=!$(this).hasClass("default-t")&amp;&amp;$(this).parents("table").length?9:0;var text=$(this).attr("data-t");$(".tooltip").html(text),showTooltip($(this).offset().left+$(this).outerWidth()/2,$(this).offset().top-$(window).scrollTop(),offset)},function(){hideTooltip()})}function showTooltip(x,y,offset){$(".tooltip").show(),$(".tooltip__arrow").show(),y-=7,$(".tooltip__arrow").css({top:y+offset,left:x});var t_width=$(".tooltip").outerWidth(),s_width=$(window).outerWidth();(x-=t_width/2)&lt;0&amp;&amp;(x=5),s_width&lt;x+t_width&amp;&amp;(x=s_width-t_width-5),$(".tooltip").css({top:y+offset-$(".tooltip").outerHeight(),left:x})}function hideTooltip(){$(".tooltip").hide(),$(".tooltip__arrow").hide()}var IMG_UPLOAD_N=0;$(document).on("change","INPUT.js-image-upload",function(e){e.preventDefault();var Files=this.files,ID=$(this).attr("data-id"),ImageType=$(this).attr("data-img"),PromoID=$(this).attr("data-promo-id"),s3_folder=$(this).attr("data-s3_folder");$.each(Files,function(file,obj){function progressHandlingFunction(perc){perc.lengthComputable&amp;&amp;(perc=Math.round(perc.loaded/perc.total*100),runAngular("#"+ID,"scope.setPercentage("+perc+")"),consoleLog(perc))}var form_data,CURR_IMAGE;CURR_IMAGE=++IMG_UPLOAD_N,1e7&lt;(file=Files[form_data=file]).size?alert("Image '"+file.name+"' is too large. Please keep images under 10MB."):((form_data=new FormData).append("file",file),s3_folder&amp;&amp;form_data.append("s3_folder",s3_folder),$.ajax({url:"/api/image/upload"+(ImageType?"?img="+ImageType:""),contentType:!1,data:form_data,type:"POST",xhr:function(){var myXhr=$.ajaxSettings.xhr();return myXhr.upload&amp;&amp;myXhr.upload.addEventListener("progress",progressHandlingFunction,!1),myXhr},cache:!1,processData:!1,success:function(url_small){var code,url,d=url_small;consoleLog(d),"success"==d.result?(code=d.data.code,url=d.data.url,url_small=d.data.url_small,runAngular("#"+ID,PromoID?"scope.loaded("+PromoID+",'"+code+"','"+url+"','"+url_small+"')":"scope.loaded('"+code+"','"+url+"','"+url_small+"')")):"error"!=d.result?error_popup("An unknown error occurred, please try again."):error_popup(d.errorType)},error:function(error){error_popup("An unknown error occurred, please try again."),console.error("ERROR: Could not connect to the server. "+error.responseText)},complete:function(){$(".image.i"+CURR_IMAGE).parent().remove()}}),runAngular("#"+ID,PromoID?"scope.initLoading("+PromoID+")":"scope.initLoading()"))}),$("INPUT.js-image-upload").val("")});
</code></pre></div></div>

<h1 id="server-side-pseudocode">server-side pseudocode</h1>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>╔══════════════════════════════════════════════════════════════════════╗
║  TASK-PRIORITY SERVICE — Reference Architecture (pseudo-code v4.0)  ║
╚══════════════════════════════════════════════════════════════════════╝
  Purpose: ingest raw tasks  ➜ compute composite priority  ➜ persist
           ➜ return dependency-aware, state-bucketed, tenant-scoped list
===========================================================================

───────────────────────────────────────────────────────────────────────────
SECTION 0 · HIGH-LEVEL COMPONENTS
───────────────────────────────────────────────────────────────────────────
 • ConfigRegistry………………  per-tenant tunables (weights, urgency curve, bonuses)
 • PriorityEngine………………  pure functions turning TaskRaw → TaskScored
 • GraphSorter…………………  topological sort driven by dynamic priority
 • StatePostProcessor………  buckets (MARKED, ACTIVE, DONE) + dependency flatten
 • SchedulerDaemon……………  periodic urgency refresh
 • API Layer…………………  REST / gRPC facade, multi-tenant auth, pagination
 • AuditLog………………………  append-only trail of score changes for ML / rollback

===========================================================================

SECTION 1 · DATA MODELS
===========================================================================

enum TaskState            { ACTIVE, MARKED, TICKED }             # UI terms
enum TenantWeightProfile  { DEFAULT, HIGH_URGENCY, QUICK_WINS }  # example

class TaskRaw {
    uuid            id
    uuid            tenant_id
    string          title
    int             score_i      # 0–10  (importance)
    int             score_t      # 0–10  (quick-win scale; 10 = 1 min)
    datetime?       deadline_at  # null → “someday”
    int?            risk_level   # 0–10  optional pillar
    uuid?           dependency_id
    TaskState       state
    datetime        created_at
    datetime        updated_at
}

class TaskScored extends TaskRaw {
    # normalised pillars (0–1)
    float n_i, n_t, n_u, n_r
    float priority           # computed scalar
    int   rank               # 1-based ordering inside tenant scope
    datetime scored_at       # when this priority was computed
}

===========================================================================

SECTION 2 · CONFIG REGISTRY (multitenant, hot-reloadable)
===========================================================================

ConfigRegistry.get_profile(tenant_id) returns object {
    WEIGHTS : { importance, urgency, quick_win, risk }    # ∑ = 1.0
    URGENCY_DECAY_RATE      # λ  (minutes-¹) for exp curve
    URGENCY_MAX_CEILING     # raw max before normalisation (e.g., 10)
    BONUS_MARKED            # numeric bump
    PENALTY_OVERDUE_DAY     # per-day penalty once overdue
}

===========================================================================

SECTION 3 · UTILITY HELPERS
===========================================================================

func clamp(x, lo, hi)                → float
func minutes_between(a, b)           → int
func exp_decay(minutes, λ, max)      → float   # returns 0..max

===========================================================================

SECTION 4 · CORE PRIORITY ENGINE
===========================================================================

function compute_priority_batch(tasks : [TaskRaw], now : datetime, cfg):
    # ❶ Batch min–max for i &amp; r keeps sliders comparable inside tenant.
    min_i, max_i = minmax(t.score_i for t in tasks)
    min_r, max_r = minmax(t.risk_level ?? 0 for t in tasks)

    scored = []

    foreach t in tasks:

        n_i = (t.score_i - min_i)/(max_i - min_i)   unless max_i==min_i -&gt; 0.0
        n_t =  t.score_t / 10.0                     # quick-win scale already 0-1

        # urgency pillar
        if t.deadline_at == null:
            raw_u = 0
        else:
            mins_left = max(minutes_between(now, t.deadline_at), 0)
            raw_u = exp_decay(mins_left, cfg.URGENCY_DECAY_RATE,
                              cfg.URGENCY_MAX_CEILING)
        n_u = raw_u / cfg.URGENCY_MAX_CEILING

        # risk pillar (optional)
        r_val = t.risk_level ?? (min_r+max_r)/2
        n_r = (r_val - min_r)/(max_r - min_r)       unless max_r==min_r -&gt; 0.0

        # ❷ base weighted sum
        p = (cfg.WEIGHTS.importance * n_i +
             cfg.WEIGHTS.urgency    * n_u +
             cfg.WEIGHTS.quick_win  * n_t +
             cfg.WEIGHTS.risk       * n_r)

        # ❸ bonuses &amp; penalties (state aware)
        if t.state == MARKED:
            p += cfg.BONUS_MARKED
        overdue_days = days_between(t.deadline_at, now) if t.deadline_at &amp;&amp; now&gt;t.deadline_at else 0
        p -= overdue_days * cfg.PENALTY_OVERDUE_DAY

        scored.push(TaskScored(**t, n_i, n_t, n_u, n_r, priority=p,
                               scored_at=now))
    return scored

===========================================================================

SECTION 5 · GRAPH SORTER  (dependency-aware topological sort)
===========================================================================

function topo_sort_with_priority(tasks_scored):
    # build adjacency + indegree
    edges, indeg, id2task = {}, {}, {}
    foreach s in tasks_scored:
        edges[s.id] = []
        indeg[s.id] = 0
        id2task[s.id] = s
    foreach s in tasks_scored:
        if s.dependency_id &amp;&amp; s.dependency_id in id2task:
            edges[s.dependency_id].append(s.id)
            indeg[s.id] += 1

    # priority queue seeded with indeg==0
    pq = MaxHeap(compare = λ a,b: a.priority &lt; b.priority)
    foreach id, d in indeg:
        if d==0: pq.push(id2task[id])

    ordered = []
    while !pq.empty():
        cur = pq.pop()
        ordered.push(cur)
        foreach child_id in edges[cur.id]:
            indeg[child_id]-=1
            if indeg[child_id]==0: pq.push(id2task[child_id])

    if ordered.length != tasks_scored.length:
        raise CircularDependencyError(tenant_id)

    return ordered        # dependency-respecting, priority-driven list

===========================================================================

SECTION 6 · STATE POST-PROCESSOR
===========================================================================

function bucket_and_flatten(ordered):
    marked = [t for t in ordered if t.state==MARKED]
    active = [t for t in ordered if t.state==ACTIVE]
    done   = [t for t in ordered if t.state==TICKED]
    return marked + active + done

===========================================================================

SECTION 7 · PERSIST &amp; RANK
===========================================================================

function assign_ranks_persist(tasks_bucketed):
    db.begin_transaction()
    for idx, s in enumerate(tasks_bucketed):
        s.rank = idx+1
        DB.update("tasks", s.id,
                  { priority: s.priority,
                    rank:     s.rank,
                    scored_at: s.scored_at })
        AuditLog.append(s.tenant_id, s.id, s.priority, s.scored_at)
    db.commit()
    return tasks_bucketed

===========================================================================

SECTION 8 · SCHEDULER DAEMON
===========================================================================

cron “*/5 * * * *”   # every 5 minutes
    for tenant in DB.distinct("tasks","tenant_id"):
        cfg  = ConfigRegistry.get_profile(tenant)
        now  = utc_now()
        raw  = DB.query("SELECT * FROM tasks WHERE tenant_id=? AND state!=TICKED", tenant)
        scored   = compute_priority_batch(raw, now, cfg)
        ordered  = topo_sort_with_priority(scored)
        final    = bucket_and_flatten(ordered)
        assign_ranks_persist(final)

===========================================================================

SECTION 9 · API ENDPOINT
===========================================================================

GET /v1/tenants/{tid}/tasks?limit=100&amp;offset=0&amp;force_recalc=bool
----------------------------------------------------------------
  auth.verify(tid)                       # multi-tenant guard
  if force_recalc:
       run_pipeline_immediately(tid)
  result = DB.query(
           "SELECT * FROM tasks WHERE tenant_id=? ORDER BY rank LIMIT ? OFFSET ?",
           tid, limit, offset)
  return JSON(result)

===========================================================================

SECTION 10 · CIRCULAR DEPENDENCY HANDLER
===========================================================================

on CircularDependencyError(tid):
    # Flag the offending tasks for UI display
    DB.update("tasks", WHERE tenant_id=tid AND id IN cycle_nodes,
              { blocked_reason: "CIRCULAR_DEPENDENCY" })
    AlertService.notify_admin(tid, "Circular dependency detected in task set")

===========================================================================

NOTES &amp; EXTENSION HOOKS
===========================================================================

• Weight profiles can be A/B tested per tenant (`TenantWeightProfile`).  
• AuditLog enables ML retro-analysis: pair(actual completion times, priority) for future tuning.  
• Risk pillar optional—just set WEIGHTS.risk=0 to disable.  
• `BONUS_STALE_TASK`, `CONTEXT_MATCH_SCORE`, etc., plug into compute_priority_batch easily.  
• Through feature flags, urgency curve can swap exp_decay for logistic or piecewise mapping.  
• GraphSorter keeps algorithmic complexity ≈ O(V + E log V).  

╔══════════════════════════════════════════════════════════════════════╗
║  END OF SPECIMEN                                                     ║
╚══════════════════════════════════════════════════════════════════════╝
</code></pre></div></div>]]></content><author><name></name></author><category term="scratchpad" /></entry><entry><title type="html">AI wiki</title><link href="https://ib.bsb.br/ai-wiki/" rel="alternate" type="text/html" title="AI wiki" /><published>2025-06-17T00:00:00+00:00</published><updated>2025-06-17T14:43:35+00:00</updated><id>https://ib.bsb.br/ai-wiki</id><content type="html" xml:base="https://ib.bsb.br/ai-wiki/"><![CDATA[<p>Title: 🤖 Artificial Intelligence</p>

<p>URL Source: https://github.com/fmhy/FMHY/wiki/%F0%9F%A4%96-Artificial-Intelligence</p>

<p>Markdown Content:</p>
<hr />

<hr />

<p><strong><a href="https://www.reddit.com/r/FREEMEDIAHECKYEAH/wiki/index">◄◄ Back to Wiki Index</a></strong></p>

<hr />

<hr />

<h2 id="-ai-chatbots">► AI Chatbots</h2>

<p><a href="https://github.com/fmhy/FMHY/wiki/%F0%9F%A4%96-Artificial-Intelligence#-ai-chatbots"></a></p>
<ul>
  <li><strong>Note</strong> - It’s <strong>never</strong> a good idea to upload personal / confidential files or info to any cloud AI, as many train on your questions and code. If you want privacy, its best to run bots yourself locally, and remember to use throwaway emails or <a href="https://www.reddit.com/r/FREEMEDIAHECKYEAH/wiki/internet-tools/#wiki_.25B7_email_aliasing">aliasing</a> if signing up for bots.</li>
</ul>

<hr />

<h2 id="-online-chatbots">▷ Online Chatbots</h2>

<p><a href="https://github.com/fmhy/FMHY/wiki/%F0%9F%A4%96-Artificial-Intelligence#-online-chatbots"></a></p>
<ul>
  <li>🌐 <strong><a href="https://github.com/cheahjs/free-llm-api-resources">Free LLM API Resources</a></strong> - Chatbot Resources / Mirrors</li>
  <li>⭐ <strong><a href="https://aistudio.google.com/app/prompts/new_chat">AI Studio</a></strong> or <a href="https://gemini.google.com/">Gemini</a> - Google Chatbots / <a href="https://www.reddit.com/r/Bard/">Subreddit</a> / <a href="https://discord.com/invite/gemini">Discord</a></li>
  <li>⭐ <strong><a href="https://chatgpt.com/">ChatGPT</a></strong> - GPT-4o / o4-mini Chatbot / <a href="https://www.reddit.com/r/OpenAI/">/r/OpenAI</a> / <a href="https://www.reddit.com/r/ChatGPT/">Subreddit</a> / <a href="https://discord.com/invite/openai">Discord</a></li>
  <li>⭐ <strong><a href="https://chat.qwen.ai/">Qwen</a></strong> - Alibaba’s Chatbots / Qwen3-235B-A22B / Qwen3-32B</li>
  <li>⭐ <strong><a href="https://chat.deepseek.com/">DeepSeek</a></strong> - DeepSeek-V3 / DeepSeek-R1 / Unlimited / <a href="https://www.reddit.com/r/DeepSeek/">Subreddit</a> / <a href="https://github.com/deepseek-ai">GitHub</a></li>
  <li>⭐ <strong><a href="https://grok.com/">Grok</a></strong> - X.com Chatbot / Grok 2 (30 Hourly) / Grok 3 (18 Per Two Hours) / <a href="https://www.reddit.com/r/grok/">Subreddit</a> / <a href="https://discord.com/invite/kqCc86jM55">Discord</a></li>
  <li>⭐ <strong><a href="https://lmarena.ai/">LMArena</a></strong> - Multiple Chatbots / No Sign-Up / <a href="https://discord.gg/6GXcFg3TH8">Discord</a> / <a href="https://github.com/lm-sys/FastChat">GitHub</a></li>
  <li>⭐ <strong><a href="https://copilot.microsoft.com/">Microsoft Copilot</a></strong> - GPT-4o / OpenAI o3-Mini-High / No Sign-Up</li>
  <li>⭐ <strong><a href="https://chat.mistral.ai/">Mistral</a></strong> - Mistral Large 24.11 / <a href="https://discord.gg/mistralai">Discord</a></li>
  <li>⭐ <strong><a href="https://huggingface.co/chat/">HuggingChat</a></strong> - DeepSeek-R1-Distill-Qwen-32B / Qwen QwQ-32B / Qwen3-235B-A22B / Multiple Open-Source Chatbots / <a href="https://github.com/huggingface/chat-ui">GitHub</a></li>
  <li><a href="https://claude.ai/">Claude</a> - Claude 4 Sonnet / Phone # Required / <a href="https://github.com/lugia19/Claude-Usage-Extension">Usage Tracker</a> / <a href="https://www.reddit.com/r/ClaudeAI/">Subreddit</a></li>
  <li><a href="https://duck.ai/">DuckDuckGo AI</a> - Multiple Chatbots / o4-Mini / No Sign-Up</li>
  <li><a href="https://chat.oaichat.cc/">ChatK</a> or <a href="https://lobe.wr.do/">lobe.wr.do</a> / <a href="https://discord.gg/AYFPHvv2jT">Discord</a> / <a href="https://github.com/lobehub/lobe-chat">GitHub</a> - GPT-4o / DeepSeek-R1-32b / Multiple Chatbots</li>
  <li><a href="https://aiassistantbot.pages.dev/">AI Assistant</a> - Deepseek-R1 / Qwen QwQ-32B / Multiple Chatbots / No Sign-Up</li>
  <li><a href="https://mirexa.vercel.app/">⁠Mirexa</a> - Deepseek R1 / GPT 4.1 / Mistral / Grok 3 mini</li>
  <li><a href="https://ish.junioralive.in/">⁠ISH</a> - o1 / Grok 3 / DeepSeek R1 / Multiple Chatbots / <a href="https://discord.gg/cwDTVKyKJz">Discord</a></li>
  <li><a href="https://sdk.vercel.ai/">AI SDK</a> - Multiple Chatbots / <a href="https://github.com/vercel/ai">GitHub</a></li>
  <li><a href="https://www.giz.ai/">GizAI</a> - Multiple Chatbots</li>
  <li><a href="https://scira.ai/">Scira</a> - Multiple Chatbots / AI Search Engine / No Sign-Up / <a href="https://github.com/zaidmukaddam/scira">GitHub</a></li>
  <li><a href="https://chat.xenai.tech/">OI</a> or <a href="https://freepass.ai/">FreePass</a> - Multiple Chatbots</li>
  <li><a href="https://scispace.com/">SciSpace</a> (No Sign-Up), <a href="https://ekb.scinito.ai/ai/chat">Scinito</a> or <a href="https://elicit.com/">Elicit</a> / <a href="https://github.com/elicit">GitHub</a> - Research Paper Chatbots</li>
  <li><a href="https://learning.google.com/experiments/learn-about">Learn About</a> or <a href="https://gemini.google.com/gem/learning-coach">Learning Coach</a> - Google’s Educational Search AIs</li>
  <li><a href="https://helixmind.online/">HelixMind</a> - Multiple Chatbots / <a href="https://discord.gg/7CmPjK87n3">Discord</a></li>
  <li><a href="https://www.electronhub.ai/">Electron Hub</a> - Deepseek-R1 / o3-Mini-High / Multiple Chatbots / <a href="https://discord.com/invite/apUUqbxCBQ">Discord</a></li>
  <li><a href="https://build.nvidia.com/">NVIDIA NIM</a> - Deepseek-R1 / Multiple Chatbots / No Sign-Up</li>
  <li><a href="https://oi.wr.do/">OIChat</a> - Gemini-2.5-Pro-Exp / DeepSeek R1 / Qwen QwQ-32B / DeepSeek-V3-0324 / Multiple Chatbots</li>
  <li><a href="https://kimi.ai/">Kimi</a> - Kimi 1.5 Chatbot</li>
  <li><a href="https://groq.com/">Groq</a> - Qwen QwQ-32B / Deepseek-R1-Distill / Multiple Chatbots / <a href="https://discord.gg/invite/groq">Discord</a></li>
  <li><a href="https://sambanova.ai/">SambaNova</a> - Deepseek-R1 / Qwen QwQ-32B / DeepSeek-V3-0324 / Multiple Chatbots / Enter Fake Info</li>
  <li><a href="https://lambda.chat/chatui/">Lambda Chat</a> - Deepseek-R1 / Multiple Chatbots / Unlimited / No Sign-Up</li>
  <li><a href="https://www.meta.ai/">Meta AI</a> - Llama 4 Chatbot</li>
  <li><a href="https://chat.minimax.io/">MiniMax AI</a> - Deepseek-R1 / MiniMax-Text-01 Chatbot w/ Large Token Context Window / <a href="https://github.com/MiniMax-AI/MiniMax-01">GitHub</a></li>
  <li><a href="https://pi.ai/">Pi</a> - Inflection AI’s Chatbot</li>
  <li><a href="https://www.reka.ai/">Reka</a> - Reka’s Chatbot / <a href="https://discord.gg/jtjNSD52mf">Discord</a></li>
  <li><a href="https://privategpt.dev/">PrivateGPT</a> / <a href="https://discord.com/invite/bK6mRVpErU">Discord</a> / <a href="https://github.com/zylon-ai/private-gpt">GitHub</a>, <a href="https://notebooklm.google/">NotebookLM</a>, <a href="https://www.onyx.app/">Onyx</a> / <a href="https://discord.com/invite/jDnRGhWhg4">Discord</a> / <a href="https://github.com/onyx-dot-app/onyx">GitHub</a> or <a href="https://www.docsgpt.cloud/">DocsGPT</a> / <a href="https://discord.com/invite/n5BX8dh8rU">Discord</a> / <a href="https://github.com/arc53/DocsGPT">GitHub</a> - Document Chatbots / Note-Taking</li>
</ul>

<hr />

<h2 id="-ai-search-engines">▷ AI Search Engines</h2>

<p><a href="https://github.com/fmhy/FMHY/wiki/%F0%9F%A4%96-Artificial-Intelligence#-ai-search-engines"></a></p>
<ul>
  <li>🌐 <strong><a href="https://github.com/felladrin/awesome-ai-web-search">Awesome AI Web Search</a></strong> - AI Search Engine Index</li>
  <li>⭐ <strong><a href="https://www.perplexity.ai/">Perplexity</a></strong> - AI Search Engine / <a href="https://www.cplx.app/">Enhancements</a> / <a href="https://labs.perplexity.ai/">Open Source Models</a> / <a href="https://discord.com/invite/perplexity-ai">Discord</a></li>
  <li>⭐ <strong><a href="https://www.wolframalpha.com/">WolframAlpha</a></strong> - Searchable Knowledge Base / <a href="https://rentry.co/FMHYBase64#wolfram-mobile">Mobile</a></li>
  <li>⭐ <strong><a href="https://you.com/">You</a></strong> - AI Search Engine / Sign-Up Required / <a href="https://discord.com/invite/youdotcom">Discord</a> / <a href="https://github.com/You-OpenSource">GitHub</a></li>
  <li><a href="https://google.com/aimode">Google AI Mode</a>, <a href="https://www.google.com/search?udm=50">2</a> - AI Search Engine / US Only</li>
  <li><a href="https://hyper.space/">Hyperspace</a> - P2P AI Network / <a href="https://play.hyper.space/">Web App</a>, <a href="https://compute.hyper.space/">2</a> / <a href="https://github.com/hyperspaceai">GitHub</a></li>
  <li><a href="https://www.phind.com/">Phind</a> - Llama Search Engine / <a href="https://discord.gg/S25yW8TebZ">Discord</a></li>
  <li><a href="https://www.morphic.sh/">Morphic</a> - GPT-4o-mini AI Search Engine / <a href="https://discord.gg/zRxaseCuGq">Discord</a></li>
  <li><a href="https://komo.ai/">Komo</a> - AI Search Engine</li>
  <li><a href="https://search.jina.ai/">Jina</a> - AI Search Engine</li>
  <li><a href="https://felo.ai/">Felo</a> - AI Search Engine / AI Agents</li>
  <li><a href="https://searc.ai/">searc.ai</a> - AI Search Engine</li>
  <li><a href="https://rabbitholes.dojoma.ai/">RabbitHoles</a> - Mind Map Style Search / <a href="https://discord.com/invite/VQMBGR8u5v">Discord</a> / <a href="https://github.com/AsyncFuncAI/rabbitholes">GitHub</a></li>
  <li><a href="https://hika.fyi/">Hika</a> - Deepseek-R1 AI Search Engine / <a href="https://discord.gg/tUATkScUue">Discord</a></li>
  <li><a href="https://khoj.dev/">Khoj</a> - Gemini-2.0-Flash AI Search Engine / AI Agents / Sign-Up Required / <a href="https://discord.gg/BDgyabRM6e">Discord</a> / <a href="https://github.com/khoj-ai/khoj">GitHub</a></li>
  <li><a href="https://ayesoul.com/">AyeSoul</a> - AI Search Engine</li>
  <li><a href="https://venice.ai/">Venice</a> - LLama 3 AI Search Engine</li>
  <li><a href="https://uncovr.app/">uncovr</a> - GPT-4o-mini / Gemini-2.0-Flash AI Search Engine / <a href="https://discord.gg/a4gDaVWceP">Discord</a></li>
  <li><a href="https://exa.ai/">Exa</a> - AI Search Engine / <a href="https://discord.gg/HCShtBqbfV">Discord</a></li>
  <li><a href="https://search.lepton.run/">Lepton Search</a> - AI Search Engine / <a href="https://github.com/leptonai/search_with_lepton">GitHub</a></li>
  <li><a href="https://github.com/ItzCrazyKns/Perplexica">Perplexica</a> - AI Search Engine / Self-Hosted / <a href="https://discord.gg/26aArMy8tT">Discord</a></li>
</ul>

<hr />

<h2 id="-self-hosting-tools">▷ Self-Hosting Tools</h2>

<p><a href="https://github.com/fmhy/FMHY/wiki/%F0%9F%A4%96-Artificial-Intelligence#-self-hosting-tools"></a></p>
<ul>
  <li>⭐ <strong><a href="https://jan.ai/">Jan</a></strong> - Self-Hosted / <a href="https://discord.com/invite/FTk2MvZwJH">Discord</a> / <a href="https://github.com/janhq/jan">GitHub</a></li>
  <li>⭐ <strong><a href="https://docs.sillytavern.app/">SillyTavern</a></strong> - Self-Hosted Interface / <a href="https://discord.gg/sillytavern">Discord</a> / <a href="https://www.reddit.com/r/SillyTavernAI/">Subreddit</a> / <a href="https://github.com/SillyTavern/SillyTavern">GitHub</a></li>
  <li>⭐ <strong><a href="https://openwebui.com/">Open WebUI</a></strong> - Self-Hosted Interface / <a href="https://discord.gg/5rJgQTnV4s">Discord</a> / <a href="https://github.com/open-webui/open-webui">GitHub</a></li>
  <li>⭐ <strong><a href="https://github.com/ggerganov/llama.cpp">llama.cpp</a></strong> - Self-Hosted Transformer-Based LLMs</li>
  <li>⭐ <strong><a href="https://github.com/LostRuins/koboldcpp">KoboldCpp</a></strong> - llama.cpp with API + GUI / <a href="https://github.com/YellowRoseCx/koboldcpp-rocm">ROCm</a> / <a href="https://colab.research.google.com/github/LostRuins/koboldcpp/blob/concedo/colab.ipynb">Colab</a></li>
  <li>⭐ <strong><a href="https://github.com/oobabooga/text-generation-webui">oobabooga</a></strong> - Self-Host Models / <a href="https://colab.research.google.com/github/pcrii/Philo-Colab-Collection/blob/main/4bit_TextGen_Gdrive.ipynb">Colab</a> / <a href="https://www.reddit.com/r/Oobabooga/">Subreddit</a> / <a href="https://discord.gg/jwZCF2dPQN">Discord</a></li>
  <li>⭐ <strong><a href="https://aphrodite.pygmalion.chat/">Aphrodite Engine</a></strong> - Serve LLMs at Scale with Kobold &amp; OpenAI APIs / <a href="https://colab.research.google.com/github/AlpinDale/misc-scripts/blob/main/Aphrodite.ipynb">Colab</a> / <a href="https://github.com/PygmalionAI/aphrodite-engine">GitHub</a></li>
  <li><a href="https://petals.dev/">Petals</a> - Self-Hosted / <a href="https://discord.gg/D9MwApKgWa">Discord</a> / <a href="https://github.com/bigscience-workshop/petals">GitHub</a></li>
  <li><a href="https://getleon.ai/">Leon</a> - Self-Hosted / <a href="https://discord.gg/MNQqqKg">Discord</a> / <a href="https://github.com/leon-ai/leon">GitHub</a></li>
  <li><a href="https://ollama.com/">Ollama</a> - Self-Hosted / <a href="https://discord.com/invite/ollama">Discord</a> / <a href="https://github.com/ollama/ollama">GitHub</a></li>
  <li><a href="https://github.com/aandrew-me/tgpt">tgpt</a> - Self-Hosted</li>
  <li><a href="https://github.com/ParisNeo/lollms-webui">LoLLMs Web UI</a> - Self-Hosted / <a href="https://discord.gg/4rR282WJb6">Discord</a></li>
  <li><a href="https://lmstudio.ai/">LM Studio</a> - Self-Hosted / <a href="https://discord.gg/aPQfnNkxGC">Discord</a> / <a href="https://github.com/lmstudio-ai">GitHub</a></li>
  <li><a href="https://anythingllm.com/">AnythingLLM</a> - Self-Hosted</li>
  <li><a href="https://librechat.ai/">LibreChat</a> - Self-Hosted / <a href="https://discord.com/invite/CEe6vDg9Ky">Discord</a> / <a href="https://github.com/danny-avila/LibreChat">GitHub</a></li>
  <li><a href="https://www.nomic.ai/gpt4all">GPT4All</a> - Self-Hosted / <a href="https://github.com/nomic-ai/gpt4all">GitHub</a> / <a href="https://discord.com/invite/myY5YDR8z8">Discord</a></li>
  <li><a href="https://github.com/Mozilla-Ocho/llamafile">llamafile</a> - Run LLM with Single Files / <a href="https://discord.gg/YuMNeuKStr">Discord</a></li>
</ul>

<hr />

<h2 id="-roleplaying-chatbots">▷ Roleplaying Chatbots</h2>

<p><a href="https://github.com/fmhy/FMHY/wiki/%F0%9F%A4%96-Artificial-Intelligence#-roleplaying-chatbots"></a></p>
<ul>
  <li>🌐 <strong><a href="https://rentry.org/Sukino-Findings">Sukino-Findings</a></strong> - AI Roleplay Resources</li>
  <li>⭐ <strong><a href="https://pygmalion.chat/">PygmalionAI</a></strong> - Self-Hosted Roleplaying Models / <a href="https://rentry.co/PygmalionLinks">Resources</a> / <a href="https://discord.com/invite/pygmalionai">Discord</a> / <a href="https://www.reddit.com/r/PygmalionAI/">Subreddit</a> / <a href="https://github.com/PygmalionAI">GitHub</a></li>
  <li>⭐ <strong><a href="https://flowgpt.com/">FlowGPT</a></strong> - Roleplaying Chatbots / Some NSFW / <a href="https://discord.com/invite/tWZGzcpTkf">Discord</a></li>
  <li>⭐ <strong><a href="https://character.ai/">Character.AI</a></strong> - Roleplaying Chatbots / <a href="https://rentry.org/reverseCAI">Extract</a> / <a href="https://discord.com/invite/characterai">Discord</a> / <a href="https://www.reddit.com/r/CharacterAI/">Subreddit</a></li>
  <li>⭐ <strong><a href="https://wikia.schneedc.com/bot-creation/intro">Bot Creation Guide</a></strong> - Character Creation Guide</li>
  <li>⭐ <strong><a href="https://chub.ai/">Chub</a></strong> - Character Cards / Some NSFW / <a href="https://discord.gg/chubai">Discord</a> / <a href="https://www.reddit.com/r/Chub_AI/">Subreddit</a> / <a href="https://github.com/CharHubAI">GitHub</a></li>
  <li><a href="https://rentry.org/llama_v2_sillytavern">Llama + SillyTavern</a> - Llama + SillyTavern Roleplaying Setup Guide / No Sign-Up</li>
  <li><a href="https://koboldai.com/">KoboldAI</a> - GUI for Roleplaying Chatbots / No Sign-Up / <a href="https://discord.com/invite/XuQWadgU9k">Discord</a> / <a href="https://github.com/henk717/KoboldAI">GitHub</a></li>
  <li><a href="https://beta.4wall.ai/">4thWall AI</a> - Roleplaying Chatbots / <a href="https://discord.com/invite/4wallai">Discord</a> / <a href="https://www.reddit.com/r/4WallAI/">Subreddit</a></li>
  <li><a href="https://app.wyvern.chat/">WyvernChat</a> - Roleplaying Chatbots</li>
  <li><a href="https://janitorai.com/">JanitorAI</a> - Roleplaying Chatbots / Some NSFW</li>
  <li><a href="https://fictionlab.ai/">FictionLab</a> - Roleplaying / Story Chatbot / <a href="https://discord.com/invite/SKcb2C7HjH">Discord</a></li>
  <li><a href="https://tavernai.net/">TavernAI</a> - Roleplaying / Story Chatbot / <a href="https://colab.research.google.com/github/vrihatgan/TavernAI/blob/main/colab/colab.ipynb">Colab</a> / <a href="https://discord.gg/zmK2gmr45t">Discord</a> / <a href="https://github.com/TavernAI/TavernAI">GitHub</a></li>
  <li><a href="https://aidungeon.com/">AI Dungeon</a> - Roleplaying / Story Chatbot / No Sign-Up / <a href="https://www.reddit.com/r/AIDungeon/">Subreddit</a> / <a href="https://discord.com/invite/HB2YBZYjyf">Discord</a></li>
  <li><a href="https://www.tryspellbound.com/">Spellbound</a> - Roleplaying / Story Chatbot / No Sign-Up / <a href="https://discord.com/invite/spellbound">Discord</a></li>
  <li><a href="https://kajiwoto.ai/">Kajiwoto</a>, <a href="https://docs.miku.gg/">Miku</a> (No Sign-Up) / <a href="https://discord.gg/3XPdpUdGgV">Discord</a> or <a href="https://agnai.chat/">Agnai</a> / <a href="https://discord.com/invite/DAn38sA8Qj">Discord</a> - Chatbot Builders</li>
  <li><a href="https://www.sesame.com/research/crossing_the_uncanny_valley_of_voice#demo">Crossing the Uncanny Valley</a> - Realistic AI Voice Chat</li>
  <li><a href="https://www.hammerai.com/desktop">HammerAI</a> - Self-Hosted Roleplaying Chatbots</li>
</ul>

<hr />

<h2 id="-coding-ais">▷ Coding AIs</h2>

<p><a href="https://github.com/fmhy/FMHY/wiki/%F0%9F%A4%96-Artificial-Intelligence#-coding-ais"></a></p>
<ul>
  <li>🌐 <strong><a href="https://evalplus.github.io/leaderboard.html">EvalPlus Leaderboard</a></strong> / <a href="https://github.com/evalplus/evalplus">GitHub</a>, <a href="https://web.lmarena.ai/">WebDev Arena</a>, <a href="https://livecodebench.github.io/leaderboard.html">⁠LiveCodeBench</a>, <a href="https://aider.chat/docs/leaderboards/">Aider LLM Leaderboards</a> or <a href="https://huggingface.co/spaces/bigcode/bigcode-models-leaderboard">Big Code Models Leaderboard</a> - Coding AI Leaderboards / Benchmarks</li>
  <li>🌐 <strong><a href="https://liveswebench.ai/">LiveSWEBench</a>, <a href="https://github.com/princeton-nlp/SWE-bench">SWE-bench</a>, <a href="https://github.com/multi-swe-bench/multi-swe-bench">multi-swe-bench</a> or <a href="https://www.swebench.com/">SWEBench</a></strong> - Software Engineering AI Leaderboards / Benchmarks</li>
  <li>🌐 <strong><a href="https://github.com/e2b-dev/awesome-ai-agents">Awesome AI Agents</a></strong> - Coding / Programming AIs / <a href="https://discord.gg/U7KEcGErtQ">Discord</a></li>
  <li>🌐 <strong><a href="https://github.com/cheahjs/free-llm-api-resources">Free LLM API Resources</a></strong> - LLM API Resources</li>
  <li>⭐ <strong><a href="https://www.windsurf.com/">Windsurf</a></strong> - Coding AI / <a href="https://www.reddit.com/r/Codeium/">Subreddit</a> / <a href="https://discord.com/invite/3XFf78nAx5">Discord</a></li>
  <li>⭐ <strong><a href="https://pieces.app/">Pieces</a></strong> - Multi-LLM Coding AI / GPT-4 / 4o for Free / No Sign-Up / <a href="https://discord.gg/getpieces">Discord</a></li>
  <li>⭐ <strong><a href="https://zed.dev/">zed</a></strong> - Collabortive Coding AI / <a href="https://github.com/zed-industries/zed">GitHub</a></li>
  <li><a href="https://whatdoesthiscodedo.com/">WDTCD?</a> - Simple Code Explanations / No Sign-Up</li>
  <li><a href="https://sourcery.ai/">Sourcery</a> - Auto-Pull Request Reviews / <a href="https://github.com/sourcery-ai/sourcery">GitHub</a></li>
  <li><a href="https://devv.ai/">Devv</a> - Coding Search Engine / <a href="https://github.com/devv-ai/devv">GitHub</a></li>
  <li><a href="https://www.telosys.org/">Telosys</a> - Code Generator / No Sign-Up / <a href="https://www.telosys.org/sources.html">Source Code</a></li>
  <li><a href="https://llamacoder.together.ai/">Llama Coder</a> - Code Generator / No Sign-Up / <a href="https://github.com/Nutlope/llamacoder">GitHub</a></li>
  <li><a href="https://imgcook.com/">imgcook</a> - Coding AI / No Sign-Up / <a href="https://github.com/imgcook/imgcook">GitHub</a></li>
  <li><a href="https://supermaven.com/">Supermaven</a> - Coding AI / No Sign-Up / <a href="https://discord.com/invite/QQpqBmQH3w">Discord</a></li>
  <li><a href="https://sourcegraph.com/cody">Cody</a> - Coding AI / <a href="https://discord.gg/s2qDtYGnAE">Discord</a> / <a href="https://github.com/sourcegraph/cody">GitHub</a></li>
  <li><a href="https://www.all-hands.dev/">OpenHands</a> - Coding AI / <a href="https://discord.gg/ESHStjSjD4">Discord</a> / <a href="https://github.com/All-Hands-AI/OpenHands">GitHub</a></li>
  <li><a href="https://continue.dev/">Continue</a> - Coding AI / <a href="https://discord.com/invite/EfJEfdFnDQ">Discord</a> / <a href="https://github.com/continuedev/continue">GitHub</a></li>
  <li><a href="https://github.com/features/copilot">GitHub Copilot</a> - Coding AI</li>
  <li><a href="https://www.trae.ai/">Trae</a> - Coding AI</li>
  <li><a href="https://github.com/cline/cline">Cline</a> - Coding AI / <a href="https://discord.gg/cline">Discord</a></li>
  <li><a href="https://rentry.co/FMHYBase64#cursor">Cursor</a> - Coding AI</li>
  <li><a href="https://gitwit.dev/">GitWit</a> - Coding AI</li>
  <li><a href="https://www.qodo.ai/">Qodo</a> - Coding AI</li>
  <li><a href="https://www.blackbox.ai/">Blackbox</a> - Coding AI / No Sign-Up</li>
  <li><a href="https://denigma.app/">Denigma</a> - Coding AI / No Sign-Up / <a href="https://discord.gg/mZx4REBvKm">Discord</a></li>
  <li><a href="https://aider.chat/">Aider</a> - Terminal Coding AI / <a href="https://discord.com/invite/Y7X7bhMQFV">Discord</a> / <a href="https://github.com/Aider-AI/aider">GitHub</a></li>
  <li><a href="https://www.codacy.com/">Codacy</a> - Code Fixing AI / <a href="https://github.com/codacy">GitHub</a></li>
  <li><a href="https://github.com/OpenInterpreter/open-interpreter">Open Interpreter</a> - Run Code Locally / No Sign-Up / <a href="https://discord.gg/Hvz9Axh84z">Discord</a></li>
  <li><a href="https://v0.dev/">v0</a> - Text to Site Code</li>
  <li><a href="https://huggingface.co/spaces/enzostvs/deepsite">DeepSite</a> - Text to Site Code</li>
  <li><a href="https://bolt.new/">Bolt.new</a> - AI Web App Builder / <a href="https://discord.com/invite/stackblitz">Discord</a> / <a href="https://github.com/stackblitz/bolt.new">GitHub</a></li>
  <li><a href="https://fragments.e2b.dev/">Fragments</a> - AI App Builder / <a href="https://discord.com/invite/U7KEcGErtQ">Discord</a> / <a href="https://github.com/e2b-dev">GitHub</a></li>
  <li><a href="https://rork.com/">⁠Rork</a> - AI App Builder <a href="https://greasyfork.org/en/scripts/538090">Code Export Bypass</a></li>
  <li><a href="https://composio.dev/">Composio</a> - Add Tools to Coding AI / <a href="https://discord.com/invite/cNruWaAhQk">Discord</a> / <a href="https://github.com/ComposioHQ/composio">GitHub</a></li>
</ul>

<hr />

<h2 id="-ai-tools">► AI Tools</h2>

<p><a href="https://github.com/fmhy/FMHY/wiki/%F0%9F%A4%96-Artificial-Intelligence#-ai-tools"></a></p>
<ul>
  <li>🌐 <strong><a href="https://github.com/sindresorhus/awesome-chatgpt">sindresorhus’s Awesome ChatGPT</a></strong> or <a href="https://github.com/uhub/awesome-chatgpt">Awesome ChatGPT</a> - AI Resources</li>
  <li>🌐 <strong><a href="https://github.com/billmei/every-chatgpt-gui">Every ChatGPT GUI</a></strong> - ChatGPT GUI Index</li>
  <li>↪️ <strong><a href="https://www.reddit.com/r/FREEMEDIAHECKYEAH/wiki/dev-tools/#wiki_.25B7_api_tools">AI API Tools</a></strong></li>
  <li><a href="https://computer.tldraw.com/">tldraw computer</a> - Create Component Workflows to Generate or Transform Data / <a href="https://discord.com/invite/SBBEVCA4PG">Discord</a> / <a href="https://github.com/tldraw/tldraw">GitHub</a></li>
  <li><a href="https://github.com/josStorer/chatGPTBox">ChatGPT Box</a> or <a href="https://github.com/xcanwin/KeepChatGPT/blob/main/docs/README_EN.md">KeepChatGPT</a> - Extensions</li>
  <li><a href="https://llm.datasette.io/">LLM</a> - LLM CLI / <a href="https://discord.com/invite/RKAH4b8TvE">Discord</a> / <a href="https://github.com/simonw/llm">GitHub</a></li>
  <li><a href="https://github.com/xtekky/gpt4free">GPT4Free</a> - Desktop App / <a href="https://telegram.me/g4f_channel">Telegram</a></li>
  <li><a href="https://msty.app/">Msty</a> - Download &amp; Run Models Locally / <a href="https://discord.gg/2QBw6XxkCC">Discord</a></li>
  <li><a href="https://lobechat.com/chat">LobeChat</a> - Desktop App / <a href="https://discord.gg/AYFPHvv2jT">Discord</a> / <a href="https://github.com/lobehub/lobe-chat">GitHub</a></li>
  <li><a href="https://noi.nofwl.com/">Noi</a> - Desktop App / <a href="https://discord.gg/kq2HXcpJSQ">Discord</a> / <a href="https://github.com/lencx/Noi">GitHub</a></li>
  <li><a href="https://chatbotui.com/">Chatbot UI</a> - Desktop App / <a href="https://github.com/mckaywrigley/chatbot-ui">GitHub</a></li>
  <li><a href="https://www.nvidia.com/en-us/ai-on-rtx/chatrtx/">ChatRTX</a> - Desktop App / RTX 30+ Series GPU Only</li>
  <li><a href="https://www.chatpdf.com/">ChatPDF</a> (No Sign-Up) or <a href="https://askyourpdf.com/">AskYourPDF</a> - Turn Books / PDFs into Chatbots</li>
  <li><a href="https://github.com/4as/ChatGPT-DeMod">ChatGPT DeMod</a> - Block ChatGPT Moderation Checks</li>
  <li><a href="https://askconcierge.ai/">Concierge</a> - Connect Apps to AI</li>
  <li><a href="https://www.bibcit.com/en/massivemark">MassiveMark</a> - Convert LLM Chats to DOCX / <a href="https://discord.gg/fPtQAQYmqq">Discord</a></li>
  <li><a href="https://chatgptevo.com/widescreen/">ChatGPT Widescreen</a> - ChatGPT Widescreen / Fullscreen / <a href="https://github.com/adamlui/chatgpt-widescreen">GitHub</a></li>
  <li><a href="https://voicecontrol.chat/">Voice Control</a> - ChatGPT Voice Control</li>
  <li><a href="https://screenpi.pe/">screenpipe</a> - AI Screen Recorder / No Sign-Up / <a href="https://discord.gg/dU9EBuw7Uq">Discord</a> / <a href="https://github.com/mediar-ai/screenpipe">GitHub</a></li>
  <li><a href="https://greasyfork.org/en/scripts/456055">ChatGPT Exporter</a> - Export Chats / <a href="https://github.com/pionxzh/chatgpt-exporter">GitHub</a></li>
  <li><a href="https://github.com/itsmartashub/GPThemes">GPThemes</a> - ChatGPT Themes</li>
  <li><a href="https://huggingface.co/spaces/NyxKrage/LLM-Model-VRAM-Calculator">LLM Model VRAM Calculator</a> - LLM Requirement Calculators</li>
  <li><a href="https://rentry.org/aipiracyresources">AI Piracy Resources</a> - AI Piracy Guide / Resources</li>
</ul>

<hr />

<h2 id="-ai-prompts">▷ AI Prompts</h2>

<p><a href="https://github.com/fmhy/FMHY/wiki/%F0%9F%A4%96-Artificial-Intelligence#-ai-prompts"></a></p>
<ul>
  <li><strong>Note</strong> - Bypassing chatbot safeguards (aka jailbreaking) is against the TOS of most AI, so use them at your own risk.</li>
</ul>

<hr />

<ul>
  <li>🌐 <strong><a href="https://rentry.org/jb-listing">Jailbreak Listings</a></strong> - Prompt / Jailbreak Lists</li>
  <li>⭐ <strong><a href="https://github.com/friuns2/BlackFriday-GPTs-Prompts">BlackFriday GPTs Prompts</a></strong> - Prompt Directory</li>
  <li>⭐ <strong><a href="https://github.com/linexjlin/GPTs">Leaked Prompts</a></strong> - Prompt Directory</li>
  <li>⭐ <strong><a href="https://www.promptingguide.ai/">Prompt Engineering Guide</a></strong> / <a href="https://discord.gg/FUyz9vPAwf">Discord</a> / <a href="https://github.com/dair-ai/Prompt-Engineering-Guide">GitHub</a>, <a href="https://www.kaggle.com/whitepaper-prompt-engineering">Google Whitepaper</a>, <a href="https://github.com/NirDiamant/Prompt_Engineering">Prompt_Engineering</a>, <a href="https://learnprompting.org/docs/introduction">LearnPrompting</a>, <a href="https://platform.openai.com/docs/guides/prompt-engineering">OpenAI Guide</a> or <a href="https://docs.anthropic.com/claude/docs/prompt-engineering">Claude Guide</a> - Prompting Guides</li>
  <li><a href="https://www.reddit.com/r/ChatGPTJailbreak/">/r/ChatGPTJailbreak</a> - AI Jailbreak Community</li>
  <li><a href="https://github.com/LouisShark/chatgpt_system_prompt">ChatGPT System Prompt</a> - Prompt Directory</li>
  <li><a href="https://github.com/0xeb/TheBigPromptLibrary">The Big Prompt Library</a> - Prompt Directory</li>
  <li><a href="https://github.com/yokoffing/ChatGPT-Prompts">ChatGPT &amp; Bing AI Prompts</a> - Prompt Directory</li>
  <li><a href="https://github.com/elder-plinius/L1B3RT4S">L1B3RT4S</a> - Jailbreak Prompts / <a href="https://discord.gg/basi">Discord</a> / <a href="https://x.com/elder_plinius">X</a></li>
  <li><a href="https://www.promptfoo.dev/">promptfoo</a> - Prompt Playgrounds / <a href="https://discord.gg/gHPS9jjfbs">Discord</a> / <a href="https://github.com/promptfoo/promptfoo">GitHub</a></li>
  <li><a href="https://tensortrust.ai/">Tensor Trust</a> / <a href="https://github.com/HumanCompatibleAI/tensor-trust">GitHub</a> or <a href="https://gandalf.lakera.ai/">Gandalf</a> / <a href="https://github.com/lakeraai">GitHub</a> - Prompting Skill Games</li>
  <li><a href="https://redarena.ai/">RedTeam Arena</a> - AI Jailbreak Game</li>
  <li><a href="https://gobble.bot/">Gobble Bot</a> - Generate Text Files for Chatbots</li>
</ul>

<hr />

<h2 id="-ai-indexes">► AI Indexes</h2>

<p><a href="https://github.com/fmhy/FMHY/wiki/%F0%9F%A4%96-Artificial-Intelligence#-ai-indexes"></a></p>
<ul>
  <li>🌐 <strong><a href="https://lifearchitect.ai/models-table/">LifeArchitect</a></strong> - LLM Index</li>
  <li>🌐 <strong><a href="https://www.futuretools.io/?pricing-model=free">FutureTools</a></strong> - AI Directory / <a href="https://discord.gg/WBk4ZDW6A9">Discord</a></li>
  <li>🌐 <strong><a href="https://labs.google/">Google Labs</a></strong> or <a href="https://labs.google/fx">Google Labs FX</a> - Google AI Experiments / <a href="https://www.reddit.com/r/labsdotgoogle/">Subreddit</a> / <a href="https://discord.gg/googlelabs">Discord</a></li>
  <li><a href="https://perchance.org/generators">Perchance</a> / <a href="https://discord.gg/43qAQEVV9a">Discord</a> or <a href="https://websim.ai/">WebSim</a> / <a href="https://www.reddit.com/r/WebSim/">Subreddit</a> / <a href="https://discord.gg/websim">Discord</a> - Simple AI Builders</li>
  <li><a href="https://www.ypforai.com/">YP for AI</a> - AI Directory</li>
  <li><a href="https://llmresourceshub.vercel.app/">LLM Resources Hub</a> - AI Directory</li>
  <li><a href="https://github.com/mahseema/awesome-ai-tools">Awesome AI Tools</a> - AI Directory</li>
  <li><a href="https://itsbetterwithai.com/">It’s Better With AI</a> - AI Directory</li>
  <li><a href="https://www.gptdemo.net/gpt/search?lg=en&amp;cate=&amp;keywords=&amp;tags=free,&amp;sort=popular">GPT Demo</a> - AI Directory</li>
  <li><a href="https://app.artificialstudio.ai/tools">ArtificialStudio</a> - Multi-Tool Browser AIs / <a href="https://discord.gg/EdNztJJH6z">Discord</a></li>
  <li><a href="https://docs.google.com/spreadsheets/d/18GHPEBJzDbICmMStPVkNWA_hQHiWmLcqUdEJA1b4MJM/">LLM Pricing</a> - LLM Pricing Index</li>
  <li><a href="https://koltregaskes.notion.site/modelreleases">Model Releases</a> - Upcoming Model Releases</li>
</ul>

<hr />

<h2 id="-ai-benchmarks">▷ AI Benchmarks</h2>

<p><a href="https://github.com/fmhy/FMHY/wiki/%F0%9F%A4%96-Artificial-Intelligence#-ai-benchmarks"></a></p>
<ul>
  <li>⭐ <strong><a href="https://artificialanalysis.ai/">Artificial Analysis</a></strong> - Chatbot Benchmarks</li>
  <li>⭐ <strong><a href="https://lmarena.ai/leaderboard">LMArena</a></strong> - Chatbot Leaderboards / Benchmarks / <a href="https://discord.gg/6GXcFg3TH8">Discord</a> / <a href="https://github.com/lm-sys/FastChat">GitHub</a></li>
  <li>⭐ <strong><a href="https://livebench.ai/">LiveBench</a></strong> - Chatbot Leaderboards / Benchmarks / <a href="https://github.com/livebench/livebench">GitHub</a></li>
  <li><a href="https://scale.com/leaderboard">SEAL LLM Leaderboards</a> - Chatbot Leaderboards</li>
  <li><a href="https://rankedagi.com/">⁠RankedAGI</a> - Chatbot Leaderboards / Benchmarks</li>
  <li><a href="https://huggingface.co/spaces/allenai/WildBench">WildBench</a> - Chatbot Benchmarks / <a href="https://github.com/allenai/WildBench">GitHub</a></li>
  <li><a href="https://www.wolfram.com/llm-benchmarking-project/">Wolfram LLM Benchmarking Project</a> - Chatbot Leaderboards / Benchmarks</li>
  <li><a href="https://huggingface.co/spaces/allenai/ZeroEval">ZeroEval</a> - Chatbot Leaderboard / <a href="https://github.com/WildEval/ZeroEval">GitHub</a></li>
  <li><a href="https://llm-stats.com/">LLM Stats</a> - Chatbot Leaderboard</li>
  <li><a href="https://openlm.ai/chatbot-arena/">OpenLM Arena</a> - Chatbot Leaderboard</li>
  <li><a href="https://openrouter.ai/rankings">OpenRouter</a> - Chatbot Popularity Rankings / <a href="https://discord.gg/fVyRaUDgxW">Discord</a> / <a href="https://github.com/OpenRouterTeam">GitHub</a></li>
  <li><a href="https://huggingface.co/spaces/opencompass/open_vlm_leaderboard">Open VLM Leaderboard</a> - VLM Benchmark Leaderboard Aggregator</li>
  <li><a href="https://matharena.ai/">MathArena</a> - AI Mathematics Competitions / Benchmarks</li>
  <li><a href="https://aielo.co/">AI Elo</a> - AI Game Competitions / Benchmarks</li>
</ul>

<hr />

<h2 id="-text-generators">► Text Generators</h2>

<p><a href="https://github.com/fmhy/FMHY/wiki/%F0%9F%A4%96-Artificial-Intelligence#-text-generators"></a></p>
<ul>
  <li>⭐ <strong><a href="https://textfx.withgoogle.com/">TextFX</a></strong> / <a href="https://github.com/google/generative-ai-docs/tree/main/demos/palm/web/textfx">GitHub</a> or <a href="https://rytr.me/">Rytr</a> - AI Creative Writing Tools / No Sign-Up</li>
  <li><a href="https://scripai.com/">Scrip AI</a> (No Sign-Up), <a href="https://app.inkforall.com/tools">INK</a>, <a href="https://quickpenai.com/">QuickPen AI</a> - Online AI Text Tools</li>
  <li><a href="https://novelai.net/">NovelAI</a> - Story Writing AI / No Sign-Up / <a href="https://github.com/fmhy/FMHY/wiki/FMHY%E2%80%90Notes.md#novelai-bypass">Limit Bypass</a>, <a href="https://greasyfork.org/en/scripts/448926">2</a> / <a href="https://discord.com/invite/novelai">Discord</a></li>
  <li><a href="https://dreamily.ai/">Dreamily</a> - Story Writing AI</li>
  <li><a href="https://perchancestory.com/">PerchanceStory</a> - Story Writing AI</li>
  <li><a href="https://quarkle.ai/">Quarkle</a> - AI Writing Assistant</li>
</ul>

<hr />

<h2 id="-text-rephrasing">▷ <a href="https://www.reddit.com/r/FREEMEDIAHECKYEAH/wiki/text-tools#wiki_.25B7_text_rephrasing">Text Rephrasing</a></h2>

<p><a href="https://github.com/fmhy/FMHY/wiki/%F0%9F%A4%96-Artificial-Intelligence#-text-rephrasing"></a></p>

<hr />

<h2 id="-grammar-check">▷ <a href="https://www.reddit.com/r/FREEMEDIAHECKYEAH/wiki/text-tools#wiki_.25B7_grammar_check">Grammar Check</a></h2>

<p><a href="https://github.com/fmhy/FMHY/wiki/%F0%9F%A4%96-Artificial-Intelligence#-grammar-check"></a></p>

<hr />

<h2 id="-video-generation">► Video Generation</h2>

<p><a href="https://github.com/fmhy/FMHY/wiki/%F0%9F%A4%96-Artificial-Intelligence#-video-generation"></a></p>
<ul>
  <li>🌐 <strong><a href="https://huggingface.co/spaces/Vchitect/VBench_Leaderboard">VBench</a></strong> - Video Generation Model Leaderboard</li>
  <li><a href="https://aistudio.google.com/generate-video">AI Studio</a> - Veo 2 / <a href="https://www.reddit.com/r/Bard/">Subreddit</a> / <a href="https://discord.com/invite/gemini">Discord</a></li>
  <li><a href="https://github.com/camenduru/text-to-video-synthesis-colab">Synthesis Colab</a> - Unlimited / Colab / <a href="https://discord.gg/k5BwmmvJJU">Discord</a></li>
  <li><a href="https://www.vidu.studio/">Vidu</a> - 6 Monthly / <a href="https://discord.gg/3pDU8fmQ8Y">Discord</a></li>
  <li><a href="https://www.genmo.ai/">Genmo</a> - 30 Monthly / <a href="https://github.com/genmoai/mochi">GitHub</a></li>
  <li><a href="https://github.com/nateraw/stable-diffusion-videos">Stable Diffusion Videos</a> - Unlimited / <a href="https://colab.research.google.com/github/nateraw/stable-diffusion-videos/blob/main/stable_diffusion_videos.ipynb">Colab</a></li>
  <li><a href="https://pixverse.ai/">PixVerse</a> - 1 Daily / <a href="https://discord.com/invite/MXHErdJHMg">Discord</a></li>
  <li><a href="https://wan.video/">Wan AI</a> / 10 Daily</li>
  <li><a href="https://lensgo.ai/">LensGo</a> - 5 Daily / <a href="https://discord.com/invite/CHMhrByFJS">Discord</a></li>
  <li><a href="https://klingai.com/">Kling AI</a> - 8 Monthly / <a href="https://discord.com/invite/8tj8YjSzKr">Discord</a></li>
  <li><a href="https://www.pika.art/">Pika</a> - 5 Monthly / <a href="https://discord.com/invite/pika">Discord</a></li>
  <li><a href="https://dreamina.capcut.com/ai-tool/home">Dreamina</a> - 150 Monthly</li>
  <li><a href="https://chat.qwen.ai/">Qwen</a> - 10 Daily</li>
  <li><a href="https://hailuoai.video/">Hailuo AI</a> - 3 Daily / <a href="https://discord.com/invite/hvvt8hAye6">Discord</a></li>
  <li><a href="https://fusionbrain.ai/en/">Fusion Brain</a> - Unlimited</li>
  <li><a href="https://vivago.ai/">Vivago</a> - 1 Daily</li>
  <li><a href="https://runway.exomlapi.com/">Runway.exo</a> - 1 Hourly / ExoML Watermark</li>
  <li><a href="https://chatglm.cn/">ChatGLM</a> - Unlimited / Requires Sign-Up &amp; Phone # / SMS Generators Work</li>
  <li><a href="https://github.com/colinurbs/FramePack-Studio">FramePack</a> - Desktop App / Local Models / NVIDIA GPU Required</li>
  <li><a href="https://www.eggnog.ai/">Eggnog</a> - AI Character Video Remixer + Editor</li>
</ul>

<hr />

<h2 id="-image-generation">► Image Generation</h2>

<p><a href="https://github.com/fmhy/FMHY/wiki/%F0%9F%A4%96-Artificial-Intelligence#-image-generation"></a></p>
<ul>
  <li>🌐 <strong><a href="https://imgsys.org/rankings">⁠Imgsys Rankings</a></strong> - Image Generator Benchmarks / Leaderboards</li>
  <li>⭐ <strong><a href="https://lmarena.ai/">LMArena</a></strong> - Multiple Generators / No Sign-Up / <a href="https://discord.gg/6GXcFg3TH8">Discord</a> / <a href="https://github.com/lm-sys/FastChat">GitHub</a></li>
  <li>⭐ <strong><a href="https://labs.google/fx/tools/image-fx">ImageFX</a></strong>, <a href="https://aistudio.google.com/generate-image">AI Studio</a> or <a href="https://gemini.google.com/">Gemini</a> - Imagen 3 / Imagen 4 (Gemini) / Unlimited / Region-Based / <a href="https://discord.com/invite/googlelabs">Discord</a></li>
  <li>⭐ <strong><a href="https://www.mage.space/">Mage</a></strong> / <a href="https://discord.com/invite/GT9bPgxyFP">Discord</a></li>
  <li>⭐ <strong><a href="https://huggingface.co/spaces/black-forest-labs/FLUX.1-schnell">FLUX.1 Schnell</a></strong>, <a href="https://huggingface.co/spaces/black-forest-labs/FLUX.1-dev">FLUX.1 Dev</a> or <a href="https://huggingface.co/spaces/NihalGazi/FLUX-Pro-Unlimited">FLUX-Pro-Unlimited</a> / Unlimited / No Sign-Up</li>
  <li>⭐ <strong><a href="https://grok.com/">Grok</a></strong> / 25 Per 2 Hours / <a href="https://www.reddit.com/r/grok/">Subreddit</a> / <a href="https://discord.com/invite/kqCc86jM55">Discord</a></li>
  <li><a href="https://www.runcomfy.com/comfyui-web">ComfyUI Online</a> / Unlimited</li>
  <li><a href="https://dezgo.com/">Dezgo</a> / Unlimited / No Sign-Up / <a href="https://discord.com/invite/RQrGpUhPhx">Discord</a></li>
  <li><a href="https://fusionbrain.ai/en/">Fusion Brain</a>, <a href="https://rudalle.ru/">2</a> / Unlimited / <a href="https://t.me/kandinsky21_bot">Telegram Bot</a></li>
  <li><a href="https://designer.microsoft.com/image-creator">Microsoft Designer</a>, <a href="https://www.bing.com/images/create">2</a> / Unlimited</li>
  <li><a href="https://klingai.com/">Kling AI</a> / 366 Monthly / <a href="https://huggingface.co/spaces/Kwai-Kolors/Kolors-Character-With-Flux">Characters</a> / <a href="https://huggingface.co/spaces/Kwai-Kolors/Kolors-Portrait-with-Flux">Portraits</a> / <a href="https://discord.com/invite/8tj8YjSzKr">Discord</a></li>
  <li><a href="https://aigallery.app/">AI Gallery</a> / Unlimited / No Sign-Up</li>
  <li><a href="https://wan.video/">Wan AI</a> / 100 Daily / No Sign-Up</li>
  <li><a href="https://piclumen.com/">PicLumen</a> / 50 Daily / <a href="https://discord.gg/bAycHJgbD8">Discord</a></li>
  <li><a href="https://www.recraft.ai/">Recraft</a> / 50 Daily / <a href="https://discord.gg/recraft">Discord</a></li>
  <li><a href="https://imgsys.org/">imgsys</a> / Unlimited / Compare Generators / No Sign-Up</li>
  <li><a href="https://build.nvidia.com/models?filters=usecase%3Ausecase_image_gen">NVIDIA NIM</a> / 50 Daily / No Sign-Up</li>
  <li><a href="https://hotpot.ai/">Hotpot</a> / 75 Daily / No Sign-Up</li>
  <li><a href="https://demo.bagel-ai.org/">BAGEL</a> / Unlimited</li>
  <li><a href="https://app.prodia.com/playground">Prodia</a> / Unlimited / No Sign-Up / <a href="https://discord.com/invite/495hz6vrFN">Discord</a></li>
  <li><a href="https://pollinations.ai/">Pollinations</a> / Unlimited / No Sign-Up / <a href="https://github.com/fmhy/FMHY/wiki/FMHY%E2%80%90Notes.md#pollinations-note">Notes</a> / <a href="https://discord.gg/k9F7SyTgqn">Discord</a> / <a href="https://www.github.com/pollinations/pollinations">GitHub</a></li>
  <li><a href="https://www.picsynth.me/generation">PicSynth</a> / Unlimited</li>
  <li><a href="https://imagen.exomlapi.com/">Imagen.exo</a> / Unlimited / Imagen 3/3.5</li>
  <li><a href="https://leonardo.ai/">Leonardo</a> / 150 Daily</li>
  <li><a href="https://www.loras.dev/">Loras</a> / Unlimited / <a href="https://github.com/Nutlope/loras-dev">GitHub</a></li>
  <li><a href="https://chatglm.cn/">ChatGLM</a> / Unlimited</li>
  <li><a href="https://www.meta.ai/icebreakers/imagine/">Meta AI</a> / Unlimited</li>
  <li><a href="https://gpt1image.exomlapi.com/">GPT1Image</a> - Unlimited / GPT-Image-1</li>
  <li><a href="https://tensor.art/">TensorArt</a> / 40 Daily / <a href="https://www.reddit.com/r/TensorArt_HUB/">Subreddit</a> / <a href="https://discord.com/invite/qYjANGqBED">Discord</a></li>
  <li><a href="https://www.shakker.ai/">Shakker</a> / 50 Daily / <a href="https://discord.gg/djyP5u3vHY">Discord</a> / <a href="https://docs.google.com/document/d/1PZ6to6Nn995J0o0BbEPhucqge9uyc1acQoNuvWkK6M8/edit#heading=h.kkzhkyyy4ze4">Guide</a></li>
  <li><a href="https://huggingface.co/spaces/stabilityai/stable-diffusion">Stable Diffusion</a> / Unlimited / <a href="https://github.com/Stability-AI/stablediffusion">GitHub</a> / <a href="https://discord.com/invite/stablediffusion">Discord</a></li>
  <li><a href="https://www.unstability.ai/">Unstable Diffusion</a> / 52 Daily</li>
  <li><a href="https://www.seaart.ai/">SeaArt</a> / 40 Daily / <a href="https://discord.com/invite/gUHDU644vU">Discord</a></li>
  <li><a href="https://artgenie.pages.dev/">Art Genie</a> / Unlimited / No Sign-Up</li>
  <li><a href="https://raphael.app/">Raphael</a> / Unlimited / No Sign-Up / Uses Flux.1</li>
  <li><a href="https://cgdream.ai/">CGDream</a> / 770 SDXL / 450 Fast FLUX / 150 FLUX Dev Monthly</li>
  <li><a href="https://hailuoai.video/">Hailuo AI</a> - 100 Daily / <a href="https://discord.com/invite/hvvt8hAye6">Discord</a></li>
  <li><a href="https://pixnova.ai/ai-body-generator/">PixNova AI</a> / Unlimited</li>
  <li><a href="https://chat.oaichat.cc/">ChatK</a> / Unlimited</li>
  <li><a href="https://preview.reve.art/">Reve Image</a> / 20 Daily</li>
  <li><a href="https://editor.imagelabs.net/">ImageLabs</a> / Unlimited / No Sign-Up</li>
  <li><a href="https://chat.qwen.ai/">Qwen</a> / Unlimited</li>
  <li><a href="https://muryou-aigazou.com/">AIGazou</a> / Unlimited</li>
  <li><a href="https://dreamina.capcut.com/ai-tool/home">Dreamina</a> / 50 Daily</li>
  <li><a href="https://perchance.org/ai-text-to-image-generator">Perchance</a>, <a href="https://perchance.org/ai-photo-generator">2</a> / Unlimited / No Sign-Up</li>
  <li><a href="https://getimg.ai/">getimg.ai</a> / 100 Monthly / <a href="https://discord.com/invite/5KsUXSzVwS">Discord</a></li>
  <li><a href="https://firefly.adobe.com/">Adobe Firefly</a> / 25 Monthly / <a href="https://discord.com/invite/dJnsV5s8PZ">Discord</a></li>
  <li><a href="https://app.aitubo.ai/">Aitubo</a> / 25 Daily / <a href="https://discord.gg/qTu6YsRn7F">Discord</a></li>
  <li><a href="https://maze.guru/gallery">Maze Guru</a> / 12 Daily / <a href="https://discord.com/invite/maze-guru-ai-art-anime-social-1007166914801434634">Discord</a></li>
  <li><a href="https://chatgpt.com/">ChatGPT</a> - 3 Daily / <a href="https://discord.com/invite/openai">Discord</a></li>
  <li><a href="https://pixai.art/">PixAI</a> / 5 Daily / <a href="https://discord.com/invite/pixai">Discord</a></li>
  <li><a href="https://fluxpro.art/">FluxPro</a> / 1 Daily / <a href="https://discord.gg/YMmUAvtRva">Discord</a></li>
  <li><a href="https://vivago.ai/">Vivago</a> / 15 Daily / No Sign-Up</li>
  <li><a href="https://www.krea.ai/">Krea</a> / 10 Daily / No Sign-Up / <a href="https://discord.gg/rJurUAR8Kz">Discord</a></li>
  <li><a href="https://labs.google/fx/en/tools/whisk">Whisk</a> - Use Images as Prompts</li>
  <li><a href="https://artoons.vercel.app/">Artoons</a> - Cartoon Style Generator / <a href="https://github.com/sujjeee/artoons">GitHub</a></li>
  <li><a href="https://huggingface.co/spaces/fffiloni/diffusers-image-outpaint">Diffusers Image Outpaint</a> - AI Image Extender</li>
  <li><a href="https://lumalabs.ai/genie">Genie</a> / <a href="https://discord.com/invite/ASbS3EykXm">Discord</a>, <a href="https://github.com/openai/shap-e">Shap-e</a>, <a href="https://github.com/ashawkey/stable-dreamfusion">Stable Dreamfusion</a> or <a href="https://github.com/threestudio-project/threestudio">threestudio</a> / <a href="https://colab.research.google.com/github/threestudio-project/threestudio/blob/main/threestudio.ipynb">Colab</a> / <a href="https://discord.gg/ejer2MAB8N">Discord</a> - 3D Image Generators</li>
  <li><a href="https://lumalabs.ai/interactive-scenes">Interactive Scenes</a> - Generate Interactive Scenes / <a href="https://discord.com/invite/ASbS3EykXm">Discord</a></li>
  <li><a href="https://huggingface.co/spaces/AP123/IllusionDiffusion">Illusion Diffusion</a> - Illusion Artwork Generator</li>
</ul>

<hr />

<h2 id="-local-frontends">▷ Local Frontends</h2>

<p><a href="https://github.com/fmhy/FMHY/wiki/%F0%9F%A4%96-Artificial-Intelligence#-local-frontends"></a></p>
<ul>
  <li>⭐ <strong><a href="https://lykos.ai/">Stability Matrix</a></strong> / <a href="https://discord.com/invite/TUrgfECxHz">Discord</a> / <a href="https://github.com/LykosAI/StabilityMatrix">GitHub</a></li>
  <li>⭐ <strong><a href="https://invoke-ai.github.io/InvokeAI/">Invoke</a> / <a href="https://github.com/invoke-ai/InvokeAI">GitHub</a></strong> / <a href="https://discord.com/invite/ZmtBAhwWhy">Discord</a></li>
  <li>⭐ <strong><a href="https://www.comfy.org/">ComfyUI</a></strong> / <a href="https://www.reddit.com/r/comfyui/">Subreddit</a> / <a href="https://discord.gg/comfyorg">Discord</a> / <a href="https://github.com/comfyanonymous/ComfyUI">GitHub</a></li>
  <li>⭐ <strong><a href="https://github.com/lllyasviel/Fooocus">Fooocus</a></strong>, <a href="https://github.com/MoonRide303/Fooocus-MRE">2</a> / <a href="https://colab.research.google.com/github/lllyasviel/Fooocus/blob/main/fooocus_colab.ipynb">Colab</a></li>
  <li>⭐ <strong><a href="https://github.com/MochiDiffusion/MochiDiffusion">Mochi Diffusion</a></strong> - Stable Diffusion for Mac / <a href="https://discord.com/invite/x2kartzxGv">Discord</a></li>
  <li>⭐ <strong><a href="https://diffusionbee.com/">DiffusionBee</a></strong> - Stable Diffusion for Mac / <a href="https://github.com/divamgupta/diffusionbee-stable-diffusion-ui">GitHub</a> / <a href="https://discord.com/invite/t6rC5RaJQn">Discord</a></li>
  <li>⭐ <strong><a href="https://github.com/AUTOMATIC1111/stable-diffusion-webui">Automatic1111</a></strong> / <a href="https://github.com/anapnoe/stable-diffusion-webui-ux">Fork</a>, <a href="https://github.com/vladmandic/sdnext">2</a> / <a href="https://github.com/AUTOMATIC1111/stable-diffusion-webui/wiki/Online-Services#google-colab">Colab</a> / <a href="https://github.com/AbdullahAlfaraj/Auto-Photoshop-StableDiffusion-Plugin">Photoshop</a> / <a href="https://github.com/ThereforeGames/unprompted">Templates</a> / <a href="https://github.com/Coyote-A/ultimate-upscale-for-automatic1111">Upscaling</a>, <a href="https://github.com/pkuliyi2015/multidiffusion-upscaler-for-automatic1111">2</a></li>
  <li><a href="https://github.com/Stability-AI/StableStudio">StableStudio</a></li>
  <li><a href="https://easydiffusion.github.io/">Easy Diffusion</a> / <a href="https://discord.com/invite/u9yhsFmEkB">Discord</a> / <a href="https://github.com/easydiffusion/easydiffusion">GitHub</a></li>
  <li><a href="https://makeayo.com/">Makeayo</a> / <a href="https://discord.gg/FbdSxdeV8m">Discord</a></li>
  <li><a href="https://github.com/Woolverine94/biniou">biniou</a></li>
  <li><a href="https://sygil-dev.github.io/sygil-webui/">Sygil WebUI</a> / <a href="https://colab.research.google.com/github/Sygil-Dev/sygil-webui/blob/main/Web_based_UI_for_Stable_Diffusion_colab.ipynb">Colab</a> / <a href="https://discord.com/invite/ttM8Tm6wge">Discord</a> / <a href="https://github.com/Sygil-Dev/sygil-webui">GitHub</a></li>
  <li><a href="https://ddpn08.github.io/Radiata/en/">Radiata</a> / <a href="https://github.com/ddPn08/Radiata">GitHub</a></li>
  <li><a href="https://github.com/lllyasviel/stable-diffusion-webui-forge">SD WebUI Forge</a></li>
  <li><a href="https://github.com/patientx/ComfyUI-Zluda">ComfyUI-Zluda</a></li>
</ul>

<hr />

<h2 id="-guides--tools">▷ Guides / Tools</h2>

<p><a href="https://github.com/fmhy/FMHY/wiki/%F0%9F%A4%96-Artificial-Intelligence#-guides--tools"></a></p>
<ul>
  <li>🌐 <strong><a href="https://github.com/Baiyuetribe/paper2gui/blob/main/README_en.md">Paper2GUI</a></strong>, <a href="https://rentry.co/sdg-link">sdg-link</a>, <a href="https://rentry.org/LocalModelsLinks">LocalModelsLinks</a>, <a href="https://sdtools.org/">SDTools</a> or <a href="https://docs.google.com/spreadsheets/d/1zYJUM-srhgIA7wrj4Pe4QqepAsHIEC00DydoTPv4PWg/edit#gid=0">AI Creation Tools</a> - AI Image Resources</li>
  <li>🌐 <strong><a href="https://civitai.com/">Civitai</a></strong> - SD Model Index / <a href="https://www.reddit.com/r/civitai/">Subreddit</a> / <a href="https://discord.gg/UwX5wKwm6c">Discord</a> / <a href="https://github.com/civitai/civitai">GitHub</a></li>
  <li>🌐 <strong><a href="https://promptomania.com/">promptoMANIA</a></strong> - Prompt Indexes</li>
  <li>⭐ <strong><a href="https://sweet-hall-e72.notion.site/A-Traveler-s-Guide-to-the-Latent-Space-85efba7e5e6a40e5bd3cae980f30235f">A Traveler’s Guide to the Latent Space</a></strong> - AI Art Guide</li>
  <li>⭐ <strong><a href="https://huggingface.co/spaces/pharmapsychotic/CLIP-Interrogator">CLIP Interrogator</a></strong> / <a href="https://huggingface.co/spaces/fffiloni/CLIP-Interrogator-2">2</a> - Determine Likely Used Image Prompts / <a href="https://colab.research.google.com/github/pharmapsychotic/clip-interrogator/blob/main/clip_interrogator.ipynb">Colab</a>, <a href="https://colab.research.google.com/github/pharmapsychotic/clip-interrogator/blob/open-clip/clip_interrogator.ipynb">2</a></li>
  <li><a href="https://github.com/adieyal/sd-dynamic-prompts">SD Dynamic Prompts</a> - Extension for Automatic1111</li>
  <li><a href="https://stablehorde.net/">AI Horde</a> - Distributed Network of GPUs running Stable Diffusion / <a href="https://aqualxx.github.io/stable-ui/">Interface</a>, <a href="https://tinybots.net/artbot">2</a>, <a href="https://artificial-art.eu/">3</a> / <a href="https://discord.gg/3DxrhksKzn">Discord</a> / <a href="https://github.com/Haidra-Org/AI-Horde">GitHub</a></li>
  <li><a href="https://www.iopaint.com/">IOPaint</a> - Image Fill / Item Removal / <a href="https://colab.research.google.com/drive/1TKVlDZiE3MIZnAUMpv2t_S4hLr6TUY1d?usp=sharing">Colab</a> / <a href="https://github.com/Sanster/IOPaint">GitHub</a></li>
  <li><a href="https://discord.com/invite/unstablediffusion">Unstable Diffusion</a> - AI Image Community</li>
  <li><a href="https://microsoft.github.io/generative-ai-for-beginners/">Generative AI for Beginners</a> - Generative AI Guides</li>
</ul>

<hr />

<h2 id="-image-restoration">▷ <a href="https://www.reddit.com/r/FREEMEDIAHECKYEAH/wiki/img-tools#wiki_.25B7_upscale_.2F_restore">Image Restoration</a></h2>

<p><a href="https://github.com/fmhy/FMHY/wiki/%F0%9F%A4%96-Artificial-Intelligence#-image-restoration"></a></p>

<hr />

<h2 id="-audio-generation">► Audio Generation</h2>

<p><a href="https://github.com/fmhy/FMHY/wiki/%F0%9F%A4%96-Artificial-Intelligence#-audio-generation"></a></p>
<ul>
  <li>⭐ <strong><a href="https://www.riffusion.com/">Riffusion</a></strong> / <a href="https://discord.gg/riffusion-1053034685590143047">Discord</a></li>
  <li>⭐ <strong><a href="https://suno.com/">Suno</a></strong> or <a href="https://suno.exomlapi.com/">Suno.exo</a> / <a href="https://sunoaiwiki.com/en">Guide</a> / <a href="https://discord.com/invite/suno">Discord</a></li>
  <li><a href="https://labs.google/fx/tools/music-fx">MusicFX</a> / Region-Based</li>
  <li><a href="https://tones.wolfram.com/">WolframTones</a> / No Sign-Up</li>
  <li><a href="https://www.stableaudio.com/">Stable Audio</a> / <a href="https://discord.com/invite/stablediffusion">Discord</a></li>
  <li><a href="https://www.udio.com/">Udio</a> / <a href="https://discord.gg/udio">Discord</a></li>
  <li><a href="https://fredericbriolet.com/avg/">audio visual generator</a> / No Sign-Up</li>
  <li><a href="https://www.fakemusicgenerator.com/">Fake Music Generator</a> / No Sign-Up</li>
  <li><a href="https://huggingface.co/spaces/facebook/MusicGen">MusicGen</a> / No Sign-Up / <a href="https://colab.research.google.com/drive/1ECmNEoXk8kvnLEMBMF2LY82E7XmIG4yu">Colab</a> / <a href="https://github.com/facebookresearch/audiocraft/blob/main/docs/MUSICGEN.md">GitHub</a></li>
  <li><a href="https://sonauto.ai/">Sonauto</a> / <a href="https://discord.gg/pfXar3ChH8">Discord</a></li>
  <li><a href="https://www.beatoven.ai/">Beatoven.ai</a> / <a href="https://discord.gg/8nXq56wwJM">Discord</a></li>
  <li><a href="https://waveformer.replicate.dev/">Waveformer</a> / <a href="https://github.com/fofr/waveformer">GitHub</a></li>
  <li><a href="https://soundraw.io/">SOUNDRAW</a> / No Sign-Up</li>
  <li><a href="https://mubert.com/">Mubert</a></li>
  <li><a href="https://aiva.ai/">AIVA</a> / <a href="https://discordapp.com/invite/ypDnFXN">Discord</a></li>
  <li><a href="https://boomy.com/">Boomy</a> / <a href="https://discord.gg/DNHQXeJegp">Discord</a></li>
  <li><a href="https://melobytes.com/en">Melobytes</a></li>
  <li><a href="https://huggingface.co/spaces/enzostvs/ai-jukebox">AI Jukebox</a> / No Sign-Up</li>
  <li><a href="https://home.eapy.io/">Eapy</a> - MIDI Sample Generator</li>
  <li><a href="https://output.com/products/pack-generator">Pack Generator</a> - Sample Pack Generator</li>
  <li><a href="https://hkchengrex.com/MMAudio/">MMAudio</a> - Generate Audio for Silent Videos / <a href="https://huggingface.co/spaces/hkchengrex/MMAudio">Demo</a> / <a href="https://colab.research.google.com/drive/1TAaXCY2-kPk4xE4PwKB3EqFbSnkUuzZ8?usp=sharing">Colab</a> / <a href="https://github.com/hkchengrex/MMAudio">GitHub</a></li>
  <li><a href="https://www.drumloopai.com/">Drumloop AI</a> - Drum Loop Generator</li>
  <li><a href="https://www.wombo.ai/">WOMBO</a> - AI Powered Lip Sync</li>
</ul>

<hr />

<h2 id="-text-to-speech">▷ Text to Speech</h2>

<p><a href="https://github.com/fmhy/FMHY/wiki/%F0%9F%A4%96-Artificial-Intelligence#-text-to-speech"></a></p>
<ul>
  <li>⭐ <strong><a href="https://www.text-to-speech.online/">TTS Online</a></strong> / No Sign-Up</li>
  <li><a href="https://uberduck.ai/">Uberduck</a> / <a href="https://discord.gg/uberduck-768215836665446480">Discord</a></li>
  <li><a href="https://illuminate.google.com/">Google Illuminate</a> - Generate AI Conversations</li>
  <li><a href="https://elevenlabs.io/">ElevenLabs</a> / No Sign-Up / <a href="https://discord.gg/elevenlabs">Discord</a> / <a href="https://github.com/elevenlabs">GitHub</a></li>
  <li><a href="https://ttsmp3.com/">ttsMP3</a> / No Sign-Up</li>
  <li><a href="https://fakeyou.com/">FakeYou</a> / No Sign-Up / <a href="https://discord.gg/fakeyou">Discord</a></li>
  <li><a href="https://luvvoice.com/">Luvvoice</a> / No Sign-Up</li>
  <li><a href="https://ttsmaker.com/">TTSMaker</a> / No Sign-Up</li>
  <li><a href="https://github.com/neonbjb/tortoise-tts">Tortoise TTS</a> / No Sign-Up</li>
  <li><a href="https://huggingface.co/spaces/suno/bark">Bark</a> / No Sign-Up / <a href="https://colab.research.google.com/drive/1eJfA2XUa-mXwdMy7DoYKVYHI1iTd9Vkt?usp=sharing">Colab</a> / <a href="https://github.com/suno-ai/bark">GitHub</a> / <a href="https://discord.com/invite/J2B2vsjKuE">Discord</a></li>
  <li><a href="https://ttsopenai.com/">TTSOpenAI</a> or <a href="https://www.openai.fm/">OpenAI.fm</a> / No Sign-Up / OpenAI’s Bot</li>
  <li><a href="https://ai-speaker.net/">AI Speaker</a> / No Sign-Up</li>
  <li><a href="https://github.com/rany2/edge-tts">edge-tts</a> / No Sign-Up / Python Module</li>
  <li><a href="https://github.com/index-tts/index-tts">IndexTTS</a> / No Sign-Up</li>
  <li><a href="https://www.hailuo.ai/audio/">Voices</a></li>
  <li><a href="https://texttospeech.io/">TextToSpeech.io</a></li>
  <li><a href="https://github.com/RVC-Boss/GPT-SoVITS">⁠GPT-SoVITS</a> / No Sign-Up</li>
  <li><a href="https://lazypy.ro/tts/">LazyPy</a> / No Sign-Up / <a href="https://github.com/chrisjp/tts">GitHub</a></li>
  <li><a href="https://huggingface.co/spaces/hexgrad/Kokoro-TTS">Kokoro TTS</a> / No Sign-Up / <a href="https://discord.gg/QuGxSWBfQy">Discord</a> / <a href="https://github.com/hexgrad/kokoro">GitHub</a></li>
  <li><a href="https://ondoku3.com/en/">Ondoku</a> / No Sign-Up</li>
  <li><a href="https://huggingface.co/spaces/ResembleAI/Chatterbox">⁠Chatterbox</a> / No Sign-Up / <a href="https://github.com/resemble-ai/chatterbox">GitHub</a></li>
  <li><a href="https://anyvoicelab.com/long-form-text-to-speech-converter/">AnyVoiceLab</a> / No Sign-Up</li>
  <li><a href="https://github.com/jasonppy/VoiceCraft">VoiceCraft</a> / <a href="https://colab.research.google.com/drive/1IOjpglQyMTO2C3Y94LD9FY0Ocn-RJRg6?usp=sharing">Colab</a></li>
  <li><a href="https://github.com/netease-youdao/EmotiVoice">EmotiVoice</a></li>
  <li><a href="https://fish.audio/">Fish Audio</a> / <a href="https://github.com/fishaudio">GitHub</a></li>
  <li><a href="https://github.com/gitmylo/audio-webui">Audio-WebUI</a> / No Sign-Up / <a href="https://colab.research.google.com/github/gitmylo/audio-webui/blob/master/audio_webui_colab.ipynb">Colab</a> / <a href="https://discord.gg/NB86C3Szkg">Discord</a></li>
  <li><a href="https://www.vanillavoice.com/">VanillaVoice</a> / No Sign-Up</li>
  <li><a href="https://ttsfree.com/">TTSFree</a> / No Sign-Up</li>
  <li><a href="https://lovo.ai/">LOVO</a> / <a href="https://discord.gg/vWHw5ZKEmk">Discord</a></li>
  <li><a href="https://soundoftext.com/">SoundofText</a> / No Sign-Up</li>
  <li><a href="https://freetts.com/">FreeTTS</a></li>
  <li><a href="https://www.hume.ai/">Hume</a> / No Sign-Up</li>
  <li><a href="https://voicemaker.in/">Voicemaker</a> / No Sign-Up</li>
  <li><a href="https://www.naturalreaders.com/online/">NaturalReaders</a> / No Sign-Up</li>
  <li><a href="https://github.com/coqui-ai/tts">TTS</a> / <a href="https://discord.gg/5eXr5seRrv">Discord</a></li>
  <li><a href="https://huggingface.co/spaces/skytnt/moe-tts">Moe TTS</a> / No Sign-Up / <a href="https://colab.research.google.com/drive/14Pb8lpmwZL-JI5Ub6jpG4sz2-8KS0kbS?usp=sharing">Colab</a></li>
</ul>

<hr />

<h2 id="-voice-change--clone">▷ Voice Change / Clone</h2>

<p><a href="https://github.com/fmhy/FMHY/wiki/%F0%9F%A4%96-Artificial-Intelligence#-voice-change--clone"></a></p>
<ul>
  <li>⭐ <strong><a href="https://applio.org/">Applio</a></strong> - Voice Cloning / No Sign-Up / <a href="https://discord.gg/urxFjYmYYh">Discord</a> / <a href="https://github.com/IAHispano/Applio">GitHub</a></li>
  <li>⭐ <strong><a href="https://www.weights.com/">Weights</a></strong> / <a href="https://www.reddit.com/r/weights/">Subreddit</a> / <a href="https://discord.gg/weights">Discord</a> or <a href="https://voice-models.com/">Voice Models</a> / <a href="https://discord.gg/3WJ8r6Bf5A">Discord</a> - AI Voice Models and Guides</li>
  <li>⭐ <strong><a href="https://github.com/RVC-Project/Retrieval-based-Voice-Conversion-WebUI/blob/main/docs/en/README.en.md">RVC V2</a></strong> - RVC V2 Voice Cloning (Locally) / <a href="https://colab.research.google.com/github/RVC-Project/Retrieval-based-Voice-Conversion-WebUI/blob/main/Retrieval_based_Voice_Conversion_WebUI_v2.ipynb">Colab</a> / <a href="https://discord.gg/HcsmBBGyVk">Discord</a></li>
  <li>⭐ <strong><a href="https://github.com/w-okada/voice-changer/blob/master/docs_i18n/README_en.md">Voice Changer</a></strong> - Real-Time Voice Changer (W-Okada) / <a href="https://rentry.co/VoiceChangerGuide">Guide</a> / <a href="https://colab.research.google.com/github/w-okada/voice-changer/blob/master/Realtime_Voice_Changer_on_Colab.ipynb">Colab</a></li>
  <li>⭐ <strong><a href="https://huggingface.co/spaces/TheStinger/Ilaria_RVC">Ilaria RVC</a></strong> - RVC V2 Voice Cloning (Cloud/Colab) / No Sign-Up</li>
  <li><a href="https://www.weights.com/replay">Replay</a> - RVC Desktop App / <a href="https://discord.gg/A5rgNwDRd4">Discord</a></li>
  <li><a href="https://anyvoicelab.com/voice-cloning/">AnyVoiceLab</a> - Voice Cloning / No Sign-Up</li>
  <li><a href="https://www.allvoicelab.com/">AllVoiceLab</a> - Voice Cloning</li>
  <li><a href="https://playground.zyphra.com/audio">Zyphra</a> - Voice Cloning / <a href="https://github.com/Zyphra/Zonos">GitHub</a></li>
</ul>

<hr />

<h2 id="-voice-removal--separation">▷ Voice Removal / Separation</h2>

<p><a href="https://github.com/fmhy/FMHY/wiki/%F0%9F%A4%96-Artificial-Intelligence#-voice-removal--separation"></a></p>
<ul>
  <li>🌐 <strong><a href="https://mvsep.com/quality_checker/multisong_leaderboard">MultiSong Leaderboard</a></strong> - Music &amp; Voice Separation AI Leaderboards</li>
  <li>⭐ <strong><a href="https://huggingface.co/spaces/TheStinger/UVR5_UI">UVR5 UI</a></strong></li>
  <li>⭐ <strong><a href="https://mvsep.com/">MVSEP</a></strong> / <a href="https://github.com/fmhy/FMHY/wiki/FMHY%E2%80%90Notes.md#mvsep-note">Decrease Queue Time</a></li>
  <li><a href="https://www.bandlab.com/splitter">Splitter</a> / Sign-Up Required</li>
  <li><a href="https://github.com/jarredou/MVSEP-MDX23-Colab_v2">MDX23</a></li>
  <li><a href="https://github.com/jarredou/Music-Source-Separation-Training-Colab-Inference">Music-Source-Separation</a></li>
  <li><a href="https://vocalremover.org/">VocalRemover</a></li>
  <li><a href="https://colab.research.google.com/github/NaJeongMo/Colaboratory-Notebook-for-Ultimate-Vocal-Remover/blob/main/Vocal%20Remover%205_arch.ipynb">Ultimate Vocal Remover</a></li>
  <li><a href="https://www.remove-vocals.com/">Remove Vocals</a> / <a href="https://www.acapella-extractor.com/">2</a></li>
  <li><a href="https://vocali.se/en">vocali</a></li>
  <li><a href="https://www.mazmazika.com/">mazmazika</a></li>
  <li><a href="https://unmix.audio/">Vocal Remover</a></li>
  <li><a href="https://ezstems.com/">ezstems</a></li>
</ul>

<hr />

<h2 id="-machine-learning">► <a href="https://www.reddit.com/r/FREEMEDIAHECKYEAH/wiki/dev-tools#wiki_.25B7_machine_learning">Machine Learning</a></h2>

<p><a href="https://github.com/fmhy/FMHY/wiki/%F0%9F%A4%96-Artificial-Intelligence#-machine-learning"></a></p>]]></content><author><name></name></author><category term="scratchpad" /></entry></feed>