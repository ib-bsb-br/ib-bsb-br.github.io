<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
      
        random python code to examine - infoBAG
      
    </title>
    <meta name="title" content="random python code to examine - infoBAG" />
    <meta name="description" content="">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://ib.bsb.br/random-python-code-to-examine/">
    <meta property="og:title" content="random python code to examine - infoBAG">
    <meta property="og:description" content="">
    <meta property="og:image" content="/favicon.ico">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://ib.bsb.br/random-python-code-to-examine/">
    <meta name="twitter:title" content="random python code to examine - infoBAG">
    <meta name="twitter:description" content="">
    <meta name="twitter:image" content="/favicon.ico">
    <link rel="canonical" href="https://ib.bsb.br/random-python-code-to-examine/">
    <link rel="alternate" type="application/rss+xml" title="infoBAG" href="https://ib.bsb.br/rss.xml">
    
      <meta name="keywords" content="scratchpad">
      
        <meta property="article:tag" content="scratchpad">
      
    
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    
    <link rel="stylesheet" href="/style.css">
  </head>
  <body class="post-content-body">
    <header class="header-container">
      <nav aria-label="Main navigation" class="header-content">
        <a href="/" aria-label="Home">
          <img src="/favicon.ico" alt="Home" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
        <a href="/tags" aria-label="Tags">
          <img src="/assets/Label.gif" alt="Tags" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
        <a href="/send" aria-label="send">
          <img src="/assets/rot.gif" alt="send" class="favicon search-link" width="32" height="32" loading="lazy">
        </a> 
        <a href="/created" aria-label="archive created">
          <img src="/assets/Loose_Stone_Pile.gif" alt="archive created" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
        <a href="/events" aria-label="Events">
          <img src="/assets/Paralyse_Rune.gif" alt="Events" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
        <a href="/modified" aria-label="archive modified">
          <img src="/assets/Hole_(Rock).gif" alt="archive modified" class="favicon search-link" width="32" height="32" loading="lazy">
        </a>
    </nav>
      <h5 class="post-title">
        <a href="#bottom-of-page" aria-label="Go to bottom">
          random python code to examine
        </a>
      </h5>
      <div class="post-meta">
        <time datetime="2025-04-04T00:00:00+00:00" class="post-date">
          04 Apr 2025
        </time>
        
          <span class="post-updated">
            ↣
            <time datetime="2025-04-04T10:08:33+00:00">
              04 Apr 2025
            </time>
          </span>
        
        
          <p class="post-slug">
            Slug: <a href="https://ib.bsb.br/random-python-code-to-examine" class="tag">random-python-code-to-examine</a>
          </p>
        
        
          <p class="post-tags">
            Tags:
            
              <a href="https://ib.bsb.br/tags/#scratchpad" class="tag">scratchpad</a>
            
          </p>
        
      </div>
      <div class="post-actions">
        <div class="page-stats mt-3" role="status" aria-label="Page statistics">
      
      <span class="badge bg-primary">
        11952 characters
      </span>
        <span class="separator mx-2" aria-hidden="true">•</span>
        <span class="badge bg-primary">
        1198 words
      </span>
      </div>
        <div class="action-buttons d-flex flex-wrap gap-2">
          
            
              <form action="https://github.com/ib-bsb-br/ib-bsb-br.github.io/edit/main/_posts/2025-04-04-random-python-code-to-examine.md"
                    method="GET"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="d-inline-block">
                <button type="submit" class="btn btn-danger" aria-label="Edit page content">
                  <span class="button-text">Improve this page?</span>
                  <span class="info-text">aberto.</span>
                </button>
              </form>
            
            <form action="https://github.com/ib-bsb-br/ib-bsb-br.github.io/commits/main/_posts/2025-04-04-random-python-code-to-examine.md"
                  method="GET"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="d-inline-block">
              <button type="submit" class="btn btn-danger" aria-label="View page revision history">
                View revision history
              </button>
            </form>
          
        </div>
      </div>
    </header>
    <main class="content">
      <article class="post-wrapper">
        <div class="post-content-body">
          
<ul><li><a href="#security-validation">Security validation</a></li><li><a href="#get-api-key-from-environment-variables">Get API key from environment variables</a></li><li><a href="#dependency-verify-api-key">Dependency: Verify API Key</a></li><li><a href="#fastapi-application">FastAPI application</a></li><li><a href="#data-models">Data models</a></li><li><a href="#-add-this-pydantic-model-for-the-url-request-">— Add this Pydantic model for the URL request —</a></li><li><a href="#-end-of-addition-">— End of addition —</a></li><li><a href="#-add-this-new-endpoint-function-">— Add this new endpoint function —</a></li></ul>
          <p>import io
import os
import uuid
from contextlib import asynccontextmanager
from pathlib import Path
from typing import Optional, List
from urllib.parse import urlparse # &lt;— Add this import</p>

<p>import openai
import requests # &lt;— Add this import
from fastapi import FastAPI, UploadFile, File, HTTPException, status, Depends, BackgroundTasks, Form, Query
from fastapi.responses import FileResponse
from fastapi.security import HTTPBearer, HTTPAuthorizationCredentials
from pydantic import BaseModel
from sqlalchemy.orm import Session
from fastapi.staticfiles import StaticFiles</p>

<p>from core.markitdown import MarkItDown
from core.base import DocumentConverterResult
from core.model_manager import ModelConfigurator
from repository.db import get_db, Job</p>
  <h1 id="security-validation">
    
    
     <a href="#security-validation">#</a><a href="#" aria-label="Back to top">Security validation</a>
        
    
  </h1>
      
<p>security = HTTPBearer()</p>
  <h1 id="get-api-key-from-environment-variables">
    
    
     <a href="#get-api-key-from-environment-variables">#</a><a href="#" aria-label="Back to top">Get API key from environment variables</a>
        
    
  </h1>
      
<p>API_KEY = os.getenv(“MARKIT_API_KEY”, “secret-key”)
OUTPUT_DIR = Path(“output”)
OUTPUT_DIR.mkdir(exist_ok=True)
MINER_RUNNING_DEVICE = os.getenv(“MINER_RUNNING_DEVICE”, “cpu”)
port = int(os.getenv(“PORT”, 20926))</p>
  <h1 id="dependency-verify-api-key">
    
    
     <a href="#dependency-verify-api-key">#</a><a href="#" aria-label="Back to top">Dependency: Verify API Key</a>
        
    
  </h1>
      
<p>async def verify_api_key(
        credentials: HTTPAuthorizationCredentials = Depends(security)
):
    if credentials.scheme != “Bearer” or credentials.credentials != API_KEY:
        raise HTTPException(
            status_code=status.HTTP_401_UNAUTHORIZED,
            detail=”Invalid API Key”,
        )
    return credentials</p>

<p>@asynccontextmanager
async def lifespan(app: FastAPI):
    “"”Lifespan management for service startup and shutdown”””
    try:
        # Initialize models
        configurator = ModelConfigurator(
            device=os.getenv(“MINERU_DEVICE”, MINER_RUNNING_DEVICE),
            use_modelscope=os.getenv(“MINERU_USE_MODELSCOPE”, “true”).lower() in (“true”, “1”)
        )
        configurator.setup_environment()
        print(“Model initialization complete”)
    except Exception as e:
        print(f”Model initialization failed: {str(e)}”)
        raise</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>yield  # During application runtime

# Cleanup logic (optional)
print("Service shutting down, cleaning up resources...")
</code></section></div></div>
  <h1 id="fastapi-application">
    
    
     <a href="#fastapi-application">#</a><a href="#" aria-label="Back to top">FastAPI application</a>
        
    
  </h1>
      
<p>app = FastAPI(lifespan=lifespan)
if not os.path.exists(“output/images”):
    os.makedirs(“output/images”, exist_ok=True) # Use makedirs and exist_ok=True
app.mount(“/images”, StaticFiles(directory=”output/images”), name=”images”)</p>
  <h1 id="data-models">
    
    
     <a href="#data-models">#</a><a href="#" aria-label="Back to top">Data models</a>
        
    
  </h1>
      
<p>class JobStatusResponse(BaseModel):
    job_id: str
    status: str
    filename: str
    params: dict
    error: Optional[str]</p>

<p>class JobResultResponse(BaseModel):
    job_id: str
    download_url: str
    format: str</p>
  <h1 id="-add-this-pydantic-model-for-the-url-request-">
    
    
     <a href="#-add-this-pydantic-model-for-the-url-request-">#</a><a href="#" aria-label="Back to top">— Add this Pydantic model for the URL request —</a>
        
    
  </h1>
      
<p>class UrlUploadRequest(BaseModel):
    url: str
    mode: str = “simple”</p>
  <h1 id="-end-of-addition-">
    
    
     <a href="#-end-of-addition-">#</a><a href="#" aria-label="Back to top">— End of addition —</a>
        
    
  </h1>
      

<p>oai_client = None
if os.getenv(“MARKIFY_LLM_API_KEY”, None) and os.getenv(“MARKIFY_LLM_API_BASE”, None):
    oai_client = openai.OpenAI(
        api_key=os.getenv(“MARKIFY_LLM_API_KEY”, None),
        base_url=os.getenv(“MARKIFY_LLM_API_BASE”, None)
    )</p>

<p>def process_file(db: Session, job_id: str, file_content: bytes, filename: str, mode: str = “simple”):
    “"”Background task to process various files”””
    job = db.query(Job).filter(Job.id == job_id).first() # Get job first
    if not job:
        print(f”Error: Job {job_id} not found in process_file”) # Add logging
        # Optionally, handle this case, e.g., log and exit,
        # but avoid committing if job doesn’t exist.
        return</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>try:
    # Update task status to processing
    job.status = "processing"
    db.commit()
    db.refresh(job) # Refresh to get updated state

    # Create processor
    markitdown = MarkItDown(mode=mode,
                            llm_client=oai_client,
                            llm_model=os.getenv("MARKIFY_LLM_MODEL", None)
                            )

    # Process based on input type
    if filename.endswith('.md'):
        result = DocumentConverterResult(text_content=file_content.decode('utf-8'))
    else:
        # Convert bytes content to file stream
        file_stream = io.BytesIO(file_content)
        # Pass the base_url for image path replacement if needed by converters
        result = markitdown.convert_stream(file_stream, base_url=f"http://localhost:{port}")

    # Save result to file
    output_file = OUTPUT_DIR / f"{job_id}.md"
    with open(output_file, "w", encoding="utf-8") as f:
        f.write(result.text_content)

    # Update task status to completed
    job.status = "completed"
    job.result_file = str(output_file)
    db.commit()

except Exception as e:
    # Update task status to failed ONLY IF job exists
    print(f"Error processing job {job_id}: {type(e).__name__}: {str(e)}") # Add logging
    job.status = "failed"
    job.error = f"{type(e).__name__}: {str(e)}"
    db.commit()
</code></section></div></div>

<p>@app.post(“/api/jobs”, status_code=status.HTTP_202_ACCEPTED)
async def upload_file(
        background_tasks: BackgroundTasks,
        file: UploadFile = File(…),
        mode: str = Form(“simple”),
        db: Session = Depends(get_db)
):
    “"”Upload file and start conversion task”””
    # Generate task ID
    job_id = str(uuid.uuid4())</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>try:
    # Read file content
    content = await file.read()

    # Create task record
    job = Job(
        id=job_id,
        filename=file.filename,
        params={"mode": mode},
        status="pending"
    )
    db.add(job)
    db.commit()
    db.refresh(job) # Get the committed state

    # Start background task
    background_tasks.add_task(
        process_file,
        db=db,
        job_id=job_id,
        file_content=content,
        filename=file.filename,
        mode=mode
    )

    return {"job_id": job_id}

except Exception as e:
    # If job creation failed, maybe rollback or log specifically
    print(f"Error during file upload for job {job_id}: {e}") # Add logging
    # Consider removing the potentially failed job entry if appropriate
    # db.rollback()
    raise HTTPException(
        status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
        detail=f"File upload failed: {str(e)}"
    )
</code></section></div></div>
  <h1 id="-add-this-new-endpoint-function-">
    
    
     <a href="#-add-this-new-endpoint-function-">#</a><a href="#" aria-label="Back to top">— Add this new endpoint function —</a>
        
    
  </h1>
      
<p>@app.post(“/api/jobs/url”, status_code=status.HTTP_202_ACCEPTED)
async def upload_url(
        request_data: UrlUploadRequest, # Use the Pydantic model
        background_tasks: BackgroundTasks,
        db: Session = Depends(get_db)
):
    “"”Submit URL and start conversion task”””
    job_id = str(uuid.uuid4())
    url = request_data.url
    mode = request_data.mode</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>try:
    # Download content from URL
    print(f"Attempting to download URL: {url}") # Add logging
    response = requests.get(url, stream=True, timeout=30) # Add timeout
    response.raise_for_status()  # Raise exception for bad status codes (4xx or 5xx)

    # Read content
    content = response.content # Read all content into memory for now
    print(f"Successfully downloaded {len(content)} bytes from {url}") # Add logging

    # Try to get filename from Content-Disposition header
    filename = None
    content_disposition = response.headers.get('Content-Disposition')
    if content_disposition:
        filenames = re.findall('filename="?([^"]+)"?', content_disposition)
        if filenames:
            filename = filenames[0]

    # Fallback to getting filename from URL path
    if not filename:
        parsed_url = urlparse(url)
        filename = os.path.basename(parsed_url.path)
        if not filename: # Handle case where URL path ends in /
             filename = f"downloaded_{job_id}" # Default filename

    print(f"Determined filename: {filename}") # Add logging

    # Create task record
    job = Job(
        id=job_id,
        filename=filename, # Use derived filename
        params={"mode": mode, "source_url": url}, # Store URL in params
        status="pending"
    )
    db.add(job)
    db.commit()
    db.refresh(job)

    # Start background task
    background_tasks.add_task(
        process_file,
        db=db,
        job_id=job_id,
        file_content=content, # Pass downloaded content
        filename=filename,    # Pass derived filename
        mode=mode
    )

    return {"job_id": job_id}

except requests.exceptions.RequestException as e:
    print(f"Failed to download URL {url}: {e}") # Add logging
    raise HTTPException(
        status_code=status.HTTP_400_BAD_REQUEST,
        detail=f"Failed to download URL: {str(e)}"
    )
except Exception as e:
    # Catch other potential errors during job creation/dispatch
    print(f"Error processing URL upload for job {job_id}: {e}") # Add logging
    # db.rollback() # Consider rollback if job creation failed mid-way
    raise HTTPException(
        status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
        detail=f"URL processing failed: {str(e)}"
    ) # --- End of new endpoint function ---
</code></section></div></div>

<p>@app.get(“/api/jobs”, response_model=List[JobStatusResponse])
async def list_jobs(
        db: Session = Depends(get_db),
        page: int = Query(0, ge=0, description=”Page number”),
        limit: int = Query(10, gt=0, le=100, description=”Items per page, default 10, max 100”)):
    “"”Query task status list”””
    jobs = db.query(Job).order_by(Job.created_at.desc()).limit(limit).offset(page * limit).all()</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code># --- Modify this part to return 200 with empty list instead of 404 ---
# if not jobs:
#     raise HTTPException(
#         status_code=status.HTTP_404_NOT_FOUND,
#         detail="No jobs found" # Changed detail message
#     )
# --- End of modification ---

response_list = []
for job in jobs:
    response_list.append(JobStatusResponse(
        job_id=job.id,
        status=job.status,
        filename=job.filename,
        params=job.params,
        error=job.error
        # Consider adding created_at if needed by frontend:
        # created_at=job.created_at.isoformat() if job.created_at else None
    ))
return response_list # Returns empty list [] if no jobs found, with 200 OK status
</code></section></div></div>

<p>@app.get(“/api/jobs/{job_id}”, response_model=JobStatusResponse)
async def get_job_status(
        job_id: str,
        db: Session = Depends(get_db)
):
    “"”Query task status”””
    job = db.query(Job).filter(Job.id == job_id).first()
    if not job:
        raise HTTPException(
            status_code=status.HTTP_404_NOT_FOUND,
            detail=”Job not found”
        )</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>return JobStatusResponse(
    job_id=job.id,
    status=job.status,
    filename=job.filename,
    params=job.params,
    error=job.error
    # Consider adding created_at if needed by frontend:
    # created_at=job.created_at.isoformat() if job.created_at else None
)
</code></section></div></div>

<p>@app.get(“/api/jobs/{job_id}/result”)
async def download_result(
        job_id: str,
        db: Session = Depends(get_db)
):
    “"”Download task result file”””
    job = db.query(Job).filter(Job.id == job_id).first()
    if not job:
        raise HTTPException(
            status_code=status.HTTP_404_NOT_FOUND,
            detail=”Job not found”
        )</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><section><code>if job.status != "completed":
    # Use 400 Bad Request or 404 Not Found might be better than 425 Too Early
    raise HTTPException(
        status_code=status.HTTP_400_BAD_REQUEST,
        detail=f"Job status is '{job.status}', not 'completed'"
    )

result_file = job.result_file
if not result_file or not os.path.exists(result_file):
    # If job is completed but file missing, it's an internal server error
    print(f"Error: Result file not found for completed job {job_id} at path {result_file}") # Add logging
    raise HTTPException(
        status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, # Changed status code
        detail="Result file not found on server"
    )

# Return file content
# Use original filename for download if available, otherwise fallback
download_filename = f"{job.filename}.md" if job.filename else f"{job_id}.md"
return FileResponse(
    result_file,
    filename=download_filename,
    media_type="text/markdown"
)
</code></section></div></div>

<p>if <strong>name</strong> == “<strong>main</strong>”:
    import uvicorn
    # Use 127.0.0.1 for local development consistency
    uvicorn.run(app, host=”127.0.0.1”, port=port)</p>

        </div>
        
          URL: https://ib.bsb.br/random-python-code-to-examine
        
      </article>
      <nav class="post-navigation-combined" aria-label="Post navigation">
        <!-- Chronological Navigation (always visible at 40vh) -->
        
          <div class="nav-arrow chronological prev">
            <a href="/onetab-bak-2/" title="oneTAB bak 2" rel="prev">
              <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAAAxVJREFUaEPt18FqG1cUBuD/nLkzI42UiVInkFLTCAKhS+9KA+3Kq1L8AAHjhR7AKz+ADV55qUfoqhvThTfdmC4KzTKmYJrELshJW9PIlSeKRpqZe88pUtouihvVRknqMNoMzD1zdPXNrzMM4RJ+6BLuGeWm39RdK6VL6VcIlPEo41HG401loJQupS8mUM7pi7md/6p3UtoHUJzf4vVecZb0e0EQfB7H8b0kSeqqummt/eb1buN83SebNsZ8QkQCYHVpaenu/v7+ra2tLRwdHWF1ddWq6hfM3BCRE2b+FcBHACQAHo1E5v9c+5mIhkR0e3z0VQ8LotuqWlXVw/GRmT8QkdMK89McuAOAAfwoIu8z85yIHBPRKRGN1/IAeDx0rul53hivo6psrf2ejDGfEtFOu92u7O3tBWtra2i322g0GhgOh9je3ka325UPax7fCR0iw+lp4aLxr70aeOmgkChTRY3JGSb73EroERD73uB54WpOgdhwZkXNQNQLiVDzOU1yFymAhu+lqZVopIqISQKmPLFS+atHv3A1q8AVQ+lXP/VHRPQx+b6frKysxMvLy1hfX0ez2USv18PCwgLiOEaSJKhWq/jhwQN8dnIfVOS4dsWHqCJ5YREGjBuNEMfd0eTc9WshBqnFYGhRqxrUIoNuLwMT4eb1Cp6dZshywdW6mZzr9QsEPuPmXIhfno3gnGKuEWCUC14MLKoVb1L72+8Zvj3JOl/udZt/S7darUqn0wlarRZ2d3cxPz+PJ8dPsPP1Doq8kIbL+cawjxBIM8MRFAidpBlRpIbhFc55gM2NF5IIQtVBRlRTZgTWZQ4wzvc8spO1NPM4Gr9Wh1bSDIjU98C5E0PIC8OVSX+Rlz08hl+4/LsML6X/menFxcW7BwcHtzY2NvDw8CE21zf/NdMAHskFMs3MT/EfMg3gsTsr02f8byfTo16v3+v3+//f6fGKgXNp5vT5huZbqH4nH+NvwXH6V5bS041mU1FKz8ZxepdSerrRbCpK6dk4Tu9SSk83mk1FKT0bx+ldSunpRrOpuJTSfwBcuImxpyA7XgAAAABJRU5ErkJggg==" alt="Previous article" width="45" height="45" loading="lazy">
            </a>
          </div>
        
        
          <div class="nav-arrow chronological next">
            <a href="/reassess-2/" title="reassess 2" rel="next">
              <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAAAwdJREFUaEPtl01rG1cUht9z7p070ijKWLVS3I9YULtNMBRn2UIXxZtuvCjedNWfoKVXBvsHeOUfoIUx5AeY0pVXXSR052UxBJSi0kDiRplII83HvadI9CMtOFjCmBjubC7cc8+Zc555eYdLuIEP3cCe4Zu+rq/mSXvSbyHg5eHl4eVxXRrwpD3p+Qh4n56P2+xZnvTszC7MCAAUF0XfOdJa62+IaCeO40GSJA/zPP8RwB9vDjBtWmv9JRE5ImpZawdVpbo58CkAIyJnIrLAzEvOuXNm/h3AfQDOAGdj5z5m5gXn3G9ENCKilckaiDwpiFZEpCoiTyYrM3/knOtXmHs58BkABvCLc+4DZl6cxIjoh4ODA728vIzt7W2sra09PT4+fgTgQES4LMvHZIy5LyI/f/dJvfK6FKMJqAdqmBS2ZgWINY9zJyZ1whUiRJrTfmGjybSxUemwcFEmghqT1UxlUrpQEXD7jRq3NWelEz10okIi1AJOX+U2EgALgUrT0kVnmcKvQ+uazSZvbW2hWq2i3++j3W5jf38f6+vrebvdHovI5pT09+vN7teLYev990K8GpQYjS1u1TQqhnHez6EU4cM7FTw7z5AXDo16ACcyPRsaxp2FEM9ejKd7zUaIYVpiOCpRq2rUIo0XLzMwEZaaFTzvZ8hyh/iWnu69fF1AAoOfFr/A5w8eYDQaIY5jJEmC09NTNBoNdLtd7O3t4ejoCIeHh8k/pL8KUSkCZcg6hCLDjLk2ufYGpRuXAuOMYiosQiDNNEcQILQuzYgi0QxVWKuAMtcqJPdXDaKaMMOUNrOAtoFSVE5jaaY4mtQPS5dmQPS8WkdfGReYgDe/3cTdpbvo9XrY2NhAp9NBq9XKO53Ov6T/r2mlVBeX0DSAMzeHppm5h7doemdvR99buYfd3V2srq4+PTk5+a+mr9CmrqTU3+5Rr9cHg8HgYve4krddbZGb5dOXmf2d+7n4pi9D4LrOeHl40v42fl0a8KQ96fkIeJ+ej9vsWZ707Mzmy/Ck5+M2e9afhmuAz1BhwewAAAAASUVORK5CYII=" alt="Next article" width="45" height="45" loading="lazy">
            </a>
          </div>
        
            
            
              
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
                  
                  
              
              
              
              <!-- Navigation block for tag "scratchpad"; default display for the first tag -->
              <div class="nav-group tags" id="tag-nav-scratchpad" style="display: block;">
                <div class="nav-arrow tags prev">
                  
                    <a href="/reassess-2/" title="reassess 2" rel="prev">
                      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAAAxVJREFUaEPt18FqG1cUBuD/nLkzI42UiVInkFLTCAKhS+9KA+3Kq1L8AAHjhR7AKz+ADV55qUfoqhvThTfdmC4KzTKmYJrELshJW9PIlSeKRpqZe88pUtouihvVRknqMNoMzD1zdPXNrzMM4RJ+6BLuGeWm39RdK6VL6VcIlPEo41HG401loJQupS8mUM7pi7md/6p3UtoHUJzf4vVecZb0e0EQfB7H8b0kSeqqummt/eb1buN83SebNsZ8QkQCYHVpaenu/v7+ra2tLRwdHWF1ddWq6hfM3BCRE2b+FcBHACQAHo1E5v9c+5mIhkR0e3z0VQ8LotuqWlXVw/GRmT8QkdMK89McuAOAAfwoIu8z85yIHBPRKRGN1/IAeDx0rul53hivo6psrf2ejDGfEtFOu92u7O3tBWtra2i322g0GhgOh9je3ka325UPax7fCR0iw+lp4aLxr70aeOmgkChTRY3JGSb73EroERD73uB54WpOgdhwZkXNQNQLiVDzOU1yFymAhu+lqZVopIqISQKmPLFS+atHv3A1q8AVQ+lXP/VHRPQx+b6frKysxMvLy1hfX0ez2USv18PCwgLiOEaSJKhWq/jhwQN8dnIfVOS4dsWHqCJ5YREGjBuNEMfd0eTc9WshBqnFYGhRqxrUIoNuLwMT4eb1Cp6dZshywdW6mZzr9QsEPuPmXIhfno3gnGKuEWCUC14MLKoVb1L72+8Zvj3JOl/udZt/S7darUqn0wlarRZ2d3cxPz+PJ8dPsPP1Doq8kIbL+cawjxBIM8MRFAidpBlRpIbhFc55gM2NF5IIQtVBRlRTZgTWZQ4wzvc8spO1NPM4Gr9Wh1bSDIjU98C5E0PIC8OVSX+Rlz08hl+4/LsML6X/menFxcW7BwcHtzY2NvDw8CE21zf/NdMAHskFMs3MT/EfMg3gsTsr02f8byfTo16v3+v3+//f6fGKgXNp5vT5huZbqH4nH+NvwXH6V5bS041mU1FKz8ZxepdSerrRbCpK6dk4Tu9SSk83mk1FKT0bx+ldSunpRrOpuJTSfwBcuImxpyA7XgAAAABJRU5ErkJggg==" alt="Previous in Tag" width="45" height="45" loading="lazy">
                    </a>
                  
                </div>
                <div class="nav-arrow tags next">
                  
                    <a href="/onetab-bak-2/" title="oneTAB bak 2" rel="next">
                      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAAAwdJREFUaEPtl01rG1cUht9z7p070ijKWLVS3I9YULtNMBRn2UIXxZtuvCjedNWfoKVXBvsHeOUfoIUx5AeY0pVXXSR052UxBJSi0kDiRplII83HvadI9CMtOFjCmBjubC7cc8+Zc555eYdLuIEP3cCe4Zu+rq/mSXvSbyHg5eHl4eVxXRrwpD3p+Qh4n56P2+xZnvTszC7MCAAUF0XfOdJa62+IaCeO40GSJA/zPP8RwB9vDjBtWmv9JRE5ImpZawdVpbo58CkAIyJnIrLAzEvOuXNm/h3AfQDOAGdj5z5m5gXn3G9ENCKilckaiDwpiFZEpCoiTyYrM3/knOtXmHs58BkABvCLc+4DZl6cxIjoh4ODA728vIzt7W2sra09PT4+fgTgQES4LMvHZIy5LyI/f/dJvfK6FKMJqAdqmBS2ZgWINY9zJyZ1whUiRJrTfmGjybSxUemwcFEmghqT1UxlUrpQEXD7jRq3NWelEz10okIi1AJOX+U2EgALgUrT0kVnmcKvQ+uazSZvbW2hWq2i3++j3W5jf38f6+vrebvdHovI5pT09+vN7teLYev990K8GpQYjS1u1TQqhnHez6EU4cM7FTw7z5AXDo16ACcyPRsaxp2FEM9ejKd7zUaIYVpiOCpRq2rUIo0XLzMwEZaaFTzvZ8hyh/iWnu69fF1AAoOfFr/A5w8eYDQaIY5jJEmC09NTNBoNdLtd7O3t4ejoCIeHh8k/pL8KUSkCZcg6hCLDjLk2ufYGpRuXAuOMYiosQiDNNEcQILQuzYgi0QxVWKuAMtcqJPdXDaKaMMOUNrOAtoFSVE5jaaY4mtQPS5dmQPS8WkdfGReYgDe/3cTdpbvo9XrY2NhAp9NBq9XKO53Ov6T/r2mlVBeX0DSAMzeHppm5h7doemdvR99buYfd3V2srq4+PTk5+a+mr9CmrqTU3+5Rr9cHg8HgYve4krddbZGb5dOXmf2d+7n4pi9D4LrOeHl40v42fl0a8KQ96fkIeJ+ej9vsWZ707Mzmy/Ck5+M2e9afhmuAz1BhwewAAAAASUVORK5CYII=" alt="Next in Tag" width="45" height="45" loading="lazy">
                    </a>
                  
                </div>
              </div>
            
          
          <!-- JavaScript to Toggle the Tag-based Navigation -->
          <script>
            document.addEventListener("DOMContentLoaded", function(){
              var tagLinks = document.querySelectorAll('.tag-option');
              tagLinks.forEach(function(link){
                link.addEventListener('click', function(event){
                  event.preventDefault();
                  // Remove "active" class from all tag options.
                  tagLinks.forEach(function(el){ el.classList.remove('active'); });
                  // Add active class to the clicked tag option.
                  this.classList.add('active');
                  // Hide all tag navigation blocks.
                  document.querySelectorAll('.nav-group.tags').forEach(function(block){
                    block.style.display = 'none';
                  });
                  // Show the navigation block corresponding to the selected tag.
                  var tagSlug = this.getAttribute('data-tag');
                  var target = document.getElementById('tag-nav-' + tagSlug);
                  if(target) {
                    target.style.display = 'block';
                  }
                });
              });
            });
          </script>
      </nav>
      
    </main>
    <footer id="bottom-of-page" class="site-footer">
      <div class="footer-content">
        <!-- Back to top link -->
        <a href="#" aria-label="Back to top" class="back2top-link">
          <span class="sronly">Back to top</span>
        </a>
    
        <!-- Liquid Time Calculation and Display -->
        
        
        
        <a href="https://ib.bsb.br/404" aria-label="404">
          2025-04-07 17:32:41
        </a>
        &#x23;
    
        <!-- Tag Selector -->
        <ul class="tag-selector">
          
            
            
              <li>
                <a href="#" class="tag-option active" data-tag="scratchpad">
                  scratchpad
                </a>
              </li>
            
          
        </ul>
        &hArr;
    
        <!-- GitHub Link -->
        <a href="https://github.com/ib-bsb-br/ib-bsb-br.github.io" aria-label="GitHub">
          &#8505;
        </a>
    
        <!-- Homepage Link -->
        <a href="/" aria-label="Homepage">
          infoBAG
        </a>
    
        <!-- Copy All Code Button -->
        <button id="copyAllButton" aria-label="Copy all code">
          &copy;
        </button>
      </div>
    </footer>
    <style>
      .back2top-link {
        display: inline-block;
        width: 32px;
        height: 32px;
        background: url("/assets/Rope_(Old).gif") center center no-repeat;
        background-size: contain;
        text-decoration: none;
        vertical-align: middle;
      }
      .sronly {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }
    </style>
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Article",
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "https://ib.bsb.br/random-python-code-to-examine/"
        },
        "headline": "random python code to examine",
        "description": "",
        "datePublished": "2025-04-04T00:00:00+00:00",
        "dateModified": "2025-04-04T10:08:33+00:00",
        "author": {
          "@type": "Person",
          "name": "Author"
        },
        "publisher": {
          "@type": "Organization",
          "name": "infoBAG"
          
        }
        
      }
    </script>
    <script src="/assets/js/prism.js" defer></script>
    <script src="/assets/js/copy-all-code.js"></script>
  </body>
</html>
